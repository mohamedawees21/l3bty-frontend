{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\RentalsRevenueAnalysis.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Search, Filter, Download, RefreshCw, Calendar, DollarSign, TrendingUp, BarChart3, FileText, ChevronDown, ChevronUp, CheckCircle, XCircle, Eye, Printer, Save, Building, Clock, Users, ChevronLeft, ChevronRight, AlertCircle, Check, X, Plus, Minus, Calculator, Lock, Unlock, Edit, Trash2, User, Gamepad2, CreditCard, Calendar as CalendarIcon, Clock as ClockIcon, Phone, Mail, MapPin, Package, Tag, ExternalLink, MoreVertical, DownloadCloud, Upload, Settings, Shield, AlertTriangle, Bell, Star, Zap } from 'lucide-react';\nimport api from '../../services/api';\nimport './RentalsRevenueAnalysis.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RentalsRevenueAnalysis = () => {\n  _s();\n  // ==================== STATES ====================\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [refreshing, setRefreshing] = useState(false);\n\n  // Data States - تهيئة بالقيم الافتراضية\n  const [shifts, setShifts] = useState([]);\n  const [rentals, setRentals] = useState([]);\n  const [branches, setBranches] = useState([]);\n  const [employees, setEmployees] = useState([]);\n  const [games, setGames] = useState([]);\n  const [customers, setCustomers] = useState([]);\n\n  // Filter States\n  const [filters, setFilters] = useState({\n    shiftId: '',\n    branchId: 'all',\n    employeeId: 'all',\n    dateFrom: '',\n    dateTo: '',\n    period: 'today',\n    status: 'all',\n    shiftType: 'all'\n  });\n\n  // Pagination & Sorting\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    totalPages: 1\n  });\n  const [sortConfig, setSortConfig] = useState({\n    key: 'start_time',\n    direction: 'desc'\n  });\n\n  // Analysis States - تهيئة بالقيم الافتراضية\n  const [analysis, setAnalysis] = useState({\n    totalRevenue: 0,\n    totalRentals: 0,\n    paidRentals: 0,\n    pendingRentals: 0,\n    averagePerRental: 0,\n    dailyRevenue: 0,\n    monthlyRevenue: 0,\n    yearlyRevenue: 0,\n    totalShifts: 0,\n    activeShifts: 0,\n    completedShifts: 0,\n    shiftDetails: null,\n    dailyBreakdown: [],\n    shiftBreakdown: [],\n    monthlySummary: null,\n    dailyStats: {},\n    performanceMetrics: {}\n  });\n\n  // UI States\n  const [selectedShiftDetails, setSelectedShiftDetails] = useState(null);\n  const [showShiftModal, setShowShiftModal] = useState(false);\n  const [closingShift, setClosingShift] = useState(false);\n  const [printing, setPrinting] = useState(false);\n  const [exporting, setExporting] = useState(false);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Editing States\n  const [editingShift, setEditingShift] = useState(false);\n  const [editedShift, setEditedShift] = useState(null);\n  const [editedRentals, setEditedRentals] = useState({});\n  const [savingChanges, setSavingChanges] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [shiftToDelete, setShiftToDelete] = useState(null);\n  const [rentalToEdit, setRentalToEdit] = useState(null);\n  const [showRentalEditModal, setShowRentalEditModal] = useState(false);\n  const [showNewRentalModal, setShowNewRentalModal] = useState(false);\n  const [newRental, setNewRental] = useState({\n    customer_name: '',\n    customer_phone: '',\n    game_id: '',\n    start_time: '',\n    end_time: '',\n    total_amount: '',\n    payment_method: 'نقدي',\n    payment_status: 'غير مدفوع',\n    status: 'نشط',\n    notes: ''\n  });\n\n  // Notification System\n  const [notifications, setNotifications] = useState([]);\n\n  // ==================== UTILITIES ====================\n  const formatCurrency = amount => {\n    const num = parseFloat(amount) || 0;\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2\n    }).format(num);\n  };\n  const formatDate = dateString => {\n    if (!dateString) return '-';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ar-EG', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return '-';\n    }\n  };\n  const formatDateTime = dateString => {\n    if (!dateString) return '-';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ar-EG', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      });\n    } catch (error) {\n      return '-';\n    }\n  };\n  const formatTime = dateString => {\n    if (!dateString) return '-';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleTimeString('ar-EG', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      return '-';\n    }\n  };\n  const calculateDuration = (start, end) => {\n    if (!start || !end) return 0;\n    try {\n      const startTime = new Date(start);\n      const endTime = new Date(end);\n      const diffMs = endTime - startTime;\n      return Math.round(diffMs / (1000 * 60));\n    } catch (error) {\n      return 0;\n    }\n  };\n  const addNotification = (type, message) => {\n    const id = Date.now();\n    const notification = {\n      id,\n      type,\n      message,\n      timestamp: new Date()\n    };\n    setNotifications(prev => [notification, ...prev]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n\n  // ==================== LOAD ALL DATA ====================\n  const loadAllData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // تحميل البيانات مع معالجة الأخطاء لكل API\n      let branchesRes = {\n        success: false,\n        data: []\n      };\n      let shiftsRes = {\n        success: false,\n        data: []\n      };\n      let employeesRes = {\n        success: false,\n        data: []\n      };\n      let gamesRes = {\n        success: false,\n        data: []\n      };\n      let rentalsRes = {\n        success: false,\n        data: []\n      };\n      try {\n        branchesRes = await api.getBranches();\n      } catch (error) {\n        console.error('Error loading branches:', error);\n        branchesRes = {\n          success: false,\n          data: []\n        };\n      }\n      try {\n        shiftsRes = await api.getShiftsSafe({\n          limit: 100,\n          order_by: 'start_time',\n          order_direction: 'DESC'\n        });\n      } catch (error) {\n        console.error('Error loading shifts:', error);\n        shiftsRes = {\n          success: false,\n          data: []\n        };\n      }\n      try {\n        employeesRes = await api.getEmployees();\n      } catch (error) {\n        console.error('Error loading employees:', error);\n        // إنشاء بيانات موظفين افتراضية من الشيفتات\n        if (shiftsRes.success && shiftsRes.data) {\n          const uniqueEmployees = new Map();\n          shiftsRes.data.forEach(shift => {\n            if (shift.employee_id && shift.employee_name) {\n              uniqueEmployees.set(shift.employee_id, {\n                id: shift.employee_id,\n                name: shift.employee_name,\n                role: 'employee'\n              });\n            }\n          });\n          employeesRes.data = Array.from(uniqueEmployees.values());\n          employeesRes.success = true;\n        } else {\n          employeesRes = {\n            success: false,\n            data: []\n          };\n        }\n      }\n      try {\n        gamesRes = await api.getGames();\n      } catch (error) {\n        console.error('Error loading games:', error);\n        gamesRes = {\n          success: false,\n          data: []\n        };\n      }\n      try {\n        rentalsRes = await api.getRentals({\n          limit: 1000,\n          include_game: true,\n          include_branch: true\n        });\n      } catch (error) {\n        console.error('Error loading rentals:', error);\n        rentalsRes = {\n          success: false,\n          data: []\n        };\n      }\n\n      // تحديث الحالات مع التحقق من البيانات\n      setBranches(branchesRes.data || []);\n      setShifts(shiftsRes.data || []);\n      setEmployees(employeesRes.data || []);\n      setGames(gamesRes.data || []);\n      setRentals(rentalsRes.data || []);\n\n      // تحليل البيانات\n      analyzeData(rentalsRes.data || [], shiftsRes.data || []);\n\n      // تحديث الباجينيشن\n      const shiftsData = shiftsRes.data || [];\n      setPagination(prev => ({\n        ...prev,\n        total: shiftsData.length,\n        totalPages: Math.ceil(shiftsData.length / prev.limit) || 1\n      }));\n      addNotification('success', 'تم تحميل البيانات بنجاح');\n    } catch (error) {\n      console.error('Error in loadAllData:', error);\n      setError(error.message || 'حدث خطأ في تحميل البيانات');\n      addNotification('error', 'حدث خطأ في تحميل البيانات');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // ==================== ANALYZE DATA ====================\n  const analyzeData = useCallback((rentalsData, shiftsData) => {\n    try {\n      // التأكد من أن البيانات عبارة عن مصفوفات\n      const safeRentalsData = Array.isArray(rentalsData) ? rentalsData : [];\n      const safeShiftsData = Array.isArray(shiftsData) ? shiftsData : [];\n\n      // تحليل التأجيرات\n      const paidRentals = safeRentalsData.filter(rental => rental && rental.payment_status === 'مدفوع');\n      const totalRevenue = paidRentals.reduce((sum, rental) => {\n        const amount = parseFloat(rental === null || rental === void 0 ? void 0 : rental.total_amount) || 0;\n        return sum + amount;\n      }, 0);\n      const totalShifts = safeShiftsData.length;\n      const activeShifts = safeShiftsData.filter(shift => shift && !shift.end_time).length;\n      const completedShifts = safeShiftsData.filter(shift => shift && shift.end_time).length;\n\n      // الإيراد اليومي\n      const today = new Date().toISOString().split('T')[0];\n      const todayRentals = paidRentals.filter(rental => (rental === null || rental === void 0 ? void 0 : rental.created_at) && rental.created_at.split('T')[0] === today);\n      const dailyRevenue = todayRentals.reduce((sum, rental) => {\n        const amount = parseFloat(rental === null || rental === void 0 ? void 0 : rental.total_amount) || 0;\n        return sum + amount;\n      }, 0);\n\n      // الإيراد الشهري (آخر 30 يوم)\n      const thirtyDaysAgo = new Date();\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n      const monthlyRentals = paidRentals.filter(rental => {\n        if (!(rental !== null && rental !== void 0 && rental.created_at)) return false;\n        try {\n          const rentalDate = new Date(rental.created_at);\n          return rentalDate >= thirtyDaysAgo;\n        } catch (error) {\n          return false;\n        }\n      });\n      const monthlyRevenue = monthlyRentals.reduce((sum, rental) => {\n        const amount = parseFloat(rental === null || rental === void 0 ? void 0 : rental.total_amount) || 0;\n        return sum + amount;\n      }, 0);\n\n      // مقاييس الأداء\n      const averageShiftRevenue = completedShifts > 0 ? totalRevenue / completedShifts : 0;\n      const performanceMetrics = {\n        averageShiftRevenue,\n        averageShiftDuration: 0,\n        rentalConversionRate: safeRentalsData.length > 0 ? paidRentals.length / safeRentalsData.length * 100 : 0,\n        revenuePerHour: 0\n      };\n      setAnalysis(prev => ({\n        ...prev,\n        totalRevenue,\n        totalRentals: paidRentals.length,\n        paidRentals: paidRentals.length,\n        pendingRentals: Math.max(0, safeRentalsData.length - paidRentals.length),\n        averagePerRental: paidRentals.length > 0 ? totalRevenue / paidRentals.length : 0,\n        dailyRevenue,\n        monthlyRevenue,\n        totalShifts,\n        activeShifts,\n        completedShifts,\n        performanceMetrics\n      }));\n    } catch (error) {\n      console.error('Error in analyzeData:', error);\n      addNotification('error', 'حدث خطأ في تحليل البيانات');\n    }\n  }, []);\n\n  // ==================== GET SHIFT DETAILS ====================\n  const getShiftDetails = useCallback(async shiftId => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // البحث عن الشيفت مع التحقق من المصفوفة\n      const shift = Array.isArray(shifts) ? shifts.find(s => s && s.id == shiftId) : null;\n      if (!shift) {\n        addNotification('error', 'الشيفت غير موجود');\n        return;\n      }\n\n      // تحميل تأجيرات الشيفت\n      let shiftRentalsRes = {\n        success: false,\n        data: []\n      };\n      try {\n        shiftRentalsRes = await api.getRentals({\n          shift_id: shiftId,\n          limit: 500,\n          include_game: true,\n          include_branch: true,\n          include_employee: true,\n          include_customer: true\n        });\n      } catch (error) {\n        console.error('Error loading shift rentals:', error);\n        shiftRentalsRes = {\n          success: false,\n          data: []\n        };\n      }\n      if (!shiftRentalsRes.success) {\n        addNotification('warning', 'لم يتم تحميل جميع تفاصيل التأجيرات');\n      }\n      const shiftRentals = Array.isArray(shiftRentalsRes.data) ? shiftRentalsRes.data : [];\n\n      // حساب إحصائيات الشيفت\n      const paidRentals = shiftRentals.filter(rental => rental && rental.payment_status === 'مدفوع');\n      const shiftRevenue = paidRentals.reduce((sum, rental) => {\n        const amount = parseFloat(rental === null || rental === void 0 ? void 0 : rental.total_amount) || 0;\n        return sum + amount;\n      }, 0);\n\n      // إحصائيات المجموعات\n      const gameStats = {};\n      const paymentStats = {};\n      paidRentals.forEach(rental => {\n        if (!rental) return;\n        const gameName = rental.game_name || 'غير معروف';\n        const method = rental.payment_method || 'غير معروف';\n\n        // إحصائيات الألعاب\n        if (!gameStats[gameName]) {\n          gameStats[gameName] = {\n            name: gameName,\n            count: 0,\n            revenue: 0\n          };\n        }\n        gameStats[gameName].count++;\n        gameStats[gameName].revenue += parseFloat(rental.total_amount) || 0;\n\n        // إحصائيات الدفع\n        if (!paymentStats[method]) {\n          paymentStats[method] = {\n            method,\n            count: 0,\n            revenue: 0\n          };\n        }\n        paymentStats[method].count++;\n        paymentStats[method].revenue += parseFloat(rental.total_amount) || 0;\n      });\n\n      // إحصائيات العملاء\n      const customerStats = {};\n      paidRentals.forEach(rental => {\n        if (!rental) return;\n        const customerName = rental.customer_name || 'مجهول';\n        if (!customerStats[customerName]) {\n          customerStats[customerName] = {\n            name: customerName,\n            phone: rental.customer_phone || 'لا يوجد',\n            count: 0,\n            revenue: 0,\n            lastVisit: rental.start_time\n          };\n        }\n        customerStats[customerName].count++;\n        customerStats[customerName].revenue += parseFloat(rental.total_amount) || 0;\n\n        // تحديث آخر زيارة\n        if (rental.start_time) {\n          try {\n            const rentalDate = new Date(rental.start_time);\n            const lastVisit = new Date(customerStats[customerName].lastVisit || 0);\n            if (rentalDate > lastVisit) {\n              customerStats[customerName].lastVisit = rental.start_time;\n            }\n          } catch (error) {\n            // تجاهل خطأ التاريخ\n          }\n        }\n      });\n      const shiftDetails = {\n        shiftInfo: shift,\n        totalRentals: shiftRentals.length,\n        paidRentals: paidRentals.length,\n        pendingRentals: Math.max(0, shiftRentals.length - paidRentals.length),\n        shiftRevenue,\n        averagePerRental: paidRentals.length > 0 ? shiftRevenue / paidRentals.length : 0,\n        startTime: shift.start_time,\n        endTime: shift.end_time,\n        duration: calculateDuration(shift.start_time, shift.end_time),\n        rentals: shiftRentals,\n        paidRentalsList: paidRentals,\n        gameStats: Object.values(gameStats),\n        paymentStats: Object.values(paymentStats),\n        customerStats: Object.values(customerStats).sort((a, b) => b.revenue - a.revenue),\n        employeeName: shift.employee_name || 'غير معروف',\n        branchName: shift.branch_name || 'غير محدد',\n        shiftStatus: shift.status || 'غير محدد',\n        notes: shift.notes || 'لا توجد ملاحظات'\n      };\n      setSelectedShiftDetails(shiftDetails);\n      setEditedShift({\n        ...shift\n      });\n      setShowShiftModal(true);\n      addNotification('success', `تم تحميل تفاصيل الشيفت #${shiftId}`);\n    } catch (error) {\n      console.error('Error in getShiftDetails:', error);\n      addNotification('error', error.message || 'حدث خطأ في تحميل التفاصيل');\n    } finally {\n      setLoading(false);\n    }\n  }, [shifts]);\n\n  // ==================== SHIFT EDITING FUNCTIONS ====================\n  const handleEditShift = () => {\n    if (!selectedShiftDetails || !selectedShiftDetails.shiftInfo) {\n      addNotification('error', 'لا توجد بيانات للشيفت');\n      return;\n    }\n    setEditingShift(true);\n    addNotification('info', 'تم تفعيل وضع التعديل للشيفت');\n  };\n  const handleSaveShift = async () => {\n    if (!editedShift || !editedShift.id) {\n      addNotification('error', 'لا توجد بيانات لحفظها');\n      return;\n    }\n    try {\n      setSavingChanges(true);\n\n      // التحقق من أوقات الشيفت\n      if (editedShift.start_time && editedShift.end_time) {\n        try {\n          const startTime = new Date(editedShift.start_time);\n          const endTime = new Date(editedShift.end_time);\n          if (endTime <= startTime) {\n            addNotification('error', 'وقت الانتهاء يجب أن يكون بعد وقت البدء');\n            return;\n          }\n        } catch (error) {\n          addNotification('warning', 'خطأ في تنسيق الوقت، سيتم استخدام الأوقات كما هي');\n        }\n      }\n\n      // تحديث الشيفت\n      const updateData = {\n        employee_id: editedShift.employee_id || '',\n        branch_id: editedShift.branch_id || '',\n        start_time: editedShift.start_time || '',\n        end_time: editedShift.end_time || '',\n        notes: editedShift.notes || '',\n        status: editedShift.status || 'نشط'\n      };\n      const response = await api.updateShift(editedShift.id, updateData);\n      if (response.success) {\n        var _selectedShiftDetails;\n        addNotification('success', '✅ تم تحديث بيانات الشيفت بنجاح');\n        setEditingShift(false);\n        loadAllData();\n        if ((selectedShiftDetails === null || selectedShiftDetails === void 0 ? void 0 : (_selectedShiftDetails = selectedShiftDetails.shiftInfo) === null || _selectedShiftDetails === void 0 ? void 0 : _selectedShiftDetails.id) === editedShift.id) {\n          getShiftDetails(editedShift.id); // تحديث التفاصيل\n        }\n      } else {\n        throw new Error(response.message || 'فشل تحديث الشيفت');\n      }\n    } catch (error) {\n      console.error('Error saving shift:', error);\n      addNotification('error', error.message || 'حدث خطأ في حفظ البيانات');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n  const handleCancelEdit = () => {\n    if (selectedShiftDetails !== null && selectedShiftDetails !== void 0 && selectedShiftDetails.shiftInfo) {\n      setEditedShift({\n        ...selectedShiftDetails.shiftInfo\n      });\n    }\n    setEditingShift(false);\n    addNotification('info', 'تم إلغاء التعديلات');\n  };\n  const handleShiftFieldChange = (field, value) => {\n    setEditedShift(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  // ==================== RENTAL MANAGEMENT ====================\n  const handleEditRental = rental => {\n    if (!rental) {\n      addNotification('error', 'لا توجد بيانات للتأجير');\n      return;\n    }\n    setRentalToEdit({\n      ...rental\n    });\n    setShowRentalEditModal(true);\n  };\n  const handleSaveRental = async () => {\n    if (!rentalToEdit || !rentalToEdit.id) {\n      addNotification('error', 'لا توجد بيانات للتأجير');\n      return;\n    }\n    try {\n      var _selectedShiftDetails2;\n      setSavingChanges(true);\n\n      // التحقق من بيانات التأجير\n      if (!rentalToEdit.game_id) {\n        addNotification('error', 'يجب اختيار لعبة');\n        return;\n      }\n      const totalAmount = parseFloat(rentalToEdit.total_amount) || 0;\n      if (totalAmount <= 0) {\n        addNotification('error', 'يجب إدخال مبلغ صحيح أكبر من الصفر');\n        return;\n      }\n      const updateData = {\n        game_id: rentalToEdit.game_id,\n        customer_name: rentalToEdit.customer_name || '',\n        customer_phone: rentalToEdit.customer_phone || '',\n        start_time: rentalToEdit.start_time || '',\n        end_time: rentalToEdit.end_time || '',\n        total_amount: totalAmount,\n        payment_method: rentalToEdit.payment_method || 'نقدي',\n        payment_status: rentalToEdit.payment_status || 'غير مدفوع',\n        status: rentalToEdit.status || 'نشط',\n        notes: rentalToEdit.notes || '',\n        shift_id: rentalToEdit.shift_id || (selectedShiftDetails === null || selectedShiftDetails === void 0 ? void 0 : (_selectedShiftDetails2 = selectedShiftDetails.shiftInfo) === null || _selectedShiftDetails2 === void 0 ? void 0 : _selectedShiftDetails2.id) || ''\n      };\n      const response = await api.updateRental(rentalToEdit.id, updateData);\n      if (response.success) {\n        var _selectedShiftDetails3;\n        addNotification('success', '✅ تم تحديث التأجير بنجاح');\n        setShowRentalEditModal(false);\n        if (selectedShiftDetails !== null && selectedShiftDetails !== void 0 && (_selectedShiftDetails3 = selectedShiftDetails.shiftInfo) !== null && _selectedShiftDetails3 !== void 0 && _selectedShiftDetails3.id) {\n          getShiftDetails(selectedShiftDetails.shiftInfo.id);\n        }\n      } else {\n        throw new Error(response.message || 'فشل تحديث التأجير');\n      }\n    } catch (error) {\n      console.error('Error saving rental:', error);\n      addNotification('error', error.message || 'حدث خطأ في حفظ التأجير');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n  const handleAddNewRental = async () => {\n    var _selectedShiftDetails4;\n    if (!(selectedShiftDetails !== null && selectedShiftDetails !== void 0 && (_selectedShiftDetails4 = selectedShiftDetails.shiftInfo) !== null && _selectedShiftDetails4 !== void 0 && _selectedShiftDetails4.id)) {\n      addNotification('error', 'لا يوجد شيفت محدد');\n      return;\n    }\n    try {\n      setSavingChanges(true);\n\n      // التحقق من البيانات\n      if (!newRental.game_id) {\n        addNotification('error', 'يجب اختيار لعبة');\n        return;\n      }\n      const totalAmount = parseFloat(newRental.total_amount) || 0;\n      if (totalAmount <= 0) {\n        addNotification('error', 'يجب إدخال مبلغ صحيح أكبر من الصفر');\n        return;\n      }\n      const createData = {\n        ...newRental,\n        total_amount: totalAmount,\n        shift_id: selectedShiftDetails.shiftInfo.id,\n        branch_id: selectedShiftDetails.shiftInfo.branch_id || '',\n        employee_id: selectedShiftDetails.shiftInfo.employee_id || '',\n        rental_number: `R${Date.now()}`,\n        created_at: new Date().toISOString()\n      };\n      const response = await api.createRental(createData);\n      if (response.success) {\n        addNotification('success', '✅ تم إضافة التأجير بنجاح');\n        setShowNewRentalModal(false);\n        setNewRental({\n          customer_name: '',\n          customer_phone: '',\n          game_id: '',\n          start_time: '',\n          end_time: '',\n          total_amount: '',\n          payment_method: 'نقدي',\n          payment_status: 'غير مدفوع',\n          status: 'نشط',\n          notes: ''\n        });\n        getShiftDetails(selectedShiftDetails.shiftInfo.id);\n      } else {\n        throw new Error(response.message || 'فشل إضافة التأجير');\n      }\n    } catch (error) {\n      console.error('Error adding rental:', error);\n      addNotification('error', error.message || 'حدث خطأ في إضافة التأجير');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n  const handleDeleteRental = async rentalId => {\n    if (!rentalId) {\n      addNotification('error', 'لا يوجد تأجير محدد');\n      return;\n    }\n    if (!window.confirm('هل تريد حذف هذا التأجير؟ هذا الإجراء لا يمكن التراجع عنه.')) {\n      return;\n    }\n    try {\n      setSavingChanges(true);\n      const response = await api.deleteRental(rentalId);\n      if (response.success) {\n        var _selectedShiftDetails5;\n        addNotification('success', '✅ تم حذف التأجير بنجاح');\n        if (selectedShiftDetails !== null && selectedShiftDetails !== void 0 && (_selectedShiftDetails5 = selectedShiftDetails.shiftInfo) !== null && _selectedShiftDetails5 !== void 0 && _selectedShiftDetails5.id) {\n          getShiftDetails(selectedShiftDetails.shiftInfo.id);\n        }\n      } else {\n        throw new Error(response.message || 'فشل حذف التأجير');\n      }\n    } catch (error) {\n      console.error('Error deleting rental:', error);\n      addNotification('error', error.message || 'حدث خطأ في حذف التأجير');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n\n  // ==================== SHIFT MANAGEMENT ====================\n  const handleDeleteShift = async () => {\n    if (!shiftToDelete) {\n      addNotification('error', 'لا يوجد شيفت محدد');\n      return;\n    }\n    try {\n      setSavingChanges(true);\n      const response = await api.deleteShift(shiftToDelete);\n      if (response.success) {\n        addNotification('success', '✅ تم حذف الشيفت بنجاح');\n        setShowDeleteConfirm(false);\n        setShowShiftModal(false);\n        loadAllData();\n      } else {\n        throw new Error(response.message || 'فشل حذف الشيفت');\n      }\n    } catch (error) {\n      console.error('Error deleting shift:', error);\n      addNotification('error', error.message || 'حدث خطأ في حذف الشيفت');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n  const closeShift = useCallback(async shiftId => {\n    if (!shiftId) {\n      addNotification('error', 'لا يوجد شيفت محدد');\n      return;\n    }\n    if (!window.confirm('هل تريد تقفيل هذا الشيفت؟ هذا الإجراء نهائي.')) {\n      return;\n    }\n    try {\n      setClosingShift(true);\n\n      // البحث عن الشيفت\n      const shift = Array.isArray(shifts) ? shifts.find(s => s && s.id == shiftId) : null;\n      if (!shift) {\n        throw new Error('الشيفت غير موجود');\n      }\n\n      // تحميل تأجيرات الشيفت\n      let response = {\n        success: false,\n        data: []\n      };\n      try {\n        response = await api.getRentals({\n          shift_id: shiftId,\n          include_game: true\n        });\n      } catch (error) {\n        console.error('Error loading rentals for closing:', error);\n        response = {\n          success: false,\n          data: []\n        };\n      }\n      const shiftRentals = Array.isArray(response.data) ? response.data : [];\n      const paidRentals = shiftRentals.filter(r => r && r.payment_status === 'مدفوع');\n      const shiftRevenue = paidRentals.reduce((sum, rental) => {\n        const amount = parseFloat(rental === null || rental === void 0 ? void 0 : rental.total_amount) || 0;\n        return sum + amount;\n      }, 0);\n      const closeResponse = await api.endShift(shiftId, {\n        end_time: new Date().toISOString(),\n        total_revenue: shiftRevenue,\n        total_rentals: shiftRentals.length,\n        paid_rentals: paidRentals.length,\n        status: 'منتهي',\n        notes: `تم التقفيل في ${new Date().toLocaleString('ar-EG')} - الإيراد: ${formatCurrency(shiftRevenue)}`\n      });\n      if (closeResponse.success) {\n        addNotification('success', `✅ تم تقفيل الشيفت #${shiftId} بنجاح`);\n        loadAllData();\n        setShowShiftModal(false);\n      } else {\n        throw new Error(closeResponse.message || 'فشل تقفيل الشيفت');\n      }\n    } catch (error) {\n      console.error('Error closing shift:', error);\n      addNotification('error', error.message || 'حدث خطأ في تقفيل الشيفت');\n    } finally {\n      setClosingShift(false);\n    }\n  }, [shifts, loadAllData]);\n\n  // ==================== FILTERS & SORTING ====================\n  const applyFilters = () => {\n    // التأكد من أن shifts هي مصفوفة\n    const safeShifts = Array.isArray(shifts) ? [...shifts] : [];\n    let filteredShifts = safeShifts.filter(shift => shift); // إزالة العناصر null/undefined\n\n    // فلترة برقم الشيفت\n    if (filters.shiftId) {\n      filteredShifts = filteredShifts.filter(shift => shift.id && shift.id.toString().includes(filters.shiftId));\n    }\n\n    // فلترة بالفرع\n    if (filters.branchId !== 'all') {\n      filteredShifts = filteredShifts.filter(shift => shift.branch_id == filters.branchId);\n    }\n\n    // فلترة بالموظف\n    if (filters.employeeId !== 'all') {\n      filteredShifts = filteredShifts.filter(shift => shift.employee_id == filters.employeeId);\n    }\n\n    // فلترة بنطاق التاريخ\n    if (filters.dateFrom) {\n      filteredShifts = filteredShifts.filter(shift => {\n        if (!shift.start_time) return false;\n        try {\n          return new Date(shift.start_time) >= new Date(filters.dateFrom);\n        } catch (error) {\n          return false;\n        }\n      });\n    }\n    if (filters.dateTo) {\n      filteredShifts = filteredShifts.filter(shift => {\n        if (!shift.start_time) return false;\n        try {\n          return new Date(shift.start_time) <= new Date(filters.dateTo + 'T23:59:59');\n        } catch (error) {\n          return false;\n        }\n      });\n    }\n\n    // فلترة بالحالة\n    if (filters.status !== 'all') {\n      if (filters.status === 'active') {\n        filteredShifts = filteredShifts.filter(shift => !shift.end_time);\n      } else if (filters.status === 'ended') {\n        filteredShifts = filteredShifts.filter(shift => shift.end_time);\n      }\n    }\n\n    // الترتيب\n    filteredShifts.sort((a, b) => {\n      const aValue = a[sortConfig.key];\n      const bValue = b[sortConfig.key];\n      if (aValue == null) return sortConfig.direction === 'asc' ? -1 : 1;\n      if (bValue == null) return sortConfig.direction === 'asc' ? 1 : -1;\n      if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\n      if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\n      return 0;\n    });\n    return filteredShifts;\n  };\n  const handleSort = key => {\n    setSortConfig(prev => ({\n      key,\n      direction: prev.key === key && prev.direction === 'desc' ? 'asc' : 'desc'\n    }));\n  };\n\n  // إضافة هذه الدالة في RentalsRevenueAnalysis.js\n  const loadCompleteShiftAnalysis = useCallback(async shiftId => {\n    try {\n      var _analysisData$fullDet;\n      setLoading(true);\n\n      // جلب بيانات الشيفت\n      const shiftResponse = await api.get(`/shifts/${shiftId}/complete-analysis`);\n      if (!shiftResponse.success) {\n        throw new Error('فشل تحميل تحليل الشيفت');\n      }\n      const shiftData = shiftResponse.data;\n\n      // تحضير البيانات للعرض\n      const analysisData = {\n        // معلومات الشيفت الأساسية\n        shiftInfo: shiftData.shiftInfo,\n        // الإحصائيات المالية\n        financialStats: {\n          totalRevenue: shiftData.totalRevenue || 0,\n          totalRentals: shiftData.totalRentals || 0,\n          averagePerRental: shiftData.averagePerRental || 0,\n          dailyRevenue: shiftData.dailyRevenue || 0,\n          monthlyRevenue: shiftData.monthlyRevenue || 0,\n          shiftRevenue: shiftData.shiftRevenue || 0,\n          paidRentals: shiftData.paidRentals || 0,\n          pendingRentals: shiftData.pendingRentals || 0\n        },\n        // تحليل التأجيرات\n        rentalsAnalysis: {\n          byGame: shiftData.gameStats || [],\n          byPaymentMethod: shiftData.paymentStats || [],\n          byHour: shiftData.hourlyStats || [],\n          byDuration: shiftData.durationStats || []\n        },\n        // العملاء\n        customersAnalysis: {\n          topCustomers: shiftData.topCustomers || [],\n          newCustomers: shiftData.newCustomers || [],\n          repeatCustomers: shiftData.repeatCustomers || []\n        },\n        // الأداء\n        performanceMetrics: {\n          rentalConversionRate: shiftData.rentalConversionRate || 0,\n          averageSessionDuration: shiftData.averageSessionDuration || 0,\n          peakHours: shiftData.peakHours || [],\n          revenuePerHour: shiftData.revenuePerHour || 0\n        },\n        // التفاصيل الكاملة\n        fullDetails: {\n          allRentals: shiftData.allRentals || [],\n          allPayments: shiftData.allPayments || [],\n          allGames: shiftData.allGames || [],\n          timeline: shiftData.timeline || []\n        }\n      };\n\n      // تحديث حالة التحليل\n      setAnalysis(prev => ({\n        ...prev,\n        ...analysisData.financialStats,\n        shiftDetails: analysisData\n      }));\n\n      // تحديث قائمة التأجيرات\n      if (analysisData.fullDetails.allRentals) {\n        setRentals(analysisData.fullDetails.allRentals);\n      }\n\n      // إعداد التأجيرات للتحرير\n      const editRentals = {};\n      (_analysisData$fullDet = analysisData.fullDetails.allRentals) === null || _analysisData$fullDet === void 0 ? void 0 : _analysisData$fullDet.forEach(rental => {\n        editRentals[rental.id] = {\n          ...rental\n        };\n      });\n      setEditedRentals(editRentals);\n      setSelectedShiftDetails(analysisData);\n      setShowShiftModal(true);\n      addNotification('success', `✅ تم تحليل الشيفت #${shiftId} بالكامل`);\n    } catch (error) {\n      console.error('❌ خطأ في تحليل الشيفت:', error);\n      addNotification('error', 'حدث خطأ في تحليل بيانات الشيفت');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // دالة لتعديل التأجيرات بكميات كبيرة\n  const handleBulkUpdateRentals = async rentalUpdates => {\n    try {\n      var _selectedShiftDetails6, _user;\n      setSavingChanges(true);\n      const updates = Object.entries(rentalUpdates).map(([rentalId, data]) => ({\n        rental_id: rentalId,\n        ...data\n      }));\n      const response = await api.post('/rentals/bulk-update', {\n        updates: updates,\n        shift_id: (_selectedShiftDetails6 = selectedShiftDetails.shiftInfo) === null || _selectedShiftDetails6 === void 0 ? void 0 : _selectedShiftDetails6.id,\n        updated_by: (_user = user) === null || _user === void 0 ? void 0 : _user.id\n      });\n      if (response.success) {\n        addNotification('success', `✅ تم تحديث ${updates.length} تأجير بنجاح`);\n        await loadAllData(); // إعادة تحميل جميع البيانات\n      } else {\n        throw new Error(response.message || 'فشل التحديث المجمع');\n      }\n    } catch (error) {\n      console.error('❌ خطأ في التحديث المجمع:', error);\n      addNotification('error', 'حدث خطأ في تحديث التأجيرات');\n    } finally {\n      setSavingChanges(false);\n    }\n  };\n\n  // دالة لتصدير التقرير التفصيلي\n  const exportDetailedReport = async shiftId => {\n    try {\n      setExporting(true);\n      const response = await api.get(`/shifts/${shiftId}/detailed-report`);\n      if (response.success) {\n        var _reportData$fullDetai, _reportData$rentalsAn;\n        const reportData = response.data;\n\n        // إنشاء محتوى CSV مفصل\n        let csvContent = \"data:text/csv;charset=utf-8,\\uFEFF\";\n\n        // 1. ملخص الشيفت\n        csvContent += \"ملخص الشيفت\\n\";\n        csvContent += `رقم الشيفت,${reportData.shiftInfo.id}\\n`;\n        csvContent += `الموظف,${reportData.shiftInfo.employee_name}\\n`;\n        csvContent += `الفرع,${reportData.shiftInfo.branch_name}\\n`;\n        csvContent += `وقت البدء,${formatDateTime(reportData.shiftInfo.start_time)}\\n`;\n        csvContent += `وقت الانتهاء,${formatDateTime(reportData.shiftInfo.end_time)}\\n`;\n        csvContent += `المدة,${reportData.shiftInfo.duration_minutes} دقيقة\\n`;\n        csvContent += `إجمالي الإيرادات,${reportData.financialStats.totalRevenue}\\n`;\n        csvContent += `عدد التأجيرات,${reportData.financialStats.totalRentals}\\n\\n`;\n\n        // 2. التأجيرات التفصيلية\n        csvContent += \"التأجيرات التفصيلية\\n\";\n        csvContent += \"رقم التأجير,العميل,الهاتف,اللعبة,وقت البدء,المدة,المبلغ,طريقة الدفع,الحالة\\n\";\n        (_reportData$fullDetai = reportData.fullDetails.allRentals) === null || _reportData$fullDetai === void 0 ? void 0 : _reportData$fullDetai.forEach(rental => {\n          csvContent += [rental.rental_number, rental.customer_name, rental.customer_phone, rental.game_name, formatDateTime(rental.start_time), rental.duration_minutes, rental.total_amount, rental.payment_method, rental.status].map(v => `\"${v}\"`).join(',') + \"\\n\";\n        });\n        csvContent += \"\\n\\nإحصائيات الألعاب\\n\";\n        csvContent += \"اللعبة,عدد التأجيرات,الإيرادات,النسبة\\n\";\n        (_reportData$rentalsAn = reportData.rentalsAnalysis.byGame) === null || _reportData$rentalsAn === void 0 ? void 0 : _reportData$rentalsAn.forEach(game => {\n          csvContent += [game.name, game.count, game.revenue, `${(game.revenue / reportData.financialStats.totalRevenue * 100).toFixed(1)}%`].map(v => `\"${v}\"`).join(',') + \"\\n\";\n        });\n\n        // إنشاء رابط التنزيل\n        const encodedUri = encodeURI(csvContent);\n        const link = document.createElement(\"a\");\n        link.setAttribute(\"href\", encodedUri);\n        link.setAttribute(\"download\", `shift_${shiftId}_detailed_report_${new Date().toISOString().split('T')[0]}.csv`);\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        addNotification('success', 'تم تصدير التقرير التفصيلي بنجاح');\n      } else {\n        throw new Error('فشل تحميل التقرير التفصيلي');\n      }\n    } catch (error) {\n      console.error('❌ خطأ في تصدير التقرير:', error);\n      addNotification('error', 'حدث خطأ في تصدير التقرير');\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  // ==================== EXPORT FUNCTIONS ====================\n  const exportToExcel = async () => {\n    try {\n      setExporting(true);\n      const filteredShifts = applyFilters();\n      if (filteredShifts.length === 0) {\n        addNotification('warning', 'لا توجد بيانات للتصدير');\n        return;\n      }\n\n      // تحضير البيانات للتصدير\n      const exportData = {\n        shifts: filteredShifts.map(shift => ({\n          'رقم الشيفت': shift.id || '',\n          'الموظف': shift.employee_name || 'غير معروف',\n          'الفرع': shift.branch_name || 'غير محدد',\n          'وقت البدء': formatDateTime(shift.start_time),\n          'وقت الانتهاء': shift.end_time ? formatDateTime(shift.end_time) : 'نشط',\n          'المدة (دقيقة)': calculateDuration(shift.start_time, shift.end_time),\n          'عدد التأجيرات': shift.total_rentals || 0,\n          'الإيرادات': shift.total_revenue || 0,\n          'الحالة': shift.end_time ? 'منتهي' : 'نشط',\n          'ملاحظات': shift.notes || ''\n        })),\n        analysis: {\n          'إجمالي الإيرادات': analysis.totalRevenue,\n          'إجمالي التأجيرات': analysis.totalRentals,\n          'متوسط التأجير': analysis.averagePerRental,\n          'الإيراد اليومي': analysis.dailyRevenue,\n          'الإيراد الشهري': analysis.monthlyRevenue,\n          'عدد الشيفتات': analysis.totalShifts,\n          'الشيفتات النشطة': analysis.activeShifts,\n          'الشيفتات المنتهية': analysis.completedShifts\n        }\n      };\n\n      // إنشاء محتوى CSV\n      let csvContent = \"data:text/csv;charset=utf-8,\\uFEFF\"; // BOM للغة العربية\n\n      // إضافة بيانات الشيفتات\n      csvContent += \"الشيفتات\\n\";\n      if (exportData.shifts.length > 0) {\n        const shiftHeaders = Object.keys(exportData.shifts[0]);\n        csvContent += shiftHeaders.join(',') + \"\\n\";\n        exportData.shifts.forEach(row => {\n          csvContent += Object.values(row).map(value => `\"${String(value).replace(/\"/g, '\"\"')}\"`).join(',') + \"\\n\";\n        });\n      }\n      csvContent += \"\\n\\nالإحصائيات\\n\";\n      Object.entries(exportData.analysis).forEach(([key, value]) => {\n        csvContent += `\"${key}\",\"${value}\"\\n`;\n      });\n\n      // إنشاء رابط التنزيل\n      const encodedUri = encodeURI(csvContent);\n      const link = document.createElement(\"a\");\n      link.setAttribute(\"href\", encodedUri);\n      link.setAttribute(\"download\", `shifts_report_${new Date().toISOString().split('T')[0]}.csv`);\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      addNotification('success', 'تم تصدير البيانات بنجاح');\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      addNotification('error', 'حدث خطأ في تصدير البيانات');\n    } finally {\n      setExporting(false);\n    }\n  };\n  const printReport = () => {\n    setPrinting(true);\n    setTimeout(() => {\n      window.print();\n      setPrinting(false);\n    }, 100);\n  };\n\n  // ==================== REFRESH & RESET ====================\n  const handleRefresh = () => {\n    setRefreshing(true);\n    loadAllData();\n  };\n  const resetFilters = () => {\n    setFilters({\n      shiftId: '',\n      branchId: 'all',\n      employeeId: 'all',\n      dateFrom: '',\n      dateTo: '',\n      period: 'today',\n      status: 'all',\n      shiftType: 'all'\n    });\n    addNotification('info', 'تم إعادة تعيين الفلاتر');\n  };\n\n  // ==================== EFFECTS ====================\n  useEffect(() => {\n    loadAllData();\n  }, [loadAllData]);\n\n  // ==================== RENDER ====================\n  // التأكد من أن البيانات جاهزة قبل العرض\n  const safeShifts = Array.isArray(shifts) ? shifts : [];\n  const safeEmployees = Array.isArray(employees) ? employees : [];\n  const safeBranches = Array.isArray(branches) ? branches : [];\n  const safeGames = Array.isArray(games) ? games : [];\n  const filteredShifts = applyFilters();\n  const displayedShifts = Array.isArray(filteredShifts) ? filteredShifts.slice((pagination.page - 1) * pagination.limit, pagination.page * pagination.limit) : [];\n  if (loading && !showShiftModal) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1274,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1272,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"revenue-analysis-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-container\",\n      children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `notification notification-${notification.type}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: notification.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1286,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"notification-close\",\n            onClick: () => setNotifications(prev => prev.filter(n => n.id !== notification.id)),\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1285,\n          columnNumber: 13\n        }, this)\n      }, notification.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"header-icon\",\n              children: \"\\uD83D\\uDCB0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1303,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A \\u0648\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"header-badge\",\n            children: \"\\u0634\\u0627\\u0645\\u0644\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"page-subtitle\",\n          children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0643\\u0627\\u0645\\u0644\\u0629 \\u0644\\u0644\\u0634\\u064A\\u0641\\u062A\\u0627\\u062A\\u060C \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\\u060C \\u0648\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-sm\",\n          onClick: handleRefresh,\n          disabled: refreshing || loading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: refreshing ? 'spinning' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this), refreshing ? 'جاري التحديث...' : 'تحديث البيانات']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-sm\",\n          onClick: exportToExcel,\n          disabled: exporting || filteredShifts.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(DownloadCloud, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1326,\n            columnNumber: 13\n          }, this), exporting ? 'جاري التصدير...' : 'تصدير Excel']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success btn-sm\",\n          onClick: printReport,\n          disabled: printing,\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1335,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629 \\u0627\\u0644\\u062A\\u0642\\u0631\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quick-stats-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: formatCurrency(analysis.totalRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u0634\\u0647\\u0631\\u064A\\u0627\\u064B: \", formatCurrency(analysis.monthlyRevenue)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card success\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCCA\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: analysis.totalRentals.toLocaleString('ar-EG')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-sub\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"paid\",\n                children: [\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629: \", analysis.paidRentals]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pending\",\n                children: [\"\\u0645\\u0639\\u0644\\u0642\\u0629: \", analysis.pendingRentals]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1361,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1356,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDD04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1371,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: analysis.totalShifts.toLocaleString('ar-EG')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-sub\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"active\",\n                children: [\"\\u0646\\u0634\\u0637\\u0629: \", analysis.activeShifts]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1374,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ended\",\n                children: [\"\\u0645\\u0646\\u062A\\u0647\\u064A\\u0629: \", analysis.completedShifts]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1375,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1373,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-icon\",\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-label\",\n              children: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-value\",\n              children: formatCurrency(analysis.averagePerRental)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-trend\",\n              children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u064A\\u0648\\u0645\\u064A: \", formatCurrency(analysis.dailyRevenue)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1387,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1380,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1343,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `filters-section ${showFilters ? 'expanded' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-header\",\n        onClick: () => setShowFilters(!showFilters),\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1398,\n            columnNumber: 13\n          }, this), \"\\u0641\\u0644\\u0627\\u062A\\u0631 \\u0627\\u0644\\u0628\\u062D\\u062B \\u0627\\u0644\\u0645\\u062A\\u0642\\u062F\\u0645\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filter-toggle\",\n            children: showFilters ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1401,\n              columnNumber: 30\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1401,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1397,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1396,\n        columnNumber: 9\n      }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.shiftId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                shiftId: e.target.value\n              })),\n              placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A...\",\n              className: \"filter-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0641\\u0631\\u0639:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1421,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.branchId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                branchId: e.target.value\n              })),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1427,\n                columnNumber: 19\n              }, this), safeBranches.map(branch => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: branch.id,\n                children: branch.name\n              }, branch.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1429,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1422,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1435,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.employeeId,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                employeeId: e.target.value\n              })),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\\u064A\\u0646\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1441,\n                columnNumber: 19\n              }, this), safeEmployees.map(employee => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: employee.id,\n                children: employee.name\n              }, employee.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1434,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1449,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: filters.dateFrom,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                dateFrom: e.target.value\n              })),\n              className: \"filter-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1450,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: filters.dateTo,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                dateTo: e.target.value\n              })),\n              className: \"filter-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1460,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.status,\n              onChange: e => setFilters(prev => ({\n                ...prev,\n                status: e.target.value\n              })),\n              className: \"filter-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"all\",\n                children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1475,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"active\",\n                children: \"\\u0646\\u0634\\u0637 \\u0641\\u0642\\u0637\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1476,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"ended\",\n                children: \"\\u0645\\u0646\\u062A\\u0647\\u064A \\u0641\\u0642\\u0637\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1477,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1468,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1408,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => {\n              if (filters.shiftId) {\n                getShiftDetails(filters.shiftId);\n              }\n            },\n            disabled: !filters.shiftId,\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 17\n            }, this), \"\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: resetFilters,\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1500,\n              columnNumber: 17\n            }, this), \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u0639\\u064A\\u064A\\u0646\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1496,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1407,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shifts-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"section-icon\",\n            children: \"\\uD83D\\uDD04\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1512,\n            columnNumber: 13\n          }, this), \"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\\u0627\\u062A\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"section-count\",\n            children: [\"(\", filteredShifts.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1514,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination-info\",\n            children: [\"\\u0639\\u0631\\u0636 \", Math.min(displayedShifts.length, pagination.limit), \" \\u0645\\u0646 \", filteredShifts.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1518,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-pagination\",\n              onClick: () => setPagination(prev => ({\n                ...prev,\n                page: Math.max(1, prev.page - 1)\n              })),\n              disabled: pagination.page === 1,\n              children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1527,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1522,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"page-info\",\n              children: [\"\\u0635\\u0641\\u062D\\u0629 \", pagination.page, \" \\u0645\\u0646 \", Math.max(1, Math.ceil(filteredShifts.length / pagination.limit))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1529,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-pagination\",\n              onClick: () => setPagination(prev => ({\n                ...prev,\n                page: Math.min(Math.max(1, Math.ceil(filteredShifts.length / pagination.limit)), prev.page + 1)\n              })),\n              disabled: pagination.page >= Math.max(1, Math.ceil(filteredShifts.length / pagination.limit)),\n              children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1535,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1530,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1521,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1517,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1510,\n        columnNumber: 9\n      }, this), filteredShifts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1543,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1544,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: safeShifts.length === 0 ? 'لم يتم العثور على شيفتات في النظام' : 'قم بتعديل الفلاتر'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1545,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1542,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"shifts-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => handleSort('id'),\n                children: [\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\", sortConfig.key === 'id' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sort-icon\",\n                  children: sortConfig.direction === 'asc' ? '↑' : '↓'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1555,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0641\\u0631\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => handleSort('start_time'),\n                children: [\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\", sortConfig.key === 'start_time' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sort-icon\",\n                  children: sortConfig.direction === 'asc' ? '↑' : '↓'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1565,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1562,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1570,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1571,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => handleSort('total_rentals'),\n                children: [\"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\", sortConfig.key === 'total_rentals' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sort-icon\",\n                  children: sortConfig.direction === 'asc' ? '↑' : '↓'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1575,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1572,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                onClick: () => handleSort('total_revenue'),\n                children: [\"\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\", sortConfig.key === 'total_revenue' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sort-icon\",\n                  children: sortConfig.direction === 'asc' ? '↑' : '↓'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1583,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1580,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1588,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1589,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1551,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1550,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: displayedShifts.map(shift => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: !shift.end_time ? 'active-row' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"shift-number\",\n                  children: [\"#\", shift.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1596,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1595,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"employee-info\",\n                  children: [/*#__PURE__*/_jsxDEV(User, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1600,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: shift.employee_name || 'غير معروف'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1601,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1599,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1598,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"branch-info\",\n                  children: [/*#__PURE__*/_jsxDEV(Building, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: shift.branch_name || 'غير محدد'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1607,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1605,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1604,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-info\",\n                  children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1612,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatDateTime(shift.start_time)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1613,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1611,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-info\",\n                  children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1618,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: shift.end_time ? formatDateTime(shift.end_time) : 'لا يزال نشط'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1619,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1617,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1616,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"duration-badge\",\n                  children: [calculateDuration(shift.start_time, shift.end_time), \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1623,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1622,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rentals-count\",\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1629,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: shift.total_rentals || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1630,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1628,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1627,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"revenue-amount\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1635,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatCurrency(shift.total_revenue || 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1636,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1634,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1633,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge ${!shift.end_time ? 'active' : shift.status === 'منتهي' ? 'ended' : 'other'}`,\n                  children: !shift.end_time ? '🔥 نشط' : shift.status === 'منتهي' ? '✅ منتهي' : '📋 ' + (shift.status || 'غير محدد')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1640,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1639,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"shift-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-action btn-view\",\n                    onClick: () => getShiftDetails(shift.id),\n                    title: \"\\u0639\\u0631\\u0636 \\u0648\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n                    children: [/*#__PURE__*/_jsxDEV(Eye, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1651,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u0639\\u0631\\u0636\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1652,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1646,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-action btn-edit\",\n                    onClick: () => {\n                      setEditedShift({\n                        ...shift\n                      });\n                      setSelectedShiftDetails({\n                        shiftInfo: shift\n                      });\n                      setShowShiftModal(true);\n                      setEditingShift(true);\n                    },\n                    title: \"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\",\n                    children: /*#__PURE__*/_jsxDEV(Edit, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1664,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1654,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1645,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1644,\n                columnNumber: 21\n              }, this)]\n            }, shift.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1594,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1592,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1549,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1548,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1509,\n      columnNumber: 7\n    }, this), showShiftModal && selectedShiftDetails && selectedShiftDetails.shiftInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal extra-wide-modal shift-details-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"modal-icon\",\n                children: \"\\uD83D\\uDCCB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1683,\n                columnNumber: 19\n              }, this), \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", selectedShiftDetails.shiftInfo.id, editingShift && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"editing-badge\",\n                children: \"\\uD83D\\uDCDD \\u0648\\u0636\\u0639 \\u0627\\u0644\\u062A\\u062D\\u0631\\u064A\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1685,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1682,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shift-status-header\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge-large ${selectedShiftDetails.shiftInfo.status === 'نشط' || !selectedShiftDetails.endTime ? 'active' : 'ended'}`,\n                children: selectedShiftDetails.shiftInfo.status === 'نشط' || !selectedShiftDetails.endTime ? '🔥 نشط' : '✅ منتهي'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1688,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1687,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1681,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header-actions\",\n            children: [!editingShift ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning btn-sm\",\n                onClick: handleEditShift,\n                children: [/*#__PURE__*/_jsxDEV(Edit, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1701,\n                  columnNumber: 23\n                }, this), \"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1697,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm\",\n                onClick: () => {\n                  setShiftToDelete(selectedShiftDetails.shiftInfo.id);\n                  setShowDeleteConfirm(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1711,\n                  columnNumber: 23\n                }, this), \"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1704,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success btn-sm\",\n                onClick: handleSaveShift,\n                disabled: savingChanges,\n                children: savingChanges ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner-small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1723,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Save, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1726,\n                    columnNumber: 27\n                  }, this), \"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u063A\\u064A\\u064A\\u0631\\u0627\\u062A\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1717,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary btn-sm\",\n                onClick: handleCancelEdit,\n                disabled: savingChanges,\n                children: [/*#__PURE__*/_jsxDEV(X, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1736,\n                  columnNumber: 23\n                }, this), \"\\u0625\\u0644\\u063A\\u0627\\u0621\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1731,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"modal-close\",\n              onClick: () => setShowShiftModal(false),\n              disabled: savingChanges,\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1741,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1694,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1680,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-scroll-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shift-info-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1758,\n                  columnNumber: 21\n                }, this), \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0623\\u0633\\u0627\\u0633\\u064A\\u0629 \\u0644\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1757,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1764,\n                    columnNumber: 23\n                  }, this), editingShift ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: editedShift.employee_id || '',\n                    onChange: e => handleShiftFieldChange('employee_id', e.target.value),\n                    className: \"edit-input\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1771,\n                      columnNumber: 27\n                    }, this), safeEmployees.map(emp => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: emp.id,\n                      children: [emp.name, \" - \", emp.role || 'موظف']\n                    }, emp.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1773,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1766,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: [/*#__PURE__*/_jsxDEV(User, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1780,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: selectedShiftDetails.employeeName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1781,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1779,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1763,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0641\\u0631\\u0639:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1787,\n                    columnNumber: 23\n                  }, this), editingShift ? /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: editedShift.branch_id || '',\n                    onChange: e => handleShiftFieldChange('branch_id', e.target.value),\n                    className: \"edit-input\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0641\\u0631\\u0639\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1794,\n                      columnNumber: 27\n                    }, this), safeBranches.map(branch => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: branch.id,\n                      children: branch.name\n                    }, branch.id, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1796,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1789,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: [/*#__PURE__*/_jsxDEV(Building, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1803,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: selectedShiftDetails.branchName\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1804,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1802,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1786,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1810,\n                    columnNumber: 23\n                  }, this), editingShift ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"datetime-local\",\n                    value: editedShift.start_time ? editedShift.start_time.slice(0, 16) : '',\n                    onChange: e => handleShiftFieldChange('start_time', e.target.value),\n                    className: \"edit-input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1812,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1820,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatDateTime(selectedShiftDetails.startTime)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1821,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1819,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1809,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1827,\n                    columnNumber: 23\n                  }, this), editingShift ? /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"datetime-local\",\n                    value: editedShift.end_time ? editedShift.end_time.slice(0, 16) : '',\n                    onChange: e => handleShiftFieldChange('end_time', e.target.value),\n                    className: \"edit-input\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1829,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1837,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: selectedShiftDetails.endTime ? formatDateTime(selectedShiftDetails.endTime) : 'لا يزال نشط'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1838,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1836,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1826,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1844,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1846,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [selectedShiftDetails.duration, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1847,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1845,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1843,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0625\\u0646\\u0634\\u0627\\u0621:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1852,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatDate(selectedShiftDetails.shiftInfo.created_at)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1854,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1853,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1851,\n                  columnNumber: 21\n                }, this), (editingShift || selectedShiftDetails.notes) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-group full-width\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1860,\n                    columnNumber: 25\n                  }, this), editingShift ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    value: editedShift.notes || '',\n                    onChange: e => handleShiftFieldChange('notes', e.target.value),\n                    className: \"edit-input textarea\",\n                    rows: \"3\",\n                    placeholder: \"\\u0623\\u0636\\u0641 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0639\\u0646 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1862,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"info-value notes\",\n                    children: selectedShiftDetails.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1870,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1859,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1762,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1756,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shift-stats-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1882,\n                  columnNumber: 21\n                }, this), \"\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1881,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stats-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83D\\uDCB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1888,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-label\",\n                      children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1890,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-value\",\n                      children: formatCurrency(selectedShiftDetails.shiftRevenue)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1891,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1889,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1887,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83D\\uDCCA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1896,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-label\",\n                      children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1898,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-value\",\n                      children: selectedShiftDetails.totalRentals\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1899,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-sub\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"paid\",\n                        children: [\"\\u0645\\u062F\\u0641\\u0648\\u0639\\u0629: \", selectedShiftDetails.paidRentals]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1901,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"pending\",\n                        children: [\"\\u0645\\u0639\\u0644\\u0642\\u0629: \", selectedShiftDetails.pendingRentals]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1902,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1900,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1897,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1895,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83D\\uDCC8\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1908,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-label\",\n                      children: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1910,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-value\",\n                      children: formatCurrency(selectedShiftDetails.averagePerRental)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1911,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1909,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1907,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-icon\",\n                    children: \"\\u23F1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1916,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-label\",\n                      children: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u0648\\u0642\\u062A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1918,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"stat-value\",\n                      children: [selectedShiftDetails.totalRentals > 0 ? Math.round(selectedShiftDetails.duration / selectedShiftDetails.totalRentals) : 0, \" \\u062F\\u0642\\u064A\\u0642\\u0629/\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1919,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1917,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1915,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1886,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1880,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-management-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"section-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [/*#__PURE__*/_jsxDEV(FileText, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1933,\n                    columnNumber: 23\n                  }, this), \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"section-count\",\n                    children: [\"(\", selectedShiftDetails.rentals.length, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1935,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1932,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"section-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary btn-sm\",\n                    onClick: () => setShowNewRentalModal(true),\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1942,\n                      columnNumber: 25\n                    }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1938,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-secondary btn-sm\",\n                    onClick: () => getShiftDetails(selectedShiftDetails.shiftInfo.id),\n                    children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1949,\n                      columnNumber: 25\n                    }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1945,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1937,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1931,\n                columnNumber: 19\n              }, this), selectedShiftDetails.rentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-state-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"empty-icon\",\n                  children: \"\\uD83D\\uDCED\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1957,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0641\\u064A \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1958,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1956,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-container\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"rentals-table editable\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1965,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1966,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1967,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1968,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1969,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1970,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1971,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1972,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1973,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1964,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1963,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: selectedShiftDetails.rentals.map(rental => rental && /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: [\"#\", rental.rental_number || rental.id]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1980,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1979,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"customer-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"customer-name\",\n                            children: rental.customer_name || 'مجهول'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1984,\n                            columnNumber: 35\n                          }, this), rental.customer_phone && /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"customer-phone\",\n                            children: [/*#__PURE__*/_jsxDEV(Phone, {\n                              size: 12\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1987,\n                              columnNumber: 39\n                            }, this), rental.customer_phone]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1986,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1983,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1982,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"game-info\",\n                          children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                            size: 14\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1995,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"game-name\",\n                            children: rental.game_name || 'غير محدد'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1996,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1994,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1993,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"time-info\",\n                          children: [/*#__PURE__*/_jsxDEV(Clock, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2001,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: formatTime(rental.start_time)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2002,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2000,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1999,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"amount-info\",\n                          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2007,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: formatCurrency(rental.total_amount)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2008,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2006,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2005,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `payment-method ${rental.payment_method === 'نقدي' ? 'cash' : rental.payment_method === 'بطاقة' ? 'card' : 'other'}`,\n                          children: rental.payment_method || 'غير محدد'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2012,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2011,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : rental.payment_status === 'جزئي' ? 'partial' : 'unpaid'}`,\n                          children: rental.payment_status || 'غير محدد'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2018,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2017,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `rental-status ${rental.status === 'مكتمل' ? 'completed' : rental.status === 'نشط' ? 'active' : 'cancelled'}`,\n                          children: rental.status || 'نشط'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2024,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2023,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"rental-actions\",\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn-action btn-edit\",\n                            onClick: () => handleEditRental(rental),\n                            title: \"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                            children: /*#__PURE__*/_jsxDEV(Edit, {\n                              size: 14\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2036,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2031,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn-action btn-delete\",\n                            onClick: () => handleDeleteRental(rental.id),\n                            title: \"\\u062D\\u0630\\u0641 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                            children: /*#__PURE__*/_jsxDEV(Trash2, {\n                              size: 14\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 2043,\n                              columnNumber: 37\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2038,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2030,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2029,\n                        columnNumber: 31\n                      }, this)]\n                    }, rental.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1978,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1976,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1962,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1961,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1930,\n              columnNumber: 17\n            }, this), selectedShiftDetails.paymentStats && selectedShiftDetails.paymentStats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-methods-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2059,\n                  columnNumber: 23\n                }, this), \"\\u062A\\u0641\\u0635\\u064A\\u0644 \\u0637\\u0631\\u0642 \\u0627\\u0644\\u062F\\u0641\\u0639\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2058,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-grid\",\n                children: selectedShiftDetails.paymentStats.map(method => method && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"payment-method-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"payment-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"method-name\",\n                      children: method.method\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2066,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"method-count\",\n                      children: [method.count, \" \\u0639\\u0645\\u0644\\u064A\\u0629\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2067,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2065,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"payment-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"method-revenue\",\n                      children: formatCurrency(method.revenue)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2070,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"method-percentage\",\n                      children: [selectedShiftDetails.shiftRevenue > 0 ? (method.revenue / selectedShiftDetails.shiftRevenue * 100).toFixed(1) : 0, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2071,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2069,\n                    columnNumber: 27\n                  }, this)]\n                }, method.method, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2064,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2062,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2057,\n              columnNumber: 19\n            }, this), selectedShiftDetails.gameStats && selectedShiftDetails.gameStats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"games-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2087,\n                  columnNumber: 23\n                }, this), \"\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2086,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-container\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"games-table\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2094,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2095,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2096,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0627\\u0644\\u0646\\u0633\\u0628\\u0629\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2097,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2098,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2093,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2092,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: selectedShiftDetails.gameStats.map(game => game && /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: game.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2104,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: game.count\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2105,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatCurrency(game.revenue)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2106,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"percentage-bar\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"percentage-fill\",\n                            style: {\n                              width: `${Math.min(100, selectedShiftDetails.shiftRevenue > 0 ? game.revenue / selectedShiftDetails.shiftRevenue * 100 : 0)}%`\n                            }\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2109,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"percentage-text\",\n                            children: [selectedShiftDetails.shiftRevenue > 0 ? (game.revenue / selectedShiftDetails.shiftRevenue * 100).toFixed(1) : 0, \"%\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2117,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2108,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2107,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: formatCurrency(game.count > 0 ? game.revenue / game.count : 0)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2124,\n                        columnNumber: 31\n                      }, this)]\n                    }, game.name, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2103,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2101,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2091,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2090,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2085,\n              columnNumber: 19\n            }, this), selectedShiftDetails.customerStats && selectedShiftDetails.customerStats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"customers-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(Users, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2137,\n                  columnNumber: 23\n                }, this), \"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"section-count\",\n                  children: [\"(\", selectedShiftDetails.customerStats.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2139,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2136,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customers-grid\",\n                children: selectedShiftDetails.customerStats.slice(0, 5).map(customer => customer && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"customer-name\",\n                      children: customer.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2145,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"customer-visits\",\n                      children: [customer.count, \" \\u0632\\u064A\\u0627\\u0631\\u0629\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2146,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2144,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-revenue\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"revenue-label\",\n                        children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u0646\\u0641\\u0627\\u0642:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2150,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"revenue-value\",\n                        children: formatCurrency(customer.revenue)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2151,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2149,\n                      columnNumber: 29\n                    }, this), customer.phone && customer.phone !== 'لا يوجد' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-contact\",\n                      children: [/*#__PURE__*/_jsxDEV(Phone, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2155,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: customer.phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2156,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2154,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2148,\n                    columnNumber: 27\n                  }, this)]\n                }, customer.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2143,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2141,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2135,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1753,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1751,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"footer-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary\",\n              onClick: () => setShowShiftModal(false),\n              children: \"\\u0625\\u063A\\u0644\\u0627\\u0642\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"action-buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: printReport,\n                disabled: printing,\n                children: [/*#__PURE__*/_jsxDEV(Printer, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2183,\n                  columnNumber: 21\n                }, this), printing ? 'جاري الطباعة...' : 'طباعة التقرير']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2178,\n                columnNumber: 19\n              }, this), selectedShiftDetails.shiftInfo.status !== 'منتهي' && !selectedShiftDetails.endTime && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning\",\n                onClick: () => closeShift(selectedShiftDetails.shiftInfo.id),\n                disabled: closingShift,\n                children: closingShift ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner-small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2194,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(Lock, {\n                    size: 18\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2197,\n                    columnNumber: 27\n                  }, this), \"\\u062A\\u0642\\u0641\\u064A\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2188,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2169,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1679,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1678,\n      columnNumber: 9\n    }, this), showDeleteConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal confirm-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2216,\n              columnNumber: 17\n            }, this), \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062D\\u0630\\u0641\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2215,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2214,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirm-icon\",\n            children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n              size: 48\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2222,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-text\",\n            children: [\"\\u26A0\\uFE0F \\u0647\\u0644 \\u0623\\u0646\\u062A \\u0645\\u062A\\u0623\\u0643\\u062F \\u0645\\u0646 \\u062D\\u0630\\u0641 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", shiftToDelete, \"\\u061F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"confirm-warning\",\n            children: \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621 \\u0633\\u064A\\u062D\\u0630\\u0641 \\u062C\\u0645\\u064A\\u0639 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0648\\u0644\\u0627 \\u064A\\u0645\\u0643\\u0646 \\u0627\\u0644\\u062A\\u0631\\u0627\\u062C\\u0639 \\u0639\\u0646\\u0647!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirm-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0633\\u064A\\u062A\\u0645 \\u062D\\u0630\\u0641:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u0623\\u0633\\u0627\\u0633\\u064A\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0631\\u062A\\u0628\\u0637\\u0629 \\u0628\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u0633\\u062C\\u0644\\u0627\\u062A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2235,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A \\u0648\\u0627\\u0644\\u062A\\u062D\\u0644\\u064A\\u0644\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2236,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2230,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setShowDeleteConfirm(false),\n            disabled: savingChanges,\n            children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: handleDeleteShift,\n            disabled: savingChanges,\n            children: savingChanges ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2254,\n              columnNumber: 19\n            }, this) : 'تأكيد الحذف'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2213,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2212,\n      columnNumber: 9\n    }, this), showRentalEditModal && rentalToEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal rental-edit-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(Edit, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2270,\n              columnNumber: 17\n            }, this), \"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631 #\", rentalToEdit.rental_number || rentalToEdit.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: () => setShowRentalEditModal(false),\n            disabled: savingChanges,\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2273,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: rentalToEdit.customer_name || '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    customer_name: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2287,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2285,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0647\\u0627\\u062A\\u0641 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: rentalToEdit.customer_phone || '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    customer_phone: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2298,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2284,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2309,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: rentalToEdit.game_id || '',\n                onChange: e => setRentalToEdit({\n                  ...rentalToEdit,\n                  game_id: e.target.value\n                }),\n                className: \"edit-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2315,\n                  columnNumber: 21\n                }, this), safeGames.map(game => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: game.id,\n                  children: [game.name, \" - \", formatCurrency(game.hourly_rate || 0), \"/\\u0633\\u0627\\u0639\\u0629\"]\n                }, game.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2317,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2310,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2326,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  value: rentalToEdit.start_time ? rentalToEdit.start_time.slice(0, 16) : '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    start_time: e.target.value\n                  }),\n                  className: \"edit-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2327,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  value: rentalToEdit.end_time ? rentalToEdit.end_time.slice(0, 16) : '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    end_time: e.target.value\n                  }),\n                  className: \"edit-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2337,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amount-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: rentalToEdit.total_amount || '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    total_amount: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  min: \"0\",\n                  step: \"0.01\",\n                  placeholder: \"0.00\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2349,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"currency-symbol\",\n                  children: \"\\u062C.\\u0645\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2358,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2348,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2364,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: rentalToEdit.payment_method || '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    payment_method: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0646\\u0642\\u062F\\u064A\",\n                    children: \"\\u0646\\u0642\\u062F\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2370,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                    children: \"\\u0628\\u0637\\u0627\\u0642\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2371,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\",\n                    children: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2372,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\",\n                    children: \"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2373,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0622\\u062E\\u0631\\u0649\",\n                    children: \"\\u0622\\u062E\\u0631\\u0649\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2374,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2365,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2379,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: rentalToEdit.payment_status || '',\n                  onChange: e => setRentalToEdit({\n                    ...rentalToEdit,\n                    payment_status: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0645\\u062F\\u0641\\u0648\\u0639\",\n                    children: \"\\u0645\\u062F\\u0641\\u0648\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2385,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\",\n                    children: \"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2386,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u062C\\u0632\\u0626\\u064A\",\n                    children: \"\\u062C\\u0632\\u0626\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2387,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2380,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: rentalToEdit.status || '',\n                onChange: e => setRentalToEdit({\n                  ...rentalToEdit,\n                  status: e.target.value\n                }),\n                className: \"edit-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0646\\u0634\\u0637\",\n                  children: \"\\u0646\\u0634\\u0637\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u0643\\u062A\\u0645\\u0644\",\n                  children: \"\\u0645\\u0643\\u062A\\u0645\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2400,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u0644\\u063A\\u0649\",\n                  children: \"\\u0645\\u0644\\u063A\\u0649\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2401,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2394,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2406,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: rentalToEdit.notes || '',\n                onChange: e => setRentalToEdit({\n                  ...rentalToEdit,\n                  notes: e.target.value\n                }),\n                className: \"edit-input textarea\",\n                rows: \"3\",\n                placeholder: \"\\u0623\\u0636\\u0641 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0639\\u0646 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2407,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2283,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setShowRentalEditModal(false),\n            disabled: savingChanges,\n            children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2419,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: handleSaveRental,\n            disabled: savingChanges,\n            children: savingChanges ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2432,\n              columnNumber: 19\n            }, this) : 'حفظ التغييرات'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2426,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2418,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2267,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2266,\n      columnNumber: 9\n    }, this), showNewRentalModal && selectedShiftDetails && selectedShiftDetails.shiftInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal new-rental-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2448,\n              columnNumber: 17\n            }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F \\u0644\\u0644\\u0634\\u064A\\u0641\\u062A #\", selectedShiftDetails.shiftInfo.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: () => setShowNewRentalModal(false),\n            disabled: savingChanges,\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2451,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: newRental.customer_name,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    customer_name: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2465,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0647\\u0627\\u062A\\u0641 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2476,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: newRental.customer_phone,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    customer_phone: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2477,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2475,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2488,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newRental.game_id,\n                onChange: e => setNewRental({\n                  ...newRental,\n                  game_id: e.target.value\n                }),\n                className: \"edit-input\",\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2495,\n                  columnNumber: 21\n                }, this), safeGames.map(game => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: game.id,\n                  children: [game.name, \" - \", formatCurrency(game.hourly_rate || 0), \"/\\u0633\\u0627\\u0639\\u0629\"]\n                }, game.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2497,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2489,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2487,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2506,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  value: newRental.start_time,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    start_time: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2507,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2517,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  value: newRental.end_time,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    end_time: e.target.value\n                  }),\n                  className: \"edit-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2518,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2516,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2528,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amount-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: newRental.total_amount,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    total_amount: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  min: \"0\",\n                  step: \"0.01\",\n                  placeholder: \"0.00\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2530,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"currency-symbol\",\n                  children: \"\\u062C.\\u0645\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2540,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2529,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2546,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newRental.payment_method,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    payment_method: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0646\\u0642\\u062F\\u064A\",\n                    children: \"\\u0646\\u0642\\u062F\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2552,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                    children: \"\\u0628\\u0637\\u0627\\u0642\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2553,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\",\n                    children: \"\\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2554,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\",\n                    children: \"\\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2555,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2547,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2560,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: newRental.payment_status,\n                  onChange: e => setNewRental({\n                    ...newRental,\n                    payment_status: e.target.value\n                  }),\n                  className: \"edit-input\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\",\n                    children: \"\\u063A\\u064A\\u0631 \\u0645\\u062F\\u0641\\u0648\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2566,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u0645\\u062F\\u0641\\u0648\\u0639\",\n                    children: \"\\u0645\\u062F\\u0641\\u0648\\u0639\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2567,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\\u062C\\u0632\\u0626\\u064A\",\n                    children: \"\\u062C\\u0632\\u0626\\u064A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2568,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2561,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2559,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2544,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2574,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newRental.status,\n                onChange: e => setNewRental({\n                  ...newRental,\n                  status: e.target.value\n                }),\n                className: \"edit-input\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0646\\u0634\\u0637\",\n                  children: \"\\u0646\\u0634\\u0637\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2580,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u0643\\u062A\\u0645\\u0644\",\n                  children: \"\\u0645\\u0643\\u062A\\u0645\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2581,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2575,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2573,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2586,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: newRental.notes,\n                onChange: e => setNewRental({\n                  ...newRental,\n                  notes: e.target.value\n                }),\n                className: \"edit-input textarea\",\n                rows: \"3\",\n                placeholder: \"\\u0623\\u0636\\u0641 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0639\\u0646 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2587,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2585,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2461,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setShowNewRentalModal(false),\n            disabled: savingChanges,\n            children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2599,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: handleAddNewRental,\n            disabled: savingChanges,\n            children: savingChanges ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2612,\n              columnNumber: 19\n            }, this) : 'إضافة التأجير'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2606,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2598,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2445,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2444,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-info\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0648\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2626,\n            columnNumber: 13\n          }, this), \" | \\u0627\\u0644\\u0625\\u0635\\u062F\\u0627\\u0631 2.0 | \\u0622\\u062E\\u0631 \\u062A\\u062D\\u062F\\u064A\\u062B: \", new Date().toLocaleDateString('ar-EG')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2625,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2624,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"footer-stat\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2633,\n            columnNumber: 13\n          }, this), analysis.activeShifts, \" \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2632,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"footer-stat\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2637,\n            columnNumber: 13\n          }, this), analysis.dailyRevenue.toLocaleString('ar-EG'), \" \\u062C.\\u0645 \\u0627\\u0644\\u064A\\u0648\\u0645\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2636,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"footer-stat\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2641,\n            columnNumber: 13\n          }, this), safeEmployees.length, \" \\u0645\\u0648\\u0638\\u0641\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2640,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2631,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2623,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1280,\n    columnNumber: 5\n  }, this);\n};\n_s(RentalsRevenueAnalysis, \"2Op5fMPiUUjs0SZAV2+N/vPdRLw=\");\n_c = RentalsRevenueAnalysis;\nexport default RentalsRevenueAnalysis;\nvar _c;\n$RefreshReg$(_c, \"RentalsRevenueAnalysis\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Search","Filter","Download","RefreshCw","Calendar","DollarSign","TrendingUp","BarChart3","FileText","ChevronDown","ChevronUp","CheckCircle","XCircle","Eye","Printer","Save","Building","Clock","Users","ChevronLeft","ChevronRight","AlertCircle","Check","X","Plus","Minus","Calculator","Lock","Unlock","Edit","Trash2","User","Gamepad2","CreditCard","CalendarIcon","ClockIcon","Phone","Mail","MapPin","Package","Tag","ExternalLink","MoreVertical","DownloadCloud","Upload","Settings","Shield","AlertTriangle","Bell","Star","Zap","api","jsxDEV","_jsxDEV","Fragment","_Fragment","RentalsRevenueAnalysis","_s","loading","setLoading","error","setError","refreshing","setRefreshing","shifts","setShifts","rentals","setRentals","branches","setBranches","employees","setEmployees","games","setGames","customers","setCustomers","filters","setFilters","shiftId","branchId","employeeId","dateFrom","dateTo","period","status","shiftType","pagination","setPagination","page","limit","total","totalPages","sortConfig","setSortConfig","key","direction","analysis","setAnalysis","totalRevenue","totalRentals","paidRentals","pendingRentals","averagePerRental","dailyRevenue","monthlyRevenue","yearlyRevenue","totalShifts","activeShifts","completedShifts","shiftDetails","dailyBreakdown","shiftBreakdown","monthlySummary","dailyStats","performanceMetrics","selectedShiftDetails","setSelectedShiftDetails","showShiftModal","setShowShiftModal","closingShift","setClosingShift","printing","setPrinting","exporting","setExporting","showFilters","setShowFilters","editingShift","setEditingShift","editedShift","setEditedShift","editedRentals","setEditedRentals","savingChanges","setSavingChanges","showDeleteConfirm","setShowDeleteConfirm","shiftToDelete","setShiftToDelete","rentalToEdit","setRentalToEdit","showRentalEditModal","setShowRentalEditModal","showNewRentalModal","setShowNewRentalModal","newRental","setNewRental","customer_name","customer_phone","game_id","start_time","end_time","total_amount","payment_method","payment_status","notes","notifications","setNotifications","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","formatDateTime","hour","minute","second","formatTime","toLocaleTimeString","calculateDuration","start","end","startTime","endTime","diffMs","Math","round","addNotification","type","message","id","now","notification","timestamp","prev","setTimeout","filter","n","loadAllData","branchesRes","success","data","shiftsRes","employeesRes","gamesRes","rentalsRes","getBranches","console","getShiftsSafe","order_by","order_direction","getEmployees","uniqueEmployees","Map","forEach","shift","employee_id","employee_name","set","name","role","Array","from","values","getGames","getRentals","include_game","include_branch","analyzeData","shiftsData","length","ceil","rentalsData","safeRentalsData","isArray","safeShiftsData","rental","reduce","sum","today","toISOString","split","todayRentals","created_at","thirtyDaysAgo","setDate","getDate","monthlyRentals","rentalDate","averageShiftRevenue","averageShiftDuration","rentalConversionRate","revenuePerHour","max","getShiftDetails","find","s","shiftRentalsRes","shift_id","include_employee","include_customer","shiftRentals","shiftRevenue","gameStats","paymentStats","gameName","game_name","method","count","revenue","customerStats","customerName","phone","lastVisit","shiftInfo","duration","paidRentalsList","Object","sort","a","b","employeeName","branchName","branch_name","shiftStatus","handleEditShift","handleSaveShift","updateData","branch_id","response","updateShift","_selectedShiftDetails","Error","handleCancelEdit","handleShiftFieldChange","field","value","handleEditRental","handleSaveRental","_selectedShiftDetails2","totalAmount","updateRental","_selectedShiftDetails3","handleAddNewRental","_selectedShiftDetails4","createData","rental_number","createRental","handleDeleteRental","rentalId","window","confirm","deleteRental","_selectedShiftDetails5","handleDeleteShift","deleteShift","closeShift","r","closeResponse","endShift","total_revenue","total_rentals","paid_rentals","toLocaleString","applyFilters","safeShifts","filteredShifts","toString","includes","aValue","bValue","handleSort","loadCompleteShiftAnalysis","_analysisData$fullDet","shiftResponse","get","shiftData","analysisData","financialStats","rentalsAnalysis","byGame","byPaymentMethod","byHour","hourlyStats","byDuration","durationStats","customersAnalysis","topCustomers","newCustomers","repeatCustomers","averageSessionDuration","peakHours","fullDetails","allRentals","allPayments","allGames","timeline","editRentals","handleBulkUpdateRentals","rentalUpdates","_selectedShiftDetails6","_user","updates","entries","map","rental_id","post","updated_by","user","exportDetailedReport","_reportData$fullDetai","_reportData$rentalsAn","reportData","csvContent","duration_minutes","v","join","game","toFixed","encodedUri","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","removeChild","exportToExcel","exportData","shiftHeaders","keys","row","String","replace","printReport","print","handleRefresh","resetFilters","safeEmployees","safeBranches","safeGames","displayedShifts","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","size","onChange","e","target","placeholder","branch","employee","min","title","emp","rows","width","customer","hourly_rate","step","required","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/admin/RentalsRevenueAnalysis.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { \r\n  Search, Filter, Download, RefreshCw, Calendar, \r\n  DollarSign, TrendingUp, BarChart3, FileText,\r\n  ChevronDown, ChevronUp, CheckCircle, XCircle,\r\n  Eye, Printer, Save, Building, Clock, Users,\r\n  ChevronLeft, ChevronRight, AlertCircle, Check,\r\n  X, Plus, Minus, Calculator, Lock, Unlock,\r\n  Edit, Trash2, User, Gamepad2, CreditCard,\r\n  Calendar as CalendarIcon, Clock as ClockIcon,\r\n  Phone, Mail, MapPin, Package, Tag, ExternalLink,\r\n  MoreVertical, DownloadCloud, Upload, Settings,\r\n  Shield, AlertTriangle, Bell, Star, Zap\r\n} from 'lucide-react';\r\nimport api from '../../services/api';\r\nimport './RentalsRevenueAnalysis.css';\r\n\r\nconst RentalsRevenueAnalysis = () => {\r\n  // ==================== STATES ====================\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  \r\n  // Data States - تهيئة بالقيم الافتراضية\r\n  const [shifts, setShifts] = useState([]);\r\n  const [rentals, setRentals] = useState([]);\r\n  const [branches, setBranches] = useState([]);\r\n  const [employees, setEmployees] = useState([]);\r\n  const [games, setGames] = useState([]);\r\n  const [customers, setCustomers] = useState([]);\r\n  \r\n  // Filter States\r\n  const [filters, setFilters] = useState({\r\n    shiftId: '',\r\n    branchId: 'all',\r\n    employeeId: 'all',\r\n    dateFrom: '',\r\n    dateTo: '',\r\n    period: 'today',\r\n    status: 'all',\r\n    shiftType: 'all'\r\n  });\r\n  \r\n  // Pagination & Sorting\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n    totalPages: 1\r\n  });\r\n  const [sortConfig, setSortConfig] = useState({\r\n    key: 'start_time',\r\n    direction: 'desc'\r\n  });\r\n  \r\n  // Analysis States - تهيئة بالقيم الافتراضية\r\n  const [analysis, setAnalysis] = useState({\r\n    totalRevenue: 0,\r\n    totalRentals: 0,\r\n    paidRentals: 0,\r\n    pendingRentals: 0,\r\n    averagePerRental: 0,\r\n    dailyRevenue: 0,\r\n    monthlyRevenue: 0,\r\n    yearlyRevenue: 0,\r\n    totalShifts: 0,\r\n    activeShifts: 0,\r\n    completedShifts: 0,\r\n    shiftDetails: null,\r\n    dailyBreakdown: [],\r\n    shiftBreakdown: [],\r\n    monthlySummary: null,\r\n    dailyStats: {},\r\n    performanceMetrics: {}\r\n  });\r\n  \r\n  // UI States\r\n  const [selectedShiftDetails, setSelectedShiftDetails] = useState(null);\r\n  const [showShiftModal, setShowShiftModal] = useState(false);\r\n  const [closingShift, setClosingShift] = useState(false);\r\n  const [printing, setPrinting] = useState(false);\r\n  const [exporting, setExporting] = useState(false);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  \r\n  // Editing States\r\n  const [editingShift, setEditingShift] = useState(false);\r\n  const [editedShift, setEditedShift] = useState(null);\r\n  const [editedRentals, setEditedRentals] = useState({});\r\n  const [savingChanges, setSavingChanges] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [shiftToDelete, setShiftToDelete] = useState(null);\r\n  const [rentalToEdit, setRentalToEdit] = useState(null);\r\n  const [showRentalEditModal, setShowRentalEditModal] = useState(false);\r\n  const [showNewRentalModal, setShowNewRentalModal] = useState(false);\r\n  const [newRental, setNewRental] = useState({\r\n    customer_name: '',\r\n    customer_phone: '',\r\n    game_id: '',\r\n    start_time: '',\r\n    end_time: '',\r\n    total_amount: '',\r\n    payment_method: 'نقدي',\r\n    payment_status: 'غير مدفوع',\r\n    status: 'نشط',\r\n    notes: ''\r\n  });\r\n  \r\n  // Notification System\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  // ==================== UTILITIES ====================\r\n  const formatCurrency = (amount) => {\r\n    const num = parseFloat(amount) || 0;\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 2\r\n    }).format(num);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '-';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('ar-EG', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    } catch (error) {\r\n      return '-';\r\n    }\r\n  };\r\n\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return '-';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('ar-EG', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        second: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      return '-';\r\n    }\r\n  };\r\n\r\n  const formatTime = (dateString) => {\r\n    if (!dateString) return '-';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleTimeString('ar-EG', {\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch (error) {\r\n      return '-';\r\n    }\r\n  };\r\n\r\n  const calculateDuration = (start, end) => {\r\n    if (!start || !end) return 0;\r\n    try {\r\n      const startTime = new Date(start);\r\n      const endTime = new Date(end);\r\n      const diffMs = endTime - startTime;\r\n      return Math.round(diffMs / (1000 * 60));\r\n    } catch (error) {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  const addNotification = (type, message) => {\r\n    const id = Date.now();\r\n    const notification = {\r\n      id,\r\n      type,\r\n      message,\r\n      timestamp: new Date()\r\n    };\r\n    \r\n    setNotifications(prev => [notification, ...prev]);\r\n    \r\n    setTimeout(() => {\r\n      setNotifications(prev => prev.filter(n => n.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  // ==================== LOAD ALL DATA ====================\r\n  const loadAllData = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // تحميل البيانات مع معالجة الأخطاء لكل API\r\n      let branchesRes = { success: false, data: [] };\r\n      let shiftsRes = { success: false, data: [] };\r\n      let employeesRes = { success: false, data: [] };\r\n      let gamesRes = { success: false, data: [] };\r\n      let rentalsRes = { success: false, data: [] };\r\n      \r\n      try {\r\n        branchesRes = await api.getBranches();\r\n      } catch (error) {\r\n        console.error('Error loading branches:', error);\r\n        branchesRes = { success: false, data: [] };\r\n      }\r\n      \r\n      try {\r\n        shiftsRes = await api.getShiftsSafe({\r\n          limit: 100,\r\n          order_by: 'start_time',\r\n          order_direction: 'DESC'\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading shifts:', error);\r\n        shiftsRes = { success: false, data: [] };\r\n      }\r\n      \r\n      try {\r\n        employeesRes = await api.getEmployees();\r\n      } catch (error) {\r\n        console.error('Error loading employees:', error);\r\n        // إنشاء بيانات موظفين افتراضية من الشيفتات\r\n        if (shiftsRes.success && shiftsRes.data) {\r\n          const uniqueEmployees = new Map();\r\n          shiftsRes.data.forEach(shift => {\r\n            if (shift.employee_id && shift.employee_name) {\r\n              uniqueEmployees.set(shift.employee_id, {\r\n                id: shift.employee_id,\r\n                name: shift.employee_name,\r\n                role: 'employee'\r\n              });\r\n            }\r\n          });\r\n          employeesRes.data = Array.from(uniqueEmployees.values());\r\n          employeesRes.success = true;\r\n        } else {\r\n          employeesRes = { success: false, data: [] };\r\n        }\r\n      }\r\n      \r\n      try {\r\n        gamesRes = await api.getGames();\r\n      } catch (error) {\r\n        console.error('Error loading games:', error);\r\n        gamesRes = { success: false, data: [] };\r\n      }\r\n      \r\n      try {\r\n        rentalsRes = await api.getRentals({\r\n          limit: 1000,\r\n          include_game: true,\r\n          include_branch: true\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading rentals:', error);\r\n        rentalsRes = { success: false, data: [] };\r\n      }\r\n      \r\n      // تحديث الحالات مع التحقق من البيانات\r\n      setBranches(branchesRes.data || []);\r\n      setShifts(shiftsRes.data || []);\r\n      setEmployees(employeesRes.data || []);\r\n      setGames(gamesRes.data || []);\r\n      setRentals(rentalsRes.data || []);\r\n      \r\n      // تحليل البيانات\r\n      analyzeData(rentalsRes.data || [], shiftsRes.data || []);\r\n      \r\n      // تحديث الباجينيشن\r\n      const shiftsData = shiftsRes.data || [];\r\n      setPagination(prev => ({\r\n        ...prev,\r\n        total: shiftsData.length,\r\n        totalPages: Math.ceil(shiftsData.length / prev.limit) || 1\r\n      }));\r\n      \r\n      addNotification('success', 'تم تحميل البيانات بنجاح');\r\n      \r\n    } catch (error) {\r\n      console.error('Error in loadAllData:', error);\r\n      setError(error.message || 'حدث خطأ في تحميل البيانات');\r\n      addNotification('error', 'حدث خطأ في تحميل البيانات');\r\n    } finally {\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n    }\r\n  }, []);\r\n\r\n  // ==================== ANALYZE DATA ====================\r\n  const analyzeData = useCallback((rentalsData, shiftsData) => {\r\n    try {\r\n      // التأكد من أن البيانات عبارة عن مصفوفات\r\n      const safeRentalsData = Array.isArray(rentalsData) ? rentalsData : [];\r\n      const safeShiftsData = Array.isArray(shiftsData) ? shiftsData : [];\r\n      \r\n      // تحليل التأجيرات\r\n      const paidRentals = safeRentalsData.filter(rental => \r\n        rental && rental.payment_status === 'مدفوع'\r\n      );\r\n      \r\n      const totalRevenue = paidRentals.reduce((sum, rental) => {\r\n        const amount = parseFloat(rental?.total_amount) || 0;\r\n        return sum + amount;\r\n      }, 0);\r\n      \r\n      const totalShifts = safeShiftsData.length;\r\n      const activeShifts = safeShiftsData.filter(shift => \r\n        shift && !shift.end_time\r\n      ).length;\r\n      const completedShifts = safeShiftsData.filter(shift => \r\n        shift && shift.end_time\r\n      ).length;\r\n      \r\n      // الإيراد اليومي\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const todayRentals = paidRentals.filter(rental => \r\n        rental?.created_at && rental.created_at.split('T')[0] === today\r\n      );\r\n      \r\n      const dailyRevenue = todayRentals.reduce((sum, rental) => {\r\n        const amount = parseFloat(rental?.total_amount) || 0;\r\n        return sum + amount;\r\n      }, 0);\r\n      \r\n      // الإيراد الشهري (آخر 30 يوم)\r\n      const thirtyDaysAgo = new Date();\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\r\n      \r\n      const monthlyRentals = paidRentals.filter(rental => {\r\n        if (!rental?.created_at) return false;\r\n        try {\r\n          const rentalDate = new Date(rental.created_at);\r\n          return rentalDate >= thirtyDaysAgo;\r\n        } catch (error) {\r\n          return false;\r\n        }\r\n      });\r\n      \r\n      const monthlyRevenue = monthlyRentals.reduce((sum, rental) => {\r\n        const amount = parseFloat(rental?.total_amount) || 0;\r\n        return sum + amount;\r\n      }, 0);\r\n      \r\n      // مقاييس الأداء\r\n      const averageShiftRevenue = completedShifts > 0 ? totalRevenue / completedShifts : 0;\r\n      \r\n      const performanceMetrics = {\r\n        averageShiftRevenue,\r\n        averageShiftDuration: 0,\r\n        rentalConversionRate: safeRentalsData.length > 0 ? (paidRentals.length / safeRentalsData.length) * 100 : 0,\r\n        revenuePerHour: 0\r\n      };\r\n      \r\n      setAnalysis(prev => ({\r\n        ...prev,\r\n        totalRevenue,\r\n        totalRentals: paidRentals.length,\r\n        paidRentals: paidRentals.length,\r\n        pendingRentals: Math.max(0, safeRentalsData.length - paidRentals.length),\r\n        averagePerRental: paidRentals.length > 0 ? totalRevenue / paidRentals.length : 0,\r\n        dailyRevenue,\r\n        monthlyRevenue,\r\n        totalShifts,\r\n        activeShifts,\r\n        completedShifts,\r\n        performanceMetrics\r\n      }));\r\n      \r\n    } catch (error) {\r\n      console.error('Error in analyzeData:', error);\r\n      addNotification('error', 'حدث خطأ في تحليل البيانات');\r\n    }\r\n  }, []);\r\n\r\n  // ==================== GET SHIFT DETAILS ====================\r\n  const getShiftDetails = useCallback(async (shiftId) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // البحث عن الشيفت مع التحقق من المصفوفة\r\n      const shift = Array.isArray(shifts) \r\n        ? shifts.find(s => s && s.id == shiftId)\r\n        : null;\r\n      \r\n      if (!shift) {\r\n        addNotification('error', 'الشيفت غير موجود');\r\n        return;\r\n      }\r\n      \r\n      // تحميل تأجيرات الشيفت\r\n      let shiftRentalsRes = { success: false, data: [] };\r\n      try {\r\n        shiftRentalsRes = await api.getRentals({\r\n          shift_id: shiftId,\r\n          limit: 500,\r\n          include_game: true,\r\n          include_branch: true,\r\n          include_employee: true,\r\n          include_customer: true\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading shift rentals:', error);\r\n        shiftRentalsRes = { success: false, data: [] };\r\n      }\r\n      \r\n      if (!shiftRentalsRes.success) {\r\n        addNotification('warning', 'لم يتم تحميل جميع تفاصيل التأجيرات');\r\n      }\r\n      \r\n      const shiftRentals = Array.isArray(shiftRentalsRes.data) ? shiftRentalsRes.data : [];\r\n      \r\n      // حساب إحصائيات الشيفت\r\n      const paidRentals = shiftRentals.filter(rental => \r\n        rental && rental.payment_status === 'مدفوع'\r\n      );\r\n      \r\n      const shiftRevenue = paidRentals.reduce((sum, rental) => {\r\n        const amount = parseFloat(rental?.total_amount) || 0;\r\n        return sum + amount;\r\n      }, 0);\r\n      \r\n      // إحصائيات المجموعات\r\n      const gameStats = {};\r\n      const paymentStats = {};\r\n      \r\n      paidRentals.forEach(rental => {\r\n        if (!rental) return;\r\n        \r\n        const gameName = rental.game_name || 'غير معروف';\r\n        const method = rental.payment_method || 'غير معروف';\r\n        \r\n        // إحصائيات الألعاب\r\n        if (!gameStats[gameName]) {\r\n          gameStats[gameName] = { \r\n            name: gameName, \r\n            count: 0, \r\n            revenue: 0 \r\n          };\r\n        }\r\n        gameStats[gameName].count++;\r\n        gameStats[gameName].revenue += parseFloat(rental.total_amount) || 0;\r\n        \r\n        // إحصائيات الدفع\r\n        if (!paymentStats[method]) {\r\n          paymentStats[method] = { \r\n            method, \r\n            count: 0, \r\n            revenue: 0 \r\n          };\r\n        }\r\n        paymentStats[method].count++;\r\n        paymentStats[method].revenue += parseFloat(rental.total_amount) || 0;\r\n      });\r\n      \r\n      // إحصائيات العملاء\r\n      const customerStats = {};\r\n      paidRentals.forEach(rental => {\r\n        if (!rental) return;\r\n        \r\n        const customerName = rental.customer_name || 'مجهول';\r\n        if (!customerStats[customerName]) {\r\n          customerStats[customerName] = {\r\n            name: customerName,\r\n            phone: rental.customer_phone || 'لا يوجد',\r\n            count: 0,\r\n            revenue: 0,\r\n            lastVisit: rental.start_time\r\n          };\r\n        }\r\n        customerStats[customerName].count++;\r\n        customerStats[customerName].revenue += parseFloat(rental.total_amount) || 0;\r\n        \r\n        // تحديث آخر زيارة\r\n        if (rental.start_time) {\r\n          try {\r\n            const rentalDate = new Date(rental.start_time);\r\n            const lastVisit = new Date(customerStats[customerName].lastVisit || 0);\r\n            if (rentalDate > lastVisit) {\r\n              customerStats[customerName].lastVisit = rental.start_time;\r\n            }\r\n          } catch (error) {\r\n            // تجاهل خطأ التاريخ\r\n          }\r\n        }\r\n      });\r\n      \r\n      const shiftDetails = {\r\n        shiftInfo: shift,\r\n        totalRentals: shiftRentals.length,\r\n        paidRentals: paidRentals.length,\r\n        pendingRentals: Math.max(0, shiftRentals.length - paidRentals.length),\r\n        shiftRevenue,\r\n        averagePerRental: paidRentals.length > 0 ? shiftRevenue / paidRentals.length : 0,\r\n        startTime: shift.start_time,\r\n        endTime: shift.end_time,\r\n        duration: calculateDuration(shift.start_time, shift.end_time),\r\n        rentals: shiftRentals,\r\n        paidRentalsList: paidRentals,\r\n        gameStats: Object.values(gameStats),\r\n        paymentStats: Object.values(paymentStats),\r\n        customerStats: Object.values(customerStats).sort((a, b) => b.revenue - a.revenue),\r\n        employeeName: shift.employee_name || 'غير معروف',\r\n        branchName: shift.branch_name || 'غير محدد',\r\n        shiftStatus: shift.status || 'غير محدد',\r\n        notes: shift.notes || 'لا توجد ملاحظات'\r\n      };\r\n      \r\n      setSelectedShiftDetails(shiftDetails);\r\n      setEditedShift({ ...shift });\r\n      setShowShiftModal(true);\r\n      addNotification('success', `تم تحميل تفاصيل الشيفت #${shiftId}`);\r\n      \r\n    } catch (error) {\r\n      console.error('Error in getShiftDetails:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في تحميل التفاصيل');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [shifts]);\r\n\r\n  // ==================== SHIFT EDITING FUNCTIONS ====================\r\n  const handleEditShift = () => {\r\n    if (!selectedShiftDetails || !selectedShiftDetails.shiftInfo) {\r\n      addNotification('error', 'لا توجد بيانات للشيفت');\r\n      return;\r\n    }\r\n    setEditingShift(true);\r\n    addNotification('info', 'تم تفعيل وضع التعديل للشيفت');\r\n  };\r\n\r\n  const handleSaveShift = async () => {\r\n    if (!editedShift || !editedShift.id) {\r\n      addNotification('error', 'لا توجد بيانات لحفظها');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSavingChanges(true);\r\n      \r\n      // التحقق من أوقات الشيفت\r\n      if (editedShift.start_time && editedShift.end_time) {\r\n        try {\r\n          const startTime = new Date(editedShift.start_time);\r\n          const endTime = new Date(editedShift.end_time);\r\n          \r\n          if (endTime <= startTime) {\r\n            addNotification('error', 'وقت الانتهاء يجب أن يكون بعد وقت البدء');\r\n            return;\r\n          }\r\n        } catch (error) {\r\n          addNotification('warning', 'خطأ في تنسيق الوقت، سيتم استخدام الأوقات كما هي');\r\n        }\r\n      }\r\n      \r\n      // تحديث الشيفت\r\n      const updateData = {\r\n        employee_id: editedShift.employee_id || '',\r\n        branch_id: editedShift.branch_id || '',\r\n        start_time: editedShift.start_time || '',\r\n        end_time: editedShift.end_time || '',\r\n        notes: editedShift.notes || '',\r\n        status: editedShift.status || 'نشط'\r\n      };\r\n      \r\n      const response = await api.updateShift(editedShift.id, updateData);\r\n      \r\n      if (response.success) {\r\n        addNotification('success', '✅ تم تحديث بيانات الشيفت بنجاح');\r\n        setEditingShift(false);\r\n        loadAllData();\r\n        if (selectedShiftDetails?.shiftInfo?.id === editedShift.id) {\r\n          getShiftDetails(editedShift.id); // تحديث التفاصيل\r\n        }\r\n      } else {\r\n        throw new Error(response.message || 'فشل تحديث الشيفت');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving shift:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في حفظ البيانات');\r\n    } finally {\r\n      setSavingChanges(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    if (selectedShiftDetails?.shiftInfo) {\r\n      setEditedShift({ ...selectedShiftDetails.shiftInfo });\r\n    }\r\n    setEditingShift(false);\r\n    addNotification('info', 'تم إلغاء التعديلات');\r\n  };\r\n\r\n  const handleShiftFieldChange = (field, value) => {\r\n    setEditedShift(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  // ==================== RENTAL MANAGEMENT ====================\r\n  const handleEditRental = (rental) => {\r\n    if (!rental) {\r\n      addNotification('error', 'لا توجد بيانات للتأجير');\r\n      return;\r\n    }\r\n    setRentalToEdit({ ...rental });\r\n    setShowRentalEditModal(true);\r\n  };\r\n\r\n  const handleSaveRental = async () => {\r\n    if (!rentalToEdit || !rentalToEdit.id) {\r\n      addNotification('error', 'لا توجد بيانات للتأجير');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSavingChanges(true);\r\n      \r\n      // التحقق من بيانات التأجير\r\n      if (!rentalToEdit.game_id) {\r\n        addNotification('error', 'يجب اختيار لعبة');\r\n        return;\r\n      }\r\n      \r\n      const totalAmount = parseFloat(rentalToEdit.total_amount) || 0;\r\n      if (totalAmount <= 0) {\r\n        addNotification('error', 'يجب إدخال مبلغ صحيح أكبر من الصفر');\r\n        return;\r\n      }\r\n      \r\n      const updateData = {\r\n        game_id: rentalToEdit.game_id,\r\n        customer_name: rentalToEdit.customer_name || '',\r\n        customer_phone: rentalToEdit.customer_phone || '',\r\n        start_time: rentalToEdit.start_time || '',\r\n        end_time: rentalToEdit.end_time || '',\r\n        total_amount: totalAmount,\r\n        payment_method: rentalToEdit.payment_method || 'نقدي',\r\n        payment_status: rentalToEdit.payment_status || 'غير مدفوع',\r\n        status: rentalToEdit.status || 'نشط',\r\n        notes: rentalToEdit.notes || '',\r\n        shift_id: rentalToEdit.shift_id || (selectedShiftDetails?.shiftInfo?.id || '')\r\n      };\r\n      \r\n      const response = await api.updateRental(rentalToEdit.id, updateData);\r\n      \r\n      if (response.success) {\r\n        addNotification('success', '✅ تم تحديث التأجير بنجاح');\r\n        setShowRentalEditModal(false);\r\n        if (selectedShiftDetails?.shiftInfo?.id) {\r\n          getShiftDetails(selectedShiftDetails.shiftInfo.id);\r\n        }\r\n      } else {\r\n        throw new Error(response.message || 'فشل تحديث التأجير');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving rental:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في حفظ التأجير');\r\n    } finally {\r\n      setSavingChanges(false);\r\n    }\r\n  };\r\n\r\n  const handleAddNewRental = async () => {\r\n    if (!selectedShiftDetails?.shiftInfo?.id) {\r\n      addNotification('error', 'لا يوجد شيفت محدد');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSavingChanges(true);\r\n      \r\n      // التحقق من البيانات\r\n      if (!newRental.game_id) {\r\n        addNotification('error', 'يجب اختيار لعبة');\r\n        return;\r\n      }\r\n      \r\n      const totalAmount = parseFloat(newRental.total_amount) || 0;\r\n      if (totalAmount <= 0) {\r\n        addNotification('error', 'يجب إدخال مبلغ صحيح أكبر من الصفر');\r\n        return;\r\n      }\r\n      \r\n      const createData = {\r\n        ...newRental,\r\n        total_amount: totalAmount,\r\n        shift_id: selectedShiftDetails.shiftInfo.id,\r\n        branch_id: selectedShiftDetails.shiftInfo.branch_id || '',\r\n        employee_id: selectedShiftDetails.shiftInfo.employee_id || '',\r\n        rental_number: `R${Date.now()}`,\r\n        created_at: new Date().toISOString()\r\n      };\r\n      \r\n      const response = await api.createRental(createData);\r\n      \r\n      if (response.success) {\r\n        addNotification('success', '✅ تم إضافة التأجير بنجاح');\r\n        setShowNewRentalModal(false);\r\n        setNewRental({\r\n          customer_name: '',\r\n          customer_phone: '',\r\n          game_id: '',\r\n          start_time: '',\r\n          end_time: '',\r\n          total_amount: '',\r\n          payment_method: 'نقدي',\r\n          payment_status: 'غير مدفوع',\r\n          status: 'نشط',\r\n          notes: ''\r\n        });\r\n        getShiftDetails(selectedShiftDetails.shiftInfo.id);\r\n      } else {\r\n        throw new Error(response.message || 'فشل إضافة التأجير');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error adding rental:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في إضافة التأجير');\r\n    } finally {\r\n      setSavingChanges(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteRental = async (rentalId) => {\r\n    if (!rentalId) {\r\n      addNotification('error', 'لا يوجد تأجير محدد');\r\n      return;\r\n    }\r\n    \r\n    if (!window.confirm('هل تريد حذف هذا التأجير؟ هذا الإجراء لا يمكن التراجع عنه.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSavingChanges(true);\r\n      const response = await api.deleteRental(rentalId);\r\n      \r\n      if (response.success) {\r\n        addNotification('success', '✅ تم حذف التأجير بنجاح');\r\n        if (selectedShiftDetails?.shiftInfo?.id) {\r\n          getShiftDetails(selectedShiftDetails.shiftInfo.id);\r\n        }\r\n      } else {\r\n        throw new Error(response.message || 'فشل حذف التأجير');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting rental:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في حذف التأجير');\r\n    } finally {\r\n      setSavingChanges(false);\r\n    }\r\n  };\r\n\r\n  // ==================== SHIFT MANAGEMENT ====================\r\n  const handleDeleteShift = async () => {\r\n    if (!shiftToDelete) {\r\n      addNotification('error', 'لا يوجد شيفت محدد');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSavingChanges(true);\r\n      const response = await api.deleteShift(shiftToDelete);\r\n      \r\n      if (response.success) {\r\n        addNotification('success', '✅ تم حذف الشيفت بنجاح');\r\n        setShowDeleteConfirm(false);\r\n        setShowShiftModal(false);\r\n        loadAllData();\r\n      } else {\r\n        throw new Error(response.message || 'فشل حذف الشيفت');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting shift:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في حذف الشيفت');\r\n    } finally {\r\n      setSavingChanges(false);\r\n    }\r\n  };\r\n\r\n  const closeShift = useCallback(async (shiftId) => {\r\n    if (!shiftId) {\r\n      addNotification('error', 'لا يوجد شيفت محدد');\r\n      return;\r\n    }\r\n    \r\n    if (!window.confirm('هل تريد تقفيل هذا الشيفت؟ هذا الإجراء نهائي.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setClosingShift(true);\r\n      \r\n      // البحث عن الشيفت\r\n      const shift = Array.isArray(shifts) \r\n        ? shifts.find(s => s && s.id == shiftId)\r\n        : null;\r\n      \r\n      if (!shift) {\r\n        throw new Error('الشيفت غير موجود');\r\n      }\r\n      \r\n      // تحميل تأجيرات الشيفت\r\n      let response = { success: false, data: [] };\r\n      try {\r\n        response = await api.getRentals({\r\n          shift_id: shiftId,\r\n          include_game: true\r\n        });\r\n      } catch (error) {\r\n        console.error('Error loading rentals for closing:', error);\r\n        response = { success: false, data: [] };\r\n      }\r\n      \r\n      const shiftRentals = Array.isArray(response.data) ? response.data : [];\r\n      const paidRentals = shiftRentals.filter(r => \r\n        r && r.payment_status === 'مدفوع'\r\n      );\r\n      \r\n      const shiftRevenue = paidRentals.reduce((sum, rental) => {\r\n        const amount = parseFloat(rental?.total_amount) || 0;\r\n        return sum + amount;\r\n      }, 0);\r\n      \r\n      const closeResponse = await api.endShift(shiftId, {\r\n        end_time: new Date().toISOString(),\r\n        total_revenue: shiftRevenue,\r\n        total_rentals: shiftRentals.length,\r\n        paid_rentals: paidRentals.length,\r\n        status: 'منتهي',\r\n        notes: `تم التقفيل في ${new Date().toLocaleString('ar-EG')} - الإيراد: ${formatCurrency(shiftRevenue)}`\r\n      });\r\n      \r\n      if (closeResponse.success) {\r\n        addNotification('success', `✅ تم تقفيل الشيفت #${shiftId} بنجاح`);\r\n        loadAllData();\r\n        setShowShiftModal(false);\r\n      } else {\r\n        throw new Error(closeResponse.message || 'فشل تقفيل الشيفت');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error closing shift:', error);\r\n      addNotification('error', error.message || 'حدث خطأ في تقفيل الشيفت');\r\n    } finally {\r\n      setClosingShift(false);\r\n    }\r\n  }, [shifts, loadAllData]);\r\n\r\n  // ==================== FILTERS & SORTING ====================\r\n  const applyFilters = () => {\r\n    // التأكد من أن shifts هي مصفوفة\r\n    const safeShifts = Array.isArray(shifts) ? [...shifts] : [];\r\n    \r\n    let filteredShifts = safeShifts.filter(shift => shift); // إزالة العناصر null/undefined\r\n    \r\n    // فلترة برقم الشيفت\r\n    if (filters.shiftId) {\r\n      filteredShifts = filteredShifts.filter(shift => \r\n        shift.id && shift.id.toString().includes(filters.shiftId)\r\n      );\r\n    }\r\n    \r\n    // فلترة بالفرع\r\n    if (filters.branchId !== 'all') {\r\n      filteredShifts = filteredShifts.filter(shift => \r\n        shift.branch_id == filters.branchId\r\n      );\r\n    }\r\n    \r\n    // فلترة بالموظف\r\n    if (filters.employeeId !== 'all') {\r\n      filteredShifts = filteredShifts.filter(shift => \r\n        shift.employee_id == filters.employeeId\r\n      );\r\n    }\r\n    \r\n    // فلترة بنطاق التاريخ\r\n    if (filters.dateFrom) {\r\n      filteredShifts = filteredShifts.filter(shift => {\r\n        if (!shift.start_time) return false;\r\n        try {\r\n          return new Date(shift.start_time) >= new Date(filters.dateFrom);\r\n        } catch (error) {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    \r\n    if (filters.dateTo) {\r\n      filteredShifts = filteredShifts.filter(shift => {\r\n        if (!shift.start_time) return false;\r\n        try {\r\n          return new Date(shift.start_time) <= new Date(filters.dateTo + 'T23:59:59');\r\n        } catch (error) {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    \r\n    // فلترة بالحالة\r\n    if (filters.status !== 'all') {\r\n      if (filters.status === 'active') {\r\n        filteredShifts = filteredShifts.filter(shift => !shift.end_time);\r\n      } else if (filters.status === 'ended') {\r\n        filteredShifts = filteredShifts.filter(shift => shift.end_time);\r\n      }\r\n    }\r\n    \r\n    // الترتيب\r\n    filteredShifts.sort((a, b) => {\r\n      const aValue = a[sortConfig.key];\r\n      const bValue = b[sortConfig.key];\r\n      \r\n      if (aValue == null) return sortConfig.direction === 'asc' ? -1 : 1;\r\n      if (bValue == null) return sortConfig.direction === 'asc' ? 1 : -1;\r\n      \r\n      if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\r\n      if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\r\n      return 0;\r\n    });\r\n    \r\n    return filteredShifts;\r\n  };\r\n\r\n  const handleSort = (key) => {\r\n    setSortConfig(prev => ({\r\n      key,\r\n      direction: prev.key === key && prev.direction === 'desc' ? 'asc' : 'desc'\r\n    }));\r\n  };\r\n\r\n\r\n  // إضافة هذه الدالة في RentalsRevenueAnalysis.js\r\nconst loadCompleteShiftAnalysis = useCallback(async (shiftId) => {\r\n  try {\r\n    setLoading(true);\r\n    \r\n    // جلب بيانات الشيفت\r\n    const shiftResponse = await api.get(`/shifts/${shiftId}/complete-analysis`);\r\n    \r\n    if (!shiftResponse.success) {\r\n      throw new Error('فشل تحميل تحليل الشيفت');\r\n    }\r\n    \r\n    const shiftData = shiftResponse.data;\r\n    \r\n    // تحضير البيانات للعرض\r\n    const analysisData = {\r\n      // معلومات الشيفت الأساسية\r\n      shiftInfo: shiftData.shiftInfo,\r\n      \r\n      // الإحصائيات المالية\r\n      financialStats: {\r\n        totalRevenue: shiftData.totalRevenue || 0,\r\n        totalRentals: shiftData.totalRentals || 0,\r\n        averagePerRental: shiftData.averagePerRental || 0,\r\n        dailyRevenue: shiftData.dailyRevenue || 0,\r\n        monthlyRevenue: shiftData.monthlyRevenue || 0,\r\n        shiftRevenue: shiftData.shiftRevenue || 0,\r\n        paidRentals: shiftData.paidRentals || 0,\r\n        pendingRentals: shiftData.pendingRentals || 0\r\n      },\r\n      \r\n      // تحليل التأجيرات\r\n      rentalsAnalysis: {\r\n        byGame: shiftData.gameStats || [],\r\n        byPaymentMethod: shiftData.paymentStats || [],\r\n        byHour: shiftData.hourlyStats || [],\r\n        byDuration: shiftData.durationStats || []\r\n      },\r\n      \r\n      // العملاء\r\n      customersAnalysis: {\r\n        topCustomers: shiftData.topCustomers || [],\r\n        newCustomers: shiftData.newCustomers || [],\r\n        repeatCustomers: shiftData.repeatCustomers || []\r\n      },\r\n      \r\n      // الأداء\r\n      performanceMetrics: {\r\n        rentalConversionRate: shiftData.rentalConversionRate || 0,\r\n        averageSessionDuration: shiftData.averageSessionDuration || 0,\r\n        peakHours: shiftData.peakHours || [],\r\n        revenuePerHour: shiftData.revenuePerHour || 0\r\n      },\r\n      \r\n      // التفاصيل الكاملة\r\n      fullDetails: {\r\n        allRentals: shiftData.allRentals || [],\r\n        allPayments: shiftData.allPayments || [],\r\n        allGames: shiftData.allGames || [],\r\n        timeline: shiftData.timeline || []\r\n      }\r\n    };\r\n    \r\n    // تحديث حالة التحليل\r\n    setAnalysis(prev => ({\r\n      ...prev,\r\n      ...analysisData.financialStats,\r\n      shiftDetails: analysisData\r\n    }));\r\n    \r\n    // تحديث قائمة التأجيرات\r\n    if (analysisData.fullDetails.allRentals) {\r\n      setRentals(analysisData.fullDetails.allRentals);\r\n    }\r\n    \r\n    // إعداد التأجيرات للتحرير\r\n    const editRentals = {};\r\n    analysisData.fullDetails.allRentals?.forEach(rental => {\r\n      editRentals[rental.id] = { ...rental };\r\n    });\r\n    setEditedRentals(editRentals);\r\n    \r\n    setSelectedShiftDetails(analysisData);\r\n    setShowShiftModal(true);\r\n    \r\n    addNotification('success', `✅ تم تحليل الشيفت #${shiftId} بالكامل`);\r\n    \r\n  } catch (error) {\r\n    console.error('❌ خطأ في تحليل الشيفت:', error);\r\n    addNotification('error', 'حدث خطأ في تحليل بيانات الشيفت');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n}, []);\r\n\r\n// دالة لتعديل التأجيرات بكميات كبيرة\r\nconst handleBulkUpdateRentals = async (rentalUpdates) => {\r\n  try {\r\n    setSavingChanges(true);\r\n    \r\n    const updates = Object.entries(rentalUpdates).map(([rentalId, data]) => ({\r\n      rental_id: rentalId,\r\n      ...data\r\n    }));\r\n    \r\n    const response = await api.post('/rentals/bulk-update', {\r\n      updates: updates,\r\n      shift_id: selectedShiftDetails.shiftInfo?.id,\r\n      updated_by: user?.id\r\n    });\r\n    \r\n    if (response.success) {\r\n      addNotification('success', `✅ تم تحديث ${updates.length} تأجير بنجاح`);\r\n      await loadAllData(); // إعادة تحميل جميع البيانات\r\n    } else {\r\n      throw new Error(response.message || 'فشل التحديث المجمع');\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ خطأ في التحديث المجمع:', error);\r\n    addNotification('error', 'حدث خطأ في تحديث التأجيرات');\r\n  } finally {\r\n    setSavingChanges(false);\r\n  }\r\n};\r\n\r\n// دالة لتصدير التقرير التفصيلي\r\nconst exportDetailedReport = async (shiftId) => {\r\n  try {\r\n    setExporting(true);\r\n    \r\n    const response = await api.get(`/shifts/${shiftId}/detailed-report`);\r\n    \r\n    if (response.success) {\r\n      const reportData = response.data;\r\n      \r\n      // إنشاء محتوى CSV مفصل\r\n      let csvContent = \"data:text/csv;charset=utf-8,\\uFEFF\";\r\n      \r\n      // 1. ملخص الشيفت\r\n      csvContent += \"ملخص الشيفت\\n\";\r\n      csvContent += `رقم الشيفت,${reportData.shiftInfo.id}\\n`;\r\n      csvContent += `الموظف,${reportData.shiftInfo.employee_name}\\n`;\r\n      csvContent += `الفرع,${reportData.shiftInfo.branch_name}\\n`;\r\n      csvContent += `وقت البدء,${formatDateTime(reportData.shiftInfo.start_time)}\\n`;\r\n      csvContent += `وقت الانتهاء,${formatDateTime(reportData.shiftInfo.end_time)}\\n`;\r\n      csvContent += `المدة,${reportData.shiftInfo.duration_minutes} دقيقة\\n`;\r\n      csvContent += `إجمالي الإيرادات,${reportData.financialStats.totalRevenue}\\n`;\r\n      csvContent += `عدد التأجيرات,${reportData.financialStats.totalRentals}\\n\\n`;\r\n      \r\n      // 2. التأجيرات التفصيلية\r\n      csvContent += \"التأجيرات التفصيلية\\n\";\r\n      csvContent += \"رقم التأجير,العميل,الهاتف,اللعبة,وقت البدء,المدة,المبلغ,طريقة الدفع,الحالة\\n\";\r\n      \r\n      reportData.fullDetails.allRentals?.forEach(rental => {\r\n        csvContent += [\r\n          rental.rental_number,\r\n          rental.customer_name,\r\n          rental.customer_phone,\r\n          rental.game_name,\r\n          formatDateTime(rental.start_time),\r\n          rental.duration_minutes,\r\n          rental.total_amount,\r\n          rental.payment_method,\r\n          rental.status\r\n        ].map(v => `\"${v}\"`).join(',') + \"\\n\";\r\n      });\r\n      \r\n      csvContent += \"\\n\\nإحصائيات الألعاب\\n\";\r\n      csvContent += \"اللعبة,عدد التأجيرات,الإيرادات,النسبة\\n\";\r\n      \r\n      reportData.rentalsAnalysis.byGame?.forEach(game => {\r\n        csvContent += [\r\n          game.name,\r\n          game.count,\r\n          game.revenue,\r\n          `${((game.revenue / reportData.financialStats.totalRevenue) * 100).toFixed(1)}%`\r\n        ].map(v => `\"${v}\"`).join(',') + \"\\n\";\r\n      });\r\n      \r\n      // إنشاء رابط التنزيل\r\n      const encodedUri = encodeURI(csvContent);\r\n      const link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", encodedUri);\r\n      link.setAttribute(\"download\", `shift_${shiftId}_detailed_report_${new Date().toISOString().split('T')[0]}.csv`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      addNotification('success', 'تم تصدير التقرير التفصيلي بنجاح');\r\n      \r\n    } else {\r\n      throw new Error('فشل تحميل التقرير التفصيلي');\r\n    }\r\n  } catch (error) {\r\n    console.error('❌ خطأ في تصدير التقرير:', error);\r\n    addNotification('error', 'حدث خطأ في تصدير التقرير');\r\n  } finally {\r\n    setExporting(false);\r\n  }\r\n};\r\n\r\n\r\n\r\n  // ==================== EXPORT FUNCTIONS ====================\r\n  const exportToExcel = async () => {\r\n    try {\r\n      setExporting(true);\r\n      \r\n      const filteredShifts = applyFilters();\r\n      \r\n      if (filteredShifts.length === 0) {\r\n        addNotification('warning', 'لا توجد بيانات للتصدير');\r\n        return;\r\n      }\r\n      \r\n      // تحضير البيانات للتصدير\r\n      const exportData = {\r\n        shifts: filteredShifts.map(shift => ({\r\n          'رقم الشيفت': shift.id || '',\r\n          'الموظف': shift.employee_name || 'غير معروف',\r\n          'الفرع': shift.branch_name || 'غير محدد',\r\n          'وقت البدء': formatDateTime(shift.start_time),\r\n          'وقت الانتهاء': shift.end_time ? formatDateTime(shift.end_time) : 'نشط',\r\n          'المدة (دقيقة)': calculateDuration(shift.start_time, shift.end_time),\r\n          'عدد التأجيرات': shift.total_rentals || 0,\r\n          'الإيرادات': shift.total_revenue || 0,\r\n          'الحالة': shift.end_time ? 'منتهي' : 'نشط',\r\n          'ملاحظات': shift.notes || ''\r\n        })),\r\n        analysis: {\r\n          'إجمالي الإيرادات': analysis.totalRevenue,\r\n          'إجمالي التأجيرات': analysis.totalRentals,\r\n          'متوسط التأجير': analysis.averagePerRental,\r\n          'الإيراد اليومي': analysis.dailyRevenue,\r\n          'الإيراد الشهري': analysis.monthlyRevenue,\r\n          'عدد الشيفتات': analysis.totalShifts,\r\n          'الشيفتات النشطة': analysis.activeShifts,\r\n          'الشيفتات المنتهية': analysis.completedShifts\r\n        }\r\n      };\r\n      \r\n      // إنشاء محتوى CSV\r\n      let csvContent = \"data:text/csv;charset=utf-8,\\uFEFF\"; // BOM للغة العربية\r\n      \r\n      // إضافة بيانات الشيفتات\r\n      csvContent += \"الشيفتات\\n\";\r\n      if (exportData.shifts.length > 0) {\r\n        const shiftHeaders = Object.keys(exportData.shifts[0]);\r\n        csvContent += shiftHeaders.join(',') + \"\\n\";\r\n        exportData.shifts.forEach(row => {\r\n          csvContent += Object.values(row).map(value => \r\n            `\"${String(value).replace(/\"/g, '\"\"')}\"`\r\n          ).join(',') + \"\\n\";\r\n        });\r\n      }\r\n      \r\n      csvContent += \"\\n\\nالإحصائيات\\n\";\r\n      Object.entries(exportData.analysis).forEach(([key, value]) => {\r\n        csvContent += `\"${key}\",\"${value}\"\\n`;\r\n      });\r\n      \r\n      // إنشاء رابط التنزيل\r\n      const encodedUri = encodeURI(csvContent);\r\n      const link = document.createElement(\"a\");\r\n      link.setAttribute(\"href\", encodedUri);\r\n      link.setAttribute(\"download\", `shifts_report_${new Date().toISOString().split('T')[0]}.csv`);\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      addNotification('success', 'تم تصدير البيانات بنجاح');\r\n      \r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      addNotification('error', 'حدث خطأ في تصدير البيانات');\r\n    } finally {\r\n      setExporting(false);\r\n    }\r\n  };\r\n\r\n  const printReport = () => {\r\n    setPrinting(true);\r\n    setTimeout(() => {\r\n      window.print();\r\n      setPrinting(false);\r\n    }, 100);\r\n  };\r\n\r\n  // ==================== REFRESH & RESET ====================\r\n  const handleRefresh = () => {\r\n    setRefreshing(true);\r\n    loadAllData();\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setFilters({\r\n      shiftId: '',\r\n      branchId: 'all',\r\n      employeeId: 'all',\r\n      dateFrom: '',\r\n      dateTo: '',\r\n      period: 'today',\r\n      status: 'all',\r\n      shiftType: 'all'\r\n    });\r\n    addNotification('info', 'تم إعادة تعيين الفلاتر');\r\n  };\r\n\r\n  // ==================== EFFECTS ====================\r\n  useEffect(() => {\r\n    loadAllData();\r\n  }, [loadAllData]);\r\n\r\n  // ==================== RENDER ====================\r\n  // التأكد من أن البيانات جاهزة قبل العرض\r\n  const safeShifts = Array.isArray(shifts) ? shifts : [];\r\n  const safeEmployees = Array.isArray(employees) ? employees : [];\r\n  const safeBranches = Array.isArray(branches) ? branches : [];\r\n  const safeGames = Array.isArray(games) ? games : [];\r\n  \r\n  const filteredShifts = applyFilters();\r\n  const displayedShifts = Array.isArray(filteredShifts) \r\n    ? filteredShifts.slice(\r\n        (pagination.page - 1) * pagination.limit,\r\n        pagination.page * pagination.limit\r\n      )\r\n    : [];\r\n\r\n  if (loading && !showShiftModal) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner\"></div>\r\n        <p>جاري تحميل البيانات المالية...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"revenue-analysis-page\">\r\n      {/* NOTIFICATIONS */}\r\n      <div className=\"notifications-container\">\r\n        {notifications.map(notification => (\r\n          <div key={notification.id} className={`notification notification-${notification.type}`}>\r\n            <div className=\"notification-content\">\r\n              <span>{notification.message}</span>\r\n              <button \r\n                className=\"notification-close\"\r\n                onClick={() => setNotifications(prev => prev.filter(n => n.id !== notification.id))}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n      {/* HEADER */}\r\n      <div className=\"page-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-title\">\r\n            <h1>\r\n              <span className=\"header-icon\">💰</span>\r\n              التحليل المالي والإيرادات\r\n            </h1>\r\n            <span className=\"header-badge\">شامل</span>\r\n          </div>\r\n          <p className=\"page-subtitle\">إدارة كاملة للشيفتات، التأجيرات، والإيرادات</p>\r\n        </div>\r\n        \r\n        <div className=\"header-actions\">\r\n          <button\r\n            className=\"btn btn-secondary btn-sm\"\r\n            onClick={handleRefresh}\r\n            disabled={refreshing || loading}\r\n          >\r\n            <RefreshCw size={16} className={refreshing ? 'spinning' : ''} />\r\n            {refreshing ? 'جاري التحديث...' : 'تحديث البيانات'}\r\n          </button>\r\n          \r\n          <button\r\n            className=\"btn btn-primary btn-sm\"\r\n            onClick={exportToExcel}\r\n            disabled={exporting || filteredShifts.length === 0}\r\n          >\r\n            <DownloadCloud size={16} />\r\n            {exporting ? 'جاري التصدير...' : 'تصدير Excel'}\r\n          </button>\r\n          \r\n          <button\r\n            className=\"btn btn-success btn-sm\"\r\n            onClick={printReport}\r\n            disabled={printing}\r\n          >\r\n            <Printer size={16} />\r\n            طباعة التقرير\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* QUICK STATS */}\r\n      <div className=\"quick-stats-section\">\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card primary\">\r\n            <div className=\"stat-icon\">💰</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-label\">إجمالي الإيرادات</div>\r\n              <div className=\"stat-value\">{formatCurrency(analysis.totalRevenue)}</div>\r\n              <div className=\"stat-trend\">\r\n                <TrendingUp size={14} />\r\n                <span>شهرياً: {formatCurrency(analysis.monthlyRevenue)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"stat-card success\">\r\n            <div className=\"stat-icon\">📊</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-label\">إجمالي التأجيرات</div>\r\n              <div className=\"stat-value\">{analysis.totalRentals.toLocaleString('ar-EG')}</div>\r\n              <div className=\"stat-sub\">\r\n                <span className=\"paid\">مدفوعة: {analysis.paidRentals}</span>\r\n                <span className=\"pending\">معلقة: {analysis.pendingRentals}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"stat-card warning\">\r\n            <div className=\"stat-icon\">🔄</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-label\">الشيفتات</div>\r\n              <div className=\"stat-value\">{analysis.totalShifts.toLocaleString('ar-EG')}</div>\r\n              <div className=\"stat-sub\">\r\n                <span className=\"active\">نشطة: {analysis.activeShifts}</span>\r\n                <span className=\"ended\">منتهية: {analysis.completedShifts}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"stat-card info\">\r\n            <div className=\"stat-icon\">📈</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-label\">متوسط التأجير</div>\r\n              <div className=\"stat-value\">{formatCurrency(analysis.averagePerRental)}</div>\r\n              <div className=\"stat-trend\">\r\n                <BarChart3 size={14} />\r\n                <span>الإيراد اليومي: {formatCurrency(analysis.dailyRevenue)}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* FILTERS SECTION */}\r\n      <div className={`filters-section ${showFilters ? 'expanded' : ''}`}>\r\n        <div className=\"filters-header\" onClick={() => setShowFilters(!showFilters)}>\r\n          <h3>\r\n            <Filter size={20} />\r\n            فلاتر البحث المتقدمة\r\n            <span className=\"filter-toggle\">\r\n              {showFilters ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n            </span>\r\n          </h3>\r\n        </div>\r\n        \r\n        {showFilters && (\r\n          <div className=\"filters-content\">\r\n            <div className=\"filters-grid\">\r\n              <div className=\"filter-group\">\r\n                <label>رقم الشيفت:</label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={filters.shiftId}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, shiftId: e.target.value }))}\r\n                  placeholder=\"أدخل رقم الشيفت...\"\r\n                  className=\"filter-input\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"filter-group\">\r\n                <label>الفرع:</label>\r\n                <select\r\n                  value={filters.branchId}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, branchId: e.target.value }))}\r\n                  className=\"filter-select\"\r\n                >\r\n                  <option value=\"all\">جميع الفروع</option>\r\n                  {safeBranches.map(branch => (\r\n                    <option key={branch.id} value={branch.id}>{branch.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"filter-group\">\r\n                <label>الموظف:</label>\r\n                <select\r\n                  value={filters.employeeId}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, employeeId: e.target.value }))}\r\n                  className=\"filter-select\"\r\n                >\r\n                  <option value=\"all\">جميع الموظفين</option>\r\n                  {safeEmployees.map(employee => (\r\n                    <option key={employee.id} value={employee.id}>{employee.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"filter-group\">\r\n                <label>من تاريخ:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={filters.dateFrom}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, dateFrom: e.target.value }))}\r\n                  className=\"filter-input\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"filter-group\">\r\n                <label>إلى تاريخ:</label>\r\n                <input\r\n                  type=\"date\"\r\n                  value={filters.dateTo}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, dateTo: e.target.value }))}\r\n                  className=\"filter-input\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"filter-group\">\r\n                <label>الحالة:</label>\r\n                <select\r\n                  value={filters.status}\r\n                  onChange={(e) => setFilters(prev => ({ ...prev, status: e.target.value }))}\r\n                  className=\"filter-select\"\r\n                >\r\n                  <option value=\"all\">جميع الحالات</option>\r\n                  <option value=\"active\">نشط فقط</option>\r\n                  <option value=\"ended\">منتهي فقط</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"filter-actions\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                onClick={() => {\r\n                  if (filters.shiftId) {\r\n                    getShiftDetails(filters.shiftId);\r\n                  }\r\n                }}\r\n                disabled={!filters.shiftId}\r\n              >\r\n                <Search size={16} />\r\n                بحث عن الشيفت\r\n              </button>\r\n              \r\n              <button\r\n                className=\"btn btn-secondary\"\r\n                onClick={resetFilters}\r\n              >\r\n                <X size={16} />\r\n                إعادة تعيين\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* SHIFTS TABLE */}\r\n      <div className=\"shifts-section\">\r\n        <div className=\"section-header\">\r\n          <h2>\r\n            <span className=\"section-icon\">🔄</span>\r\n            قائمة الشيفتات\r\n            <span className=\"section-count\">({filteredShifts.length})</span>\r\n          </h2>\r\n          \r\n          <div className=\"table-controls\">\r\n            <div className=\"pagination-info\">\r\n              عرض {Math.min(displayedShifts.length, pagination.limit)} من {filteredShifts.length}\r\n            </div>\r\n            <div className=\"pagination-controls\">\r\n              <button\r\n                className=\"btn-pagination\"\r\n                onClick={() => setPagination(prev => ({ ...prev, page: Math.max(1, prev.page - 1) }))}\r\n                disabled={pagination.page === 1}\r\n              >\r\n                <ChevronLeft size={16} />\r\n              </button>\r\n              <span className=\"page-info\">صفحة {pagination.page} من {Math.max(1, Math.ceil(filteredShifts.length / pagination.limit))}</span>\r\n              <button\r\n                className=\"btn-pagination\"\r\n                onClick={() => setPagination(prev => ({ ...prev, page: Math.min(Math.max(1, Math.ceil(filteredShifts.length / pagination.limit)), prev.page + 1) }))}\r\n                disabled={pagination.page >= Math.max(1, Math.ceil(filteredShifts.length / pagination.limit))}\r\n              >\r\n                <ChevronRight size={16} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {filteredShifts.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <div className=\"empty-icon\">📭</div>\r\n            <h3>لا توجد شيفتات</h3>\r\n            <p>{safeShifts.length === 0 ? 'لم يتم العثور على شيفتات في النظام' : 'قم بتعديل الفلاتر'}</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"table-container\">\r\n            <table className=\"shifts-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th onClick={() => handleSort('id')}>\r\n                    رقم الشيفت\r\n                    {sortConfig.key === 'id' && (\r\n                      <span className=\"sort-icon\">\r\n                        {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n                      </span>\r\n                    )}\r\n                  </th>\r\n                  <th>الموظف</th>\r\n                  <th>الفرع</th>\r\n                  <th onClick={() => handleSort('start_time')}>\r\n                    وقت البدء\r\n                    {sortConfig.key === 'start_time' && (\r\n                      <span className=\"sort-icon\">\r\n                        {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n                      </span>\r\n                    )}\r\n                  </th>\r\n                  <th>وقت الانتهاء</th>\r\n                  <th>المدة</th>\r\n                  <th onClick={() => handleSort('total_rentals')}>\r\n                    التأجيرات\r\n                    {sortConfig.key === 'total_rentals' && (\r\n                      <span className=\"sort-icon\">\r\n                        {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n                      </span>\r\n                    )}\r\n                  </th>\r\n                  <th onClick={() => handleSort('total_revenue')}>\r\n                    الإيرادات\r\n                    {sortConfig.key === 'total_revenue' && (\r\n                      <span className=\"sort-icon\">\r\n                        {sortConfig.direction === 'asc' ? '↑' : '↓'}\r\n                      </span>\r\n                    )}\r\n                  </th>\r\n                  <th>الحالة</th>\r\n                  <th>الإجراءات</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {displayedShifts.map(shift => (\r\n                  <tr key={shift.id} className={!shift.end_time ? 'active-row' : ''}>\r\n                    <td>\r\n                      <strong className=\"shift-number\">#{shift.id}</strong>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"employee-info\">\r\n                        <User size={14} />\r\n                        <span>{shift.employee_name || 'غير معروف'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"branch-info\">\r\n                        <Building size={14} />\r\n                        <span>{shift.branch_name || 'غير محدد'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"time-info\">\r\n                        <CalendarIcon size={12} />\r\n                        <span>{formatDateTime(shift.start_time)}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"time-info\">\r\n                        <ClockIcon size={12} />\r\n                        <span>{shift.end_time ? formatDateTime(shift.end_time) : 'لا يزال نشط'}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <span className=\"duration-badge\">\r\n                        {calculateDuration(shift.start_time, shift.end_time)} دقيقة\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"rentals-count\">\r\n                        <FileText size={12} />\r\n                        <span>{shift.total_rentals || 0}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"revenue-amount\">\r\n                        <DollarSign size={12} />\r\n                        <span>{formatCurrency(shift.total_revenue || 0)}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <span className={`status-badge ${!shift.end_time ? 'active' : shift.status === 'منتهي' ? 'ended' : 'other'}`}>\r\n                        {!shift.end_time ? '🔥 نشط' : shift.status === 'منتهي' ? '✅ منتهي' : '📋 ' + (shift.status || 'غير محدد')}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"shift-actions\">\r\n                        <button\r\n                          className=\"btn-action btn-view\"\r\n                          onClick={() => getShiftDetails(shift.id)}\r\n                          title=\"عرض وتعديل التفاصيل\"\r\n                        >\r\n                          <Eye size={16} />\r\n                          <span>عرض</span>\r\n                        </button>\r\n                        <button\r\n                          className=\"btn-action btn-edit\"\r\n                          onClick={() => {\r\n                            setEditedShift({ ...shift });\r\n                            setSelectedShiftDetails({ shiftInfo: shift });\r\n                            setShowShiftModal(true);\r\n                            setEditingShift(true);\r\n                          }}\r\n                          title=\"تعديل الشيفت\"\r\n                        >\r\n                          <Edit size={14} />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* SHIFT DETAILS MODAL */}\r\n      {showShiftModal && selectedShiftDetails && selectedShiftDetails.shiftInfo && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal extra-wide-modal shift-details-modal\">\r\n            <div className=\"modal-header\">\r\n              <div className=\"modal-title\">\r\n                <h2>\r\n                  <span className=\"modal-icon\">📋</span>\r\n                  تفاصيل الشيفت #{selectedShiftDetails.shiftInfo.id}\r\n                  {editingShift && <span className=\"editing-badge\">📝 وضع التحرير</span>}\r\n                </h2>\r\n                <div className=\"shift-status-header\">\r\n                  <span className={`status-badge-large ${selectedShiftDetails.shiftInfo.status === 'نشط' || !selectedShiftDetails.endTime ? 'active' : 'ended'}`}>\r\n                    {selectedShiftDetails.shiftInfo.status === 'نشط' || !selectedShiftDetails.endTime ? '🔥 نشط' : '✅ منتهي'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"modal-header-actions\">\r\n                {!editingShift ? (\r\n                  <>\r\n                    <button\r\n                      className=\"btn btn-warning btn-sm\"\r\n                      onClick={handleEditShift}\r\n                    >\r\n                      <Edit size={16} />\r\n                      تعديل الشيفت\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-danger btn-sm\"\r\n                      onClick={() => {\r\n                        setShiftToDelete(selectedShiftDetails.shiftInfo.id);\r\n                        setShowDeleteConfirm(true);\r\n                      }}\r\n                    >\r\n                      <Trash2 size={16} />\r\n                      حذف الشيفت\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <button\r\n                      className=\"btn btn-success btn-sm\"\r\n                      onClick={handleSaveShift}\r\n                      disabled={savingChanges}\r\n                    >\r\n                      {savingChanges ? (\r\n                        <div className=\"spinner-small\"></div>\r\n                      ) : (\r\n                        <>\r\n                          <Save size={16} />\r\n                          حفظ التغييرات\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                    <button\r\n                      className=\"btn btn-secondary btn-sm\"\r\n                      onClick={handleCancelEdit}\r\n                      disabled={savingChanges}\r\n                    >\r\n                      <X size={16} />\r\n                      إلغاء\r\n                    </button>\r\n                  </>\r\n                )}\r\n                <button\r\n                  className=\"modal-close\"\r\n                  onClick={() => setShowShiftModal(false)}\r\n                  disabled={savingChanges}\r\n                >\r\n                  ✕\r\n                </button>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-body\">\r\n              {/* Scrollable content */}\r\n              <div className=\"modal-scroll-content\">\r\n                \r\n                {/* SHIFT BASIC INFO */}\r\n                <div className=\"shift-info-section\">\r\n                  <h3>\r\n                    <CalendarIcon size={20} />\r\n                    معلومات أساسية للشيفت\r\n                  </h3>\r\n                  \r\n                  <div className=\"info-grid\">\r\n                    <div className=\"info-group\">\r\n                      <label>الموظف:</label>\r\n                      {editingShift ? (\r\n                        <select\r\n                          value={editedShift.employee_id || ''}\r\n                          onChange={(e) => handleShiftFieldChange('employee_id', e.target.value)}\r\n                          className=\"edit-input\"\r\n                        >\r\n                          <option value=\"\">اختر الموظف</option>\r\n                          {safeEmployees.map(emp => (\r\n                            <option key={emp.id} value={emp.id}>\r\n                              {emp.name} - {emp.role || 'موظف'}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      ) : (\r\n                        <div className=\"info-value\">\r\n                          <User size={14} />\r\n                          <span>{selectedShiftDetails.employeeName}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"info-group\">\r\n                      <label>الفرع:</label>\r\n                      {editingShift ? (\r\n                        <select\r\n                          value={editedShift.branch_id || ''}\r\n                          onChange={(e) => handleShiftFieldChange('branch_id', e.target.value)}\r\n                          className=\"edit-input\"\r\n                        >\r\n                          <option value=\"\">اختر الفرع</option>\r\n                          {safeBranches.map(branch => (\r\n                            <option key={branch.id} value={branch.id}>\r\n                              {branch.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      ) : (\r\n                        <div className=\"info-value\">\r\n                          <Building size={14} />\r\n                          <span>{selectedShiftDetails.branchName}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"info-group\">\r\n                      <label>وقت البدء:</label>\r\n                      {editingShift ? (\r\n                        <input\r\n                          type=\"datetime-local\"\r\n                          value={editedShift.start_time ? editedShift.start_time.slice(0, 16) : ''}\r\n                          onChange={(e) => handleShiftFieldChange('start_time', e.target.value)}\r\n                          className=\"edit-input\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"info-value\">\r\n                          <CalendarIcon size={14} />\r\n                          <span>{formatDateTime(selectedShiftDetails.startTime)}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"info-group\">\r\n                      <label>وقت الانتهاء:</label>\r\n                      {editingShift ? (\r\n                        <input\r\n                          type=\"datetime-local\"\r\n                          value={editedShift.end_time ? editedShift.end_time.slice(0, 16) : ''}\r\n                          onChange={(e) => handleShiftFieldChange('end_time', e.target.value)}\r\n                          className=\"edit-input\"\r\n                        />\r\n                      ) : (\r\n                        <div className=\"info-value\">\r\n                          <ClockIcon size={14} />\r\n                          <span>{selectedShiftDetails.endTime ? formatDateTime(selectedShiftDetails.endTime) : 'لا يزال نشط'}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"info-group\">\r\n                      <label>المدة:</label>\r\n                      <div className=\"info-value\">\r\n                        <Clock size={14} />\r\n                        <span>{selectedShiftDetails.duration} دقيقة</span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"info-group\">\r\n                      <label>تاريخ الإنشاء:</label>\r\n                      <div className=\"info-value\">\r\n                        <span>{formatDate(selectedShiftDetails.shiftInfo.created_at)}</span>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {(editingShift || selectedShiftDetails.notes) && (\r\n                      <div className=\"info-group full-width\">\r\n                        <label>ملاحظات:</label>\r\n                        {editingShift ? (\r\n                          <textarea\r\n                            value={editedShift.notes || ''}\r\n                            onChange={(e) => handleShiftFieldChange('notes', e.target.value)}\r\n                            className=\"edit-input textarea\"\r\n                            rows=\"3\"\r\n                            placeholder=\"أضف ملاحظات عن الشيفت...\"\r\n                          />\r\n                        ) : (\r\n                          <div className=\"info-value notes\">\r\n                            {selectedShiftDetails.notes}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* SHIFT STATISTICS */}\r\n                <div className=\"shift-stats-section\">\r\n                  <h3>\r\n                    <BarChart3 size={20} />\r\n                    إحصائيات الشيفت\r\n                  </h3>\r\n                  \r\n                  <div className=\"stats-grid\">\r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-icon\">💰</div>\r\n                      <div className=\"stat-content\">\r\n                        <div className=\"stat-label\">إجمالي الإيرادات</div>\r\n                        <div className=\"stat-value\">{formatCurrency(selectedShiftDetails.shiftRevenue)}</div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-icon\">📊</div>\r\n                      <div className=\"stat-content\">\r\n                        <div className=\"stat-label\">إجمالي التأجيرات</div>\r\n                        <div className=\"stat-value\">{selectedShiftDetails.totalRentals}</div>\r\n                        <div className=\"stat-sub\">\r\n                          <span className=\"paid\">مدفوعة: {selectedShiftDetails.paidRentals}</span>\r\n                          <span className=\"pending\">معلقة: {selectedShiftDetails.pendingRentals}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-icon\">📈</div>\r\n                      <div className=\"stat-content\">\r\n                        <div className=\"stat-label\">متوسط التأجير</div>\r\n                        <div className=\"stat-value\">{formatCurrency(selectedShiftDetails.averagePerRental)}</div>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"stat-card\">\r\n                      <div className=\"stat-icon\">⏱️</div>\r\n                      <div className=\"stat-content\">\r\n                        <div className=\"stat-label\">متوسط الوقت</div>\r\n                        <div className=\"stat-value\">\r\n                          {selectedShiftDetails.totalRentals > 0 \r\n                            ? Math.round(selectedShiftDetails.duration / selectedShiftDetails.totalRentals) \r\n                            : 0} دقيقة/تأجير\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                {/* RENTALS MANAGEMENT */}\r\n                <div className=\"rentals-management-section\">\r\n                  <div className=\"section-header\">\r\n                    <h3>\r\n                      <FileText size={20} />\r\n                      إدارة التأجيرات\r\n                      <span className=\"section-count\">({selectedShiftDetails.rentals.length})</span>\r\n                    </h3>\r\n                    <div className=\"section-actions\">\r\n                      <button\r\n                        className=\"btn btn-primary btn-sm\"\r\n                        onClick={() => setShowNewRentalModal(true)}\r\n                      >\r\n                        <Plus size={16} />\r\n                        إضافة تأجير جديد\r\n                      </button>\r\n                      <button\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                        onClick={() => getShiftDetails(selectedShiftDetails.shiftInfo.id)}\r\n                      >\r\n                        <RefreshCw size={16} />\r\n                        تحديث القائمة\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {selectedShiftDetails.rentals.length === 0 ? (\r\n                    <div className=\"empty-state-sm\">\r\n                      <div className=\"empty-icon\">📭</div>\r\n                      <p>لا توجد تأجيرات في هذا الشيفت</p>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"table-container\">\r\n                      <table className=\"rentals-table editable\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>رقم التأجير</th>\r\n                            <th>العميل</th>\r\n                            <th>اللعبة</th>\r\n                            <th>وقت البدء</th>\r\n                            <th>المبلغ</th>\r\n                            <th>طريقة الدفع</th>\r\n                            <th>حالة الدفع</th>\r\n                            <th>الحالة</th>\r\n                            <th>الإجراءات</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {selectedShiftDetails.rentals.map(rental => rental && (\r\n                            <tr key={rental.id}>\r\n                              <td>\r\n                                <strong>#{rental.rental_number || rental.id}</strong>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"customer-info\">\r\n                                  <div className=\"customer-name\">{rental.customer_name || 'مجهول'}</div>\r\n                                  {rental.customer_phone && (\r\n                                    <div className=\"customer-phone\">\r\n                                      <Phone size={12} />\r\n                                      {rental.customer_phone}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"game-info\">\r\n                                  <Gamepad2 size={14} />\r\n                                  <span className=\"game-name\">{rental.game_name || 'غير محدد'}</span>\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"time-info\">\r\n                                  <Clock size={12} />\r\n                                  <span>{formatTime(rental.start_time)}</span>\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"amount-info\">\r\n                                  <DollarSign size={12} />\r\n                                  <span>{formatCurrency(rental.total_amount)}</span>\r\n                                </div>\r\n                              </td>\r\n                              <td>\r\n                                <span className={`payment-method ${rental.payment_method === 'نقدي' ? 'cash' : \r\n                                  rental.payment_method === 'بطاقة' ? 'card' : 'other'}`}>\r\n                                  {rental.payment_method || 'غير محدد'}\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                                <span className={`payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : \r\n                                  rental.payment_status === 'جزئي' ? 'partial' : 'unpaid'}`}>\r\n                                  {rental.payment_status || 'غير محدد'}\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                                <span className={`rental-status ${rental.status === 'مكتمل' ? 'completed' : \r\n                                  rental.status === 'نشط' ? 'active' : 'cancelled'}`}>\r\n                                  {rental.status || 'نشط'}\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                                <div className=\"rental-actions\">\r\n                                  <button\r\n                                    className=\"btn-action btn-edit\"\r\n                                    onClick={() => handleEditRental(rental)}\r\n                                    title=\"تعديل التأجير\"\r\n                                  >\r\n                                    <Edit size={14} />\r\n                                  </button>\r\n                                  <button\r\n                                    className=\"btn-action btn-delete\"\r\n                                    onClick={() => handleDeleteRental(rental.id)}\r\n                                    title=\"حذف التأجير\"\r\n                                  >\r\n                                    <Trash2 size={14} />\r\n                                  </button>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* PAYMENT METHODS BREAKDOWN */}\r\n                {selectedShiftDetails.paymentStats && selectedShiftDetails.paymentStats.length > 0 && (\r\n                  <div className=\"payment-methods-section\">\r\n                    <h3>\r\n                      <CreditCard size={20} />\r\n                      تفصيل طرق الدفع\r\n                    </h3>\r\n                    <div className=\"payment-grid\">\r\n                      {selectedShiftDetails.paymentStats.map(method => method && (\r\n                        <div key={method.method} className=\"payment-method-card\">\r\n                          <div className=\"payment-header\">\r\n                            <span className=\"method-name\">{method.method}</span>\r\n                            <span className=\"method-count\">{method.count} عملية</span>\r\n                          </div>\r\n                          <div className=\"payment-body\">\r\n                            <span className=\"method-revenue\">{formatCurrency(method.revenue)}</span>\r\n                            <span className=\"method-percentage\">\r\n                              {selectedShiftDetails.shiftRevenue > 0 \r\n                                ? ((method.revenue / selectedShiftDetails.shiftRevenue) * 100).toFixed(1)\r\n                                : 0}%\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* GAMES BREAKDOWN */}\r\n                {selectedShiftDetails.gameStats && selectedShiftDetails.gameStats.length > 0 && (\r\n                  <div className=\"games-section\">\r\n                    <h3>\r\n                      <Gamepad2 size={20} />\r\n                      إحصائيات الألعاب\r\n                    </h3>\r\n                    <div className=\"table-container\">\r\n                      <table className=\"games-table\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>اللعبة</th>\r\n                            <th>عدد التأجيرات</th>\r\n                            <th>الإيرادات</th>\r\n                            <th>النسبة</th>\r\n                            <th>متوسط التأجير</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {selectedShiftDetails.gameStats.map(game => game && (\r\n                            <tr key={game.name}>\r\n                              <td>{game.name}</td>\r\n                              <td>{game.count}</td>\r\n                              <td>{formatCurrency(game.revenue)}</td>\r\n                              <td>\r\n                                <div className=\"percentage-bar\">\r\n                                  <div \r\n                                    className=\"percentage-fill\"\r\n                                    style={{\r\n                                      width: `${Math.min(100, selectedShiftDetails.shiftRevenue > 0 \r\n                                        ? (game.revenue / selectedShiftDetails.shiftRevenue) * 100 \r\n                                        : 0)}%`\r\n                                    }}\r\n                                  ></div>\r\n                                  <span className=\"percentage-text\">\r\n                                    {selectedShiftDetails.shiftRevenue > 0 \r\n                                      ? ((game.revenue / selectedShiftDetails.shiftRevenue) * 100).toFixed(1)\r\n                                      : 0}%\r\n                                  </span>\r\n                                </div>\r\n                              </td>\r\n                              <td>{formatCurrency(game.count > 0 ? game.revenue / game.count : 0)}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* CUSTOMER ANALYSIS */}\r\n                {selectedShiftDetails.customerStats && selectedShiftDetails.customerStats.length > 0 && (\r\n                  <div className=\"customers-section\">\r\n                    <h3>\r\n                      <Users size={20} />\r\n                      تحليل العملاء\r\n                      <span className=\"section-count\">({selectedShiftDetails.customerStats.length})</span>\r\n                    </h3>\r\n                    <div className=\"customers-grid\">\r\n                      {selectedShiftDetails.customerStats.slice(0, 5).map(customer => customer && (\r\n                        <div key={customer.name} className=\"customer-card\">\r\n                          <div className=\"customer-header\">\r\n                            <span className=\"customer-name\">{customer.name}</span>\r\n                            <span className=\"customer-visits\">{customer.count} زيارة</span>\r\n                          </div>\r\n                          <div className=\"customer-body\">\r\n                            <div className=\"customer-revenue\">\r\n                              <span className=\"revenue-label\">إجمالي الإنفاق:</span>\r\n                              <span className=\"revenue-value\">{formatCurrency(customer.revenue)}</span>\r\n                            </div>\r\n                            {customer.phone && customer.phone !== 'لا يوجد' && (\r\n                              <div className=\"customer-contact\">\r\n                                <Phone size={12} />\r\n                                <span>{customer.phone}</span>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-footer\">\r\n              <div className=\"footer-actions\">\r\n                <button\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setShowShiftModal(false)}\r\n                >\r\n                  إغلاق\r\n                </button>\r\n                \r\n                <div className=\"action-buttons\">\r\n                  <button\r\n                    className=\"btn btn-primary\"\r\n                    onClick={printReport}\r\n                    disabled={printing}\r\n                  >\r\n                    <Printer size={18} />\r\n                    {printing ? 'جاري الطباعة...' : 'طباعة التقرير'}\r\n                  </button>\r\n                  \r\n                  {selectedShiftDetails.shiftInfo.status !== 'منتهي' && !selectedShiftDetails.endTime && (\r\n                    <button\r\n                      className=\"btn btn-warning\"\r\n                      onClick={() => closeShift(selectedShiftDetails.shiftInfo.id)}\r\n                      disabled={closingShift}\r\n                    >\r\n                      {closingShift ? (\r\n                        <div className=\"spinner-small\"></div>\r\n                      ) : (\r\n                        <>\r\n                          <Lock size={18} />\r\n                          تقفيل الشيفت\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* DELETE CONFIRMATION MODAL */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal confirm-modal\">\r\n            <div className=\"modal-header\">\r\n              <h2>\r\n                <AlertCircle size={24} />\r\n                تأكيد الحذف\r\n              </h2>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <div className=\"confirm-icon\">\r\n                <AlertTriangle size={48} />\r\n              </div>\r\n              <p className=\"confirm-text\">\r\n                ⚠️ هل أنت متأكد من حذف الشيفت #{shiftToDelete}؟\r\n              </p>\r\n              <p className=\"confirm-warning\">\r\n                هذا الإجراء سيحذف جميع بيانات الشيفت ولا يمكن التراجع عنه!\r\n              </p>\r\n              <div className=\"confirm-details\">\r\n                <p>سيتم حذف:</p>\r\n                <ul>\r\n                  <li>بيانات الشيفت الأساسية</li>\r\n                  <li>جميع التأجيرات المرتبطة بالشيفت</li>\r\n                  <li>سجلات الإيرادات</li>\r\n                  <li>جميع الإحصائيات والتحليلات</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setShowDeleteConfirm(false)}\r\n                disabled={savingChanges}\r\n              >\r\n                إلغاء\r\n              </button>\r\n              <button\r\n                className=\"btn btn-danger\"\r\n                onClick={handleDeleteShift}\r\n                disabled={savingChanges}\r\n              >\r\n                {savingChanges ? (\r\n                  <div className=\"spinner-small\"></div>\r\n                ) : (\r\n                  'تأكيد الحذف'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* RENTAL EDIT MODAL */}\r\n      {showRentalEditModal && rentalToEdit && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal rental-edit-modal\">\r\n            <div className=\"modal-header\">\r\n              <h2>\r\n                <Edit size={20} />\r\n                تعديل التأجير #{rentalToEdit.rental_number || rentalToEdit.id}\r\n              </h2>\r\n              <button\r\n                className=\"modal-close\"\r\n                onClick={() => setShowRentalEditModal(false)}\r\n                disabled={savingChanges}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-body\">\r\n              <div className=\"edit-form\">\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>اسم العميل:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={rentalToEdit.customer_name || ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, customer_name: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      placeholder=\"أدخل اسم العميل\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>هاتف العميل:</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={rentalToEdit.customer_phone || ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, customer_phone: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      placeholder=\"أدخل رقم الهاتف\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>اللعبة:</label>\r\n                  <select\r\n                    value={rentalToEdit.game_id || ''}\r\n                    onChange={(e) => setRentalToEdit({...rentalToEdit, game_id: e.target.value})}\r\n                    className=\"edit-input\"\r\n                  >\r\n                    <option value=\"\">اختر اللعبة</option>\r\n                    {safeGames.map(game => (\r\n                      <option key={game.id} value={game.id}>\r\n                        {game.name} - {formatCurrency(game.hourly_rate || 0)}/ساعة\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>وقت البدء:</label>\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={rentalToEdit.start_time ? rentalToEdit.start_time.slice(0, 16) : ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, start_time: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>وقت الانتهاء:</label>\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={rentalToEdit.end_time ? rentalToEdit.end_time.slice(0, 16) : ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, end_time: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>المبلغ الإجمالي:</label>\r\n                  <div className=\"amount-input\">\r\n                    <input\r\n                      type=\"number\"\r\n                      value={rentalToEdit.total_amount || ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, total_amount: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      min=\"0\"\r\n                      step=\"0.01\"\r\n                      placeholder=\"0.00\"\r\n                    />\r\n                    <span className=\"currency-symbol\">ج.م</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>طريقة الدفع:</label>\r\n                    <select\r\n                      value={rentalToEdit.payment_method || ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, payment_method: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    >\r\n                      <option value=\"نقدي\">نقدي</option>\r\n                      <option value=\"بطاقة\">بطاقة</option>\r\n                      <option value=\"محفظة إلكترونية\">محفظة إلكترونية</option>\r\n                      <option value=\"تحويل بنكي\">تحويل بنكي</option>\r\n                      <option value=\"آخرى\">آخرى</option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>حالة الدفع:</label>\r\n                    <select\r\n                      value={rentalToEdit.payment_status || ''}\r\n                      onChange={(e) => setRentalToEdit({...rentalToEdit, payment_status: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    >\r\n                      <option value=\"مدفوع\">مدفوع</option>\r\n                      <option value=\"غير مدفوع\">غير مدفوع</option>\r\n                      <option value=\"جزئي\">جزئي</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>حالة التأجير:</label>\r\n                  <select\r\n                    value={rentalToEdit.status || ''}\r\n                    onChange={(e) => setRentalToEdit({...rentalToEdit, status: e.target.value})}\r\n                    className=\"edit-input\"\r\n                  >\r\n                    <option value=\"نشط\">نشط</option>\r\n                    <option value=\"مكتمل\">مكتمل</option>\r\n                    <option value=\"ملغى\">ملغى</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"form-group full-width\">\r\n                  <label>ملاحظات:</label>\r\n                  <textarea\r\n                    value={rentalToEdit.notes || ''}\r\n                    onChange={(e) => setRentalToEdit({...rentalToEdit, notes: e.target.value})}\r\n                    className=\"edit-input textarea\"\r\n                    rows=\"3\"\r\n                    placeholder=\"أضف ملاحظات عن التأجير...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setShowRentalEditModal(false)}\r\n                disabled={savingChanges}\r\n              >\r\n                إلغاء\r\n              </button>\r\n              <button\r\n                className=\"btn btn-success\"\r\n                onClick={handleSaveRental}\r\n                disabled={savingChanges}\r\n              >\r\n                {savingChanges ? (\r\n                  <div className=\"spinner-small\"></div>\r\n                ) : (\r\n                  'حفظ التغييرات'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* NEW RENTAL MODAL */}\r\n      {showNewRentalModal && selectedShiftDetails && selectedShiftDetails.shiftInfo && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal new-rental-modal\">\r\n            <div className=\"modal-header\">\r\n              <h2>\r\n                <Plus size={20} />\r\n                إضافة تأجير جديد للشيفت #{selectedShiftDetails.shiftInfo.id}\r\n              </h2>\r\n              <button\r\n                className=\"modal-close\"\r\n                onClick={() => setShowNewRentalModal(false)}\r\n                disabled={savingChanges}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-body\">\r\n              <div className=\"edit-form\">\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>اسم العميل:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newRental.customer_name}\r\n                      onChange={(e) => setNewRental({...newRental, customer_name: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      placeholder=\"أدخل اسم العميل\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>هاتف العميل:</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={newRental.customer_phone}\r\n                      onChange={(e) => setNewRental({...newRental, customer_phone: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      placeholder=\"أدخل رقم الهاتف\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>اللعبة:</label>\r\n                  <select\r\n                    value={newRental.game_id}\r\n                    onChange={(e) => setNewRental({...newRental, game_id: e.target.value})}\r\n                    className=\"edit-input\"\r\n                    required\r\n                  >\r\n                    <option value=\"\">اختر اللعبة</option>\r\n                    {safeGames.map(game => (\r\n                      <option key={game.id} value={game.id}>\r\n                        {game.name} - {formatCurrency(game.hourly_rate || 0)}/ساعة\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>وقت البدء:</label>\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={newRental.start_time}\r\n                      onChange={(e) => setNewRental({...newRental, start_time: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>وقت الانتهاء:</label>\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      value={newRental.end_time}\r\n                      onChange={(e) => setNewRental({...newRental, end_time: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>المبلغ الإجمالي:</label>\r\n                  <div className=\"amount-input\">\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newRental.total_amount}\r\n                      onChange={(e) => setNewRental({...newRental, total_amount: e.target.value})}\r\n                      className=\"edit-input\"\r\n                      min=\"0\"\r\n                      step=\"0.01\"\r\n                      placeholder=\"0.00\"\r\n                      required\r\n                    />\r\n                    <span className=\"currency-symbol\">ج.م</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>طريقة الدفع:</label>\r\n                    <select\r\n                      value={newRental.payment_method}\r\n                      onChange={(e) => setNewRental({...newRental, payment_method: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    >\r\n                      <option value=\"نقدي\">نقدي</option>\r\n                      <option value=\"بطاقة\">بطاقة</option>\r\n                      <option value=\"محفظة إلكترونية\">محفظة إلكترونية</option>\r\n                      <option value=\"تحويل بنكي\">تحويل بنكي</option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label>حالة الدفع:</label>\r\n                    <select\r\n                      value={newRental.payment_status}\r\n                      onChange={(e) => setNewRental({...newRental, payment_status: e.target.value})}\r\n                      className=\"edit-input\"\r\n                    >\r\n                      <option value=\"غير مدفوع\">غير مدفوع</option>\r\n                      <option value=\"مدفوع\">مدفوع</option>\r\n                      <option value=\"جزئي\">جزئي</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                  <label>حالة التأجير:</label>\r\n                  <select\r\n                    value={newRental.status}\r\n                    onChange={(e) => setNewRental({...newRental, status: e.target.value})}\r\n                    className=\"edit-input\"\r\n                  >\r\n                    <option value=\"نشط\">نشط</option>\r\n                    <option value=\"مكتمل\">مكتمل</option>\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"form-group full-width\">\r\n                  <label>ملاحظات:</label>\r\n                  <textarea\r\n                    value={newRental.notes}\r\n                    onChange={(e) => setNewRental({...newRental, notes: e.target.value})}\r\n                    className=\"edit-input textarea\"\r\n                    rows=\"3\"\r\n                    placeholder=\"أضف ملاحظات عن التأجير...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"modal-footer\">\r\n              <button\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setShowNewRentalModal(false)}\r\n                disabled={savingChanges}\r\n              >\r\n                إلغاء\r\n              </button>\r\n              <button\r\n                className=\"btn btn-success\"\r\n                onClick={handleAddNewRental}\r\n                disabled={savingChanges}\r\n              >\r\n                {savingChanges ? (\r\n                  <div className=\"spinner-small\"></div>\r\n                ) : (\r\n                  'إضافة التأجير'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* FOOTER */}\r\n      <div className=\"page-footer\">\r\n        <div className=\"footer-info\">\r\n          <p>\r\n            <strong>نظام إدارة الإيرادات والتأجيرات</strong> | \r\n            الإصدار 2.0 | \r\n            آخر تحديث: {new Date().toLocaleDateString('ar-EG')}\r\n          </p>\r\n        </div>\r\n        <div className=\"footer-stats\">\r\n          <span className=\"footer-stat\">\r\n            <Zap size={12} />\r\n            {analysis.activeShifts} شيفت نشط\r\n          </span>\r\n          <span className=\"footer-stat\">\r\n            <DollarSign size={12} />\r\n            {analysis.dailyRevenue.toLocaleString('ar-EG')} ج.م اليوم\r\n          </span>\r\n          <span className=\"footer-stat\">\r\n            <Users size={12} />\r\n            {safeEmployees.length} موظف\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RentalsRevenueAnalysis;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}