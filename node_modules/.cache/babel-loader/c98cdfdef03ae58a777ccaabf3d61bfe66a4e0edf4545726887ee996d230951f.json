{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== ÿ™ÿπÿ±ŸäŸÅ ÿØÿßŸÑÿ© showNotification ====================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst showNotification = (type, message) => {\n  const oldNotifications = document.querySelectorAll('.custom-notification');\n  oldNotifications.forEach(n => {\n    n.style.animation = 'slideOutRight 0.3s ease';\n    setTimeout(() => n.remove(), 300);\n  });\n  const notification = document.createElement('div');\n  notification.className = 'custom-notification';\n  let backgroundColor, borderColor;\n  switch (type) {\n    case 'success':\n      backgroundColor = '#10b981';\n      borderColor = '#059669';\n      break;\n    case 'error':\n      backgroundColor = '#ef4444';\n      borderColor = '#dc2626';\n      break;\n    case 'warning':\n      backgroundColor = '#f59e0b';\n      borderColor = '#d97706';\n      break;\n    case 'info':\n    default:\n      backgroundColor = '#3b82f6';\n      borderColor = '#2563eb';\n      break;\n  }\n  notification.style.cssText = `\n    position: fixed;\n    top: 20px;\n    right: 20px;\n    padding: 15px 20px;\n    border-radius: 8px;\n    color: white;\n    background-color: ${backgroundColor};\n    font-weight: bold;\n    z-index: 9999;\n    min-width: 300px;\n    max-width: 500px;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n    animation: slideInRight 0.3s ease;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    direction: rtl;\n    border-left: 4px solid ${borderColor};\n  `;\n  notification.innerHTML = `\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;\">\n      <div style=\"flex: 1; white-space: pre-line;\">${message.replace(/<br>/g, '\\n')}</div>\n      <button onclick=\"this.parentElement.parentElement.remove()\" \n              style=\"background: rgba(255,255,255,0.2); \n                     border: none; \n                     color: white; \n                     font-size: 16px; \n                     cursor: pointer; \n                     padding: 0 8px;\n                     border-radius: 4px;\n                     height: 24px;\n                     line-height: 24px;\">\n        ‚úï\n      </button>\n    </div>\n  `;\n  document.body.appendChild(notification);\n  setTimeout(() => {\n    if (notification.parentElement) {\n      notification.style.animation = 'slideOutRight 0.3s ease';\n      setTimeout(() => notification.remove(), 300);\n    }\n  }, 5000);\n  return notification;\n};\n\n// ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ\nif (!document.getElementById('notification-styles')) {\n  const style = document.createElement('style');\n  style.id = 'notification-styles';\n  style.textContent = `\n    @keyframes slideInRight {\n      from {\n        transform: translateX(100%);\n        opacity: 0;\n      }\n      to {\n        transform: translateX(0);\n        opacity: 1;\n      }\n    }\n    \n    @keyframes slideOutRight {\n      from {\n        transform: translateX(0);\n        opacity: 1;\n      }\n      to {\n        transform: translateX(100%);\n        opacity: 0;\n      }\n    }\n  `;\n  document.head.appendChild(style);\n}\n\n// ==================== ÿØŸàÿßŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ© ====================\nconst validatePhone = phone => {\n  const phoneRegex = /^01[0-9]{9}$/;\n  return phoneRegex.test(phone);\n};\nconst formatCurrency = amount => {\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatTime = dateString => {\n  try {\n    if (!dateString) return '--:--';\n    const date = new Date(dateString);\n    const hours = date.getHours();\n    const minutes = date.getMinutes();\n    return `${hours}:${minutes.toString().padStart(2, '0')}`;\n  } catch {\n    return '--:--';\n  }\n};\n\n// ==================== ÿØŸàÿßŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ© ŸÑŸÑÿµŸàÿ± ====================\nconst getGameImageUrl = game => {\n  if (!game) return '/images/default-game.jpg';\n  let imageUrl = game.image_url || game.external_image_url || game.thumbnail_url;\n  if (!imageUrl) return '/images/default-game.jpg';\n  if (imageUrl.startsWith('http://') || imageUrl.startsWith('https://')) {\n    return imageUrl;\n  }\n  if (imageUrl.startsWith('/')) {\n    return imageUrl;\n  }\n  return `/images/${imageUrl}`;\n};\nconst handleImageError = e => {\n  e.target.onerror = null;\n  e.target.src = '/images/default-game.jpg';\n};\n\n// ==================== ŸÖŸÉŸàŸÜÿßÿ™ ŸÅÿ±ÿπŸäÿ© ====================\n\n// ŸÖŸÉŸàŸÜ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ≥ÿ±Ÿäÿπÿ©\nconst QuickActionsMenu = ({\n  onActionClick\n}) => {\n  _s();\n  const [showMenu, setShowMenu] = useState(false);\n  const menuRef = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\n        setShowMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quick-actions-container\",\n    ref: menuRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"quick-actions-toggle\",\n      onClick: () => setShowMenu(!showMenu),\n      title: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A \\u0627\\u0644\\u0633\\u0631\\u064A\\u0639\\u0629\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"quick-actions-icon\",\n        children: \"\\u26A1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"quick-actions-text\",\n        children: \"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A \\u0633\\u0631\\u064A\\u0639\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"quick-actions-arrow\",\n        children: \"\\u25BC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), showMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quick-actions-menu\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"quick-action-item\",\n        onClick: () => {\n          onActionClick('startShift');\n          setShowMenu(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-icon\",\n          children: \"\\uD83D\\uDE80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-text\",\n          children: \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"quick-action-item\",\n        onClick: () => {\n          onActionClick('quickRental');\n          setShowMenu(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-icon\",\n          children: \"\\uD83C\\uDFAE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-text\",\n          children: \"\\u062A\\u0623\\u062C\\u064A\\u0631 \\u0633\\u0631\\u064A\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"quick-action-item\",\n        onClick: () => {\n          onActionClick('refreshData');\n          setShowMenu(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-icon\",\n          children: \"\\uD83D\\uDD04\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-text\",\n          children: \"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"quick-action-item\",\n        onClick: () => {\n          onActionClick('viewStats');\n          setShowMenu(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-text\",\n          children: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0625\\u062D\\u0635\\u0627\\u0626\\u064A\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"quick-action-item\",\n        onClick: () => {\n          onActionClick('endShift');\n          setShowMenu(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-icon\",\n          children: \"\\uD83C\\uDFC1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"quick-action-text\",\n          children: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n};\n\n// ŸÖŸÉŸàŸÜ ÿ≤ÿ± ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑŸÖŸÜÿ≥ÿØŸÑ ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±\n_s(QuickActionsMenu, \"IrpJJ9vEf04eEvLSh3rG0JvlrDI=\");\n_c = QuickActionsMenu;\nconst RentalActionsDropdown = ({\n  rental,\n  onEndRental,\n  onEndOpenTime\n}) => {\n  _s2();\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const isOpenTime = rental.duration_minutes === 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page-actions-dropdown-container\",\n    ref: dropdownRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"rentals-page-actions-btn\",\n      onClick: () => setShowDropdown(!showDropdown),\n      title: \"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"rentals-page-actions-icon\",\n        children: \"\\u2699\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"rentals-page-actions-text\",\n        children: \"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"rentals-page-dropdown-arrow\",\n        children: \"\\u25BC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-actions-dropdown-menu\",\n      children: isOpenTime ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"rentals-page-dropdown-item rentals-page-end-time-item\",\n        onClick: () => {\n          onEndOpenTime(rental);\n          setShowDropdown(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-dropdown-icon\",\n          children: \"\\u23F9\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-dropdown-text\",\n          children: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0648\\u0642\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"rentals-page-dropdown-item rentals-page-end-item\",\n        onClick: () => {\n          onEndRental(rental);\n          setShowDropdown(false);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-dropdown-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-dropdown-text\",\n          children: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 281,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== ŸÖŸÉŸàŸÜ Rentals ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ====================\n_s2(RentalActionsDropdown, \"zWWPGzKPXgH9k/Pf/TULf0SJBKU=\");\n_c2 = RentalActionsDropdown;\nconst Rentals = () => {\n  _s3();\n  // ==================== STATES ====================\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [games, setGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const isEmployee = (user === null || user === void 0 ? void 0 : user.role) === 'employee';\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n  const [showRentalModal, setShowRentalModal] = useState(false);\n  const [showAddMoreGames, setShowAddMoreGames] = useState(false);\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [customerName, setCustomerName] = useState('');\n  const [customerPhone, setCustomerPhone] = useState('');\n  const [customerNotes, setCustomerNotes] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n  const [currentShift, setCurrentShift] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [statistics, setStatistics] = useState({\n    availableGames: 0,\n    totalGames: 0,\n    todayRevenue: 0,\n    todayRentals: 0,\n    activeRentals: 0,\n    shiftRevenue: 0,\n    monthlyRevenue: 0,\n    uniqueCustomers: 0\n  });\n  const modalRef = useRef(null);\n  const addGamesModalRef = useRef(null);\n\n  // ==================== TIME FUNCTIONS ====================\n  const [currentEgyptTime, setCurrentEgyptTime] = useState('');\n\n  // ==================== USE MEMO FOR FILTERED GAMES ====================\n  const filteredGames = useMemo(() => {\n    console.log('üîÑ ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿµŸÅÿßÿ©...');\n    if (!games || games.length === 0) {\n      console.log('üì≠ ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÑÿπÿßÿ® ŸÑÿ™ÿµŸÅŸäÿ™Ÿáÿß');\n      return [];\n    }\n    let filtered = games.filter(game => {\n      const isAvailable = game.status === 'ŸÖÿ™ÿßÿ≠' && (game.is_active === 1 || game.is_active === true);\n      if (!isAvailable) {\n        return false;\n      }\n\n      // ÿßŸÑÿ®ÿ≠ÿ´ ÿ≠ÿ≥ÿ® ÿßŸÑÿßÿ≥ŸÖ\n      if (searchTerm && searchTerm.trim() !== '') {\n        var _game$name;\n        const gameName = ((_game$name = game.name) === null || _game$name === void 0 ? void 0 : _game$name.toLowerCase()) || '';\n        const searchTermLower = searchTerm.toLowerCase();\n        if (!gameName.includes(searchTermLower)) {\n          return false;\n        }\n      }\n\n      // ÿßŸÑÿ®ÿ≠ÿ´ ÿ≠ÿ≥ÿ® ÿßŸÑŸÅÿ¶ÿ©\n      if (selectedCategory && selectedCategory.trim() !== '') {\n        const gameCategory = game.category || '';\n        if (gameCategory !== selectedCategory) {\n          return false;\n        }\n      }\n      return true;\n    });\n    console.log(`‚úÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿµŸÅÿßÿ©: ${filtered.length} ŸÖŸÜ ${games.length}`);\n    return filtered;\n  }, [games, searchTerm, selectedCategory]);\n  const getEgyptTimeNow = () => {\n    const now = new Date();\n    const egyptTime = new Date(now.toLocaleString(\"en-US\", {\n      timeZone: \"Africa/Cairo\"\n    }));\n    const hours = egyptTime.getHours();\n    const minutes = egyptTime.getMinutes();\n    const seconds = egyptTime.getSeconds();\n    return {\n      hours: hours,\n      minutes: minutes,\n      seconds: seconds,\n      formatted: `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\n    };\n  };\n\n  // ==================== ÿØÿßŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ====================\n  const updateShiftStats = useCallback(async () => {\n    try {\n      if (!currentShift || !(user !== null && user !== void 0 && user.branch_id)) return;\n      console.log('üìä ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸä');\n      const response = await api.get(`/shifts/${currentShift.id}/stats`);\n      if (response.success && response.data) {\n        const stats = response.data;\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\n        setStatistics(prev => ({\n          ...prev,\n          shiftRevenue: stats.total_revenue || 0,\n          activeRentals: stats.active_rentals || 0,\n          todayRevenue: stats.today_revenue || 0,\n          todayRentals: stats.completed_rentals || 0\n        }));\n        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', stats);\n      }\n    } catch (error) {\n      console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', error.message);\n    }\n  }, [currentShift, user === null || user === void 0 ? void 0 : user.branch_id]);\n  useEffect(() => {\n    const updateTime = () => {\n      setCurrentEgyptTime(getEgyptTimeNow().formatted);\n    };\n    updateTime();\n    const interval = setInterval(updateTime, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // ==================== USE EFFECTS ====================\n  useEffect(() => {\n    if (user) {\n      console.log('üîç User loaded:', user.name);\n      loadShiftData();\n      loadData();\n      const interval = setInterval(() => {\n        loadData();\n      }, 60000);\n      return () => {\n        clearInterval(interval);\n      };\n    }\n  }, [user]);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿÆÿßÿ±ÿ¨Ÿáÿß\n      if (showRentalModal && modalRef.current && !modalRef.current.contains(event.target)) {\n        if (selectedGames.length > 0 || customerName || customerPhone) {\n          if (window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿü ÿ≥Ÿäÿ™ŸÖ ŸÅŸÇÿØÿßŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿØÿÆŸÑÿ©.')) {\n            setShowRentalModal(false);\n            resetForm();\n          }\n        } else {\n          setShowRentalModal(false);\n        }\n      }\n\n      // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿÆÿßÿ±ÿ¨Ÿáÿß\n      if (showAddMoreGames && addGamesModalRef.current && !addGamesModalRef.current.contains(event.target)) {\n        setShowAddMoreGames(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    document.addEventListener('touchstart', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.removeEventListener('touchstart', handleClickOutside);\n    };\n  }, [showRentalModal, showAddMoreGames, selectedGames, customerName, customerPhone]);\n\n  // ==================== API FUNCTIONS ====================\n  const loadShiftData = async () => {\n    try {\n      console.log('üîÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™...');\n      const response = await api.get('/shifts/active');\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ¥ŸäŸÅÿ™:', response);\n      if (response.success && response.data) {\n        console.log('‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑:', response.data);\n        setCurrentShift(response.data);\n      } else {\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\n        setCurrentShift(null);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      setCurrentShift(null);\n    }\n  };\n  const loadData = useCallback(async () => {\n    try {\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        console.log('‚ùå ŸÑÿß ŸäŸàÿ¨ÿØ branch_id ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ');\n        return;\n      }\n      console.log('üîß ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑŸÅÿ±ÿπ:', user.branch_id);\n      await loadShiftData();\n      try {\n        await loadGames();\n      } catch (gamesError) {\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ£ŸÑÿπÿßÿ®ÿå ÿßÿ≥ÿ™ŸÖÿ±:', gamesError);\n      }\n      try {\n        await loadActiveRentals();\n      } catch (rentalsError) {\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©ÿå ÿßÿ≥ÿ™ŸÖÿ±:', rentalsError);\n      }\n      if (!isEmployee) {\n        try {\n          await loadCompletedRentals();\n        } catch (completedError) {\n          console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:', completedError);\n        }\n      }\n      try {\n        await updateStatisticsData();\n      } catch (statsError) {\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™:', statsError);\n      }\n      console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅÿßÿØÿ≠ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ÿå ÿ¨ÿßÿ±Ÿä ÿßŸÑÿπŸÖŸÑ ÿπŸÑŸâ ÿßŸÑÿ≠ŸÑ');\n    } finally {\n      setLoading(false);\n    }\n  }, [user, isEmployee]);\n  const loadGames = async () => {\n    try {\n      if (!(user !== null && user !== void 0 && user.branch_id)) return;\n      console.log(`üéÆ ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ŸÑŸÑŸÅÿ±ÿπ: ${user.branch_id}`);\n      const gamesResponse = await api.get('/games', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'ŸÖÿ™ÿßÿ≠',\n          include_images: true\n        }\n      });\n      console.log('üéÆ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ®:', gamesResponse);\n      if (gamesResponse.success) {\n        processGamesData(gamesResponse.data);\n      } else {\n        console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®:', gamesResponse.message);\n        showNotification('error', 'ŸÅÿ¥ŸÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®: ' + gamesResponse.message);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®:', error);\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®');\n    }\n  };\n  const processGamesData = data => {\n    let gamesData = [];\n    if (Array.isArray(data)) {\n      gamesData = data;\n    } else if (data && Array.isArray(data.data)) {\n      gamesData = data.data;\n    } else if (data && typeof data === 'object') {\n      gamesData = Object.values(data);\n    }\n    console.log(`üìä ÿπÿØÿØ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑÿÆÿßŸÖ: ${gamesData.length}`);\n    const availableGames = gamesData.filter(game => {\n      const isActive = game.is_active === 1 || game.is_active === true;\n      const isAvailable = game.status === 'ŸÖÿ™ÿßÿ≠' || game.status === 'available';\n      return isActive && isAvailable;\n    });\n    console.log(`‚úÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ÿ®ÿπÿØ ÿßŸÑÿ™ÿµŸÅŸäÿ©: ${availableGames.length}`);\n    const allGames = availableGames.map(game => ({\n      id: parseInt(game.id) || Math.random(),\n      name: game.name || 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ',\n      status: game.status || 'ŸÖÿ™ÿßÿ≠',\n      price_per_15min: parseFloat(game.price_per_15min) || 100,\n      category: game.category || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ',\n      condition: game.condition || 'ÿ¨ŸäÿØ',\n      image_url: game.image_url,\n      external_image_url: game.external_image_url,\n      thumbnail_url: game.thumbnail_url,\n      is_active: game.is_active || 1,\n      branch_id: game.branch_id,\n      game_id: parseInt(game.id),\n      description: game.description || '',\n      brand: game.brand || '',\n      model: game.model || ''\n    }));\n    console.log(`üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©:`, allGames.length);\n    setGames(allGames);\n\n    // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿØÿØ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©\n    setStatistics(prev => ({\n      ...prev,\n      availableGames: allGames.length,\n      totalGames: allGames.length\n    }));\n  };\n  const updateStatisticsData = async () => {\n    try {\n      console.log('üí∞ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™...');\n      const response = await api.get('/dashboard/stats/current');\n      if (response.success && response.data) {\n        const stats = response.data;\n        const newStats = {\n          availableGames: games.length,\n          totalGames: games.length,\n          todayRevenue: stats.today_revenue || 0,\n          todayRentals: stats.today_rentals || 0,\n          activeRentals: activeRentals.length,\n          shiftRevenue: stats.shift_revenue || 0,\n          monthlyRevenue: stats.monthly_revenue || 0,\n          uniqueCustomers: stats.unique_customers || 0\n        };\n        console.log('üìä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÖÿ≠ÿØÿ´ÿ©:', newStats);\n        setStatistics(newStats);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™:', error);\n\n      // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÉÿ®ÿØŸäŸÑ\n      setStatistics(prev => ({\n        ...prev,\n        availableGames: games.length,\n        totalGames: games.length,\n        activeRentals: activeRentals.length\n      }));\n    }\n  };\n  const loadActiveRentals = async () => {\n    try {\n      const response = await api.get('/rentals/active/separated', {\n        params: {\n          branch_id: user.branch_id\n        }\n      });\n      if (response.success) {\n        const rentals = response.data;\n        setActiveRentals(rentals);\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿØÿØ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©\n        setStatistics(prev => ({\n          ...prev,\n          activeRentals: rentals.length\n        }));\n        console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${rentals.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÜÿ¥ÿ∑`);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©:', error);\n    }\n  };\n  const loadCompletedRentals = async () => {\n    try {\n      const response = await api.get('/rentals/completed', {\n        params: {\n          branch_id: user.branch_id,\n          limit: 50\n        }\n      });\n      if (response.success) {\n        setCompletedRentals(response.data);\n        console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${response.data.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖŸÉÿ™ŸÖŸÑ`);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:', error);\n    }\n  };\n  const calculateGamePrice = (game, durationMinutes = null) => {\n    if (!game) return 0;\n    const actualDuration = durationMinutes || game.duration || 15;\n    const pricePer15Min = game.price_per_15min || 100;\n    const units = Math.ceil(actualDuration / 15);\n    return pricePer15Min * units;\n  };\n  const calculateTotalPrice = () => {\n    let total = 0;\n    selectedGames.forEach(game => {\n      total += calculateGamePrice(game);\n    });\n    return total;\n  };\n  const handleStartRentalEnhanced = async () => {\n    try {\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ\n      if (!validatePhone(customerPhone)) {\n        showNotification('error', 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠. Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ 11 ÿ±ŸÇŸÖ Ÿäÿ®ÿØÿ£ ÿ®ŸÄ 01');\n        return;\n      }\n\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\n      if (!currentShift) {\n        showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\n        return;\n      }\n\n      // ÿ•ŸÜÿ¥ÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖŸÜŸÅÿµŸÑ ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\n      const rentalPromises = selectedGames.map(async game => {\n        const rentalData = {\n          game_id: game.id,\n          customer_name: customerName,\n          customer_phone: customerPhone,\n          duration_minutes: game.duration || 15,\n          payment_method: paymentMethod,\n          notes: customerNotes || undefined,\n          shift_id: currentShift.id,\n          total_amount: calculateGamePrice(game)\n        };\n        return await api.post('/rentals/advanced', rentalData);\n      });\n\n      // ÿ™ŸÜŸÅŸäÿ∞ ÿ¨ŸÖŸäÿπ ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\n      const results = await Promise.all(rentalPromises);\n\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨\n      const allSuccess = results.every(result => result.success);\n      if (allSuccess) {\n        const totalAmount = calculateTotalPrice();\n        showNotification('success', `ÿ™ŸÖ ÿ®ÿØÿ° ${selectedGames.length} ÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠\\nÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${formatCurrency(totalAmount)}`);\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\n        setStatistics(prev => ({\n          ...prev,\n          todayRevenue: prev.todayRevenue + totalAmount,\n          todayRentals: prev.todayRentals + selectedGames.length,\n          shiftRevenue: prev.shiftRevenue + totalAmount\n        }));\n        await loadActiveRentals();\n        await updateShiftStats();\n        resetForm();\n        setShowRentalModal(false); // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã\n      } else {\n        const errorMessages = results.filter(result => !result.success).map(result => result.message).join('\\n');\n        showNotification('error', `ŸÅÿ¥ŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:\\n${errorMessages}`);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±:', error);\n      showNotification('error', error.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n    }\n  };\n  const handleEndRental = async rental => {\n    try {\n      const confirmEnd = window.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ${rental.game_name} ŸÑŸÑÿπŸÖŸäŸÑ ${rental.customer_name}ÿü`);\n      if (!confirmEnd) return;\n      const response = await api.put(`/rentals/${rental.id}/complete-advanced`, {\n        payment_method: rental.payment_method || 'ŸÉÿßÿ¥'\n      });\n      if (response.success) {\n        showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠\\nÿßŸÑŸÖÿ®ŸÑÿ∫: ${formatCurrency(rental.total_amount)}`);\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\n        setStatistics(prev => ({\n          ...prev,\n          activeRentals: prev.activeRentals - 1\n        }));\n        await loadActiveRentals();\n        await loadCompletedRentals();\n        await updateShiftStats();\n      } else {\n        showNotification('error', response.message);\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±:', error);\n      showNotification('error', error.message);\n    }\n  };\n  const handleEndOpenTime = async rental => {\n    try {\n      const minutes = prompt(`ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿØÿ© ÿßŸÑŸÅÿπŸÑŸäÿ© ÿ®ÿßŸÑÿØŸÇÿßÿ¶ŸÇ ŸÑŸÑÿπÿ®ÿ© ${rental.game_name}:`, '30');\n      if (!minutes || isNaN(minutes) || parseInt(minutes) < 1) {\n        showNotification('error', 'Ÿäÿ¨ÿ® ÿ•ÿØÿÆÿßŸÑ ŸÖÿØÿ© ÿµÿ≠Ÿäÿ≠ÿ©');\n        return;\n      }\n      const duration = parseInt(minutes);\n      const pricePer15Min = rental.price_per_15min || 100;\n      const units = Math.ceil(duration / 15);\n      const totalAmount = pricePer15Min * units;\n      const confirmMessage = `\nÿ™ŸÅÿßÿµŸäŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠:\nÿßŸÑŸÑÿπÿ®ÿ©: ${rental.game_name}\nÿßŸÑÿπŸÖŸäŸÑ: ${rental.customer_name}\nÿßŸÑŸÖÿØÿ© ÿßŸÑŸÅÿπŸÑŸäÿ©: ${duration} ÿØŸÇŸäŸÇÿ©\nÿπÿØÿØ ÿßŸÑŸàÿ≠ÿØÿßÿ™: ${units} √ó ${formatCurrency(pricePer15Min)}\nÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${formatCurrency(totalAmount)}\n\nŸáŸÑ ÿ™ÿ±ŸäÿØ ÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ©ÿü`;\n      if (!window.confirm(confirmMessage)) return;\n      const response = await api.put(`/rentals/${rental.id}/complete`, {\n        final_amount: totalAmount,\n        payment_status: 'ŸÖÿØŸÅŸàÿπ',\n        payment_method: rental.payment_method || 'ŸÉÿßÿ¥',\n        paid_amount: totalAmount,\n        notes: `ÿ•ŸÜŸáÿßÿ° ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠ - ÿßŸÑŸÖÿØÿ©: ${duration} ÿØŸÇŸäŸÇÿ©`\n      });\n      if (response.success) {\n        showNotification('success', `‚úÖ ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠ ŸàÿØŸÅÿπ ${formatCurrency(totalAmount)} ÿ®ŸÜÿ¨ÿßÿ≠`);\n\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\n        setStatistics(prev => ({\n          ...prev,\n          todayRevenue: prev.todayRevenue + totalAmount,\n          shiftRevenue: prev.shiftRevenue + totalAmount,\n          activeRentals: prev.activeRentals - 1\n        }));\n        await loadActiveRentals();\n        await loadCompletedRentals();\n        await updateShiftStats();\n      } else {\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠:', error);\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n    }\n  };\n\n  // ==================== ÿØŸàÿßŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ====================\n  const handleGameClick = game => {\n    console.log('üéØ ÿßŸÑŸÜŸÇÿ± ÿπŸÑŸâ ŸÑÿπÿ®ÿ©:', game.name, game.id);\n    if (!currentShift) {\n      console.log('‚ùå ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã ŸÇÿ®ŸÑ ÿ®ÿØÿ° ÿ£Ÿä ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™');\n      return;\n    }\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\n    if (!isAlreadySelected) {\n      console.log('‚ûï ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÑÿπÿ®ÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©:', game.name);\n      setSelectedGames(prev => [...prev, {\n        ...game,\n        duration: 15 // ŸÖÿØÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\n      }]);\n    }\n    if (!showRentalModal) {\n      console.log('üöÄ ŸÅÿ™ÿ≠ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n      setShowRentalModal(true);\n    }\n    showNotification('info', `ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ÿ•ŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±`);\n  };\n  const handleAddGameFromModal = game => {\n    console.log('‚ûï ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ© ŸÖŸÜ ÿßŸÑŸÜÿßŸÅÿ∞ÿ©:', game.name);\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\n    if (!isAlreadySelected) {\n      setSelectedGames(prev => [...prev, {\n        ...game,\n        duration: 15 // ŸÖÿØÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\n      }]);\n    }\n\n    // ÿßŸÑÿπŸàÿØÿ© ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© ÿ•ŸÑŸâ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\n    setShowAddMoreGames(false);\n    showNotification('info', `ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ÿ•ŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±`);\n  };\n  const removeGame = gameId => {\n    console.log('üóëÔ∏è ÿ•ÿ≤ÿßŸÑÿ© ŸÑÿπÿ®ÿ©:', gameId);\n    setSelectedGames(prev => prev.filter(game => game.id !== gameId));\n  };\n  const updateGameDuration = (gameId, newDuration) => {\n    if (newDuration < 1) {\n      removeGame(gameId);\n      return;\n    }\n    setSelectedGames(prev => prev.map(game => game.id === gameId ? {\n      ...game,\n      duration: newDuration\n    } : game));\n  };\n  const getAvailableGamesForAddition = () => {\n    const available = games.filter(game => game.status === 'ŸÖÿ™ÿßÿ≠' && !selectedGames.some(g => g.id === game.id));\n    console.log(`üéÆ ÿ£ŸÑÿπÿßÿ® ŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÑÿ•ÿ∂ÿßŸÅÿ©: ${available.length}`);\n    return available;\n  };\n  const resetForm = () => {\n    console.log('üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨');\n    setCustomerName('');\n    setCustomerPhone('');\n    setCustomerNotes('');\n    setSelectedGames([]);\n    setPaymentMethod('cash');\n    setShowAddMoreGames(false);\n  };\n  const handleQuickStartRental = () => {\n    console.log('‚ö° ÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ÿ≥ÿ±Ÿäÿπ');\n    if (!currentShift) {\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\n      return;\n    }\n    setShowRentalModal(true);\n    showNotification('info', 'ÿßŸÅÿ™ÿ≠ÿ™ ŸÜÿßŸÅÿ∞ÿ© ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±. ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ£ŸÑÿπÿßÿ® Ÿàÿ•ÿØÿÆÿßŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ.');\n  };\n\n  // ==================== ÿØŸàÿßŸÑ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ≥ÿ±Ÿäÿπÿ© ====================\n  const handleQuickAction = action => {\n    switch (action) {\n      case 'startShift':\n        startShift();\n        break;\n      case 'quickRental':\n        handleQuickStartRental();\n        break;\n      case 'refreshData':\n        loadData();\n        showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');\n        break;\n      case 'viewStats':\n        showNotification('info', `\nüìä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿ©:\n‚Ä¢ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©: ${statistics.availableGames}\n‚Ä¢ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©: ${statistics.activeRentals}\n‚Ä¢ ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑŸäŸàŸÖ: ${formatCurrency(statistics.todayRevenue)}\n‚Ä¢ ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸäŸàŸÖ: ${statistics.todayRentals}\n${isManager ? `‚Ä¢ ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™: ${formatCurrency(statistics.shiftRevenue)}` : ''}\n        `);\n        break;\n      case 'endShift':\n        handleEndCurrentShift();\n        break;\n      default:\n        console.log('ÿ•ÿ¨ÿ±ÿßÿ° ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ:', action);\n    }\n  };\n\n  // ==================== ÿØŸàÿßŸÑ ÿßŸÑÿ¥ŸäŸÅÿ™ ====================\n  const startShift = async () => {\n    try {\n      showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™...');\n      const response = await api.startShift();\n      if (response.success && response.data) {\n        setCurrentShift(response.data);\n        setActiveRentals([]);\n        setCompletedRentals([]);\n        setStatistics({\n          availableGames: games.length,\n          totalGames: games.length,\n          todayRevenue: 0,\n          todayRentals: 0,\n          activeRentals: 0,\n          shiftRevenue: 0,\n          monthlyRevenue: statistics.monthlyRevenue,\n          uniqueCustomers: 0\n        });\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\n        await loadGames();\n        await loadActiveRentals();\n      } else {\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      showNotification('error', error.message || 'ŸÅÿ¥ŸÑ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\n    }\n  };\n  const handleEndCurrentShift = async () => {\n    if (!currentShift) {\n      showNotification('error', 'ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÑÿ•ŸÜŸáÿßÿ¶Ÿá');\n      return;\n    }\n    const startTime = new Date(currentShift.start_time);\n    const now = new Date();\n    const shiftDuration = Math.floor((now - startTime) / (1000 * 60));\n    const confirmMessage = `\nÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ #${currentShift.id}\n\nÿ®ÿØÿ£ ŸÅŸä: ${formatTime(currentShift.start_time)}\nÿßŸÑŸÖÿØÿ©: ${Math.floor(shiftDuration / 60)} ÿ≥ÿßÿπÿ© Ÿà ${shiftDuration % 60} ÿØŸÇŸäŸÇÿ©\nÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©: ${activeRentals.length}\nÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™: ${formatCurrency(statistics.shiftRevenue)}\n\nŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ÿü`;\n    if (!window.confirm(confirmMessage)) {\n      return;\n    }\n    try {\n      showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™...');\n      const response = await api.post(`/shifts/${currentShift.id}/end`, {\n        end_time: now.toISOString(),\n        reason: 'ÿ•ŸÜŸáÿßÿ° ŸäÿØŸàŸä'\n      });\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response);\n      if (response.success) {\n        showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!\\nÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™: ${formatCurrency(statistics.shiftRevenue)}`);\n        setCurrentShift(null);\n        setActiveRentals([]);\n        setCompletedRentals([]);\n        setStatistics(prev => ({\n          ...prev,\n          todayRevenue: 0,\n          todayRentals: 0,\n          activeRentals: 0,\n          shiftRevenue: 0\n        }));\n        const shiftSummary = `\nŸÖŸÑÿÆÿµ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÖŸÜÿ™ŸáŸä:\n‚Ä¢ ÿßŸÑŸÖÿØÿ©: ${Math.floor(shiftDuration / 60)} ÿ≥ÿßÿπÿ© Ÿà ${shiftDuration % 60} ÿØŸÇŸäŸÇÿ©\n‚Ä¢ ÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™: ${formatCurrency(statistics.shiftRevenue)}\n‚Ä¢ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©: ${completedRentals.length}\n‚Ä¢ ÿßŸÑÿπŸÖŸÑÿßÿ°: ${statistics.uniqueCustomers}`;\n        console.log('üìä ŸÖŸÑÿÆÿµ ÿßŸÑÿ¥ŸäŸÅÿ™:', shiftSummary);\n      } else {\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\n      }\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      let errorMessage = 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™';\n      if (error.message) {\n        errorMessage += `: ${error.message}`;\n      }\n      showNotification('error', errorMessage);\n      if (window.confirm('ŸÅÿ¥ŸÑ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ. ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑ÿü')) {\n        setCurrentShift(null);\n        setActiveRentals([]);\n        setCompletedRentals([]);\n        showNotification('warning', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑÿßÿ≠ŸÇÿßŸã.');\n      }\n    }\n  };\n\n  // ==================== ÿØŸàÿßŸÑ ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸàŸÇÿ™ ====================\n  const calculateShiftDuration = startTimeStr => {\n    if (!startTimeStr) return '00:00';\n    try {\n      const startDate = new Date(startTimeStr);\n      const now = new Date();\n      const diffMs = now.getTime() - startDate.getTime();\n      if (diffMs < 0) return '00:00';\n      const totalMinutes = Math.floor(diffMs / (1000 * 60));\n      const hours = Math.floor(totalMinutes / 60);\n      const minutes = totalMinutes % 60;\n      return `${hours}:${minutes.toString().padStart(2, '0')}`;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÖÿØÿ©:', error);\n      return '00:00';\n    }\n  };\n  const calculateTimeRemaining = (startTime, durationMinutes) => {\n    if (!startTime || durationMinutes === 0) return null;\n    try {\n      const startDate = new Date(startTime);\n      const now = new Date();\n      const endTime = new Date(startDate.getTime() + durationMinutes * 60000);\n      if (now > endTime) return 'ÿßŸÜÿ™ŸáŸâ';\n      const remainingMs = endTime.getTime() - now.getTime();\n      const remainingMinutes = Math.floor(remainingMs / 60000);\n      const seconds = Math.floor(remainingMs % 60000 / 1000);\n      return `${remainingMinutes}:${seconds.toString().padStart(2, '0')}`;\n    } catch (error) {\n      return '--:--';\n    }\n  };\n  const calculateElapsedTime = startTime => {\n    if (!startTime) return '00:00';\n    try {\n      const startDate = new Date(startTime);\n      const now = new Date();\n      const elapsedMs = now.getTime() - startDate.getTime();\n      const elapsedMinutes = Math.floor(elapsedMs / 60000);\n      const seconds = Math.floor(elapsedMs % 60000 / 1000);\n      return `${elapsedMinutes}:${seconds.toString().padStart(2, '0')}`;\n    } catch (error) {\n      return '00:00';\n    }\n  };\n  const calculateEndTime = (startTime, durationMinutes) => {\n    if (!startTime || durationMinutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\n    try {\n      const startDate = new Date(startTime);\n      const endTime = new Date(startDate.getTime() + durationMinutes * 60000);\n      return formatTime(endTime);\n    } catch (error) {\n      return '--:--';\n    }\n  };\n\n  // ==================== COMPONENT RENDER ====================\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1212,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-top-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-header-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"rentals-page-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-page-title-icon\",\n            children: \"\\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1225,\n            columnNumber: 13\n          }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-page-user-name\",\n            children: (user === null || user === void 0 ? void 0 : user.name) || 'ŸÖÿ≥ÿ™ÿÆÿØŸÖ'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-page-user-role\",\n            children: (user === null || user === void 0 ? void 0 : user.role) === 'employee' ? 'üë∑ ŸÖŸàÿ∏ŸÅ' : 'üëë ŸÖÿØŸäÿ±'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1230,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-controls-row\",\n        children: [/*#__PURE__*/_jsxDEV(QuickActionsMenu, {\n          onActionClick: handleQuickAction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1237,\n          columnNumber: 11\n        }, this), currentShift ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-shift-info-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-shift-timer\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-timer-icon\",\n              children: \"\\u23F1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-timer-text\",\n              children: [\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A: \", calculateShiftDuration(currentShift.start_time)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-current-time\",\n              children: [\"\\u0627\\u0644\\u0648\\u0642\\u062A: \", currentEgyptTime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-shift-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rentals-page-btn-quick-rental\",\n              onClick: handleQuickStartRental,\n              title: \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-btn-icon\",\n                children: \"\\uD83D\\uDE80\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1256,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-btn-text\",\n                children: \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 17\n            }, this), isManager && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rentals-page-btn-end-shift\",\n              onClick: handleEndCurrentShift,\n              title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-btn-icon\",\n                children: \"\\uD83C\\uDFC1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-btn-text\",\n                children: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1266,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1240,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-no-shift-banner\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rentals-page-btn-start-shift-large\",\n            onClick: startShift,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-btn-icon\",\n              children: \"\\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-btn-text\",\n              children: \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-btn-subtext\",\n              children: \"\\u0644\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u062C\\u062F\\u064A\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1273,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-stats-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-icon\",\n            children: \"\\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-value\",\n              children: statistics.availableGames\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-label\",\n              children: \"\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1290,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-sub\",\n              children: [\"\\u0645\\u0646 \", statistics.totalGames]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-icon\",\n            children: \"\\uD83D\\uDCB0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-value\",\n              children: formatCurrency(statistics.todayRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-label\",\n              children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1299,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-sub\",\n              children: [statistics.todayRentals, \" \\u062A\\u0623\\u062C\\u064A\\u0631\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1297,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1295,\n          columnNumber: 11\n        }, this), isManager && currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-icon\",\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-value\",\n              children: formatCurrency(statistics.shiftRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-label\",\n              children: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1309,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-sub\",\n              children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1310,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1307,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-icon\",\n            children: \"\\u23F1\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-stat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-value\",\n              children: statistics.activeRentals\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-label\",\n              children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1319,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-stat-sub\",\n              children: \"\\u0642\\u064A\\u062F \\u0627\\u0644\\u062A\\u0634\\u063A\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-games-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-page-header-icon\",\n            children: \"\\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1330,\n            columnNumber: 13\n          }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-page-games-count\",\n            children: [\"(\", statistics.availableGames, \" \\u0644\\u0639\\u0628\\u0629)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1332,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-search-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\uD83D\\uDD0D \\u0627\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            className: \"rentals-page-search-input\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"rentals-page-category-filter\",\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0641\\u0626\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1349,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0633\\u064A\\u0627\\u0631\\u0627\\u062A\",\n              children: \"\\u0633\\u064A\\u0627\\u0631\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u062F\\u0631\\u0627\\u062C\\u0627\\u062A\",\n              children: \"\\u062F\\u0631\\u0627\\u062C\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0633\\u0643\\u0648\\u062A\\u0631\",\n              children: \"\\u0633\\u0643\\u0648\\u062A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0623\\u0644\\u0639\\u0627\\u0628\",\n              children: \"\\u0623\\u0644\\u0639\\u0627\\u0628\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0643\\u0647\\u0631\\u0628\\u0627\\u0626\\u064A\\u0629\",\n              children: \"\\u0643\\u0647\\u0631\\u0628\\u0627\\u0626\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0623\\u0637\\u0641\\u0627\\u0644\",\n              children: \"\\u0623\\u0637\\u0641\\u0627\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-games-grid compact-view\",\n        children: [filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `rentals-page-game-card ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'available' : 'unavailable'} small`,\n          onClick: () => handleGameClick(game),\n          title: game.status === 'ŸÖÿ™ÿßÿ≠' ? `ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±` : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠',\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-game-image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getGameImageUrl(game),\n              alt: game.name,\n              className: \"rentals-page-game-image\",\n              onError: handleImageError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-game-status\",\n              children: game.status === 'ŸÖÿ™ÿßÿ≠' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-status-available\",\n                children: \"\\uD83D\\uDFE2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1377,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-status-unavailable\",\n                children: \"\\uD83D\\uDD34\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1379,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-game-quick-info\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-game-price-tag\",\n                children: formatCurrency(game.price_per_15min)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1383,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1368,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-game-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"rentals-page-game-title\",\n              title: game.name,\n              children: game.name.length > 12 ? game.name.substring(0, 12) + '...' : game.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"rentals-page-game-price\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-price-value\",\n                children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1394,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1393,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-game-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `rentals-page-game-select-btn ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'active' : 'disabled'}`,\n                onClick: e => {\n                  e.stopPropagation();\n                  if (game.status === 'ŸÖÿ™ÿßÿ≠') {\n                    handleGameClick(game);\n                  }\n                },\n                disabled: game.status !== 'ŸÖÿ™ÿßÿ≠',\n                title: game.status === 'ŸÖÿ™ÿßÿ≠' ? `ÿ•ÿ∂ÿßŸÅÿ© ${game.name}` : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠',\n                children: game.status === 'ŸÖÿ™ÿßÿ≠' ? '‚ûï' : '‚ùå'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1400,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1399,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1389,\n            columnNumber: 15\n          }, this)]\n        }, game.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1362,\n          columnNumber: 13\n        }, this)), filteredGames.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-empty-games\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-empty-icon\",\n            children: \"\\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0642\\u0645 \\u0628\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0635\\u0641\\u062D\\u0629 \\u0623\\u0648 \\u062A\\u062D\\u0642\\u0642 \\u0645\\u0646 \\u0627\\u062A\\u0635\\u0627\\u0644 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0631\\u0646\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1422,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rentals-page-refresh-games-btn\",\n            onClick: loadGames,\n            children: \"\\uD83D\\uDD04 \\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1419,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-active-rentals-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-header-icon\",\n          children: \"\\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629 \\u0644\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-active-count\",\n          children: [\"(\", activeRentals.length, \" \\u062A\\u0623\\u062C\\u064A\\u0631)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1436,\n        columnNumber: 9\n      }, this), activeRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-empty-rentals\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-empty-icon\",\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0627\\u0628\\u062F\\u0623 \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u064B \\u062C\\u062F\\u064A\\u062F\\u0627\\u064B \\u0645\\u0646 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1448,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1445,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-rentals-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rentals-page-rentals-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1455,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1456,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0648\\u0642\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1457,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1458,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1459,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1460,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1461,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1454,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: activeRentals.map(rental => {\n              const isOpenTime = rental.duration_minutes === 0;\n              const timeDisplay = isOpenTime ? `‚è≥ ${calculateElapsedTime(rental.start_time)}` : `‚è±Ô∏è ${calculateTimeRemaining(rental.start_time, rental.duration_minutes)}`;\n              const endTimeDisplay = calculateEndTime(rental.start_time, rental.duration_minutes);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-customer-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"customer-name\",\n                      children: rental.customer_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1477,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"customer-phone\",\n                      children: rental.customer_phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1478,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1476,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1475,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-game-cell\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"game-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: getGameImageUrl(rental),\n                      alt: rental.game_name,\n                      className: \"rental-game-image\",\n                      onError: handleImageError\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1483,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"game-name\",\n                      children: rental.game_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1489,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1482,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1481,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: `rental-time-cell ${isOpenTime ? 'open-time' : 'fixed-time'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"time-display\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"time-icon\",\n                      children: isOpenTime ? '‚è≥' : '‚è±Ô∏è'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1494,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"time-value\",\n                      children: timeDisplay\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1495,\n                      columnNumber: 27\n                    }, this), isOpenTime ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"time-badge-open\",\n                      children: \"\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1497,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"time-badge-fixed\",\n                      children: \"\\u0645\\u062F\\u0629 \\u062B\\u0627\\u0628\\u062A\\u0629\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1499,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1493,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-start-time\",\n                  children: formatTime(rental.start_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1503,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-end-time\",\n                  children: endTimeDisplay\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1504,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-amount-cell\",\n                  children: isOpenTime ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amount-open\",\n                    children: \"\\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1507,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"amount-fixed\",\n                    children: formatCurrency(rental.total_amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1509,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1505,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-actions-cell\",\n                  children: /*#__PURE__*/_jsxDEV(RentalActionsDropdown, {\n                    rental: rental,\n                    onEndRental: handleEndRental,\n                    onEndOpenTime: handleEndOpenTime\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1513,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1512,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1474,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1452,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1451,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1435,\n      columnNumber: 7\n    }, this), !isEmployee && completedRentals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-completed-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-header-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1532,\n          columnNumber: 13\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-page-completed-count\",\n          children: [\"(\", completedRentals.length, \" \\u062A\\u0623\\u062C\\u064A\\u0631)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1534,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1531,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-completed-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rentals-page-completed-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1543,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1544,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1545,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1546,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1547,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1548,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1549,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1542,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1541,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: completedRentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: rental.customer_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1555,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rental.game_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1556,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatTime(rental.start_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1557,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatTime(rental.actual_end_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1558,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [rental.duration_minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1559,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatCurrency(rental.total_amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1560,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rental.payment_method\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1561,\n                columnNumber: 21\n              }, this)]\n            }, rental.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1554,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1552,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1540,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1539,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1530,\n      columnNumber: 9\n    }, this), showRentalModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-modal rentals-page-rental-modal\",\n        ref: modalRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-header-icon\",\n              children: \"\\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1576,\n              columnNumber: 17\n            }, this), \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1575,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (selectedGames.length > 0 || customerName || customerPhone) {\n                if (window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿü ÿ≥Ÿäÿ™ŸÖ ŸÅŸÇÿØÿßŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿØÿÆŸÑÿ©.')) {\n                  setShowRentalModal(false);\n                  resetForm();\n                }\n              } else {\n                setShowRentalModal(false);\n                resetForm();\n              }\n            },\n            className: \"rentals-page-close-btn\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1579,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-customer-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"rentals-page-section-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-section-icon\",\n                children: \"\\uD83D\\uDC64\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1600,\n                columnNumber: 19\n              }, this), \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1599,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"customerName\",\n                children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1604,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"customerName\",\n                value: customerName,\n                onChange: e => setCustomerName(e.target.value),\n                placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644...\",\n                className: \"rentals-page-form-input\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1605,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"customerPhone\",\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 * (11 \\u0631\\u0642\\u0645)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1616,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                id: \"customerPhone\",\n                value: customerPhone,\n                onChange: e => {\n                  const value = e.target.value;\n                  if (value.length <= 11) {\n                    setCustomerPhone(value);\n                  }\n                },\n                placeholder: \"01XXXXXXXXX (11 \\u0631\\u0642\\u0645)\",\n                className: \"rentals-page-form-input\",\n                maxLength: \"11\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1617,\n                columnNumber: 19\n              }, this), customerPhone && !validatePhone(customerPhone) && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"rentals-page-error-text\",\n                children: \"\\u26A0\\uFE0F \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 \\u063A\\u064A\\u0631 \\u0635\\u062D\\u064A\\u062D (\\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 11 \\u0631\\u0642\\u0645 \\u064A\\u0628\\u062F\\u0623 \\u0628\\u0640 01)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1633,\n                columnNumber: 21\n              }, this), customerPhone.length === 11 && validatePhone(customerPhone) && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"rentals-page-success-text\",\n                children: \"\\u2705 \\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1636,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1615,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"customerNotes\",\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1640,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"customerNotes\",\n                value: customerNotes,\n                onChange: e => setCustomerNotes(e.target.value),\n                placeholder: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629...\",\n                className: \"rentals-page-form-textarea\",\n                rows: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1641,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1639,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1598,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-selected-games-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-section-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"rentals-page-section-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-page-section-icon\",\n                  children: \"\\uD83C\\uDFAE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1655,\n                  columnNumber: 21\n                }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629 (\", selectedGames.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1654,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"rentals-page-add-more-btn\",\n                onClick: () => setShowAddMoreGames(true),\n                disabled: games.filter(g => g.status === 'ŸÖÿ™ÿßÿ≠').length === 0,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-page-btn-icon\",\n                  children: \"\\u2795\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1663,\n                  columnNumber: 21\n                }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0639\\u0628\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1658,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1653,\n              columnNumber: 17\n            }, this), selectedGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-no-selected-games\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0623\\u064A \\u0623\\u0644\\u0639\\u0627\\u0628. \\u0627\\u0646\\u0642\\u0631 \\u0639\\u0644\\u0649 \\\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0639\\u0628\\u0629\\\" \\u0644\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1670,\n                columnNumber: 1\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1669,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-selected-games-list\",\n              children: selectedGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-selected-game-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rentals-page-selected-game-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: getGameImageUrl(game),\n                    alt: game.name,\n                    className: \"rentals-page-selected-game-image\",\n                    onError: handleImageError\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1679,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rentals-page-selected-game-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: game.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1686,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1687,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"rentals-page-game-category-badge\",\n                      children: game.category || 'ÿπÿßŸÖ'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1688,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1685,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1678,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rentals-page-selected-game-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rentals-page-duration-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      children: \"\\u0627\\u0644\\u0645\\u062F\\u0629 (\\u062F\\u0642\\u064A\\u0642\\u0629):\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1693,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rentals-page-duration-buttons\",\n                      children: [[15, 30, 45, 60].map(minutes => /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: `rentals-page-duration-btn ${game.duration === minutes ? 'active' : ''}`,\n                        onClick: () => updateGameDuration(game.id, minutes),\n                        children: minutes\n                      }, minutes, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1696,\n                        columnNumber: 33\n                      }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"1\",\n                        value: game.duration,\n                        onChange: e => updateGameDuration(game.id, parseInt(e.target.value) || 15),\n                        className: \"rentals-page-duration-input\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1705,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1694,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rentals-page-game-price-display\",\n                      children: [\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A: \", formatCurrency(calculateGamePrice(game))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1713,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1692,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"rentals-page-remove-game-btn\",\n                    onClick: () => removeGame(game.id),\n                    children: \"\\uD83D\\uDDD1\\uFE0F \\u0625\\u0632\\u0627\\u0644\\u0629\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1717,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1691,\n                  columnNumber: 25\n                }, this)]\n              }, game.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1677,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1675,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1652,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-payment-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"rentals-page-section-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-section-icon\",\n                children: \"\\uD83D\\uDCB0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1732,\n                columnNumber: 19\n              }, this), \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1731,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-payment-method\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentMethod,\n                onChange: e => setPaymentMethod(e.target.value),\n                className: \"rentals-page-payment-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"cash\",\n                  children: \"\\uD83D\\uDCB5 \\u0643\\u0627\\u0634\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1741,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"card\",\n                  children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1742,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"vodafone\",\n                  children: \"\\uD83D\\uDCF1 \\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1743,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1736,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1735,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1730,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-price-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"rentals-page-section-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-page-section-icon\",\n                children: \"\\uD83D\\uDCCA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1750,\n                columnNumber: 19\n              }, this), \"\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0633\\u0639\\u0631\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1749,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-summary-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1755,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [selectedGames.length, \" \\u0644\\u0639\\u0628\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1756,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1754,\n                columnNumber: 19\n              }, this), selectedGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-summary-game-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [game.name, \" (\", game.duration, \" \\u062F\\u0642\\u064A\\u0642\\u0629):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1761,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(calculateGamePrice(game))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1762,\n                  columnNumber: 23\n                }, this)]\n              }, game.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1760,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-summary-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1767,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-page-total-amount\",\n                  children: formatCurrency(calculateTotalPrice())\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1768,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1766,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-summary-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1773,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-page-payment-status-summary\",\n                  children: \"\\uD83D\\uDCB0 \\u0645\\u062F\\u0641\\u0648\\u0639 \\u0643\\u0627\\u0645\\u0644\\u0627\\u064B \\u0639\\u0646\\u062F \\u0627\\u0644\\u0628\\u062F\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1774,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1772,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1753,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rentals-page-btn-cancel\",\n            onClick: () => {\n              setShowRentalModal(false);\n              resetForm();\n            },\n            children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1781,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `rentals-page-btn-confirm ${!customerName || !validatePhone(customerPhone) || selectedGames.length === 0 ? 'disabled' : ''}`,\n            onClick: handleStartRentalEnhanced,\n            disabled: !customerName || !validatePhone(customerPhone) || selectedGames.length === 0,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-btn-icon\",\n              children: \"\\uD83D\\uDE80\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1795,\n              columnNumber: 17\n            }, this), \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1790,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1780,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1573,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1572,\n      columnNumber: 9\n    }, this), showAddMoreGames && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-page-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-page-modal rentals-page-add-games-modal\",\n        ref: addGamesModalRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-page-header-icon\",\n              children: \"\\uD83C\\uDFAE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1809,\n              columnNumber: 17\n            }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1808,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAddMoreGames(false),\n            className: \"rentals-page-close-btn\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1812,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1807,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-page-available-games-list\",\n            children: [getAvailableGamesForAddition().map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-available-game-item\",\n              onClick: () => {\n                handleAddGameFromModal(game);\n                // ÿπŸÜÿØ ÿßÿÆÿ™Ÿäÿßÿ± ŸÑÿπÿ®ÿ©ÿå ÿßŸÑÿπŸàÿØÿ© ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© ÿ•ŸÑŸâ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\n                setShowAddMoreGames(false);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getGameImageUrl(game),\n                alt: game.name,\n                className: \"rentals-page-available-game-image\",\n                onError: handleImageError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1832,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-page-available-game-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: game.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1839,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1840,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-page-game-category-badge\",\n                  children: game.category || 'ÿπÿßŸÖ'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1841,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1838,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"rentals-page-add-game-btn\",\n                children: \"\\u2795 \\u0625\\u0636\\u0627\\u0641\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1843,\n                columnNumber: 21\n              }, this)]\n            }, game.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1823,\n              columnNumber: 19\n            }, this)), getAvailableGamesForAddition().length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-page-no-available-games\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629 \\u0644\\u0644\\u0625\\u0636\\u0627\\u0641\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1851,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1850,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1821,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1820,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-page-modal-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rentals-page-btn-close\",\n            onClick: () => setShowAddMoreGames(false),\n            children: \"\\u0625\\u063A\\u0644\\u0627\\u0642\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1858,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1857,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1806,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1805,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1220,\n    columnNumber: 5\n  }, this);\n};\n_s3(Rentals, \"RU5NhcDuSgC3rneZVeLc6+rheKo=\", false, function () {\n  return [useAuth];\n});\n_c3 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"QuickActionsMenu\");\n$RefreshReg$(_c2, \"RentalActionsDropdown\");\n$RefreshReg$(_c3, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","useAuth","api","jsxDEV","_jsxDEV","showNotification","type","message","oldNotifications","document","querySelectorAll","forEach","n","style","animation","setTimeout","remove","notification","createElement","className","backgroundColor","borderColor","cssText","innerHTML","replace","body","appendChild","parentElement","getElementById","id","textContent","head","validatePhone","phone","phoneRegex","test","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","formatTime","dateString","date","Date","hours","getHours","minutes","getMinutes","toString","padStart","getGameImageUrl","game","imageUrl","image_url","external_image_url","thumbnail_url","startsWith","handleImageError","e","target","onerror","src","QuickActionsMenu","onActionClick","_s","showMenu","setShowMenu","menuRef","handleClickOutside","event","current","contains","addEventListener","removeEventListener","ref","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","RentalActionsDropdown","rental","onEndRental","onEndOpenTime","_s2","showDropdown","setShowDropdown","dropdownRef","isOpenTime","duration_minutes","_c2","Rentals","_s3","user","loading","setLoading","games","setGames","activeRentals","setActiveRentals","completedRentals","setCompletedRentals","isEmployee","role","isManager","showRentalModal","setShowRentalModal","showAddMoreGames","setShowAddMoreGames","selectedGames","setSelectedGames","customerName","setCustomerName","customerPhone","setCustomerPhone","customerNotes","setCustomerNotes","paymentMethod","setPaymentMethod","currentShift","setCurrentShift","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","statistics","setStatistics","availableGames","totalGames","todayRevenue","todayRentals","shiftRevenue","monthlyRevenue","uniqueCustomers","modalRef","addGamesModalRef","currentEgyptTime","setCurrentEgyptTime","filteredGames","console","log","length","filtered","filter","isAvailable","status","is_active","trim","_game$name","gameName","name","toLowerCase","searchTermLower","includes","gameCategory","category","getEgyptTimeNow","now","egyptTime","toLocaleString","timeZone","seconds","getSeconds","formatted","updateShiftStats","branch_id","response","get","success","data","stats","prev","total_revenue","active_rentals","today_revenue","completed_rentals","error","warn","updateTime","interval","setInterval","clearInterval","loadShiftData","loadData","window","confirm","resetForm","loadGames","gamesError","loadActiveRentals","rentalsError","loadCompletedRentals","completedError","updateStatisticsData","statsError","gamesResponse","params","include_images","processGamesData","gamesData","Array","isArray","Object","values","isActive","allGames","map","parseInt","Math","random","price_per_15min","condition","game_id","description","brand","model","newStats","today_rentals","shift_revenue","monthly_revenue","unique_customers","rentals","limit","calculateGamePrice","durationMinutes","actualDuration","duration","pricePer15Min","units","ceil","calculateTotalPrice","total","handleStartRentalEnhanced","rentalPromises","rentalData","customer_name","customer_phone","payment_method","notes","undefined","shift_id","total_amount","post","results","Promise","all","allSuccess","every","result","totalAmount","errorMessages","join","handleEndRental","confirmEnd","game_name","put","handleEndOpenTime","prompt","isNaN","confirmMessage","final_amount","payment_status","paid_amount","handleGameClick","isAlreadySelected","some","g","handleAddGameFromModal","removeGame","gameId","updateGameDuration","newDuration","getAvailableGamesForAddition","available","handleQuickStartRental","handleQuickAction","action","startShift","handleEndCurrentShift","startTime","start_time","shiftDuration","floor","end_time","toISOString","reason","shiftSummary","errorMessage","calculateShiftDuration","startTimeStr","startDate","diffMs","getTime","totalMinutes","calculateTimeRemaining","endTime","remainingMs","remainingMinutes","calculateElapsedTime","elapsedMs","elapsedMinutes","calculateEndTime","placeholder","value","onChange","alt","onError","substring","stopPropagation","disabled","timeDisplay","endTimeDisplay","actual_end_time","htmlFor","required","maxLength","rows","min","_c3","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== ÿ™ÿπÿ±ŸäŸÅ ÿØÿßŸÑÿ© showNotification ====================\r\nconst showNotification = (type, message) => {\r\n  const oldNotifications = document.querySelectorAll('.custom-notification');\r\n  oldNotifications.forEach(n => {\r\n    n.style.animation = 'slideOutRight 0.3s ease';\r\n    setTimeout(() => n.remove(), 300);\r\n  });\r\n  \r\n  const notification = document.createElement('div');\r\n  notification.className = 'custom-notification';\r\n  \r\n  let backgroundColor, borderColor;\r\n  switch(type) {\r\n    case 'success':\r\n      backgroundColor = '#10b981';\r\n      borderColor = '#059669';\r\n      break;\r\n    case 'error':\r\n      backgroundColor = '#ef4444';\r\n      borderColor = '#dc2626';\r\n      break;\r\n    case 'warning':\r\n      backgroundColor = '#f59e0b';\r\n      borderColor = '#d97706';\r\n      break;\r\n    case 'info':\r\n    default:\r\n      backgroundColor = '#3b82f6';\r\n      borderColor = '#2563eb';\r\n      break;\r\n  }\r\n  \r\n  notification.style.cssText = `\r\n    position: fixed;\r\n    top: 20px;\r\n    right: 20px;\r\n    padding: 15px 20px;\r\n    border-radius: 8px;\r\n    color: white;\r\n    background-color: ${backgroundColor};\r\n    font-weight: bold;\r\n    z-index: 9999;\r\n    min-width: 300px;\r\n    max-width: 500px;\r\n    box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n    animation: slideInRight 0.3s ease;\r\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n    direction: rtl;\r\n    border-left: 4px solid ${borderColor};\r\n  `;\r\n  \r\n  notification.innerHTML = `\r\n    <div style=\"display: flex; justify-content: space-between; align-items: flex-start; gap: 10px;\">\r\n      <div style=\"flex: 1; white-space: pre-line;\">${message.replace(/<br>/g, '\\n')}</div>\r\n      <button onclick=\"this.parentElement.parentElement.remove()\" \r\n              style=\"background: rgba(255,255,255,0.2); \r\n                     border: none; \r\n                     color: white; \r\n                     font-size: 16px; \r\n                     cursor: pointer; \r\n                     padding: 0 8px;\r\n                     border-radius: 4px;\r\n                     height: 24px;\r\n                     line-height: 24px;\">\r\n        ‚úï\r\n      </button>\r\n    </div>\r\n  `;\r\n  \r\n  document.body.appendChild(notification);\r\n  \r\n  setTimeout(() => {\r\n    if (notification.parentElement) {\r\n      notification.style.animation = 'slideOutRight 0.3s ease';\r\n      setTimeout(() => notification.remove(), 300);\r\n    }\r\n  }, 5000);\r\n  \r\n  return notification;\r\n};\r\n\r\n// ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ŸÜŸäŸÖŸäÿ¥ŸÜ\r\nif (!document.getElementById('notification-styles')) {\r\n  const style = document.createElement('style');\r\n  style.id = 'notification-styles';\r\n  style.textContent = `\r\n    @keyframes slideInRight {\r\n      from {\r\n        transform: translateX(100%);\r\n        opacity: 0;\r\n      }\r\n      to {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n      }\r\n    }\r\n    \r\n    @keyframes slideOutRight {\r\n      from {\r\n        transform: translateX(0);\r\n        opacity: 1;\r\n      }\r\n      to {\r\n        transform: translateX(100%);\r\n        opacity: 0;\r\n      }\r\n    }\r\n  `;\r\n  document.head.appendChild(style);\r\n}\r\n\r\n// ==================== ÿØŸàÿßŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ© ====================\r\nconst validatePhone = (phone) => {\r\n  const phoneRegex = /^01[0-9]{9}$/;\r\n  return phoneRegex.test(phone);\r\n};\r\n\r\nconst formatCurrency = (amount) => {\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  try {\r\n    if (!dateString) return '--:--';\r\n    const date = new Date(dateString);\r\n    const hours = date.getHours();\r\n    const minutes = date.getMinutes();\r\n    \r\n    return `${hours}:${minutes.toString().padStart(2, '0')}`;\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\n// ==================== ÿØŸàÿßŸÑ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ© ŸÑŸÑÿµŸàÿ± ====================\r\nconst getGameImageUrl = (game) => {\r\n  if (!game) return '/images/default-game.jpg';\r\n  \r\n  let imageUrl = game.image_url || game.external_image_url || game.thumbnail_url;\r\n  \r\n  if (!imageUrl) return '/images/default-game.jpg';\r\n  \r\n  if (imageUrl.startsWith('http://') || imageUrl.startsWith('https://')) {\r\n    return imageUrl;\r\n  }\r\n  \r\n  if (imageUrl.startsWith('/')) {\r\n    return imageUrl;\r\n  }\r\n  \r\n  return `/images/${imageUrl}`;\r\n};\r\n\r\nconst handleImageError = (e) => {\r\n  e.target.onerror = null;\r\n  e.target.src = '/images/default-game.jpg';\r\n};\r\n\r\n// ==================== ŸÖŸÉŸàŸÜÿßÿ™ ŸÅÿ±ÿπŸäÿ© ====================\r\n\r\n// ŸÖŸÉŸàŸÜ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ≥ÿ±Ÿäÿπÿ©\r\nconst QuickActionsMenu = ({ onActionClick }) => {\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const menuRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n        setShowMenu(false);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n  \r\n  return (\r\n    <div className=\"quick-actions-container\" ref={menuRef}>\r\n      <button \r\n        className=\"quick-actions-toggle\"\r\n        onClick={() => setShowMenu(!showMenu)}\r\n        title=\"ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ≥ÿ±Ÿäÿπÿ©\"\r\n      >\r\n        <span className=\"quick-actions-icon\">‚ö°</span>\r\n        <span className=\"quick-actions-text\">ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿ≥ÿ±Ÿäÿπÿ©</span>\r\n        <span className=\"quick-actions-arrow\">‚ñº</span>\r\n      </button>\r\n      \r\n      {showMenu && (\r\n        <div className=\"quick-actions-menu\">\r\n          <button \r\n            className=\"quick-action-item\"\r\n            onClick={() => {\r\n              onActionClick('startShift');\r\n              setShowMenu(false);\r\n            }}\r\n          >\r\n            <span className=\"quick-action-icon\">üöÄ</span>\r\n            <span className=\"quick-action-text\">ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ</span>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"quick-action-item\"\r\n            onClick={() => {\r\n              onActionClick('quickRental');\r\n              setShowMenu(false);\r\n            }}\r\n          >\r\n            <span className=\"quick-action-icon\">üéÆ</span>\r\n            <span className=\"quick-action-text\">ÿ™ÿ£ÿ¨Ÿäÿ± ÿ≥ÿ±Ÿäÿπ</span>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"quick-action-item\"\r\n            onClick={() => {\r\n              onActionClick('refreshData');\r\n              setShowMenu(false);\r\n            }}\r\n          >\r\n            <span className=\"quick-action-icon\">üîÑ</span>\r\n            <span className=\"quick-action-text\">ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</span>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"quick-action-item\"\r\n            onClick={() => {\r\n              onActionClick('viewStats');\r\n              setShowMenu(false);\r\n            }}\r\n          >\r\n            <span className=\"quick-action-icon\">üìä</span>\r\n            <span className=\"quick-action-text\">ÿπÿ±ÿ∂ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™</span>\r\n          </button>\r\n          \r\n          <button \r\n            className=\"quick-action-item\"\r\n            onClick={() => {\r\n              onActionClick('endShift');\r\n              setShowMenu(false);\r\n            }}\r\n          >\r\n            <span className=\"quick-action-icon\">üèÅ</span>\r\n            <span className=\"quick-action-text\">ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ŸÖŸÉŸàŸÜ ÿ≤ÿ± ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑŸÖŸÜÿ≥ÿØŸÑ ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\nconst RentalActionsDropdown = ({ rental, onEndRental, onEndOpenTime }) => {\r\n  const [showDropdown, setShowDropdown] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowDropdown(false);\r\n      }\r\n    };\r\n    \r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n  \r\n  const isOpenTime = rental.duration_minutes === 0;\r\n  \r\n  return (\r\n    <div className=\"rentals-page-actions-dropdown-container\" ref={dropdownRef}>\r\n      <button \r\n        className=\"rentals-page-actions-btn\"\r\n        onClick={() => setShowDropdown(!showDropdown)}\r\n        title=\"ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™\"\r\n      >\r\n        <span className=\"rentals-page-actions-icon\">‚öôÔ∏è</span>\r\n        <span className=\"rentals-page-actions-text\">ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™</span>\r\n        <span className=\"rentals-page-dropdown-arrow\">‚ñº</span>\r\n      </button>\r\n      \r\n      {showDropdown && (\r\n        <div className=\"rentals-page-actions-dropdown-menu\">\r\n          {isOpenTime ? (\r\n            <button \r\n              className=\"rentals-page-dropdown-item rentals-page-end-time-item\"\r\n              onClick={() => {\r\n                onEndOpenTime(rental);\r\n                setShowDropdown(false);\r\n              }}\r\n            >\r\n              <span className=\"rentals-page-dropdown-icon\">‚èπÔ∏è</span>\r\n              <span className=\"rentals-page-dropdown-text\">ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™</span>\r\n            </button>\r\n          ) : (\r\n            <button \r\n              className=\"rentals-page-dropdown-item rentals-page-end-item\"\r\n              onClick={() => {\r\n                onEndRental(rental);\r\n                setShowDropdown(false);\r\n              }}\r\n            >\r\n              <span className=\"rentals-page-dropdown-icon\">‚úÖ</span>\r\n              <span className=\"rentals-page-dropdown-text\">ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±</span>\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== ŸÖŸÉŸàŸÜ Rentals ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿä ====================\r\nconst Rentals = () => {\r\n  // ==================== STATES ====================\r\n  const { user } = useAuth();\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [games, setGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const isEmployee = user?.role === 'employee';\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n  \r\n  const [showRentalModal, setShowRentalModal] = useState(false);\r\n  const [showAddMoreGames, setShowAddMoreGames] = useState(false);\r\n  \r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [customerPhone, setCustomerPhone] = useState('');\r\n  const [customerNotes, setCustomerNotes] = useState('');\r\n  const [paymentMethod, setPaymentMethod] = useState('cash');\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  \r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  \r\n  const [statistics, setStatistics] = useState({\r\n    availableGames: 0,\r\n    totalGames: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0,\r\n    activeRentals: 0,\r\n    shiftRevenue: 0,\r\n    monthlyRevenue: 0,\r\n    uniqueCustomers: 0\r\n  });\r\n  \r\n  const modalRef = useRef(null);\r\n  const addGamesModalRef = useRef(null);\r\n\r\n  // ==================== TIME FUNCTIONS ====================\r\n  const [currentEgyptTime, setCurrentEgyptTime] = useState('');\r\n\r\n  // ==================== USE MEMO FOR FILTERED GAMES ====================\r\n  const filteredGames = useMemo(() => {\r\n    console.log('üîÑ ÿ≠ÿ≥ÿßÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿµŸÅÿßÿ©...');\r\n    \r\n    if (!games || games.length === 0) {\r\n      console.log('üì≠ ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÑÿπÿßÿ® ŸÑÿ™ÿµŸÅŸäÿ™Ÿáÿß');\r\n      return [];\r\n    }\r\n    \r\n    let filtered = games.filter(game => {\r\n      const isAvailable = game.status === 'ŸÖÿ™ÿßÿ≠' && \r\n        (game.is_active === 1 || game.is_active === true);\r\n      \r\n      if (!isAvailable) {\r\n        return false;\r\n      }\r\n      \r\n      // ÿßŸÑÿ®ÿ≠ÿ´ ÿ≠ÿ≥ÿ® ÿßŸÑÿßÿ≥ŸÖ\r\n      if (searchTerm && searchTerm.trim() !== '') {\r\n        const gameName = game.name?.toLowerCase() || '';\r\n        const searchTermLower = searchTerm.toLowerCase();\r\n        if (!gameName.includes(searchTermLower)) {\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      // ÿßŸÑÿ®ÿ≠ÿ´ ÿ≠ÿ≥ÿ® ÿßŸÑŸÅÿ¶ÿ©\r\n      if (selectedCategory && selectedCategory.trim() !== '') {\r\n        const gameCategory = game.category || '';\r\n        if (gameCategory !== selectedCategory) {\r\n          return false;\r\n        }\r\n      }\r\n      \r\n      return true;\r\n    });\r\n    \r\n    console.log(`‚úÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿµŸÅÿßÿ©: ${filtered.length} ŸÖŸÜ ${games.length}`);\r\n    return filtered;\r\n  }, [games, searchTerm, selectedCategory]);\r\n\r\n  const getEgyptTimeNow = () => {\r\n    const now = new Date();\r\n    const egyptTime = new Date(now.toLocaleString(\"en-US\", {timeZone: \"Africa/Cairo\"}));\r\n    \r\n    const hours = egyptTime.getHours();\r\n    const minutes = egyptTime.getMinutes();\r\n    const seconds = egyptTime.getSeconds();\r\n    \r\n    return {\r\n      hours: hours,\r\n      minutes: minutes,\r\n      seconds: seconds,\r\n      formatted: `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\r\n    };\r\n  };\r\n\r\n  // ==================== ÿØÿßŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ====================\r\n  const updateShiftStats = useCallback(async () => {\r\n    try {\r\n      if (!currentShift || !user?.branch_id) return;\r\n      \r\n      console.log('üìä ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸä');\r\n      \r\n      const response = await api.get(`/shifts/${currentShift.id}/stats`);\r\n      \r\n      if (response.success && response.data) {\r\n        const stats = response.data;\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          shiftRevenue: stats.total_revenue || 0,\r\n          activeRentals: stats.active_rentals || 0,\r\n          todayRevenue: stats.today_revenue || 0,\r\n          todayRentals: stats.completed_rentals || 0\r\n        }));\r\n        \r\n        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', stats);\r\n      }\r\n    } catch (error) {\r\n      console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ÿ≠ÿØŸäÿ´ ÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', error.message);\r\n    }\r\n  }, [currentShift, user?.branch_id]);\r\n\r\n  useEffect(() => {\r\n    const updateTime = () => {\r\n      setCurrentEgyptTime(getEgyptTimeNow().formatted);\r\n    };\r\n    \r\n    updateTime();\r\n    const interval = setInterval(updateTime, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // ==================== USE EFFECTS ====================\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log('üîç User loaded:', user.name);\r\n      loadShiftData();\r\n      loadData();\r\n      \r\n      const interval = setInterval(() => {\r\n        loadData();\r\n      }, 60000);\r\n      \r\n      return () => {\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n  }, [user]);\r\n  \r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿÆÿßÿ±ÿ¨Ÿáÿß\r\n      if (showRentalModal && modalRef.current && !modalRef.current.contains(event.target)) {\r\n        if (selectedGames.length > 0 || customerName || customerPhone) {\r\n          if (window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿü ÿ≥Ÿäÿ™ŸÖ ŸÅŸÇÿØÿßŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿØÿÆŸÑÿ©.')) {\r\n            setShowRentalModal(false);\r\n            resetForm();\r\n          }\r\n        } else {\r\n          setShowRentalModal(false);\r\n        }\r\n      }\r\n      \r\n      // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿπŸÜÿØ ÿßŸÑŸÜŸÇÿ± ÿÆÿßÿ±ÿ¨Ÿáÿß\r\n      if (showAddMoreGames && addGamesModalRef.current && !addGamesModalRef.current.contains(event.target)) {\r\n        setShowAddMoreGames(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    document.addEventListener('touchstart', handleClickOutside);\r\n    \r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n      document.removeEventListener('touchstart', handleClickOutside);\r\n    };\r\n  }, [showRentalModal, showAddMoreGames, selectedGames, customerName, customerPhone]);\r\n\r\n  // ==================== API FUNCTIONS ====================\r\n  const loadShiftData = async () => {\r\n    try {\r\n      console.log('üîÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™...');\r\n      \r\n      const response = await api.get('/shifts/active');\r\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ¥ŸäŸÅÿ™:', response);\r\n      \r\n      if (response.success && response.data) {\r\n        console.log('‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑:', response.data);\r\n        setCurrentShift(response.data);\r\n      } else {\r\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\r\n        setCurrentShift(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n      setCurrentShift(null);\r\n    }\r\n  };\r\n\r\n  const loadData = useCallback(async () => {\r\n    try {\r\n      if (!user?.branch_id) {\r\n        console.log('‚ùå ŸÑÿß ŸäŸàÿ¨ÿØ branch_id ŸÑŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ');\r\n        return;\r\n      }\r\n      \r\n      console.log('üîß ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑŸÑŸÅÿ±ÿπ:', user.branch_id);\r\n      \r\n      await loadShiftData();\r\n      \r\n      try {\r\n        await loadGames();\r\n      } catch (gamesError) {\r\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ£ŸÑÿπÿßÿ®ÿå ÿßÿ≥ÿ™ŸÖÿ±:', gamesError);\r\n      }\r\n      \r\n      try {\r\n        await loadActiveRentals();\r\n      } catch (rentalsError) {\r\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©ÿå ÿßÿ≥ÿ™ŸÖÿ±:', rentalsError);\r\n      }\r\n      \r\n      if (!isEmployee) {\r\n        try {\r\n          await loadCompletedRentals();\r\n        } catch (completedError) {\r\n          console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:', completedError);\r\n        }\r\n      }\r\n      \r\n      try {\r\n        await updateStatisticsData();\r\n      } catch (statsError) {\r\n        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™:', statsError);\r\n      }\r\n      \r\n      console.log('‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅÿßÿØÿ≠ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\r\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ÿå ÿ¨ÿßÿ±Ÿä ÿßŸÑÿπŸÖŸÑ ÿπŸÑŸâ ÿßŸÑÿ≠ŸÑ');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [user, isEmployee]);\r\n\r\n  const loadGames = async () => {\r\n    try {\r\n      if (!user?.branch_id) return;\r\n      \r\n      console.log(`üéÆ ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ŸÑŸÑŸÅÿ±ÿπ: ${user.branch_id}`);\r\n      \r\n      const gamesResponse = await api.get('/games', {\r\n        params: {\r\n          branch_id: user.branch_id,\r\n          status: 'ŸÖÿ™ÿßÿ≠',\r\n          include_images: true\r\n        }\r\n      });\r\n      \r\n      console.log('üéÆ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ®:', gamesResponse);\r\n      \r\n      if (gamesResponse.success) {\r\n        processGamesData(gamesResponse.data);\r\n      } else {\r\n        console.log('‚ùå ŸÅÿ¥ŸÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®:', gamesResponse.message);\r\n        showNotification('error', 'ŸÅÿ¥ŸÑ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®: ' + gamesResponse.message);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®:', error);\r\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ£ŸÑÿπÿßÿ®');\r\n    }\r\n  };\r\n\r\n  const processGamesData = (data) => {\r\n    let gamesData = [];\r\n    \r\n    if (Array.isArray(data)) {\r\n      gamesData = data;\r\n    } else if (data && Array.isArray(data.data)) {\r\n      gamesData = data.data;\r\n    } else if (data && typeof data === 'object') {\r\n      gamesData = Object.values(data);\r\n    }\r\n    \r\n    console.log(`üìä ÿπÿØÿØ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑÿÆÿßŸÖ: ${gamesData.length}`);\r\n    \r\n    const availableGames = gamesData.filter(game => {\r\n      const isActive = game.is_active === 1 || game.is_active === true;\r\n      const isAvailable = game.status === 'ŸÖÿ™ÿßÿ≠' || game.status === 'available';\r\n      return isActive && isAvailable;\r\n    });\r\n    \r\n    console.log(`‚úÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ÿ®ÿπÿØ ÿßŸÑÿ™ÿµŸÅŸäÿ©: ${availableGames.length}`);\r\n    \r\n    const allGames = availableGames.map(game => ({\r\n      id: parseInt(game.id) || Math.random(),\r\n      name: game.name || 'ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ',\r\n      status: game.status || 'ŸÖÿ™ÿßÿ≠',\r\n      price_per_15min: parseFloat(game.price_per_15min) || 100,\r\n      category: game.category || 'ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ',\r\n      condition: game.condition || 'ÿ¨ŸäÿØ',\r\n      image_url: game.image_url,\r\n      external_image_url: game.external_image_url,\r\n      thumbnail_url: game.thumbnail_url,\r\n      is_active: game.is_active || 1,\r\n      branch_id: game.branch_id,\r\n      game_id: parseInt(game.id),\r\n      description: game.description || '',\r\n      brand: game.brand || '',\r\n      model: game.model || ''\r\n    }));\r\n    \r\n    console.log(`üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©:`, allGames.length);\r\n    setGames(allGames);\r\n    \r\n    // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿØÿØ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©\r\n    setStatistics(prev => ({\r\n      ...prev,\r\n      availableGames: allGames.length,\r\n      totalGames: allGames.length\r\n    }));\r\n  };\r\n\r\n  const updateStatisticsData = async () => {\r\n    try {\r\n      console.log('üí∞ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™...');\r\n      \r\n      const response = await api.get('/dashboard/stats/current');\r\n      \r\n      if (response.success && response.data) {\r\n        const stats = response.data;\r\n        \r\n        const newStats = {\r\n          availableGames: games.length,\r\n          totalGames: games.length,\r\n          todayRevenue: stats.today_revenue || 0,\r\n          todayRentals: stats.today_rentals || 0,\r\n          activeRentals: activeRentals.length,\r\n          shiftRevenue: stats.shift_revenue || 0,\r\n          monthlyRevenue: stats.monthly_revenue || 0,\r\n          uniqueCustomers: stats.unique_customers || 0\r\n        };\r\n        \r\n        console.log('üìä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑŸÖÿ≠ÿØÿ´ÿ©:', newStats);\r\n        setStatistics(newStats);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™:', error);\r\n      \r\n      // ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≠ŸÑŸäÿ© ŸÉÿ®ÿØŸäŸÑ\r\n      setStatistics(prev => ({\r\n        ...prev,\r\n        availableGames: games.length,\r\n        totalGames: games.length,\r\n        activeRentals: activeRentals.length\r\n      }));\r\n    }\r\n  };\r\n\r\n  const loadActiveRentals = async () => {\r\n    try {\r\n      const response = await api.get('/rentals/active/separated', {\r\n        params: { branch_id: user.branch_id }\r\n      });\r\n      \r\n      if (response.success) {\r\n        const rentals = response.data;\r\n        setActiveRentals(rentals);\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿπÿØÿØ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          activeRentals: rentals.length\r\n        }));\r\n        \r\n        console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${rentals.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÜÿ¥ÿ∑`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©:', error);\r\n    }\r\n  };\r\n\r\n  const loadCompletedRentals = async () => {\r\n    try {\r\n      const response = await api.get('/rentals/completed', {\r\n        params: { branch_id: user.branch_id, limit: 50 }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setCompletedRentals(response.data);\r\n        console.log(`‚úÖ ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${response.data.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖŸÉÿ™ŸÖŸÑ`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©:', error);\r\n    }\r\n  };\r\n\r\n  const calculateGamePrice = (game, durationMinutes = null) => {\r\n    if (!game) return 0;\r\n    \r\n    const actualDuration = durationMinutes || game.duration || 15;\r\n    const pricePer15Min = game.price_per_15min || 100;\r\n    const units = Math.ceil(actualDuration / 15);\r\n    \r\n    return pricePer15Min * units;\r\n  };\r\n\r\n  const calculateTotalPrice = () => {\r\n    let total = 0;\r\n    selectedGames.forEach(game => {\r\n      total += calculateGamePrice(game);\r\n    });\r\n    \r\n    return total;\r\n  };\r\n\r\n  const handleStartRentalEnhanced = async () => {\r\n    try {\r\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ\r\n      if (!validatePhone(customerPhone)) {\r\n        showNotification('error', 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠. Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ 11 ÿ±ŸÇŸÖ Ÿäÿ®ÿØÿ£ ÿ®ŸÄ 01');\r\n        return;\r\n      }\r\n\r\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\r\n      if (!currentShift) {\r\n        showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\r\n        return;\r\n      }\r\n\r\n      // ÿ•ŸÜÿ¥ÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖŸÜŸÅÿµŸÑ ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\r\n      const rentalPromises = selectedGames.map(async (game) => {\r\n        const rentalData = {\r\n          game_id: game.id,\r\n          customer_name: customerName,\r\n          customer_phone: customerPhone,\r\n          duration_minutes: game.duration || 15,\r\n          payment_method: paymentMethod,\r\n          notes: customerNotes || undefined,\r\n          shift_id: currentShift.id,\r\n          total_amount: calculateGamePrice(game)\r\n        };\r\n        \r\n        return await api.post('/rentals/advanced', rentalData);\r\n      });\r\n\r\n      // ÿ™ŸÜŸÅŸäÿ∞ ÿ¨ŸÖŸäÿπ ÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n      const results = await Promise.all(rentalPromises);\r\n      \r\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨\r\n      const allSuccess = results.every(result => result.success);\r\n      \r\n      if (allSuccess) {\r\n        const totalAmount = calculateTotalPrice();\r\n        \r\n        showNotification('success', `ÿ™ŸÖ ÿ®ÿØÿ° ${selectedGames.length} ÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠\\nÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${formatCurrency(totalAmount)}`);\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          todayRevenue: prev.todayRevenue + totalAmount,\r\n          todayRentals: prev.todayRentals + selectedGames.length,\r\n          shiftRevenue: prev.shiftRevenue + totalAmount\r\n        }));\r\n        \r\n        await loadActiveRentals();\r\n        await updateShiftStats();\r\n        resetForm();\r\n        setShowRentalModal(false); // ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã\r\n      } else {\r\n        const errorMessages = results\r\n          .filter(result => !result.success)\r\n          .map(result => result.message)\r\n          .join('\\n');\r\n        \r\n        showNotification('error', `ŸÅÿ¥ŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:\\n${errorMessages}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±:', error);\r\n      showNotification('error', error.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n    }\r\n  };\r\n\r\n  const handleEndRental = async (rental) => {\r\n    try {\r\n      const confirmEnd = window.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ${rental.game_name} ŸÑŸÑÿπŸÖŸäŸÑ ${rental.customer_name}ÿü`);\r\n      if (!confirmEnd) return;\r\n\r\n      const response = await api.put(`/rentals/${rental.id}/complete-advanced`, {\r\n        payment_method: rental.payment_method || 'ŸÉÿßÿ¥'\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠\\nÿßŸÑŸÖÿ®ŸÑÿ∫: ${formatCurrency(rental.total_amount)}`);\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          activeRentals: prev.activeRentals - 1\r\n        }));\r\n        \r\n        await loadActiveRentals();\r\n        await loadCompletedRentals();\r\n        await updateShiftStats();\r\n      } else {\r\n        showNotification('error', response.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±:', error);\r\n      showNotification('error', error.message);\r\n    }\r\n  };\r\n\r\n  const handleEndOpenTime = async (rental) => {\r\n    try {\r\n      const minutes = prompt(`ÿ£ÿØÿÆŸÑ ÿßŸÑŸÖÿØÿ© ÿßŸÑŸÅÿπŸÑŸäÿ© ÿ®ÿßŸÑÿØŸÇÿßÿ¶ŸÇ ŸÑŸÑÿπÿ®ÿ© ${rental.game_name}:`, '30');\r\n      if (!minutes || isNaN(minutes) || parseInt(minutes) < 1) {\r\n        showNotification('error', 'Ÿäÿ¨ÿ® ÿ•ÿØÿÆÿßŸÑ ŸÖÿØÿ© ÿµÿ≠Ÿäÿ≠ÿ©');\r\n        return;\r\n      }\r\n\r\n      const duration = parseInt(minutes);\r\n      const pricePer15Min = rental.price_per_15min || 100;\r\n      const units = Math.ceil(duration / 15);\r\n      const totalAmount = pricePer15Min * units;\r\n\r\n      const confirmMessage = `\r\nÿ™ŸÅÿßÿµŸäŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠:\r\nÿßŸÑŸÑÿπÿ®ÿ©: ${rental.game_name}\r\nÿßŸÑÿπŸÖŸäŸÑ: ${rental.customer_name}\r\nÿßŸÑŸÖÿØÿ© ÿßŸÑŸÅÿπŸÑŸäÿ©: ${duration} ÿØŸÇŸäŸÇÿ©\r\nÿπÿØÿØ ÿßŸÑŸàÿ≠ÿØÿßÿ™: ${units} √ó ${formatCurrency(pricePer15Min)}\r\nÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä: ${formatCurrency(totalAmount)}\r\n\r\nŸáŸÑ ÿ™ÿ±ŸäÿØ ÿßŸÑŸÖÿ™ÿßÿ®ÿπÿ©ÿü`;\r\n\r\n      if (!window.confirm(confirmMessage)) return;\r\n\r\n      const response = await api.put(`/rentals/${rental.id}/complete`, {\r\n        final_amount: totalAmount,\r\n        payment_status: 'ŸÖÿØŸÅŸàÿπ',\r\n        payment_method: rental.payment_method || 'ŸÉÿßÿ¥',\r\n        paid_amount: totalAmount,\r\n        notes: `ÿ•ŸÜŸáÿßÿ° ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠ - ÿßŸÑŸÖÿØÿ©: ${duration} ÿØŸÇŸäŸÇÿ©`\r\n      });\r\n      \r\n      if (response.success) {\r\n        showNotification('success', `‚úÖ ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠ ŸàÿØŸÅÿπ ${formatCurrency(totalAmount)} ÿ®ŸÜÿ¨ÿßÿ≠`);\r\n        \r\n        // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          todayRevenue: prev.todayRevenue + totalAmount,\r\n          shiftRevenue: prev.shiftRevenue + totalAmount,\r\n          activeRentals: prev.activeRentals - 1\r\n        }));\r\n        \r\n        await loadActiveRentals();\r\n        await loadCompletedRentals();\r\n        await updateShiftStats();\r\n      } else {\r\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖŸÅÿ™Ÿàÿ≠:', error);\r\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n    }\r\n  };\r\n\r\n  // ==================== ÿØŸàÿßŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ====================\r\n  const handleGameClick = (game) => {\r\n    console.log('üéØ ÿßŸÑŸÜŸÇÿ± ÿπŸÑŸâ ŸÑÿπÿ®ÿ©:', game.name, game.id);\r\n    \r\n    if (!currentShift) {\r\n      console.log('‚ùå ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\r\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã ŸÇÿ®ŸÑ ÿ®ÿØÿ° ÿ£Ÿä ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™');\r\n      return;\r\n    }\r\n    \r\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\r\n    \r\n    if (!isAlreadySelected) {\r\n      console.log('‚ûï ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÑÿπÿ®ÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©:', game.name);\r\n      setSelectedGames(prev => [...prev, {\r\n        ...game,\r\n        duration: 15 // ŸÖÿØÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\r\n      }]);\r\n    }\r\n    \r\n    if (!showRentalModal) {\r\n      console.log('üöÄ ŸÅÿ™ÿ≠ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n      setShowRentalModal(true);\r\n    }\r\n    \r\n    showNotification('info', `ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ÿ•ŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±`);\r\n  };\r\n\r\n  const handleAddGameFromModal = (game) => {\r\n    console.log('‚ûï ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ© ŸÖŸÜ ÿßŸÑŸÜÿßŸÅÿ∞ÿ©:', game.name);\r\n    \r\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\r\n    \r\n    if (!isAlreadySelected) {\r\n      setSelectedGames(prev => [...prev, {\r\n        ...game,\r\n        duration: 15 // ŸÖÿØÿ© ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿäÿ© ŸÑŸÉŸÑ ŸÑÿπÿ®ÿ©\r\n      }]);\r\n    }\r\n    \r\n    // ÿßŸÑÿπŸàÿØÿ© ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© ÿ•ŸÑŸâ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n    setShowAddMoreGames(false);\r\n    showNotification('info', `ÿ™ŸÖÿ™ ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ÿ•ŸÑŸâ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±`);\r\n  };\r\n\r\n  const removeGame = (gameId) => {\r\n    console.log('üóëÔ∏è ÿ•ÿ≤ÿßŸÑÿ© ŸÑÿπÿ®ÿ©:', gameId);\r\n    setSelectedGames(prev => prev.filter(game => game.id !== gameId));\r\n  };\r\n\r\n  const updateGameDuration = (gameId, newDuration) => {\r\n    if (newDuration < 1) {\r\n      removeGame(gameId);\r\n      return;\r\n    }\r\n    \r\n    setSelectedGames(prev => prev.map(game => \r\n      game.id === gameId ? { ...game, duration: newDuration } : game\r\n    ));\r\n  };\r\n\r\n  const getAvailableGamesForAddition = () => {\r\n    const available = games.filter(game => \r\n      game.status === 'ŸÖÿ™ÿßÿ≠' && !selectedGames.some(g => g.id === game.id)\r\n    );\r\n    console.log(`üéÆ ÿ£ŸÑÿπÿßÿ® ŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÑÿ•ÿ∂ÿßŸÅÿ©: ${available.length}`);\r\n    return available;\r\n  };\r\n\r\n  const resetForm = () => {\r\n    console.log('üîÑ ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨');\r\n    setCustomerName('');\r\n    setCustomerPhone('');\r\n    setCustomerNotes('');\r\n    setSelectedGames([]);\r\n    setPaymentMethod('cash');\r\n    setShowAddMoreGames(false);\r\n  };\r\n\r\n  const handleQuickStartRental = () => {\r\n    console.log('‚ö° ÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ÿ≥ÿ±Ÿäÿπ');\r\n    \r\n    if (!currentShift) {\r\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\r\n      return;\r\n    }\r\n    \r\n    setShowRentalModal(true);\r\n    showNotification('info', 'ÿßŸÅÿ™ÿ≠ÿ™ ŸÜÿßŸÅÿ∞ÿ© ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±. ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ£ŸÑÿπÿßÿ® Ÿàÿ•ÿØÿÆÿßŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ.');\r\n  };\r\n\r\n  // ==================== ÿØŸàÿßŸÑ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿßŸÑÿ≥ÿ±Ÿäÿπÿ© ====================\r\n  const handleQuickAction = (action) => {\r\n    switch(action) {\r\n      case 'startShift':\r\n        startShift();\r\n        break;\r\n      case 'quickRental':\r\n        handleQuickStartRental();\r\n        break;\r\n      case 'refreshData':\r\n        loadData();\r\n        showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');\r\n        break;\r\n      case 'viewStats':\r\n        showNotification('info', `\r\nüìä ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿ©:\r\n‚Ä¢ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©: ${statistics.availableGames}\r\n‚Ä¢ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©: ${statistics.activeRentals}\r\n‚Ä¢ ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑŸäŸàŸÖ: ${formatCurrency(statistics.todayRevenue)}\r\n‚Ä¢ ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸäŸàŸÖ: ${statistics.todayRentals}\r\n${isManager ? `‚Ä¢ ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™: ${formatCurrency(statistics.shiftRevenue)}` : ''}\r\n        `);\r\n        break;\r\n      case 'endShift':\r\n        handleEndCurrentShift();\r\n        break;\r\n      default:\r\n        console.log('ÿ•ÿ¨ÿ±ÿßÿ° ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ:', action);\r\n    }\r\n  };\r\n\r\n  // ==================== ÿØŸàÿßŸÑ ÿßŸÑÿ¥ŸäŸÅÿ™ ====================\r\n  const startShift = async () => {\r\n    try {\r\n      showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™...');\r\n      const response = await api.startShift();\r\n      if (response.success && response.data) {\r\n        setCurrentShift(response.data);\r\n        setActiveRentals([]);\r\n        setCompletedRentals([]);\r\n        \r\n        setStatistics({\r\n          availableGames: games.length,\r\n          totalGames: games.length,\r\n          todayRevenue: 0,\r\n          todayRentals: 0,\r\n          activeRentals: 0,\r\n          shiftRevenue: 0,\r\n          monthlyRevenue: statistics.monthlyRevenue,\r\n          uniqueCustomers: 0\r\n        });\r\n        \r\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\r\n        \r\n        await loadGames();\r\n        await loadActiveRentals();\r\n      } else {\r\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\r\n      }\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n      showNotification('error', error.message || 'ŸÅÿ¥ŸÑ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\r\n    }\r\n  };\r\n\r\n  const handleEndCurrentShift = async () => {\r\n    if (!currentShift) {\r\n      showNotification('error', 'ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÑÿ•ŸÜŸáÿßÿ¶Ÿá');\r\n      return;\r\n    }\r\n    \r\n    const startTime = new Date(currentShift.start_time);\r\n    const now = new Date();\r\n    const shiftDuration = Math.floor((now - startTime) / (1000 * 60));\r\n    \r\n    const confirmMessage = `\r\nÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ #${currentShift.id}\r\n\r\nÿ®ÿØÿ£ ŸÅŸä: ${formatTime(currentShift.start_time)}\r\nÿßŸÑŸÖÿØÿ©: ${Math.floor(shiftDuration / 60)} ÿ≥ÿßÿπÿ© Ÿà ${shiftDuration % 60} ÿØŸÇŸäŸÇÿ©\r\nÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©: ${activeRentals.length}\r\nÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™: ${formatCurrency(statistics.shiftRevenue)}\r\n\r\nŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ÿü`;\r\n\r\n    if (!window.confirm(confirmMessage)) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      showNotification('info', 'ÿ¨ÿßÿ±Ÿä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™...');\r\n      \r\n      const response = await api.post(`/shifts/${currentShift.id}/end`, {\r\n        end_time: now.toISOString(),\r\n        reason: 'ÿ•ŸÜŸáÿßÿ° ŸäÿØŸàŸä'\r\n      });\r\n      \r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response);\r\n      \r\n      if (response.success) {\r\n        showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!\\nÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™: ${formatCurrency(statistics.shiftRevenue)}`);\r\n        \r\n        setCurrentShift(null);\r\n        setActiveRentals([]);\r\n        setCompletedRentals([]);\r\n        setStatistics(prev => ({\r\n          ...prev,\r\n          todayRevenue: 0,\r\n          todayRentals: 0,\r\n          activeRentals: 0,\r\n          shiftRevenue: 0\r\n        }));\r\n        \r\n        const shiftSummary = `\r\nŸÖŸÑÿÆÿµ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÖŸÜÿ™ŸáŸä:\r\n‚Ä¢ ÿßŸÑŸÖÿØÿ©: ${Math.floor(shiftDuration / 60)} ÿ≥ÿßÿπÿ© Ÿà ${shiftDuration % 60} ÿØŸÇŸäŸÇÿ©\r\n‚Ä¢ ÿßŸÑÿ•Ÿäÿ±ÿßÿØÿßÿ™: ${formatCurrency(statistics.shiftRevenue)}\r\n‚Ä¢ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©: ${completedRentals.length}\r\n‚Ä¢ ÿßŸÑÿπŸÖŸÑÿßÿ°: ${statistics.uniqueCustomers}`;\r\n        \r\n        console.log('üìä ŸÖŸÑÿÆÿµ ÿßŸÑÿ¥ŸäŸÅÿ™:', shiftSummary);\r\n        \r\n      } else {\r\n        showNotification('error', response.message || 'ŸÅÿ¥ŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n      \r\n      let errorMessage = 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™';\r\n      if (error.message) {\r\n        errorMessage += `: ${error.message}`;\r\n      }\r\n      \r\n      showNotification('error', errorMessage);\r\n      \r\n      if (window.confirm('ŸÅÿ¥ŸÑ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ. ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑ÿü')) {\r\n        setCurrentShift(null);\r\n        setActiveRentals([]);\r\n        setCompletedRentals([]);\r\n        showNotification('warning', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÖÿ≠ŸÑŸäÿßŸã ŸÅŸÇÿ∑. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ≠ÿØŸäÿ´ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÑÿßÿ≠ŸÇÿßŸã.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // ==================== ÿØŸàÿßŸÑ ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸàŸÇÿ™ ====================\r\n  const calculateShiftDuration = (startTimeStr) => {\r\n    if (!startTimeStr) return '00:00';\r\n    \r\n    try {\r\n      const startDate = new Date(startTimeStr);\r\n      const now = new Date();\r\n      const diffMs = now.getTime() - startDate.getTime();\r\n      \r\n      if (diffMs < 0) return '00:00';\r\n      \r\n      const totalMinutes = Math.floor(diffMs / (1000 * 60));\r\n      const hours = Math.floor(totalMinutes / 60);\r\n      const minutes = totalMinutes % 60;\r\n      \r\n      return `${hours}:${minutes.toString().padStart(2, '0')}`;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÖÿØÿ©:', error);\r\n      return '00:00';\r\n    }\r\n  };\r\n\r\n  const calculateTimeRemaining = (startTime, durationMinutes) => {\r\n    if (!startTime || durationMinutes === 0) return null;\r\n    \r\n    try {\r\n      const startDate = new Date(startTime);\r\n      const now = new Date();\r\n      const endTime = new Date(startDate.getTime() + durationMinutes * 60000);\r\n      \r\n      if (now > endTime) return 'ÿßŸÜÿ™ŸáŸâ';\r\n      \r\n      const remainingMs = endTime.getTime() - now.getTime();\r\n      const remainingMinutes = Math.floor(remainingMs / 60000);\r\n      const seconds = Math.floor((remainingMs % 60000) / 1000);\r\n      \r\n      return `${remainingMinutes}:${seconds.toString().padStart(2, '0')}`;\r\n    } catch (error) {\r\n      return '--:--';\r\n    }\r\n  };\r\n\r\n  const calculateElapsedTime = (startTime) => {\r\n    if (!startTime) return '00:00';\r\n    \r\n    try {\r\n      const startDate = new Date(startTime);\r\n      const now = new Date();\r\n      const elapsedMs = now.getTime() - startDate.getTime();\r\n      \r\n      const elapsedMinutes = Math.floor(elapsedMs / 60000);\r\n      const seconds = Math.floor((elapsedMs % 60000) / 1000);\r\n      \r\n      return `${elapsedMinutes}:${seconds.toString().padStart(2, '0')}`;\r\n    } catch (error) {\r\n      return '00:00';\r\n    }\r\n  };\r\n\r\n  const calculateEndTime = (startTime, durationMinutes) => {\r\n    if (!startTime || durationMinutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\r\n    \r\n    try {\r\n      const startDate = new Date(startTime);\r\n      const endTime = new Date(startDate.getTime() + durationMinutes * 60000);\r\n      \r\n      return formatTime(endTime);\r\n    } catch (error) {\r\n      return '--:--';\r\n    }\r\n  };\r\n\r\n  // ==================== COMPONENT RENDER ====================\r\n  if (loading) {\r\n    return (\r\n      <div className=\"rentals-page-loading-container\">\r\n        <div className=\"rentals-page-spinner\"></div>\r\n        <p>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"rentals-page-main\">\r\n      {/* ÿ¥ÿ±Ÿäÿ∑ ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿπŸÑŸàŸä */}\r\n      <div className=\"rentals-page-top-controls\">\r\n        <div className=\"rentals-page-header-section\">\r\n          <h1 className=\"rentals-page-title\">\r\n            <span className=\"rentals-page-title-icon\">üéÆ</span>\r\n            ŸÜÿ∏ÿßŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™\r\n          </h1>\r\n          <div className=\"rentals-page-user-info\">\r\n            <span className=\"rentals-page-user-name\">{user?.name || 'ŸÖÿ≥ÿ™ÿÆÿØŸÖ'}</span>\r\n            <span className=\"rentals-page-user-role\">\r\n              {user?.role === 'employee' ? 'üë∑ ŸÖŸàÿ∏ŸÅ' : 'üëë ŸÖÿØŸäÿ±'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"rentals-page-controls-row\">\r\n          <QuickActionsMenu onActionClick={handleQuickAction} />\r\n          \r\n          {currentShift ? (\r\n            <div className=\"rentals-page-shift-info-display\">\r\n              <div className=\"rentals-page-shift-timer\">\r\n                <span className=\"rentals-page-timer-icon\">‚è±Ô∏è</span>\r\n                <span className=\"rentals-page-timer-text\">\r\n                  ÿßŸÑÿ¥ŸäŸÅÿ™: {calculateShiftDuration(currentShift.start_time)}\r\n                </span>\r\n                <span className=\"rentals-page-current-time\">\r\n                  ÿßŸÑŸàŸÇÿ™: {currentEgyptTime}\r\n                </span>\r\n              </div>\r\n              <div className=\"rentals-page-shift-actions\">\r\n                <button \r\n                  className=\"rentals-page-btn-quick-rental\"\r\n                  onClick={handleQuickStartRental}\r\n                  title=\"ÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ÿ¨ÿØŸäÿØ\"\r\n                >\r\n                  <span className=\"rentals-page-btn-icon\">üöÄ</span>\r\n                  <span className=\"rentals-page-btn-text\">ÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ±</span>\r\n                </button>\r\n                {isManager && (\r\n                  <button \r\n                    className=\"rentals-page-btn-end-shift\"\r\n                    onClick={handleEndCurrentShift}\r\n                    title=\"ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸä\"\r\n                  >\r\n                    <span className=\"rentals-page-btn-icon\">üèÅ</span>\r\n                    <span className=\"rentals-page-btn-text\">ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™</span>\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"rentals-page-no-shift-banner\">\r\n              <button className=\"rentals-page-btn-start-shift-large\" onClick={startShift}>\r\n                <span className=\"rentals-page-btn-icon\">üöÄ</span>\r\n                <span className=\"rentals-page-btn-text\">ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ</span>\r\n                <span className=\"rentals-page-btn-subtext\">ŸÑÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿ¨ÿØŸäÿØÿ©</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™ */}\r\n      <div className=\"rentals-page-stats-container\">\r\n        <div className=\"rentals-page-stats-grid\">\r\n          <div className=\"rentals-page-stat-card\">\r\n            <div className=\"rentals-page-stat-icon\">üéÆ</div>\r\n            <div className=\"rentals-page-stat-info\">\r\n              <span className=\"rentals-page-stat-value\">{statistics.availableGames}</span>\r\n              <span className=\"rentals-page-stat-label\">ÿ£ŸÑÿπÿßÿ® ŸÖÿ™ÿßÿ≠ÿ©</span>\r\n              <span className=\"rentals-page-stat-sub\">ŸÖŸÜ {statistics.totalGames}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"rentals-page-stat-card\">\r\n            <div className=\"rentals-page-stat-icon\">üí∞</div>\r\n            <div className=\"rentals-page-stat-info\">\r\n              <span className=\"rentals-page-stat-value\">{formatCurrency(statistics.todayRevenue)}</span>\r\n              <span className=\"rentals-page-stat-label\">ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑŸäŸàŸÖ</span>\r\n              <span className=\"rentals-page-stat-sub\">{statistics.todayRentals} ÿ™ÿ£ÿ¨Ÿäÿ±</span>\r\n            </div>\r\n          </div>\r\n          \r\n          {isManager && currentShift && (\r\n            <div className=\"rentals-page-stat-card\">\r\n              <div className=\"rentals-page-stat-icon\">üìà</div>\r\n              <div className=\"rentals-page-stat-info\">\r\n                <span className=\"rentals-page-stat-value\">{formatCurrency(statistics.shiftRevenue)}</span>\r\n                <span className=\"rentals-page-stat-label\">ÿ•Ÿäÿ±ÿßÿØÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™</span>\r\n                <span className=\"rentals-page-stat-sub\">ÿßŸÑÿ≠ÿßŸÑŸä</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"rentals-page-stat-card\">\r\n            <div className=\"rentals-page-stat-icon\">‚è±Ô∏è</div>\r\n            <div className=\"rentals-page-stat-info\">\r\n              <span className=\"rentals-page-stat-value\">{statistics.activeRentals}</span>\r\n              <span className=\"rentals-page-stat-label\">ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ŸÜÿ¥ÿ∑ÿ©</span>\r\n              <span className=\"rentals-page-stat-sub\">ŸÇŸäÿØ ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ŸÇÿ≥ŸÖ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© */}\r\n      <div className=\"rentals-page-games-section\">\r\n        <div className=\"rentals-page-section-header\">\r\n          <h2>\r\n            <span className=\"rentals-page-header-icon\">üéÆ</span>\r\n            ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n            <span className=\"rentals-page-games-count\">\r\n              ({statistics.availableGames} ŸÑÿπÿ®ÿ©)\r\n            </span>\r\n          </h2>\r\n          <div className=\"rentals-page-search-filter\">\r\n            <input \r\n              type=\"text\" \r\n              placeholder=\"üîç ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÑÿπÿ®ÿ©...\"\r\n              className=\"rentals-page-search-input\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <select \r\n              className=\"rentals-page-category-filter\"\r\n              value={selectedCategory}\r\n              onChange={(e) => setSelectedCategory(e.target.value)}\r\n            >\r\n              <option value=\"\">ÿ¨ŸÖŸäÿπ ÿßŸÑŸÅÿ¶ÿßÿ™</option>\r\n              <option value=\"ÿ≥Ÿäÿßÿ±ÿßÿ™\">ÿ≥Ÿäÿßÿ±ÿßÿ™</option>\r\n              <option value=\"ÿØÿ±ÿßÿ¨ÿßÿ™\">ÿØÿ±ÿßÿ¨ÿßÿ™</option>\r\n              <option value=\"ÿ≥ŸÉŸàÿ™ÿ±\">ÿ≥ŸÉŸàÿ™ÿ±</option>\r\n              <option value=\"ÿ£ŸÑÿπÿßÿ®\">ÿ£ŸÑÿπÿßÿ®</option>\r\n              <option value=\"ŸÉŸáÿ±ÿ®ÿßÿ¶Ÿäÿ©\">ŸÉŸáÿ±ÿ®ÿßÿ¶Ÿäÿ©</option>\r\n              <option value=\"ÿ£ÿ∑ŸÅÿßŸÑ\">ÿ£ÿ∑ŸÅÿßŸÑ</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"rentals-page-games-grid compact-view\">\r\n          {filteredGames.map(game => (\r\n            <div \r\n              key={game.id}\r\n              className={`rentals-page-game-card ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'available' : 'unavailable'} small`}\r\n              onClick={() => handleGameClick(game)}\r\n              title={game.status === 'ŸÖÿ™ÿßÿ≠' ? `ÿ•ÿ∂ÿßŸÅÿ© ${game.name} ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±` : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠'}\r\n            >\r\n              <div className=\"rentals-page-game-image-container\">\r\n                <img \r\n                  src={getGameImageUrl(game)}\r\n                  alt={game.name}\r\n                  className=\"rentals-page-game-image\"\r\n                  onError={handleImageError}\r\n                />\r\n                <div className=\"rentals-page-game-status\">\r\n                  {game.status === 'ŸÖÿ™ÿßÿ≠' ? (\r\n                    <span className=\"rentals-page-status-available\">üü¢</span>\r\n                  ) : (\r\n                    <span className=\"rentals-page-status-unavailable\">üî¥</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"rentals-page-game-quick-info\">\r\n                  <span className=\"rentals-page-game-price-tag\">\r\n                    {formatCurrency(game.price_per_15min)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"rentals-page-game-info\">\r\n                <h3 className=\"rentals-page-game-title\" title={game.name}>\r\n                  {game.name.length > 12 ? game.name.substring(0, 12) + '...' : game.name}\r\n                </h3>\r\n                <p className=\"rentals-page-game-price\">\r\n                  <span className=\"rentals-page-price-value\">\r\n                    {formatCurrency(game.price_per_15min)} / 15 ÿØŸÇŸäŸÇÿ©\r\n                  </span>\r\n                </p>\r\n                \r\n                <div className=\"rentals-page-game-actions\">\r\n                  <button \r\n                    className={`rentals-page-game-select-btn ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'active' : 'disabled'}`}\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      if (game.status === 'ŸÖÿ™ÿßÿ≠') {\r\n                        handleGameClick(game);\r\n                      }\r\n                    }}\r\n                    disabled={game.status !== 'ŸÖÿ™ÿßÿ≠'}\r\n                    title={game.status === 'ŸÖÿ™ÿßÿ≠' ? `ÿ•ÿ∂ÿßŸÅÿ© ${game.name}` : 'ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠'}\r\n                  >\r\n                    {game.status === 'ŸÖÿ™ÿßÿ≠' ? '‚ûï' : '‚ùå'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          \r\n          {filteredGames.length === 0 && (\r\n            <div className=\"rentals-page-empty-games\">\r\n              <div className=\"rentals-page-empty-icon\">üéÆ</div>\r\n              <h3>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÑÿπÿßÿ® ŸÖÿ™ÿßÿ≠ÿ©</h3>\r\n              <p>ŸÇŸÖ ÿ®ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿµŸÅÿ≠ÿ© ÿ£Ÿà ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßÿ™ÿµÿßŸÑ ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™</p>\r\n              <button \r\n                className=\"rentals-page-refresh-games-btn\"\r\n                onClick={loadGames}\r\n              >\r\n                üîÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿ£ŸÑÿπÿßÿ®\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ÿ¨ÿØŸàŸÑ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ© */}\r\n      <div className=\"rentals-page-active-rentals-section\">\r\n        <h2>\r\n          <span className=\"rentals-page-header-icon\">üî•</span>\r\n          ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ© ŸÑŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸä\r\n          <span className=\"rentals-page-active-count\">\r\n            ({activeRentals.length} ÿ™ÿ£ÿ¨Ÿäÿ±)\r\n          </span>\r\n        </h2>\r\n        \r\n        {activeRentals.length === 0 ? (\r\n          <div className=\"rentals-page-empty-rentals\">\r\n            <div className=\"rentals-page-empty-icon\">‚è≥</div>\r\n            <h3>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ŸÜÿ¥ÿ∑ÿ© ÿ≠ÿßŸÑŸäÿßŸã</h3>\r\n            <p>ÿßÿ®ÿØÿ£ ÿ™ÿ£ÿ¨Ÿäÿ±ÿßŸã ÿ¨ÿØŸäÿØÿßŸã ŸÖŸÜ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"rentals-page-rentals-table-container\">\r\n            <table className=\"rentals-page-rentals-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ</th>\r\n                  <th>ÿßŸÑŸÑÿπÿ®ÿ©</th>\r\n                  <th>ÿßŸÑŸàŸÇÿ™</th>\r\n                  <th>ŸàŸÇÿ™ ÿßŸÑÿ®ÿØÿ°</th>\r\n                  <th>ŸàŸÇÿ™ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ°</th>\r\n                  <th>ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑŸÖÿØŸÅŸàÿπ</th>\r\n                  <th>ÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {activeRentals.map(rental => {\r\n                  const isOpenTime = rental.duration_minutes === 0;\r\n                  const timeDisplay = isOpenTime \r\n                    ? `‚è≥ ${calculateElapsedTime(rental.start_time)}`\r\n                    : `‚è±Ô∏è ${calculateTimeRemaining(rental.start_time, rental.duration_minutes)}`;\r\n                  \r\n                  const endTimeDisplay = calculateEndTime(rental.start_time, rental.duration_minutes);\r\n                  \r\n                  return (\r\n                    <tr key={rental.id}>\r\n                      <td className=\"rental-customer-cell\">\r\n                        <div className=\"customer-info\">\r\n                          <span className=\"customer-name\">{rental.customer_name}</span>\r\n                          <span className=\"customer-phone\">{rental.customer_phone}</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"rental-game-cell\">\r\n                        <div className=\"game-info\">\r\n                          <img \r\n                            src={getGameImageUrl(rental)}\r\n                            alt={rental.game_name}\r\n                            className=\"rental-game-image\"\r\n                            onError={handleImageError}\r\n                          />\r\n                          <span className=\"game-name\">{rental.game_name}</span>\r\n                        </div>\r\n                      </td>\r\n                      <td className={`rental-time-cell ${isOpenTime ? 'open-time' : 'fixed-time'}`}>\r\n                        <div className=\"time-display\">\r\n                          <span className=\"time-icon\">{isOpenTime ? '‚è≥' : '‚è±Ô∏è'}</span>\r\n                          <span className=\"time-value\">{timeDisplay}</span>\r\n                          {isOpenTime ? (\r\n                            <span className=\"time-badge-open\">ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠</span>\r\n                          ) : (\r\n                            <span className=\"time-badge-fixed\">ŸÖÿØÿ© ÿ´ÿßÿ®ÿ™ÿ©</span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"rental-start-time\">{formatTime(rental.start_time)}</td>\r\n                      <td className=\"rental-end-time\">{endTimeDisplay}</td>\r\n                      <td className=\"rental-amount-cell\">\r\n                        {isOpenTime ? (\r\n                          <span className=\"amount-open\">ÿπŸÜÿØ ÿßŸÑÿ•ŸÜŸáÿßÿ°</span>\r\n                        ) : (\r\n                          <span className=\"amount-fixed\">{formatCurrency(rental.total_amount)}</span>\r\n                        )}\r\n                      </td>\r\n                      <td className=\"rental-actions-cell\">\r\n                        <RentalActionsDropdown \r\n                          rental={rental}\r\n                          onEndRental={handleEndRental}\r\n                          onEndOpenTime={handleEndOpenTime}\r\n                        />\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* ŸÇÿ≥ŸÖ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ© (ŸÑŸÑŸÖÿØŸäÿ± ŸÅŸÇÿ∑) */}\r\n      {!isEmployee && completedRentals.length > 0 && (\r\n        <div className=\"rentals-page-completed-section\">\r\n          <h2>\r\n            <span className=\"rentals-page-header-icon\">‚úÖ</span>\r\n            ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÖŸÉÿ™ŸÖŸÑÿ©\r\n            <span className=\"rentals-page-completed-count\">\r\n              ({completedRentals.length} ÿ™ÿ£ÿ¨Ÿäÿ±)\r\n            </span>\r\n          </h2>\r\n          \r\n          <div className=\"rentals-page-completed-table-container\">\r\n            <table className=\"rentals-page-completed-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ</th>\r\n                  <th>ÿßŸÑŸÑÿπÿ®ÿ©</th>\r\n                  <th>ŸàŸÇÿ™ ÿßŸÑÿ®ÿØÿ°</th>\r\n                  <th>ŸàŸÇÿ™ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ°</th>\r\n                  <th>ÿßŸÑŸÖÿØÿ©</th>\r\n                  <th>ÿßŸÑŸÖÿ®ŸÑÿ∫</th>\r\n                  <th>ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿØŸÅÿπ</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {completedRentals.map(rental => (\r\n                  <tr key={rental.id}>\r\n                    <td>{rental.customer_name}</td>\r\n                    <td>{rental.game_name}</td>\r\n                    <td>{formatTime(rental.start_time)}</td>\r\n                    <td>{formatTime(rental.actual_end_time)}</td>\r\n                    <td>{rental.duration_minutes} ÿØŸÇŸäŸÇÿ©</td>\r\n                    <td>{formatCurrency(rental.total_amount)}</td>\r\n                    <td>{rental.payment_method}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ŸÜÿßŸÅÿ∞ÿ© ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± */}\r\n      {showRentalModal && (\r\n        <div className=\"rentals-page-modal-overlay\">\r\n          <div className=\"rentals-page-modal rentals-page-rental-modal\" ref={modalRef}>\r\n            <div className=\"rentals-page-modal-header\">\r\n              <h2>\r\n                <span className=\"rentals-page-header-icon\">üöÄ</span>\r\n                ÿ®ÿØÿ° ÿ™ÿ£ÿ¨Ÿäÿ± ÿ¨ÿØŸäÿØ\r\n              </h2>\r\n              <button \r\n                onClick={() => {\r\n                  if (selectedGames.length > 0 || customerName || customerPhone) {\r\n                    if (window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ÿ∫ŸÑÿßŸÇ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿü ÿ≥Ÿäÿ™ŸÖ ŸÅŸÇÿØÿßŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿØÿÆŸÑÿ©.')) {\r\n                      setShowRentalModal(false);\r\n                      resetForm();\r\n                    }\r\n                  } else {\r\n                    setShowRentalModal(false);\r\n                    resetForm();\r\n                  }\r\n                }} \r\n                className=\"rentals-page-close-btn\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"rentals-page-modal-body\">\r\n              <div className=\"rentals-page-customer-section\">\r\n                <h3 className=\"rentals-page-section-title\">\r\n                  <span className=\"rentals-page-section-icon\">üë§</span>\r\n                  ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ\r\n                </h3>\r\n                <div className=\"rentals-page-form-group\">\r\n                  <label htmlFor=\"customerName\">ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"customerName\"\r\n                    value={customerName}\r\n                    onChange={(e) => setCustomerName(e.target.value)}\r\n                    placeholder=\"ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ...\"\r\n                    className=\"rentals-page-form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"rentals-page-form-group\">\r\n                  <label htmlFor=\"customerPhone\">ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ * (11 ÿ±ŸÇŸÖ)</label>\r\n                  <input\r\n                    type=\"tel\"\r\n                    id=\"customerPhone\"\r\n                    value={customerPhone}\r\n                    onChange={(e) => {\r\n                      const value = e.target.value;\r\n                      if (value.length <= 11) {\r\n                        setCustomerPhone(value);\r\n                      }\r\n                    }}\r\n                    placeholder=\"01XXXXXXXXX (11 ÿ±ŸÇŸÖ)\"\r\n                    className=\"rentals-page-form-input\"\r\n                    maxLength=\"11\"\r\n                    required\r\n                  />\r\n                  {customerPhone && !validatePhone(customerPhone) && (\r\n                    <p className=\"rentals-page-error-text\">‚ö†Ô∏è ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ (Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ 11 ÿ±ŸÇŸÖ Ÿäÿ®ÿØÿ£ ÿ®ŸÄ 01)</p>\r\n                  )}\r\n                  {customerPhone.length === 11 && validatePhone(customerPhone) && (\r\n                    <p className=\"rentals-page-success-text\">‚úÖ ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿµÿ≠Ÿäÿ≠</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"rentals-page-form-group\">\r\n                  <label htmlFor=\"customerNotes\">ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)</label>\r\n                  <textarea\r\n                    id=\"customerNotes\"\r\n                    value={customerNotes}\r\n                    onChange={(e) => setCustomerNotes(e.target.value)}\r\n                    placeholder=\"ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©...\"\r\n                    className=\"rentals-page-form-textarea\"\r\n                    rows=\"2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"rentals-page-selected-games-section\">\r\n                <div className=\"rentals-page-section-header\">\r\n                  <h3 className=\"rentals-page-section-title\">\r\n                    <span className=\"rentals-page-section-icon\">üéÆ</span>\r\n                    ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ({selectedGames.length})\r\n                  </h3>\r\n                  <button \r\n                    className=\"rentals-page-add-more-btn\"\r\n                    onClick={() => setShowAddMoreGames(true)}\r\n                    disabled={games.filter(g => g.status === 'ŸÖÿ™ÿßÿ≠').length === 0}\r\n                  >\r\n                    <span className=\"rentals-page-btn-icon\">‚ûï</span>\r\n                    ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ©\r\n                  </button>\r\n                </div>\r\n                \r\n                {selectedGames.length === 0 ? (\r\n                  <div className=\"rentals-page-no-selected-games\">\r\n<p>\r\n  ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ÿ£Ÿä ÿ£ŸÑÿπÿßÿ®. ÿßŸÜŸÇÿ± ÿπŸÑŸâ &quot;ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ©&quot; ŸÑÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ£ŸÑÿπÿßÿ®.\r\n</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"rentals-page-selected-games-list\">\r\n                    {selectedGames.map(game => (\r\n                      <div key={game.id} className=\"rentals-page-selected-game-item\">\r\n                        <div className=\"rentals-page-selected-game-info\">\r\n                          <img \r\n                            src={getGameImageUrl(game)}\r\n                            alt={game.name}\r\n                            className=\"rentals-page-selected-game-image\"\r\n                            onError={handleImageError}\r\n                          />\r\n                          <div className=\"rentals-page-selected-game-details\">\r\n                            <h4>{game.name}</h4>\r\n                            <p>{formatCurrency(game.price_per_15min)} / 15 ÿØŸÇŸäŸÇÿ©</p>\r\n                            <span className=\"rentals-page-game-category-badge\">{game.category || 'ÿπÿßŸÖ'}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"rentals-page-selected-game-controls\">\r\n                          <div className=\"rentals-page-duration-control\">\r\n                            <label>ÿßŸÑŸÖÿØÿ© (ÿØŸÇŸäŸÇÿ©):</label>\r\n                            <div className=\"rentals-page-duration-buttons\">\r\n                              {[15, 30, 45, 60].map(minutes => (\r\n                                <button\r\n                                  key={minutes}\r\n                                  type=\"button\"\r\n                                  className={`rentals-page-duration-btn ${game.duration === minutes ? 'active' : ''}`}\r\n                                  onClick={() => updateGameDuration(game.id, minutes)}\r\n                                >\r\n                                  {minutes}\r\n                                </button>\r\n                              ))}\r\n                              <input\r\n                                type=\"number\"\r\n                                min=\"1\"\r\n                                value={game.duration}\r\n                                onChange={(e) => updateGameDuration(game.id, parseInt(e.target.value) || 15)}\r\n                                className=\"rentals-page-duration-input\"\r\n                              />\r\n                            </div>\r\n                            <div className=\"rentals-page-game-price-display\">\r\n                              ÿßŸÑŸÖÿ®ŸÑÿ∫: {formatCurrency(calculateGamePrice(game))}\r\n                            </div>\r\n                          </div>\r\n                          <button \r\n                            className=\"rentals-page-remove-game-btn\"\r\n                            onClick={() => removeGame(game.id)}\r\n                          >\r\n                            üóëÔ∏è ÿ•ÿ≤ÿßŸÑÿ©\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"rentals-page-payment-section\">\r\n                <h3 className=\"rentals-page-section-title\">\r\n                  <span className=\"rentals-page-section-icon\">üí∞</span>\r\n                  ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿØŸÅÿπ\r\n                </h3>\r\n                <div className=\"rentals-page-payment-method\">\r\n                  <select \r\n                    value={paymentMethod}\r\n                    onChange={(e) => setPaymentMethod(e.target.value)}\r\n                    className=\"rentals-page-payment-select\"\r\n                  >\r\n                    <option value=\"cash\">üíµ ŸÉÿßÿ¥</option>\r\n                    <option value=\"card\">üí≥ ÿ®ÿ∑ÿßŸÇÿ©</option>\r\n                    <option value=\"vodafone\">üì± ŸÅŸàÿØÿßŸÅŸàŸÜ ŸÉÿßÿ¥</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"rentals-page-price-summary\">\r\n                <h3 className=\"rentals-page-section-title\">\r\n                  <span className=\"rentals-page-section-icon\">üìä</span>\r\n                  ŸÖŸÑÿÆÿµ ÿßŸÑÿ≥ÿπÿ±\r\n                </h3>\r\n                <div className=\"rentals-page-summary-details\">\r\n                  <div className=\"rentals-page-summary-row\">\r\n                    <span>ÿπÿØÿØ ÿßŸÑÿ£ŸÑÿπÿßÿ®:</span>\r\n                    <span>{selectedGames.length} ŸÑÿπÿ®ÿ©</span>\r\n                  </div>\r\n                  \r\n                  {selectedGames.map(game => (\r\n                    <div key={game.id} className=\"rentals-page-summary-game-row\">\r\n                      <span>{game.name} ({game.duration} ÿØŸÇŸäŸÇÿ©):</span>\r\n                      <span>{formatCurrency(calculateGamePrice(game))}</span>\r\n                    </div>\r\n                  ))}\r\n                  \r\n                  <div className=\"rentals-page-summary-total\">\r\n                    <span>ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä:</span>\r\n                    <span className=\"rentals-page-total-amount\">\r\n                      {formatCurrency(calculateTotalPrice())}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"rentals-page-summary-row\">\r\n                    <span>ÿ≠ÿßŸÑÿ© ÿßŸÑÿØŸÅÿπ:</span>\r\n                    <span className=\"rentals-page-payment-status-summary\">üí∞ ŸÖÿØŸÅŸàÿπ ŸÉÿßŸÖŸÑÿßŸã ÿπŸÜÿØ ÿßŸÑÿ®ÿØÿ°</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"rentals-page-modal-actions\">\r\n              <button \r\n                className=\"rentals-page-btn-cancel\"\r\n                onClick={() => {\r\n                  setShowRentalModal(false);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                ÿ•ŸÑÿ∫ÿßÿ°\r\n              </button>\r\n              <button \r\n                className={`rentals-page-btn-confirm ${!customerName || !validatePhone(customerPhone) || selectedGames.length === 0 ? 'disabled' : ''}`}\r\n                onClick={handleStartRentalEnhanced}\r\n                disabled={!customerName || !validatePhone(customerPhone) || selectedGames.length === 0}\r\n              >\r\n                <span className=\"rentals-page-btn-icon\">üöÄ</span>\r\n                ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* ŸÜÿßŸÅÿ∞ÿ© ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ£ŸÑÿπÿßÿ® */}\r\n      {showAddMoreGames && (\r\n        <div className=\"rentals-page-modal-overlay\">\r\n          <div className=\"rentals-page-modal rentals-page-add-games-modal\" ref={addGamesModalRef}>\r\n            <div className=\"rentals-page-modal-header\">\r\n              <h2>\r\n                <span className=\"rentals-page-header-icon\">üéÆ</span>\r\n                ÿ•ÿ∂ÿßŸÅÿ© ÿ£ŸÑÿπÿßÿ® ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n              </h2>\r\n              <button \r\n                onClick={() => setShowAddMoreGames(false)} \r\n                className=\"rentals-page-close-btn\"\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"rentals-page-modal-body\">\r\n              <div className=\"rentals-page-available-games-list\">\r\n                {getAvailableGamesForAddition().map(game => (\r\n                  <div \r\n                    key={game.id} \r\n                    className=\"rentals-page-available-game-item\"\r\n                    onClick={() => {\r\n                      handleAddGameFromModal(game);\r\n                      // ÿπŸÜÿØ ÿßÿÆÿ™Ÿäÿßÿ± ŸÑÿπÿ®ÿ©ÿå ÿßŸÑÿπŸàÿØÿ© ÿßŸÑÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© ÿ•ŸÑŸâ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n                      setShowAddMoreGames(false);\r\n                    }}\r\n                  >\r\n                    <img \r\n                      src={getGameImageUrl(game)}\r\n                      alt={game.name}\r\n                      className=\"rentals-page-available-game-image\"\r\n                      onError={handleImageError}\r\n                    />\r\n                    <div className=\"rentals-page-available-game-info\">\r\n                      <h4>{game.name}</h4>\r\n                      <p>{formatCurrency(game.price_per_15min)} / 15 ÿØŸÇŸäŸÇÿ©</p>\r\n                      <span className=\"rentals-page-game-category-badge\">{game.category || 'ÿπÿßŸÖ'}</span>\r\n                    </div>\r\n                    <button className=\"rentals-page-add-game-btn\">\r\n                      ‚ûï ÿ•ÿ∂ÿßŸÅÿ©\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n                \r\n                {getAvailableGamesForAddition().length === 0 && (\r\n                  <div className=\"rentals-page-no-available-games\">\r\n                    <p>ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ£ŸÑÿπÿßÿ® ŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÑÿ•ÿ∂ÿßŸÅÿ©</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"rentals-page-modal-actions\">\r\n              <button \r\n                className=\"rentals-page-btn-close\"\r\n                onClick={() => setShowAddMoreGames(false)}\r\n              >\r\n                ÿ•ÿ∫ŸÑÿßŸÇ\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}