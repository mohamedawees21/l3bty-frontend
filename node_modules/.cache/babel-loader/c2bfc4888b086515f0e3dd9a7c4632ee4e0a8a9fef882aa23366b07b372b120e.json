{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { Gamepad2, Clock, User, Phone, MapPin, Mail, ShoppingCart, DollarSign, CheckCircle, XCircle, Eye, Plus, Minus, Trash2, Calendar, Printer, Download, RefreshCw, AlertCircle, Check, X, Building, Zap, Lock, Unlock, Loader2, Filter, Search, ChevronRight } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== دوال مساعدة ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (!amount && amount !== 0) return '0 ج.م';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst validatePhone = phone => {\n  if (!phone) return false;\n  const cleaned = phone.replace(/\\D/g, '');\n  return cleaned.length === 11 && cleaned.startsWith('01');\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  return Math.round((end - start) / (1000 * 60));\n};\n\n// ==================== مكون الألعاب المتاحة ====================\nconst GamesGrid = ({\n  games,\n  branchId,\n  onSelectGame,\n  loading\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [availableGames, setAvailableGames] = useState([]);\n  useEffect(() => {\n    if (!branchId || !games) return;\n    const branchGames = games.filter(game => {\n      if (!game) return false;\n      const gameBranchId = parseInt(game.branch_id);\n      const currentBranchId = parseInt(branchId);\n      return gameBranchId === currentBranchId && game.status === 'متاح';\n    });\n    setAvailableGames(branchGames);\n  }, [games, branchId]);\n  const filteredGames = useMemo(() => {\n    if (!availableGames.length) return [];\n    return availableGames.filter(game => {\n      var _game$name, _game$category;\n      const matchesSearch = ((_game$name = game.name) === null || _game$name === void 0 ? void 0 : _game$name.toLowerCase().includes(searchTerm.toLowerCase())) || ((_game$category = game.category) === null || _game$category === void 0 ? void 0 : _game$category.toLowerCase().includes(searchTerm.toLowerCase()));\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    });\n  }, [availableGames, searchTerm, selectedCategory]);\n  const categories = useMemo(() => {\n    if (!availableGames.length) return ['all'];\n    const cats = new Set(['all']);\n    availableGames.forEach(game => {\n      if (game.category) cats.add(game.category);\n    });\n    return Array.from(cats);\n  }, [availableGames]);\n  const getGameImage = useCallback(game => {\n    if (!game) return '/images/default-game.jpg';\n    const imageMap = {\n      'دريفت كار': '/images/Driftcar.jpg',\n      'هافر بورد': '/images/Hoverboard.jpg',\n      'سكوتر': '/images/Scooter.jpg',\n      'عربة كهربائية': '/images/Car.jpg',\n      'موتوسيكل كهربائي': '/images/Motor.jpg',\n      'هارلي': '/images/harley.jpg',\n      'سيجواي': '/images/Segway.jpg',\n      'كرازي كار': '/images/Ninebot.jpg',\n      'سكيت كهربائي': '/images/Skate.jpg',\n      'ترامبولين': '/images/Trampoline.jpg',\n      'محاكي': '/images/Simulator.jpg'\n    };\n    if (game.image_url && game.image_url !== 'default-game.jpg') {\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\n    }\n    return imageMap[game.name] || '/images/default-game.jpg';\n  }, []);\n  if (!branchId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Building, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639 \\u0644\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"games-grid-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", availableGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0627\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSearchTerm(''),\n            className: \"clear-search\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), categories.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-controls\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            className: \"filter-select\",\n            children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat === 'all' ? 'جميع الفئات' : cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), availableGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u0624\\u062C\\u0631\\u0629 \\u0623\\u0648 \\u0642\\u064A\\u062F \\u0627\\u0644\\u0635\\u064A\\u0627\\u0646\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this) : filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062A\\u0637\\u0627\\u0628\\u0642 \\\"\", searchTerm, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid\",\n      children: filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-card\",\n        onClick: () => onSelectGame(game),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-image-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getGameImage(game),\n            alt: game.name,\n            className: \"game-image\",\n            onError: e => e.target.src = '/images/default-game.jpg'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-status available\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0645\\u062A\\u0627\\u062D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: game.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-category\",\n            children: game.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-price\",\n            children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-select-game\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 21\n              }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this)]\n      }, game.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون تأجير متعدد ====================\n_s(GamesGrid, \"/zmPx+jGDBvhapg77zIIDW2O/Hc=\");\n_c = GamesGrid;\nconst MultiRentalModal = ({\n  show,\n  onClose,\n  selectedGames,\n  onConfirmRental,\n  currentShift\n}) => {\n  _s2();\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: ''\n  });\n  const [showAddMoreGames, setShowAddMoreGames] = useState(false);\n  const [rentalItems, setRentalItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\n  const [paymentStatus, setPaymentStatus] = useState('عند الإنهاء');\n  const [notes, setNotes] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    if (show && selectedGames.length > 0) {\n      const items = selectedGames.map(game => ({\n        id: Date.now() + Math.random(),\n        gameId: game.id,\n        gameName: game.name,\n        gameImage: '/images/default-game.jpg',\n        rentalType: 'fixed',\n        duration: 15,\n        pricePer15min: game.price_per_15min || 100,\n        quantity: 1,\n        notes: ''\n      }));\n      setRentalItems(items);\n    }\n  }, [show, selectedGames]);\n  const updateRentalItem = (id, updates) => {\n    setRentalItems(items => items.map(item => item.id === id ? {\n      ...item,\n      ...updates\n    } : item));\n  };\n  const removeRentalItem = id => {\n    setRentalItems(items => items.filter(item => item.id !== id));\n  };\n  const calculateItemPrice = useCallback(item => {\n    if (item.rentalType === 'open') return 0;\n    const units = Math.ceil(item.duration / 15);\n    return item.pricePer15min * units * item.quantity || 0;\n  }, []);\n  const calculateTotal = useCallback(() => {\n    return rentalItems.reduce((total, item) => {\n      return total + calculateItemPrice(item);\n    }, 0);\n  }, [rentalItems, calculateItemPrice]);\n  const handleSubmit = async () => {\n    if (!customerInfo.name || !customerInfo.phone) {\n      alert('يرجى إدخال اسم العميل ورقم الهاتف');\n      return;\n    }\n    if (!validatePhone(customerInfo.phone)) {\n      alert('رقم الهاتف غير صحيح. يجب أن يكون 11 رقماً ويبدأ بـ 01');\n      return;\n    }\n    if (rentalItems.length === 0) {\n      alert('يرجى إضافة ألعاب للتأجير');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const rentalData = {\n        customerInfo,\n        rentalItems,\n        paymentMethod,\n        paymentStatus,\n        notes,\n        totalAmount: calculateTotal(),\n        shiftId: currentShift === null || currentShift === void 0 ? void 0 : currentShift.id\n      };\n      await onConfirmRental(rentalData);\n      setCustomerInfo({\n        name: '',\n        phone: '',\n        email: '',\n        address: ''\n      });\n      setRentalItems([]);\n      setPaymentMethod('كاش');\n      setPaymentStatus('عند الإنهاء');\n      setNotes('');\n      onClose();\n    } catch (error) {\n      console.error('خطأ في إنشاء التأجير:', error);\n      alert('حدث خطأ في إنشاء التأجير');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal rental-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F (\", selectedGames.length, \" \\u0644\\u0639\\u0628\\u0629)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this), \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-outline-secondary btn-sm\",\n            onClick: () => setShowAddMoreGames(true),\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0639\\u0628\\u0629 \\u0623\\u062E\\u0631\\u0649\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.name,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    name: e.target.value\n                  }),\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: customerInfo.phone,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    phone: e.target.value\n                  }),\n                  placeholder: \"01xxxxxxxxx\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), customerInfo.phone && !validatePhone(customerInfo.phone) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: \"\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u063A\\u064A\\u0631 \\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Mail, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: customerInfo.email,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    email: e.target.value\n                  }),\n                  placeholder: \"email@example.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.address,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    address: e.target.value\n                  }),\n                  placeholder: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-items-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 15\n            }, this), \"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 (\", rentalItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-name\",\n                  children: item.gameName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-price\",\n                  children: [formatCurrency(item.pricePer15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeRentalItem(item.id),\n                className: \"btn-remove\",\n                disabled: isSubmitting,\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-options\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"toggle-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'fixed',\n                        duration: 15\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 493,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u062B\\u0627\\u0628\\u062A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'open',\n                        duration: 0\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(Unlock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 502,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 21\n                }, this), item.rentalType === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"duration-buttons\",\n                    children: [15, 30, 45, 60, 90, 120].map(minutes => /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `duration-btn ${item.duration === minutes ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        duration: minutes\n                      }),\n                      disabled: isSubmitting,\n                      children: [minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                    }, minutes, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 513,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"quantity-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: Math.max(1, item.quantity - 1)\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Minus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 538,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 530,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"quantity-value\",\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 540,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: item.quantity + 1\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 549,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 541,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 564,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentMethod,\n                onChange: e => setPaymentMethod(e.target.value),\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0643\\u0627\\u0634\",\n                  children: \"\\uD83D\\uDCB5 \\u0646\\u0642\\u062F\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                  children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629 \\u0627\\u0626\\u062A\\u0645\\u0627\\u0646\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062D\\u0641\\u0638\\u0629\",\n                  children: \"\\uD83D\\uDCF1 \\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062A\\u062D\\u0648\\u064A\\u0644\",\n                  children: \"\\uD83C\\uDFE6 \\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentStatus,\n                onChange: e => setPaymentStatus(e.target.value),\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\",\n                  children: \"\\u23F3 \\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062F\\u0641\\u0648\\u0639\",\n                  children: \"\\u2705 \\u0645\\u062F\\u0641\\u0648\\u0639\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062C\\u0632\\u0626\\u064A\",\n                  children: \"\\uD83D\\uDCB0 \\u0645\\u062F\\u0641\\u0648\\u0639 \\u062C\\u0632\\u0626\\u064A\\u0627\\u064B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: notes,\n              onChange: e => setNotes(e.target.value),\n              placeholder: \"\\u0623\\u064A \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629...\",\n              rows: \"3\",\n              disabled: isSubmitting\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rentalItems.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0642\\u0637\\u0639:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 616,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rentalItems.reduce((sum, item) => sum + item.quantity, 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatCurrency(calculateTotal())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"btn btn-secondary\",\n          disabled: isSubmitting,\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this), \"\\u0625\\u0644\\u063A\\u0627\\u0621\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"btn btn-primary\",\n          disabled: isSubmitting || rentalItems.length === 0,\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"spinner\",\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0644\\u062C\\u0629...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this), \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n};\n_s2(MultiRentalModal, \"KE7JgZlbhcbLR/pkPZ1Q9uSeMY4=\");\n_c2 = MultiRentalModal;\n{\n  var _user;\n  showAddMoreGames && /*#__PURE__*/_jsxDEV(AddMoreGamesModal, {\n    show: showAddMoreGames,\n    onClose: () => setShowAddMoreGames(false),\n    games: games,\n    branchId: (_user = user) === null || _user === void 0 ? void 0 : _user.branch_id,\n    selectedGames: selectedGames,\n    onAddGames: newGames => {\n      // إضافة الألعاب الجديدة إلى القائمة المحددة\n      const updatedSelectedGames = [...selectedGames];\n      newGames.forEach(game => {\n        if (!updatedSelectedGames.some(g => g.id === game.id)) {\n          updatedSelectedGames.push(game);\n        }\n      });\n      setSelectedGames(updatedSelectedGames);\n\n      // تحديث عناصر التأجير\n      const newItems = newGames.map(game => ({\n        id: Date.now() + Math.random(),\n        gameId: game.id,\n        gameName: game.name,\n        gameImage: '/images/default-game.jpg',\n        rentalType: 'fixed',\n        duration: 15,\n        pricePer15min: game.price_per_15min || 100,\n        quantity: 1,\n        notes: ''\n      }));\n      setRentalItems([...rentalItems, ...newItems]);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 658,\n    columnNumber: 9\n  }, this);\n}\n\n// ==================== مكون التأجيرات النشطة ====================\nconst ActiveRentalsTable = ({\n  rentals,\n  onAction,\n  loading\n}) => {\n  _s3();\n  const [countdowns, setCountdowns] = useState({});\n  useEffect(() => {\n    const updateCountdowns = () => {\n      const newCountdowns = {};\n      rentals.forEach(rental => {\n        if (!rental) return;\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n        if (!isOpenTime) {\n          const endTime = new Date(rental.start_time);\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n          const now = new Date();\n          if (now > endTime) {\n            newCountdowns[rental.id] = '⏰ انتهى';\n          } else {\n            const diffMs = endTime - now;\n            const minutes = Math.floor(diffMs / 60000);\n            const seconds = Math.floor(diffMs % 60000 / 1000);\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n          }\n        } else {\n          const startTime = new Date(rental.start_time);\n          const now = new Date();\n          const diffMs = now - startTime;\n          const minutes = Math.floor(diffMs / 60000);\n          const seconds = Math.floor(diffMs % 60000 / 1000);\n          newCountdowns[rental.id] = `⏳ ${minutes}:${seconds.toString().padStart(2, '0')}`;\n        }\n      });\n      setCountdowns(newCountdowns);\n    };\n    updateCountdowns();\n    const interval = setInterval(updateCountdowns, 1000);\n    return () => clearInterval(interval);\n  }, [rentals]);\n  const getRentalTimeInfo = useCallback(rental => {\n    if (!rental) return {\n      type: '',\n      remaining: ''\n    };\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      return {\n        type: '⏳ وقت مفتوح',\n        remaining: countdowns[rental.id] || '⏳ 0:00'\n      };\n    }\n    return {\n      type: `${rental.duration_minutes} دقيقة`,\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\n    };\n  }, [countdowns]);\n  const calculateRentalAmount = useCallback(rental => {\n    if (!rental) return formatCurrency(0);\n    if (rental.total_amount && rental.total_amount > 0) {\n      return formatCurrency(rental.total_amount);\n    }\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      const startTime = new Date(rental.start_time);\n      const now = new Date();\n      const minutes = Math.floor((now - startTime) / 60000);\n      const units = Math.ceil(minutes / 15);\n      const pricePer15Min = rental.price_per_15min || 100;\n      return formatCurrency(units * pricePer15Min);\n    }\n    return formatCurrency(rental.total_amount || 0);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 779,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", rentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 789,\n      columnNumber: 7\n    }, this), rentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Clock, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 799,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0627\\u0628\\u062F\\u0623 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F \\u0645\\u0646 \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 801,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 798,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"rentals-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rentals.map(rental => {\n            const timeInfo = getRentalTimeInfo(rental);\n            const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"#\", rental.rental_number || rental.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 23\n                }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"badge open\",\n                  children: \"\\u0645\\u0641\\u062A\\u0648\\u062D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-name\",\n                    children: rental.customer_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-phone\",\n                    children: rental.customer_phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 832,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rental.game_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: timeInfo.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"countdown-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: timeInfo.remaining\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"amount-cell\",\n                children: calculateRentalAmount(rental)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`,\n                  children: rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⏳ ' + rental.payment_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 847,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onAction('details', rental),\n                    className: \"action-btn view\",\n                    title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n                    children: /*#__PURE__*/_jsxDEV(Eye, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 858,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 853,\n                    columnNumber: 25\n                  }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onAction('end', rental),\n                    className: \"action-btn end\",\n                    title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                    children: /*#__PURE__*/_jsxDEV(Clock, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 867,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 862,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => onAction('cancel', rental),\n                    className: \"action-btn cancel\",\n                    title: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                    children: /*#__PURE__*/_jsxDEV(XCircle, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 876,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 871,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 852,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 21\n              }, this)]\n            }, rental.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 804,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 788,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون التأجيرات المكتملة ====================\n_s3(ActiveRentalsTable, \"ncgZIPuAR0fmdeQC9YdVNPHUMd8=\");\n_c3 = ActiveRentalsTable;\nconst CompletedRentalsTable = ({\n  rentals,\n  onExport,\n  onPrint,\n  loading,\n  isManager\n}) => {\n  _s4();\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\n  const [filteredRentals, setFilteredRentals] = useState([]);\n  useEffect(() => {\n    const filterRentals = () => {\n      if (!rentals || rentals.length === 0) {\n        setFilteredRentals([]);\n        return;\n      }\n      const now = new Date();\n      let filtered = [...rentals];\n      switch (selectedPeriod) {\n        case 'today':\n          {\n            const today = now.toISOString().split('T')[0];\n            filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n            break;\n          }\n        case 'week':\n          {\n            const weekAgo = new Date();\n            weekAgo.setDate(weekAgo.getDate() - 7);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\n            break;\n          }\n        case 'month':\n          {\n            const monthAgo = new Date();\n            monthAgo.setMonth(monthAgo.getMonth() - 1);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\n            break;\n          }\n        default:\n          break;\n      }\n      setFilteredRentals(filtered);\n    };\n    filterRentals();\n  }, [rentals, selectedPeriod]);\n  const totalRevenue = useMemo(() => {\n    return filteredRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n  }, [filteredRentals]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"completed-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 942,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isManager) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"completed-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", filteredRentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 956,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"period-selector\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedPeriod,\n            onChange: e => setSelectedPeriod(e.target.value),\n            className: \"period-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"today\",\n              children: \"\\u0627\\u0644\\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"week\",\n              children: \"\\u0622\\u062E\\u0631 7 \\u0623\\u064A\\u0627\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"month\",\n              children: \"\\u0622\\u062E\\u0631 30 \\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 971,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"\\u0627\\u0644\\u0643\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onExport(filteredRentals),\n          className: \"btn btn-success\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 981,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0635\\u062F\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onPrint(filteredRentals),\n          className: \"btn btn-primary\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 990,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 955,\n      columnNumber: 7\n    }, this), filteredRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 998,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 999,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0645 \\u062A\\u0643\\u062A\\u0645\\u0644 \\u0623\\u064A \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0641\\u064A \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062D\\u062F\\u062F\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 997,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"revenue-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1006,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-value\",\n              children: formatCurrency(totalRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rentals-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1018,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1020,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1021,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1022,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1023,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1016,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredRentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"#\", rental.rental_number || rental.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1031,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-name\",\n                    children: rental.customer_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1034,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-phone\",\n                    children: rental.customer_phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1035,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1033,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rental.game_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatTime(rental.start_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1039,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatTime(rental.end_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [calculateDuration(rental.start_time, rental.end_time), \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1041,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"amount-cell\",\n                children: formatCurrency(rental.total_amount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1042,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'partial'}`,\n                  children: rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⚠️ ' + rental.payment_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1043,\n                columnNumber: 21\n              }, this)]\n            }, rental.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1030,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1028,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 954,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون لوحة التحكم ====================\n_s4(CompletedRentalsTable, \"0KxENZR8Dv3USD/MihnpPE8wuRM=\");\n_c4 = CompletedRentalsTable;\nconst DashboardStats = ({\n  stats,\n  currentShift,\n  onStartShift,\n  onEndShift,\n  loading\n}) => {\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stats\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card skeleton\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1064,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-stats\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.availableGames || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1081,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1082,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Zap, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.activeRentals || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1091,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1090,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1097,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: formatCurrency(stats.todayRevenue || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1096,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Clock, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: currentShift ? `#${currentShift.id}` : '--'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-actions\",\n            children: !currentShift ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onStartShift,\n              className: \"btn btn-success\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1118,\n                columnNumber: 19\n              }, this), \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onEndShift,\n              className: \"btn btn-warning\",\n              children: [/*#__PURE__*/_jsxDEV(Lock, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1123,\n                columnNumber: 19\n              }, this), \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1075,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1074,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== المكون الرئيسي ====================\n_c5 = DashboardStats;\nconst Rentals = () => {\n  _s5();\n  const {\n    user\n  } = useAuth();\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n  const [loading, setLoading] = useState({\n    games: true,\n    rentals: true,\n    shift: true,\n    stats: true\n  });\n  const [games, setGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [showRentalModal, setShowRentalModal] = useState(false);\n  const [stats, setStats] = useState({\n    availableGames: 0,\n    totalGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n\n  // ==================== تحميل البيانات ====================\n  const loadGames = async () => {\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user === null || user === void 0 ? void 0 : user.branch_id\n        }\n      });\n      if (response.success) {\n        setGames(response.data);\n        setStats(prev => ({\n          ...prev,\n          availableGames: response.data.filter(g => g.status === 'متاح').length,\n          totalGames: response.data.length\n        }));\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل الألعاب:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        games: false\n      }));\n    }\n  };\n  const loadActiveRentals = async () => {\n    try {\n      const response = await api.get('/rentals/active');\n      if (response.success) {\n        setActiveRentals(response.data);\n        setStats(prev => ({\n          ...prev,\n          activeRentals: response.data.length\n        }));\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل التأجيرات النشطة:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        rentals: false\n      }));\n    }\n  };\n  const loadCurrentShift = async () => {\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response.success) {\n        setCurrentShift(response.data);\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل الشيفت:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  };\n  const loadCompletedRentals = async () => {\n    if (!isManager) return;\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const response = await api.get('/rentals', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'مكتمل',\n          start_date: today\n        }\n      });\n      if (response.success) {\n        setCompletedRentals(response.data);\n        const todayRentals = response.data.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n        const todayRevenue = todayRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n        setStats(prev => ({\n          ...prev,\n          todayRevenue: todayRevenue,\n          todayRentals: todayRentals.length\n        }));\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل التأجيرات المكتملة:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stats: false\n      }));\n    }\n  };\n  const loadAllData = useCallback(async () => {\n    setLoading({\n      games: true,\n      rentals: true,\n      shift: true,\n      stats: true\n    });\n    try {\n      await Promise.all([loadGames(), loadActiveRentals(), loadCurrentShift(), loadCompletedRentals()]);\n    } catch (error) {\n      console.error('خطأ في تحميل البيانات:', error);\n    }\n  }, [user]);\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.branch_id) {\n      loadAllData();\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n  const calculateItemPrice = useCallback(item => {\n    if (item.rentalType === 'open') return 0;\n    const units = Math.ceil(item.duration / 15);\n    return item.pricePer15min * units * item.quantity || 0;\n  }, []);\n  // ==================== معالجة التأجيرات ====================\n  const handleSelectGame = game => {\n    if (!currentShift) {\n      alert('يجب بدء شيفت أولاً');\n      return;\n    }\n    if (!selectedGames.some(g => g.id === game.id)) {\n      setSelectedGames([...selectedGames, game]);\n    }\n    setShowRentalModal(true);\n  };\n  const handleCreateRental = async rentalData => {\n    try {\n      console.log('🎯 بدء إنشاء تأجير متعدد:', rentalData.rentalItems.length);\n      const results = [];\n      const failedGames = [];\n\n      // إنشاء تأجير منفصل لكل لعبة\n      for (const item of rentalData.rentalItems) {\n        try {\n          // البحث عن اللعبة في قائمة الألعاب\n          const game = games.find(g => g.id === item.gameId);\n          if (!game) {\n            console.warn(`⚠️ اللعبة ${item.gameId} غير موجودة`);\n            failedGames.push(item.gameName);\n            continue;\n          }\n\n          // إعداد بيانات التأجير\n          const rentalRequest = {\n            game_id: item.gameId,\n            customer_name: rentalData.customerInfo.name,\n            customer_phone: rentalData.customerInfo.phone,\n            customer_email: rentalData.customerInfo.email,\n            customer_address: rentalData.customerInfo.address,\n            duration_minutes: item.rentalType === 'fixed' ? item.duration : null,\n            rental_type: item.rentalType,\n            quantity: item.quantity,\n            notes: item.notes || '',\n            payment_method: rentalData.paymentMethod,\n            payment_status: rentalData.paymentStatus,\n            total_amount: calculateItemPrice(item),\n            is_open_time: item.rentalType === 'open' ? 1 : 0\n          };\n\n          // استخدام API لإرسال التأجير\n          const response = await api.createRental(rentalRequest);\n          if (response && response.success) {\n            var _response$data, _response$data2, _response$data3;\n            results.push({\n              game: item.gameName,\n              success: true,\n              rental_number: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.rental_number) || response.rental_number,\n              rental_id: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.id) || response.rental_id\n            });\n            console.log(`✅ تم تأجير ${item.gameName}: ${response.rental_number || ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.rental_number)}`);\n          } else {\n            failedGames.push(item.gameName);\n            console.warn(`❌ فشل تأجير ${item.gameName}: ${response.message}`);\n          }\n        } catch (error) {\n          console.error(`🔥 خطأ في تأجير ${item.gameName}:`, error);\n          failedGames.push(item.gameName);\n        }\n      }\n\n      // عرض رسالة النتيجة\n      const successCount = results.length;\n      const totalCount = rentalData.rentalItems.length;\n      if (successCount === totalCount) {\n        alert(`✅ تم إنشاء ${successCount} تأجير بنجاح`);\n      } else if (successCount > 0) {\n        alert(`⚠️ تم إنشاء ${successCount} تأجير بنجاح من أصل ${totalCount}\\n\\nفشل تأجير: ${failedGames.join(', ')}`);\n      } else {\n        alert(`❌ فشل إنشاء جميع التأجيرات`);\n      }\n\n      // إعادة تحميل البيانات\n      setShowRentalModal(false);\n      setSelectedGames([]);\n\n      // إعادة تحميل البيانات بعد تأخير قصير\n      setTimeout(() => {\n        loadGames();\n        loadActiveRentals();\n        loadCompletedRentals();\n      }, 1000);\n    } catch (error) {\n      console.error('🔥 خطأ عام في إنشاء التأجير:', error);\n      alert('حدث خطأ في إنشاء التأجير. الرجاء المحاولة مرة أخرى');\n    }\n  };\n\n  // إضافة دالة handleEndRental\n  const handleEndRental = async rental => {\n    try {\n      if (!rental || !rental.id) {\n        alert('بيانات التأجير غير صالحة');\n        return;\n      }\n      const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n      if (isOpenTime) {\n        // عرض نافذة تأكيد مع حساب السعر التقديري\n        const startTime = new Date(rental.start_time);\n        const now = new Date();\n        const minutes = Math.floor((now - startTime) / 60000);\n        const units = Math.ceil(minutes / 15);\n        const pricePer15Min = rental.price_per_15min || 100;\n        const estimatedAmount = units * pricePer15Min;\n        if (!window.confirm(`هل تريد إنهاء التأجير المفتوح؟\\n\\nالمدة: ${minutes} دقيقة\\nالسعر التقديري: ${formatCurrency(estimatedAmount)}`)) {\n          return;\n        }\n      } else {\n        if (!window.confirm('هل تريد إنهاء هذا التأجير؟')) {\n          return;\n        }\n      }\n      const response = await api.completeRental(rental.id, {\n        payment_method: 'كاش'\n      });\n      if (response.success) {\n        alert('✅ تم إنهاء التأجير بنجاح');\n        loadActiveRentals();\n        loadGames();\n        loadCompletedRentals();\n      } else {\n        alert(`❌ فشل إنهاء التأجير: ${response.message}`);\n      }\n    } catch (error) {\n      console.error('🔥 خطأ في إنهاء التأجير:', error);\n      alert('حدث خطأ في إنهاء التأجير');\n    }\n  };\n\n  // تحديث handleRentalAction ليبدو هكذا:\n  const handleRentalAction = async (action, rental) => {\n    switch (action) {\n      case 'details':\n        {\n          // عرض تفاصيل التأجير في نافذة منبثقة\n          alert(`📋 تفاصيل التأجير:\nرقم التأجير: ${rental.rental_number || 'غير متوفر'}\nالعميل: ${rental.customer_name}\nالهاتف: ${rental.customer_phone}\nاللعبة: ${rental.game_name}\nوقت البدء: ${formatDateTime(rental.start_time)}\nالحالة: ${rental.status}\nالمبلغ: ${formatCurrency(rental.total_amount || 0)}\nحالة الدفع: ${rental.payment_status}`);\n          break;\n        }\n      case 'end':\n        {\n          // استخدام الدالة المحسنة\n          await handleEndRental(rental);\n          break;\n        }\n      case 'cancel':\n        {\n          if (window.confirm('هل تريد إلغاء هذا التأجير؟ سيتم إرجاع اللعبة للمخزون.')) {\n            try {\n              const response = await api.cancelRental(rental.id, 0, 'تم الإلغاء من قبل المستخدم');\n              if (response.success) {\n                alert('✅ تم إلغاء التأجير');\n                loadActiveRentals();\n                loadGames();\n              } else {\n                alert(`❌ فشل الإلغاء: ${response.message}`);\n              }\n            } catch (error) {\n              alert('🔥 حدث خطأ في إلغاء التأجير');\n            }\n          }\n          break;\n        }\n      case 'extend':\n        {\n          const additionalMinutes = prompt('أددد عدد الدقائق الإضافية:', '15');\n          if (additionalMinutes && !isNaN(additionalMinutes)) {\n            try {\n              const response = await api.extendRental(rental.id, parseInt(additionalMinutes));\n              if (response.success) {\n                alert(`✅ تم تمديد التأجير ${additionalMinutes} دقيقة`);\n                loadActiveRentals();\n              }\n            } catch (error) {\n              alert('❌ فشل تمديد التأجير');\n            }\n          }\n          break;\n        }\n      default:\n        console.warn(`⚠️ إجراء غير معروف: ${action}`);\n    }\n  };\n  const startShift = async () => {\n    try {\n      const response = await api.post('/shifts/start');\n      if (response.success) {\n        setCurrentShift(response.data);\n        alert('تم بدء الشيفت');\n        loadAllData();\n      }\n    } catch (error) {\n      alert('فشل بدء الشيفت');\n    }\n  };\n  const endShift = async () => {\n    if (!currentShift) return;\n    if (window.confirm('هل تريد إنهاء الشيفت الحالي؟')) {\n      try {\n        const response = await api.put(`/shifts/${currentShift.id}/end`);\n        if (response.success) {\n          setCurrentShift(null);\n          setActiveRentals([]);\n          alert('تم إنهاء الشيفت');\n          loadAllData();\n        }\n      } catch (error) {\n        alert('فشل إنهاء الشيفت');\n      }\n    }\n  };\n  const handleExportCompleted = rentals => {\n    try {\n      const dataStr = JSON.stringify(rentals, null, 2);\n      const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n      const link = document.createElement('a');\n      link.setAttribute('href', dataUri);\n      link.setAttribute('download', `تأجيرات_${new Date().toISOString().split('T')[0]}.json`);\n      link.click();\n      alert(`تم تصدير ${rentals.length} تأجير`);\n    } catch (error) {\n      alert('فشل تصدير البيانات');\n    }\n  };\n  const handlePrintCompleted = rentals => {\n    const printWindow = window.open('', '_blank');\n    const content = `\n      <html>\n        <head>\n          <title>تقرير التأجيرات المكتملة</title>\n          <style>\n            body { font-family: Arial; direction: rtl; padding: 20px; }\n            h1 { text-align: center; }\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }\n            th { background-color: #f2f2f2; }\n          </style>\n        </head>\n        <body>\n          <h1>تقرير التأجيرات المكتملة</h1>\n          <table>\n            <thead>\n              <tr>\n                <th>رقم التأجير</th>\n                <th>العميل</th>\n                <th>اللعبة</th>\n                <th>المبلغ</th>\n                <th>وقت الانتهاء</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${rentals.map(rental => `\n                <tr>\n                  <td>${rental.rental_number || rental.id}</td>\n                  <td>${rental.customer_name}</td>\n                  <td>${rental.game_name}</td>\n                  <td>${formatCurrency(rental.total_amount)}</td>\n                  <td>${formatDateTime(rental.end_time)}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n          <script>window.print();</script>\n        </body>\n      </html>\n    `;\n    printWindow.document.write(content);\n    printWindow.document.close();\n  };\n\n  // ==================== التصيير ====================\n  if (loading.games && loading.rentals) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"spinner\",\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1587,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1585,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1598,\n            columnNumber: 13\n          }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1597,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1602,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [user === null || user === void 0 ? void 0 : user.name, \" - \", isManager ? 'مدير' : 'موظف']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1603,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Building, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user === null || user === void 0 ? void 0 : user.branch_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1605,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1601,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1596,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [selectedGames.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRentalModal(true),\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1615,\n            columnNumber: 15\n          }, this), \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 (\", selectedGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1611,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadAllData,\n          className: \"btn btn-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1624,\n            columnNumber: 13\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1620,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1609,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1595,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStats, {\n      stats: stats,\n      currentShift: currentShift,\n      onStartShift: startShift,\n      onEndShift: endShift,\n      loading: loading.shift\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1631,\n      columnNumber: 7\n    }, this), !currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-shift-alert\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1642,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1644,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0644\\u0644\\u062A\\u0645\\u0643\\u0646 \\u0645\\u0646 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1645,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1643,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startShift,\n        className: \"btn btn-success\",\n        children: \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1647,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1641,\n      columnNumber: 9\n    }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(GamesGrid, {\n        games: games,\n        branchId: user === null || user === void 0 ? void 0 : user.branch_id,\n        onSelectGame: handleSelectGame,\n        loading: loading.games\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1657,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ActiveRentalsTable, {\n        rentals: activeRentals,\n        onAction: handleRentalAction,\n        loading: loading.rentals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1665,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CompletedRentalsTable, {\n        rentals: completedRentals,\n        onExport: handleExportCompleted,\n        onPrint: handlePrintCompleted,\n        loading: loading.stats,\n        isManager: isManager\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1672,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1655,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MultiRentalModal, {\n      show: showRentalModal,\n      onClose: () => {\n        setShowRentalModal(false);\n        setSelectedGames([]);\n      },\n      selectedGames: selectedGames,\n      currentShift: currentShift,\n      onConfirmRental: handleCreateRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1684,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1593,\n    columnNumber: 5\n  }, this);\n};\n_s5(Rentals, \"EQdMPazDwli3Vqyqrh0Jqw1iHFQ=\", false, function () {\n  return [useAuth];\n});\n_c6 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"GamesGrid\");\n$RefreshReg$(_c2, \"MultiRentalModal\");\n$RefreshReg$(_c3, \"ActiveRentalsTable\");\n$RefreshReg$(_c4, \"CompletedRentalsTable\");\n$RefreshReg$(_c5, \"DashboardStats\");\n$RefreshReg$(_c6, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","Gamepad2","Clock","User","Phone","MapPin","Mail","ShoppingCart","DollarSign","CheckCircle","XCircle","Eye","Plus","Minus","Trash2","Calendar","Printer","Download","RefreshCw","AlertCircle","Check","X","Building","Zap","Lock","Unlock","Loader2","Filter","Search","ChevronRight","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","validatePhone","phone","cleaned","replace","length","startsWith","calculateDuration","startTime","endTime","start","end","Math","round","GamesGrid","games","branchId","onSelectGame","loading","_s","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","availableGames","setAvailableGames","branchGames","filter","game","gameBranchId","parseInt","branch_id","currentBranchId","status","filteredGames","_game$name","_game$category","matchesSearch","name","toLowerCase","includes","category","matchesCategory","categories","cats","Set","forEach","add","Array","from","getGameImage","imageMap","image_url","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","map","cat","src","alt","onError","price_per_15min","id","_c","MultiRentalModal","show","onClose","selectedGames","onConfirmRental","currentShift","_s2","customerInfo","setCustomerInfo","email","address","showAddMoreGames","setShowAddMoreGames","rentalItems","setRentalItems","paymentMethod","setPaymentMethod","paymentStatus","setPaymentStatus","notes","setNotes","isSubmitting","setIsSubmitting","items","now","random","gameId","gameName","gameImage","rentalType","duration","pricePer15min","quantity","updateRentalItem","updates","item","removeRentalItem","calculateItemPrice","units","ceil","calculateTotal","reduce","total","handleSubmit","alert","rentalData","totalAmount","shiftId","error","console","disabled","required","minutes","max","rows","sum","_c2","_user","AddMoreGamesModal","user","onAddGames","newGames","updatedSelectedGames","some","g","push","setSelectedGames","newItems","ActiveRentalsTable","rentals","onAction","_s3","countdowns","setCountdowns","updateCountdowns","newCountdowns","rental","isOpenTime","is_open_time","rental_type","start_time","setMinutes","getMinutes","duration_minutes","diffMs","floor","seconds","toString","padStart","interval","setInterval","clearInterval","getRentalTimeInfo","remaining","calculateRentalAmount","total_amount","pricePer15Min","timeInfo","rental_number","customer_name","customer_phone","game_name","payment_status","title","_c3","CompletedRentalsTable","onExport","onPrint","isManager","_s4","selectedPeriod","setSelectedPeriod","filteredRentals","setFilteredRentals","filterRentals","filtered","today","toISOString","split","r","end_time","weekAgo","setDate","getDate","monthAgo","setMonth","getMonth","totalRevenue","_c4","DashboardStats","stats","onStartShift","onEndShift","i","activeRentals","todayRevenue","_c5","Rentals","_s5","role","setLoading","shift","setGames","setActiveRentals","completedRentals","setCompletedRentals","setCurrentShift","showRentalModal","setShowRentalModal","setStats","totalGames","todayRentals","loadGames","response","get","params","success","data","prev","loadActiveRentals","loadCurrentShift","loadCompletedRentals","start_date","loadAllData","Promise","all","handleSelectGame","handleCreateRental","log","results","failedGames","find","warn","rentalRequest","game_id","customer_email","customer_address","payment_method","createRental","_response$data","_response$data2","_response$data3","rental_id","message","successCount","totalCount","join","setTimeout","handleEndRental","estimatedAmount","window","confirm","completeRental","handleRentalAction","action","cancelRental","additionalMinutes","prompt","isNaN","extendRental","startShift","post","endShift","put","handleExportCompleted","dataStr","JSON","stringify","dataUri","encodeURIComponent","link","document","createElement","setAttribute","click","handlePrintCompleted","printWindow","open","content","write","close","branch_name","_c6","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { \r\n  Gamepad2, Clock, User, Phone, MapPin, Mail, \r\n  ShoppingCart, DollarSign, CheckCircle, XCircle, Eye, \r\n  Plus, Minus, Trash2, Calendar, Printer, Download,\r\n  RefreshCw, AlertCircle, Check, X, Building, Zap,\r\n  Lock, Unlock, Loader2, Filter, Search, ChevronRight\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== دوال مساعدة ====================\r\nconst formatCurrency = (amount) => {\r\n  if (!amount && amount !== 0) return '0 ج.م';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst validatePhone = (phone) => {\r\n  if (!phone) return false;\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 11 && cleaned.startsWith('01');\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  return Math.round((end - start) / (1000 * 60));\r\n};\r\n\r\n// ==================== مكون الألعاب المتاحة ====================\r\nconst GamesGrid = ({ games, branchId, onSelectGame, loading }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [availableGames, setAvailableGames] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!branchId || !games) return;\r\n    \r\n    const branchGames = games.filter(game => {\r\n      if (!game) return false;\r\n      const gameBranchId = parseInt(game.branch_id);\r\n      const currentBranchId = parseInt(branchId);\r\n      return gameBranchId === currentBranchId && game.status === 'متاح';\r\n    });\r\n    \r\n    setAvailableGames(branchGames);\r\n  }, [games, branchId]);\r\n\r\n  const filteredGames = useMemo(() => {\r\n    if (!availableGames.length) return [];\r\n    \r\n    return availableGames.filter(game => {\r\n      const matchesSearch = game.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                          game.category?.toLowerCase().includes(searchTerm.toLowerCase());\r\n      \r\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\r\n      \r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  }, [availableGames, searchTerm, selectedCategory]);\r\n\r\n  const categories = useMemo(() => {\r\n    if (!availableGames.length) return ['all'];\r\n    \r\n    const cats = new Set(['all']);\r\n    availableGames.forEach(game => {\r\n      if (game.category) cats.add(game.category);\r\n    });\r\n    return Array.from(cats);\r\n  }, [availableGames]);\r\n\r\n  const getGameImage = useCallback((game) => {\r\n    if (!game) return '/images/default-game.jpg';\r\n    \r\n    const imageMap = {\r\n      'دريفت كار': '/images/Driftcar.jpg',\r\n      'هافر بورد': '/images/Hoverboard.jpg',\r\n      'سكوتر': '/images/Scooter.jpg',\r\n      'عربة كهربائية': '/images/Car.jpg',\r\n      'موتوسيكل كهربائي': '/images/Motor.jpg',\r\n      'هارلي': '/images/harley.jpg',\r\n      'سيجواي': '/images/Segway.jpg',\r\n      'كرازي كار': '/images/Ninebot.jpg',\r\n      'سكيت كهربائي': '/images/Skate.jpg',\r\n      'ترامبولين': '/images/Trampoline.jpg',\r\n      'محاكي': '/images/Simulator.jpg'\r\n    };\r\n    \r\n    if (game.image_url && game.image_url !== 'default-game.jpg') {\r\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\r\n    }\r\n    \r\n    return imageMap[game.name] || '/images/default-game.jpg';\r\n  }, []);\r\n\r\n  if (!branchId) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"empty-state\">\r\n          <Building size={48} />\r\n          <h3>الرجاء تحديد فرع</h3>\r\n          <p>يجب تحديد فرع لعرض الألعاب المتاحة</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>جاري تحميل الألعاب...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"games-grid-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <Gamepad2 size={24} />\r\n          الألعاب المتاحة\r\n          <span className=\"section-count\">({availableGames.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"search-box\">\r\n            <Search size={18} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ابحث عن لعبة...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            {searchTerm && (\r\n              <button onClick={() => setSearchTerm('')} className=\"clear-search\">\r\n                <X size={16} />\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {categories.length > 1 && (\r\n            <div className=\"filter-controls\">\r\n              <Filter size={18} />\r\n              <select \r\n                value={selectedCategory}\r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className=\"filter-select\"\r\n              >\r\n                {categories.map(cat => (\r\n                  <option key={cat} value={cat}>\r\n                    {cat === 'all' ? 'جميع الفئات' : cat}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {availableGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <Gamepad2 size={48} />\r\n          <h3>لا توجد ألعاب متاحة</h3>\r\n          <p>جميع الألعاب مؤجرة أو قيد الصيانة</p>\r\n        </div>\r\n      ) : filteredGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n  <Search size={48} />\r\n  <h3>لم يتم العثور على ألعاب</h3>\r\n  <p>لا توجد ألعاب تطابق &quot;{searchTerm}&quot;</p>\r\n</div>\r\n\r\n      ) : (\r\n        <div className=\"games-grid\">\r\n          {filteredGames.map(game => (\r\n            <div \r\n              key={game.id} \r\n              className=\"game-card\"\r\n              onClick={() => onSelectGame(game)}\r\n            >\r\n              <div className=\"game-image-container\">\r\n                <img \r\n                  src={getGameImage(game)} \r\n                  alt={game.name}\r\n                  className=\"game-image\"\r\n                  onError={(e) => e.target.src = '/images/default-game.jpg'}\r\n                />\r\n                <div className=\"game-status available\">\r\n                  <CheckCircle size={14} />\r\n                  <span>متاح</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"game-info\">\r\n                <h4>{game.name}</h4>\r\n                <div className=\"game-category\">{game.category}</div>\r\n                <div className=\"game-price\">\r\n                  {formatCurrency(game.price_per_15min)} / 15 دقيقة\r\n                </div>\r\n                <div className=\"game-actions\">\r\n                  <button className=\"btn-select-game\">\r\n                    <Plus size={16} />\r\n                    إضافة للتأجير\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون تأجير متعدد ====================\r\nconst MultiRentalModal = ({ \r\n  show, \r\n  onClose, \r\n  selectedGames, \r\n  onConfirmRental, \r\n  currentShift \r\n  \r\n}) => {\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    phone: '',\r\n    email: '',\r\n    address: ''\r\n  });\r\n  const [showAddMoreGames, setShowAddMoreGames] = useState(false);\r\n\r\n  const [rentalItems, setRentalItems] = useState([]);\r\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\r\n  const [paymentStatus, setPaymentStatus] = useState('عند الإنهاء');\r\n  const [notes, setNotes] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (show && selectedGames.length > 0) {\r\n      const items = selectedGames.map(game => ({\r\n        id: Date.now() + Math.random(),\r\n        gameId: game.id,\r\n        gameName: game.name,\r\n        gameImage: '/images/default-game.jpg',\r\n        rentalType: 'fixed',\r\n        duration: 15,\r\n        pricePer15min: game.price_per_15min || 100,\r\n        quantity: 1,\r\n        notes: ''\r\n      }));\r\n      setRentalItems(items);\r\n    }\r\n  }, [show, selectedGames]);\r\n\r\n  const updateRentalItem = (id, updates) => {\r\n    setRentalItems(items => \r\n      items.map(item => \r\n        item.id === id ? { ...item, ...updates } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const removeRentalItem = (id) => {\r\n    setRentalItems(items => items.filter(item => item.id !== id));\r\n  };\r\n\r\n  const calculateItemPrice = useCallback((item) => {\r\n    if (item.rentalType === 'open') return 0;\r\n    const units = Math.ceil(item.duration / 15);\r\n    return (item.pricePer15min * units * item.quantity) || 0;\r\n  }, []);\r\n\r\n  const calculateTotal = useCallback(() => {\r\n    return rentalItems.reduce((total, item) => {\r\n      return total + calculateItemPrice(item);\r\n    }, 0);\r\n  }, [rentalItems, calculateItemPrice]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!customerInfo.name || !customerInfo.phone) {\r\n      alert('يرجى إدخال اسم العميل ورقم الهاتف');\r\n      return;\r\n    }\r\n    \r\n    if (!validatePhone(customerInfo.phone)) {\r\n      alert('رقم الهاتف غير صحيح. يجب أن يكون 11 رقماً ويبدأ بـ 01');\r\n      return;\r\n    }\r\n    \r\n    if (rentalItems.length === 0) {\r\n      alert('يرجى إضافة ألعاب للتأجير');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const rentalData = {\r\n        customerInfo,\r\n        rentalItems,\r\n        paymentMethod,\r\n        paymentStatus,\r\n        notes,\r\n        totalAmount: calculateTotal(),\r\n        shiftId: currentShift?.id\r\n      };\r\n\r\n      await onConfirmRental(rentalData);\r\n      \r\n      setCustomerInfo({ name: '', phone: '', email: '', address: '' });\r\n      setRentalItems([]);\r\n      setPaymentMethod('كاش');\r\n      setPaymentStatus('عند الإنهاء');\r\n      setNotes('');\r\n      onClose();\r\n      \r\n    } catch (error) {\r\n      console.error('خطأ في إنشاء التأجير:', error);\r\n      alert('حدث خطأ في إنشاء التأجير');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal rental-modal\">\r\n        <div className=\"modal-header\">\r\n          <h2>\r\n            <ShoppingCart size={24} />\r\n            تأجير جديد ({selectedGames.length} لعبة)\r\n          </h2>\r\n          <button onClick={onClose} className=\"modal-close\">\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"modal-body\">\r\n          {/* معلومات العميل */}\r\n          <div className=\"form-section\">\r\n            <h3>\r\n              <User size={20} />\r\n              معلومات العميل\r\n            </h3>\r\n             <button\r\n              type=\"button\"\r\n              className=\"btn btn-outline-secondary btn-sm\"\r\n              onClick={() => setShowAddMoreGames(true)}\r\n              disabled={isSubmitting}\r\n            >\r\n              <Plus size={16} />\r\n              إضافة لعبة أخرى\r\n            </button>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>الاسم الكامل *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <User size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.name}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, name: e.target.value})}\r\n                    placeholder=\"أدخل اسم العميل\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>رقم الهاتف *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Phone size={18} />\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={customerInfo.phone}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, phone: e.target.value})}\r\n                    placeholder=\"01xxxxxxxxx\"\r\n                    required\r\n                  />\r\n                </div>\r\n                {customerInfo.phone && !validatePhone(customerInfo.phone) && (\r\n                  <span className=\"error-text\">رقم هاتف غير صحيح</span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>البريد الإلكتروني</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Mail size={18} />\r\n                  <input\r\n                    type=\"email\"\r\n                    value={customerInfo.email}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, email: e.target.value})}\r\n                    placeholder=\"email@example.com\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>العنوان</label>\r\n                <div className=\"input-with-icon\">\r\n                  <MapPin size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.address}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, address: e.target.value})}\r\n                    placeholder=\"العنوان الكامل\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* قائمة الألعاب */}\r\n          <div className=\"rental-items-section\">\r\n            <h3>\r\n              <ShoppingCart size={20} />\r\n              قائمة الألعاب ({rentalItems.length})\r\n            </h3>\r\n            \r\n            {rentalItems.map(item => (\r\n              <div key={item.id} className=\"rental-item\">\r\n                <div className=\"item-header\">\r\n                  <div className=\"item-info\">\r\n                    <span className=\"item-name\">{item.gameName}</span>\r\n                    <span className=\"item-price\">\r\n                      {formatCurrency(item.pricePer15min)} / 15 دقيقة\r\n                    </span>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => removeRentalItem(item.id)}\r\n                    className=\"btn-remove\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <Trash2 size={18} />\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"item-options\">\r\n                  <div className=\"option-row\">\r\n                    <div className=\"option-group\">\r\n                      <label>نوع التأجير:</label>\r\n                      <div className=\"toggle-buttons\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'fixed', duration: 15 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Clock size={16} />\r\n                          وقت ثابت\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'open', duration: 0 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Unlock size={16} />\r\n                          وقت مفتوح\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {item.rentalType === 'fixed' && (\r\n                      <div className=\"option-group\">\r\n                        <label>المدة:</label>\r\n                        <div className=\"duration-buttons\">\r\n                          {[15, 30, 45, 60, 90, 120].map(minutes => (\r\n                            <button\r\n                              key={minutes}\r\n                              type=\"button\"\r\n                              className={`duration-btn ${item.duration === minutes ? 'active' : ''}`}\r\n                              onClick={() => updateRentalItem(item.id, { duration: minutes })}\r\n                              disabled={isSubmitting}\r\n                            >\r\n                              {minutes} دقيقة\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"option-group\">\r\n                      <label>الكمية:</label>\r\n                      <div className=\"quantity-control\">\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: Math.max(1, item.quantity - 1) \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Minus size={16} />\r\n                        </button>\r\n                        <span className=\"quantity-value\">{item.quantity}</span>\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: item.quantity + 1 \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Plus size={16} />\r\n                        </button>\r\n\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* المعلومات المالية */}\r\n          <div className=\"payment-section\">\r\n            <h3>\r\n              <DollarSign size={20} />\r\n              المعلومات المالية\r\n            </h3>\r\n            \r\n            <div className=\"form-row\">\r\n              <div className=\"form-group\">\r\n                <label>طريقة الدفع:</label>\r\n                <select \r\n                  value={paymentMethod}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"كاش\">💵 نقدي</option>\r\n                  <option value=\"بطاقة\">💳 بطاقة ائتمان</option>\r\n                  <option value=\"محفظة\">📱 محفظة إلكترونية</option>\r\n                  <option value=\"تحويل\">🏦 تحويل بنكي</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>حالة الدفع:</label>\r\n                <select \r\n                  value={paymentStatus}\r\n                  onChange={(e) => setPaymentStatus(e.target.value)}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"عند الإنهاء\">⏳ عند الإنهاء</option>\r\n                  <option value=\"مدفوع\">✅ مدفوع</option>\r\n                  <option value=\"جزئي\">💰 مدفوع جزئياً</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n              <label>ملاحظات:</label>\r\n              <textarea\r\n                value={notes}\r\n                onChange={(e) => setNotes(e.target.value)}\r\n                placeholder=\"أي ملاحظات إضافية...\"\r\n                rows=\"3\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          {/* الملخص */}\r\n          <div className=\"summary-section\">\r\n            <div className=\"summary-row\">\r\n              <span>عدد الألعاب:</span>\r\n              <span>{rentalItems.length}</span>\r\n            </div>\r\n            <div className=\"summary-row\">\r\n              <span>إجمالي القطع:</span>\r\n              <span>{rentalItems.reduce((sum, item) => sum + item.quantity, 0)}</span>\r\n            </div>\r\n            <div className=\"summary-row total\">\r\n              <span>المبلغ الإجمالي:</span>\r\n              <span>{formatCurrency(calculateTotal())}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"modal-footer\">\r\n          <button \r\n            onClick={onClose} \r\n            className=\"btn btn-secondary\"\r\n            disabled={isSubmitting}\r\n          >\r\n            <X size={18} />\r\n            إلغاء\r\n          </button>\r\n          <button \r\n            onClick={handleSubmit} \r\n            className=\"btn btn-primary\"\r\n            disabled={isSubmitting || rentalItems.length === 0}\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <Loader2 className=\"spinner\" size={18} />\r\n                جاري المعالجة...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Check size={18} />\r\n                بدء التأجير\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n {showAddMoreGames && (\r\n        <AddMoreGamesModal\r\n          show={showAddMoreGames}\r\n          onClose={() => setShowAddMoreGames(false)}\r\n          games={games}\r\n          branchId={user?.branch_id}\r\n          selectedGames={selectedGames}\r\n          onAddGames={(newGames) => {\r\n            // إضافة الألعاب الجديدة إلى القائمة المحددة\r\n            const updatedSelectedGames = [...selectedGames];\r\n            newGames.forEach(game => {\r\n              if (!updatedSelectedGames.some(g => g.id === game.id)) {\r\n                updatedSelectedGames.push(game);\r\n              }\r\n            });\r\n            setSelectedGames(updatedSelectedGames);\r\n            \r\n            // تحديث عناصر التأجير\r\n            const newItems = newGames.map(game => ({\r\n              id: Date.now() + Math.random(),\r\n              gameId: game.id,\r\n              gameName: game.name,\r\n              gameImage: '/images/default-game.jpg',\r\n              rentalType: 'fixed',\r\n              duration: 15,\r\n              pricePer15min: game.price_per_15min || 100,\r\n              quantity: 1,\r\n              notes: ''\r\n            }));\r\n            setRentalItems([...rentalItems, ...newItems]);\r\n          }}\r\n        />\r\n )}\r\n    \r\n\r\n// ==================== مكون التأجيرات النشطة ====================\r\nconst ActiveRentalsTable = ({ rentals, onAction, loading }) => {\r\n  const [countdowns, setCountdowns] = useState({});\r\n\r\n  useEffect(() => {\r\n    const updateCountdowns = () => {\r\n      const newCountdowns = {};\r\n      \r\n      rentals.forEach(rental => {\r\n        if (!rental) return;\r\n        \r\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n        \r\n        if (!isOpenTime) {\r\n          const endTime = new Date(rental.start_time);\r\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n          const now = new Date();\r\n          \r\n          if (now > endTime) {\r\n            newCountdowns[rental.id] = '⏰ انتهى';\r\n          } else {\r\n            const diffMs = endTime - now;\r\n            const minutes = Math.floor(diffMs / 60000);\r\n            const seconds = Math.floor((diffMs % 60000) / 1000);\r\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n          }\r\n        } else {\r\n          const startTime = new Date(rental.start_time);\r\n          const now = new Date();\r\n          const diffMs = now - startTime;\r\n          const minutes = Math.floor(diffMs / 60000);\r\n          const seconds = Math.floor((diffMs % 60000) / 1000);\r\n          newCountdowns[rental.id] = `⏳ ${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n        }\r\n      });\r\n      \r\n      setCountdowns(newCountdowns);\r\n    };\r\n\r\n    updateCountdowns();\r\n    const interval = setInterval(updateCountdowns, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [rentals]);\r\n\r\n  const getRentalTimeInfo = useCallback((rental) => {\r\n    if (!rental) return { type: '', remaining: '' };\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    \r\n    if (isOpenTime) {\r\n      return {\r\n        type: '⏳ وقت مفتوح',\r\n        remaining: countdowns[rental.id] || '⏳ 0:00'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      type: `${rental.duration_minutes} دقيقة`,\r\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\r\n    };\r\n  }, [countdowns]);\r\n\r\n  const calculateRentalAmount = useCallback((rental) => {\r\n    if (!rental) return formatCurrency(0);\r\n    \r\n    if (rental.total_amount && rental.total_amount > 0) {\r\n      return formatCurrency(rental.total_amount);\r\n    }\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    if (isOpenTime) {\r\n      const startTime = new Date(rental.start_time);\r\n      const now = new Date();\r\n      const minutes = Math.floor((now - startTime) / 60000);\r\n      const units = Math.ceil(minutes / 15);\r\n      const pricePer15Min = rental.price_per_15min || 100;\r\n      \r\n      return formatCurrency(units * pricePer15Min);\r\n    }\r\n    \r\n    return formatCurrency(rental.total_amount || 0);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"active-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>جاري تحميل التأجيرات...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"active-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <Zap size={24} />\r\n          التأجيرات النشطة\r\n          <span className=\"section-count\">({rentals.length})</span>\r\n        </h3>\r\n      </div>\r\n      \r\n      {rentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <Clock size={48} />\r\n          <h3>لا توجد تأجيرات نشطة</h3>\r\n          <p>ابدأ تأجير جديد من قائمة الألعاب</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"table-container\">\r\n          <table className=\"rentals-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>رقم التأجير</th>\r\n                <th>العميل</th>\r\n                <th>اللعبة</th>\r\n                <th>المدة</th>\r\n                <th>الوقت المتبقي</th>\r\n                <th>المبلغ</th>\r\n                <th>حالة الدفع</th>\r\n                <th>الإجراءات</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {rentals.map(rental => {\r\n                const timeInfo = getRentalTimeInfo(rental);\r\n                const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n                \r\n                return (\r\n                  <tr key={rental.id}>\r\n                    <td>\r\n                      <strong>#{rental.rental_number || rental.id}</strong>\r\n                      {isOpenTime && <span className=\"badge open\">مفتوح</span>}\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"customer-cell\">\r\n                        <div className=\"customer-name\">{rental.customer_name}</div>\r\n                        <div className=\"customer-phone\">{rental.customer_phone}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td>{rental.game_name}</td>\r\n                    <td>{timeInfo.type}</td>\r\n                    <td>\r\n                      <div className=\"countdown-cell\">\r\n                        <Clock size={14} />\r\n                        <span>{timeInfo.remaining}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"amount-cell\">\r\n                      {calculateRentalAmount(rental)}\r\n                    </td>\r\n                    <td>\r\n                      <span className={`payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`}>\r\n                        {rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⏳ ' + rental.payment_status}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"action-buttons\">\r\n                        <button\r\n                          onClick={() => onAction('details', rental)}\r\n                          className=\"action-btn view\"\r\n                          title=\"عرض التفاصيل\"\r\n                        >\r\n                          <Eye size={16} />\r\n                        </button>\r\n                        \r\n                        {isOpenTime && (\r\n                          <button\r\n                            onClick={() => onAction('end', rental)}\r\n                            className=\"action-btn end\"\r\n                            title=\"إنهاء الوقت\"\r\n                          >\r\n                            <Clock size={16} />\r\n                          </button>\r\n                        )}\r\n                        \r\n                        <button\r\n                          onClick={() => onAction('cancel', rental)}\r\n                          className=\"action-btn cancel\"\r\n                          title=\"إلغاء التأجير\"\r\n                        >\r\n                          <XCircle size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون التأجيرات المكتملة ====================\r\nconst CompletedRentalsTable = ({ rentals, onExport, onPrint, loading, isManager }) => {\r\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\r\n  const [filteredRentals, setFilteredRentals] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const filterRentals = () => {\r\n      if (!rentals || rentals.length === 0) {\r\n        setFilteredRentals([]);\r\n        return;\r\n      }\r\n\r\n      const now = new Date();\r\n      let filtered = [...rentals];\r\n\r\n      switch (selectedPeriod) {\r\n        case 'today': {\r\n          const today = now.toISOString().split('T')[0];\r\n          filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\r\n          break;\r\n        }\r\n        case 'week': {\r\n          const weekAgo = new Date();\r\n          weekAgo.setDate(weekAgo.getDate() - 7);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\r\n          break;\r\n        }\r\n        case 'month': {\r\n          const monthAgo = new Date();\r\n          monthAgo.setMonth(monthAgo.getMonth() - 1);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\r\n          break;\r\n        }\r\n        default:\r\n          break;\r\n      }\r\n\r\n      setFilteredRentals(filtered);\r\n    };\r\n\r\n    filterRentals();\r\n  }, [rentals, selectedPeriod]);\r\n\r\n  const totalRevenue = useMemo(() => {\r\n    return filteredRentals.reduce((sum, rental) => \r\n      sum + (parseFloat(rental.total_amount) || 0), 0\r\n    );\r\n  }, [filteredRentals]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"completed-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>جاري تحميل التأجيرات المكتملة...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isManager) return null;\r\n\r\n  return (\r\n    <div className=\"completed-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <CheckCircle size={24} />\r\n          التأجيرات المكتملة\r\n          <span className=\"section-count\">({filteredRentals.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"period-selector\">\r\n            <select\r\n              value={selectedPeriod}\r\n              onChange={(e) => setSelectedPeriod(e.target.value)}\r\n              className=\"period-select\"\r\n            >\r\n              <option value=\"today\">اليوم</option>\r\n              <option value=\"week\">آخر 7 أيام</option>\r\n              <option value=\"month\">آخر 30 يوم</option>\r\n              <option value=\"all\">الكل</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => onExport(filteredRentals)}\r\n            className=\"btn btn-success\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Download size={18} />\r\n            تصدير\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => onPrint(filteredRentals)}\r\n            className=\"btn btn-primary\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Printer size={18} />\r\n            طباعة\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {filteredRentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <CheckCircle size={48} />\r\n          <h3>لا توجد تأجيرات مكتملة</h3>\r\n          <p>لم تكتمل أي تأجيرات في الفترة المحددة</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"revenue-summary\">\r\n            <div className=\"summary-card\">\r\n              <DollarSign size={32} />\r\n              <div>\r\n                <div className=\"summary-label\">إجمالي الإيرادات</div>\r\n                <div className=\"summary-value\">{formatCurrency(totalRevenue)}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"table-container\">\r\n            <table className=\"rentals-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>رقم التأجير</th>\r\n                  <th>العميل</th>\r\n                  <th>اللعبة</th>\r\n                  <th>وقت البدء</th>\r\n                  <th>وقت الانتهاء</th>\r\n                  <th>المدة</th>\r\n                  <th>المبلغ</th>\r\n                  <th>حالة الدفع</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {filteredRentals.map(rental => (\r\n                  <tr key={rental.id}>\r\n                    <td>#{rental.rental_number || rental.id}</td>\r\n                    <td>\r\n                      <div className=\"customer-info\">\r\n                        <div className=\"customer-name\">{rental.customer_name}</div>\r\n                        <div className=\"customer-phone\">{rental.customer_phone}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td>{rental.game_name}</td>\r\n                    <td>{formatTime(rental.start_time)}</td>\r\n                    <td>{formatTime(rental.end_time)}</td>\r\n                    <td>{calculateDuration(rental.start_time, rental.end_time)} دقيقة</td>\r\n                    <td className=\"amount-cell\">{formatCurrency(rental.total_amount)}</td>\r\n                    <td>\r\n                      <span className={`payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'partial'}`}>\r\n                        {rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⚠️ ' + rental.payment_status}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون لوحة التحكم ====================\r\nconst DashboardStats = ({ stats, currentShift, onStartShift, onEndShift, loading }) => {\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-stats\">\r\n        <div className=\"stats-grid\">\r\n          {[1, 2, 3, 4].map(i => (\r\n            <div key={i} className=\"stat-card skeleton\"></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-stats\">\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Gamepad2 size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.availableGames || 0}</div>\r\n            <div className=\"stat-label\">ألعاب متاحة</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Zap size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.activeRentals || 0}</div>\r\n            <div className=\"stat-label\">تأجيرات نشطة</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <DollarSign size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{formatCurrency(stats.todayRevenue || 0)}</div>\r\n            <div className=\"stat-label\">إيراد اليوم</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">\r\n            <Clock size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">\r\n              {currentShift ? `#${currentShift.id}` : '--'}\r\n            </div>\r\n            <div className=\"stat-label\">الشيفت الحالي</div>\r\n            <div className=\"shift-actions\">\r\n              {!currentShift ? (\r\n                <button onClick={onStartShift} className=\"btn btn-success\">\r\n                  <Zap size={14} />\r\n                  بدء شيفت\r\n                </button>\r\n              ) : (\r\n                <button onClick={onEndShift} className=\"btn btn-warning\">\r\n                  <Lock size={14} />\r\n                  إنهاء شيفت\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== المكون الرئيسي ====================\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n\r\n  const [loading, setLoading] = useState({\r\n    games: true,\r\n    rentals: true,\r\n    shift: true,\r\n    stats: true\r\n  });\r\n  \r\n  const [games, setGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [showRentalModal, setShowRentalModal] = useState(false);\r\n  \r\n  const [stats, setStats] = useState({\r\n    availableGames: 0,\r\n    totalGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n\r\n  // ==================== تحميل البيانات ====================\r\n  const loadGames = async () => {\r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { branch_id: user?.branch_id }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setGames(response.data);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          availableGames: response.data.filter(g => g.status === 'متاح').length,\r\n          totalGames: response.data.length\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل الألعاب:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, games: false }));\r\n    }\r\n  };\r\n\r\n  const loadActiveRentals = async () => {\r\n    try {\r\n      const response = await api.get('/rentals/active');\r\n      \r\n      if (response.success) {\r\n        setActiveRentals(response.data);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          activeRentals: response.data.length\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل التأجيرات النشطة:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, rentals: false }));\r\n    }\r\n  };\r\n\r\n  const loadCurrentShift = async () => {\r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      \r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل الشيفت:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  };\r\n\r\n  const loadCompletedRentals = async () => {\r\n    if (!isManager) return;\r\n    \r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const response = await api.get('/rentals', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          status: 'مكتمل',\r\n          start_date: today\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setCompletedRentals(response.data);\r\n        \r\n        const todayRentals = response.data.filter(r => \r\n          r.end_time && r.end_time.split('T')[0] === today\r\n        );\r\n        \r\n        const todayRevenue = todayRentals.reduce((sum, rental) => \r\n          sum + (parseFloat(rental.total_amount) || 0), 0\r\n        );\r\n        \r\n        setStats(prev => ({\r\n          ...prev,\r\n          todayRevenue: todayRevenue,\r\n          todayRentals: todayRentals.length\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل التأجيرات المكتملة:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, stats: false }));\r\n    }\r\n  };\r\n\r\n  const loadAllData = useCallback(async () => {\r\n    setLoading({ games: true, rentals: true, shift: true, stats: true });\r\n    \r\n    try {\r\n      await Promise.all([\r\n        loadGames(),\r\n        loadActiveRentals(),\r\n        loadCurrentShift(),\r\n        loadCompletedRentals()\r\n      ]);\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل البيانات:', error);\r\n    }\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    if (user?.branch_id) {\r\n      loadAllData();\r\n    }\r\n  }, [user?.branch_id]);\r\n\r\n\r\n  const calculateItemPrice = useCallback((item) => {\r\n  if (item.rentalType === 'open') return 0;\r\n  const units = Math.ceil(item.duration / 15);\r\n  return (item.pricePer15min * units * item.quantity) || 0;\r\n}, []);\r\n  // ==================== معالجة التأجيرات ====================\r\n  const handleSelectGame = (game) => {\r\n    if (!currentShift) {\r\n      alert('يجب بدء شيفت أولاً');\r\n      return;\r\n    }\r\n    \r\n    if (!selectedGames.some(g => g.id === game.id)) {\r\n      setSelectedGames([...selectedGames, game]);\r\n    }\r\n    setShowRentalModal(true);\r\n  };\r\n\r\nconst handleCreateRental = async (rentalData) => {\r\n  try {\r\n    console.log('🎯 بدء إنشاء تأجير متعدد:', rentalData.rentalItems.length);\r\n    \r\n    const results = [];\r\n    const failedGames = [];\r\n    \r\n    // إنشاء تأجير منفصل لكل لعبة\r\n    for (const item of rentalData.rentalItems) {\r\n      try {\r\n        // البحث عن اللعبة في قائمة الألعاب\r\n        const game = games.find(g => g.id === item.gameId);\r\n        \r\n        if (!game) {\r\n          console.warn(`⚠️ اللعبة ${item.gameId} غير موجودة`);\r\n          failedGames.push(item.gameName);\r\n          continue;\r\n        }\r\n        \r\n        // إعداد بيانات التأجير\r\n        const rentalRequest = {\r\n          game_id: item.gameId,\r\n          customer_name: rentalData.customerInfo.name,\r\n          customer_phone: rentalData.customerInfo.phone,\r\n          customer_email: rentalData.customerInfo.email,\r\n          customer_address: rentalData.customerInfo.address,\r\n          duration_minutes: item.rentalType === 'fixed' ? item.duration : null,\r\n          rental_type: item.rentalType,\r\n          quantity: item.quantity,\r\n          notes: item.notes || '',\r\n          payment_method: rentalData.paymentMethod,\r\n          payment_status: rentalData.paymentStatus,\r\n          total_amount: calculateItemPrice(item),\r\n          is_open_time: item.rentalType === 'open' ? 1 : 0\r\n        };\r\n        \r\n        // استخدام API لإرسال التأجير\r\n        const response = await api.createRental(rentalRequest);\r\n        \r\n        if (response && response.success) {\r\n          results.push({\r\n            game: item.gameName,\r\n            success: true,\r\n            rental_number: response.data?.rental_number || response.rental_number,\r\n            rental_id: response.data?.id || response.rental_id\r\n          });\r\n          \r\n          console.log(`✅ تم تأجير ${item.gameName}: ${response.rental_number || response.data?.rental_number}`);\r\n        } else {\r\n          failedGames.push(item.gameName);\r\n          console.warn(`❌ فشل تأجير ${item.gameName}: ${response.message}`);\r\n        }\r\n      } catch (error) {\r\n        console.error(`🔥 خطأ في تأجير ${item.gameName}:`, error);\r\n        failedGames.push(item.gameName);\r\n      }\r\n    }\r\n    \r\n    // عرض رسالة النتيجة\r\n    const successCount = results.length;\r\n    const totalCount = rentalData.rentalItems.length;\r\n    \r\n    if (successCount === totalCount) {\r\n      alert(`✅ تم إنشاء ${successCount} تأجير بنجاح`);\r\n    } else if (successCount > 0) {\r\n      alert(`⚠️ تم إنشاء ${successCount} تأجير بنجاح من أصل ${totalCount}\\n\\nفشل تأجير: ${failedGames.join(', ')}`);\r\n    } else {\r\n      alert(`❌ فشل إنشاء جميع التأجيرات`);\r\n    }\r\n    \r\n    // إعادة تحميل البيانات\r\n    setShowRentalModal(false);\r\n    setSelectedGames([]);\r\n    \r\n    // إعادة تحميل البيانات بعد تأخير قصير\r\n    setTimeout(() => {\r\n      loadGames();\r\n      loadActiveRentals();\r\n      loadCompletedRentals();\r\n    }, 1000);\r\n    \r\n  } catch (error) {\r\n    console.error('🔥 خطأ عام في إنشاء التأجير:', error);\r\n    alert('حدث خطأ في إنشاء التأجير. الرجاء المحاولة مرة أخرى');\r\n  }\r\n};\r\n\r\n// إضافة دالة handleEndRental\r\nconst handleEndRental = async (rental) => {\r\n  try {\r\n    if (!rental || !rental.id) {\r\n      alert('بيانات التأجير غير صالحة');\r\n      return;\r\n    }\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    \r\n    if (isOpenTime) {\r\n      // عرض نافذة تأكيد مع حساب السعر التقديري\r\n      const startTime = new Date(rental.start_time);\r\n      const now = new Date();\r\n      const minutes = Math.floor((now - startTime) / 60000);\r\n      const units = Math.ceil(minutes / 15);\r\n      const pricePer15Min = rental.price_per_15min || 100;\r\n      const estimatedAmount = units * pricePer15Min;\r\n      \r\n      if (!window.confirm(`هل تريد إنهاء التأجير المفتوح؟\\n\\nالمدة: ${minutes} دقيقة\\nالسعر التقديري: ${formatCurrency(estimatedAmount)}`)) {\r\n        return;\r\n      }\r\n    } else {\r\n      if (!window.confirm('هل تريد إنهاء هذا التأجير؟')) {\r\n        return;\r\n      }\r\n    }\r\n    \r\n    const response = await api.completeRental(rental.id, {\r\n      payment_method: 'كاش'\r\n    });\r\n    \r\n    if (response.success) {\r\n      alert('✅ تم إنهاء التأجير بنجاح');\r\n      loadActiveRentals();\r\n      loadGames();\r\n      loadCompletedRentals();\r\n    } else {\r\n      alert(`❌ فشل إنهاء التأجير: ${response.message}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('🔥 خطأ في إنهاء التأجير:', error);\r\n    alert('حدث خطأ في إنهاء التأجير');\r\n  }\r\n};\r\n\r\n// تحديث handleRentalAction ليبدو هكذا:\r\nconst handleRentalAction = async (action, rental) => {\r\n  switch(action) {\r\n    case 'details': {\r\n      // عرض تفاصيل التأجير في نافذة منبثقة\r\n      alert(`📋 تفاصيل التأجير:\r\nرقم التأجير: ${rental.rental_number || 'غير متوفر'}\r\nالعميل: ${rental.customer_name}\r\nالهاتف: ${rental.customer_phone}\r\nاللعبة: ${rental.game_name}\r\nوقت البدء: ${formatDateTime(rental.start_time)}\r\nالحالة: ${rental.status}\r\nالمبلغ: ${formatCurrency(rental.total_amount || 0)}\r\nحالة الدفع: ${rental.payment_status}`);\r\n      break;\r\n    }\r\n      \r\n    case 'end': {\r\n      // استخدام الدالة المحسنة\r\n      await handleEndRental(rental);\r\n      break;\r\n    }\r\n      \r\n    case 'cancel': {\r\n      if (window.confirm('هل تريد إلغاء هذا التأجير؟ سيتم إرجاع اللعبة للمخزون.')) {\r\n        try {\r\n          const response = await api.cancelRental(rental.id, 0, 'تم الإلغاء من قبل المستخدم');\r\n          if (response.success) {\r\n            alert('✅ تم إلغاء التأجير');\r\n            loadActiveRentals();\r\n            loadGames();\r\n          } else {\r\n            alert(`❌ فشل الإلغاء: ${response.message}`);\r\n          }\r\n        } catch (error) {\r\n          alert('🔥 حدث خطأ في إلغاء التأجير');\r\n        }\r\n      }\r\n      break;\r\n    }\r\n      \r\n    case 'extend': {\r\n      const additionalMinutes = prompt('أددد عدد الدقائق الإضافية:', '15');\r\n      if (additionalMinutes && !isNaN(additionalMinutes)) {\r\n        try {\r\n          const response = await api.extendRental(rental.id, parseInt(additionalMinutes));\r\n          if (response.success) {\r\n            alert(`✅ تم تمديد التأجير ${additionalMinutes} دقيقة`);\r\n            loadActiveRentals();\r\n          }\r\n        } catch (error) {\r\n          alert('❌ فشل تمديد التأجير');\r\n        }\r\n      }\r\n      break;\r\n    }\r\n    \r\n    default:\r\n      console.warn(`⚠️ إجراء غير معروف: ${action}`);\r\n  }\r\n};\r\n\r\n  const startShift = async () => {\r\n    try {\r\n      const response = await api.post('/shifts/start');\r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n        alert('تم بدء الشيفت');\r\n        loadAllData();\r\n      }\r\n    } catch (error) {\r\n      alert('فشل بدء الشيفت');\r\n    }\r\n  };\r\n\r\n  const endShift = async () => {\r\n    if (!currentShift) return;\r\n    \r\n    if (window.confirm('هل تريد إنهاء الشيفت الحالي؟')) {\r\n      try {\r\n        const response = await api.put(`/shifts/${currentShift.id}/end`);\r\n        if (response.success) {\r\n          setCurrentShift(null);\r\n          setActiveRentals([]);\r\n          alert('تم إنهاء الشيفت');\r\n          loadAllData();\r\n        }\r\n      } catch (error) {\r\n        alert('فشل إنهاء الشيفت');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleExportCompleted = (rentals) => {\r\n    try {\r\n      const dataStr = JSON.stringify(rentals, null, 2);\r\n      const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n      \r\n      const link = document.createElement('a');\r\n      link.setAttribute('href', dataUri);\r\n      link.setAttribute('download', `تأجيرات_${new Date().toISOString().split('T')[0]}.json`);\r\n      link.click();\r\n      \r\n      alert(`تم تصدير ${rentals.length} تأجير`);\r\n    } catch (error) {\r\n      alert('فشل تصدير البيانات');\r\n    }\r\n  };\r\n\r\n  const handlePrintCompleted = (rentals) => {\r\n    const printWindow = window.open('', '_blank');\r\n    const content = `\r\n      <html>\r\n        <head>\r\n          <title>تقرير التأجيرات المكتملة</title>\r\n          <style>\r\n            body { font-family: Arial; direction: rtl; padding: 20px; }\r\n            h1 { text-align: center; }\r\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\r\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }\r\n            th { background-color: #f2f2f2; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <h1>تقرير التأجيرات المكتملة</h1>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>رقم التأجير</th>\r\n                <th>العميل</th>\r\n                <th>اللعبة</th>\r\n                <th>المبلغ</th>\r\n                <th>وقت الانتهاء</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${rentals.map(rental => `\r\n                <tr>\r\n                  <td>${rental.rental_number || rental.id}</td>\r\n                  <td>${rental.customer_name}</td>\r\n                  <td>${rental.game_name}</td>\r\n                  <td>${formatCurrency(rental.total_amount)}</td>\r\n                  <td>${formatDateTime(rental.end_time)}</td>\r\n                </tr>\r\n              `).join('')}\r\n            </tbody>\r\n          </table>\r\n          <script>window.print();</script>\r\n        </body>\r\n      </html>\r\n    `;\r\n    \r\n    printWindow.document.write(content);\r\n    printWindow.document.close();\r\n  };\r\n\r\n  // ==================== التصيير ====================\r\n  if (loading.games && loading.rentals) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <Loader2 className=\"spinner\" size={48} />\r\n        <p>جاري تحميل النظام...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-page\">\r\n      {/* الرأس */}\r\n      <header className=\"page-header\">\r\n        <div className=\"header-content\">\r\n          <h1>\r\n            <Gamepad2 size={32} />\r\n            نظام إدارة التأجيرات\r\n          </h1>\r\n          <div className=\"user-info\">\r\n            <User size={20} />\r\n            <span>{user?.name} - {isManager ? 'مدير' : 'موظف'}</span>\r\n            <Building size={20} />\r\n            <span>{user?.branch_name}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"header-actions\">\r\n          {selectedGames.length > 0 && (\r\n            <button \r\n              onClick={() => setShowRentalModal(true)}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              <ShoppingCart size={20} />\r\n              بدء تأجير ({selectedGames.length})\r\n            </button>\r\n          )}\r\n          \r\n          <button \r\n            onClick={loadAllData}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            <RefreshCw size={20} />\r\n            تحديث\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* لوحة التحكم */}\r\n      <DashboardStats \r\n        stats={stats}\r\n        currentShift={currentShift}\r\n        onStartShift={startShift}\r\n        onEndShift={endShift}\r\n        loading={loading.shift}\r\n      />\r\n      \r\n      {/* الرسالة عند عدم وجود شيفت */}\r\n      {!currentShift && (\r\n        <div className=\"no-shift-alert\">\r\n          <AlertCircle size={24} />\r\n          <div>\r\n            <h3>لا يوجد شيفت نشط</h3>\r\n            <p>يجب بدء شيفت جديد للتمكن من إدارة التأجيرات</p>\r\n          </div>\r\n          <button onClick={startShift} className=\"btn btn-success\">\r\n            بدء شيفت جديد\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      {/* المحتوى الرئيسي */}\r\n      {currentShift && (\r\n        <div className=\"main-content\">\r\n          {/* الألعاب المتاحة */}\r\n          <GamesGrid \r\n            games={games}\r\n            branchId={user?.branch_id}\r\n            onSelectGame={handleSelectGame}\r\n            loading={loading.games}\r\n          />\r\n          \r\n          {/* التأجيرات النشطة */}\r\n          <ActiveRentalsTable \r\n            rentals={activeRentals}\r\n            onAction={handleRentalAction}\r\n            loading={loading.rentals}\r\n          />\r\n          \r\n          {/* التأجيرات المكتملة (للمدير فقط) */}\r\n          <CompletedRentalsTable \r\n            rentals={completedRentals}\r\n            onExport={handleExportCompleted}\r\n            onPrint={handlePrintCompleted}\r\n            loading={loading.stats}\r\n            isManager={isManager}\r\n          />\r\n        </div>\r\n      )}\r\n      \r\n      \r\n      {/* نافذة التأجير المتعدد */}\r\n      <MultiRentalModal \r\n        show={showRentalModal}\r\n        onClose={() => {\r\n          setShowRentalModal(false);\r\n          setSelectedGames([]);\r\n        }}\r\n        selectedGames={selectedGames}\r\n        currentShift={currentShift}\r\n        onConfirmRental={handleCreateRental}\r\n      />\r\n    </div>\r\n\r\n    \r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AAChF,SACEC,QAAQ,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAC1CC,YAAY,EAAEC,UAAU,EAAEC,WAAW,EAAEC,OAAO,EAAEC,GAAG,EACnDC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,EAChDC,SAAS,EAAEC,WAAW,EAAEC,KAAK,EAAEC,CAAC,EAAEC,QAAQ,EAAEC,GAAG,EAC/CC,IAAI,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,EAAEC,MAAM,EAAEC,YAAY,QAC9C,cAAc;AACrB,SAASC,OAAO,QAAQ,2BAA2B;AACnD,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAO,eAAe;;AAEtB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,cAAc,GAAIC,MAAM,IAAK;EACjC,IAAI,CAACA,MAAM,IAAIA,MAAM,KAAK,CAAC,EAAE,OAAO,OAAO;EAC3C,MAAMC,GAAG,GAAGC,UAAU,CAACF,MAAM,CAAC,IAAI,CAAC;EACnC,OAAO,IAAIG,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;IACpCC,KAAK,EAAE,UAAU;IACjBC,QAAQ,EAAE,KAAK;IACfC,qBAAqB,EAAE,CAAC;IACxBC,qBAAqB,EAAE;EACzB,CAAC,CAAC,CAACC,MAAM,CAACR,GAAG,CAAC;AAChB,CAAC;AAED,MAAMS,cAAc,GAAIC,UAAU,IAAK;EACrC,IAAI,CAACA,UAAU,EAAE,OAAO,kBAAkB;EAC1C,IAAI;IACF,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;MACtCC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,SAAS;MAChBC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC,CAAC,MAAM;IACN,OAAO,kBAAkB;EAC3B;AACF,CAAC;AAED,MAAMC,UAAU,GAAIT,UAAU,IAAK;EACjC,IAAI,CAACA,UAAU,EAAE,OAAO,OAAO;EAC/B,IAAI;IACF,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACS,kBAAkB,CAAC,OAAO,EAAE;MACtCH,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ,CAAC,CAAC,MAAM;IACN,OAAO,OAAO;EAChB;AACF,CAAC;AAED,MAAMG,aAAa,GAAIC,KAAK,IAAK;EAC/B,IAAI,CAACA,KAAK,EAAE,OAAO,KAAK;EACxB,MAAMC,OAAO,GAAGD,KAAK,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACxC,OAAOD,OAAO,CAACE,MAAM,KAAK,EAAE,IAAIF,OAAO,CAACG,UAAU,CAAC,IAAI,CAAC;AAC1D,CAAC;AAED,MAAMC,iBAAiB,GAAGA,CAACC,SAAS,EAAEC,OAAO,KAAK;EAChD,IAAI,CAACD,SAAS,IAAI,CAACC,OAAO,EAAE,OAAO,CAAC;EACpC,MAAMC,KAAK,GAAG,IAAIlB,IAAI,CAACgB,SAAS,CAAC;EACjC,MAAMG,GAAG,GAAG,IAAInB,IAAI,CAACiB,OAAO,CAAC;EAC7B,OAAOG,IAAI,CAACC,KAAK,CAAC,CAACF,GAAG,GAAGD,KAAK,KAAK,IAAI,GAAG,EAAE,CAAC,CAAC;AAChD,CAAC;;AAED;AACA,MAAMI,SAAS,GAAGA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,YAAY;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EAChE,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGnF,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACoF,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrF,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACsF,cAAc,EAAEC,iBAAiB,CAAC,GAAGvF,QAAQ,CAAC,EAAE,CAAC;EAExDC,SAAS,CAAC,MAAM;IACd,IAAI,CAAC6E,QAAQ,IAAI,CAACD,KAAK,EAAE;IAEzB,MAAMW,WAAW,GAAGX,KAAK,CAACY,MAAM,CAACC,IAAI,IAAI;MACvC,IAAI,CAACA,IAAI,EAAE,OAAO,KAAK;MACvB,MAAMC,YAAY,GAAGC,QAAQ,CAACF,IAAI,CAACG,SAAS,CAAC;MAC7C,MAAMC,eAAe,GAAGF,QAAQ,CAACd,QAAQ,CAAC;MAC1C,OAAOa,YAAY,KAAKG,eAAe,IAAIJ,IAAI,CAACK,MAAM,KAAK,MAAM;IACnE,CAAC,CAAC;IAEFR,iBAAiB,CAACC,WAAW,CAAC;EAChC,CAAC,EAAE,CAACX,KAAK,EAAEC,QAAQ,CAAC,CAAC;EAErB,MAAMkB,aAAa,GAAG7F,OAAO,CAAC,MAAM;IAClC,IAAI,CAACmF,cAAc,CAACnB,MAAM,EAAE,OAAO,EAAE;IAErC,OAAOmB,cAAc,CAACG,MAAM,CAACC,IAAI,IAAI;MAAA,IAAAO,UAAA,EAAAC,cAAA;MACnC,MAAMC,aAAa,GAAG,EAAAF,UAAA,GAAAP,IAAI,CAACU,IAAI,cAAAH,UAAA,uBAATA,UAAA,CAAWI,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpB,UAAU,CAACmB,WAAW,CAAC,CAAC,CAAC,OAAAH,cAAA,GAC7DR,IAAI,CAACa,QAAQ,cAAAL,cAAA,uBAAbA,cAAA,CAAeG,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpB,UAAU,CAACmB,WAAW,CAAC,CAAC,CAAC;MAEnF,MAAMG,eAAe,GAAGpB,gBAAgB,KAAK,KAAK,IAAIM,IAAI,CAACa,QAAQ,KAAKnB,gBAAgB;MAExF,OAAOe,aAAa,IAAIK,eAAe;IACzC,CAAC,CAAC;EACJ,CAAC,EAAE,CAAClB,cAAc,EAAEJ,UAAU,EAAEE,gBAAgB,CAAC,CAAC;EAElD,MAAMqB,UAAU,GAAGtG,OAAO,CAAC,MAAM;IAC/B,IAAI,CAACmF,cAAc,CAACnB,MAAM,EAAE,OAAO,CAAC,KAAK,CAAC;IAE1C,MAAMuC,IAAI,GAAG,IAAIC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;IAC7BrB,cAAc,CAACsB,OAAO,CAAClB,IAAI,IAAI;MAC7B,IAAIA,IAAI,CAACa,QAAQ,EAAEG,IAAI,CAACG,GAAG,CAACnB,IAAI,CAACa,QAAQ,CAAC;IAC5C,CAAC,CAAC;IACF,OAAOO,KAAK,CAACC,IAAI,CAACL,IAAI,CAAC;EACzB,CAAC,EAAE,CAACpB,cAAc,CAAC,CAAC;EAEpB,MAAM0B,YAAY,GAAG9G,WAAW,CAAEwF,IAAI,IAAK;IACzC,IAAI,CAACA,IAAI,EAAE,OAAO,0BAA0B;IAE5C,MAAMuB,QAAQ,GAAG;MACf,WAAW,EAAE,sBAAsB;MACnC,WAAW,EAAE,wBAAwB;MACrC,OAAO,EAAE,qBAAqB;MAC9B,eAAe,EAAE,iBAAiB;MAClC,kBAAkB,EAAE,mBAAmB;MACvC,OAAO,EAAE,oBAAoB;MAC7B,QAAQ,EAAE,oBAAoB;MAC9B,WAAW,EAAE,qBAAqB;MAClC,cAAc,EAAE,mBAAmB;MACnC,WAAW,EAAE,wBAAwB;MACrC,OAAO,EAAE;IACX,CAAC;IAED,IAAIvB,IAAI,CAACwB,SAAS,IAAIxB,IAAI,CAACwB,SAAS,KAAK,kBAAkB,EAAE;MAC3D,OAAOxB,IAAI,CAACwB,SAAS,CAAC9C,UAAU,CAAC,MAAM,CAAC,GAAGsB,IAAI,CAACwB,SAAS,GAAG,WAAWxB,IAAI,CAACwB,SAAS,EAAE;IACzF;IAEA,OAAOD,QAAQ,CAACvB,IAAI,CAACU,IAAI,CAAC,IAAI,0BAA0B;EAC1D,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACtB,QAAQ,EAAE;IACb,oBACEzC,OAAA;MAAK8E,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eACjC/E,OAAA;QAAK8E,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1B/E,OAAA,CAACX,QAAQ;UAAC2F,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACtBpF,OAAA;UAAA+E,QAAA,EAAI;QAAgB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBpF,OAAA;UAAA+E,QAAA,EAAG;QAAkC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAIzC,OAAO,EAAE;IACX,oBACE3C,OAAA;MAAK8E,SAAS,EAAC,oBAAoB;MAAAC,QAAA,eACjC/E,OAAA;QAAK8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B/E,OAAA,CAACP,OAAO;UAACqF,SAAS,EAAC,SAAS;UAACE,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzCpF,OAAA;UAAA+E,QAAA,EAAG;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEpF,OAAA;IAAK8E,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjC/E,OAAA;MAAK8E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B/E,OAAA;QAAI8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC3B/E,OAAA,CAAChC,QAAQ;UAACgH,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,yFAEtB,eAAApF,OAAA;UAAM8E,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,GAAC,EAAC9B,cAAc,CAACnB,MAAM,EAAC,GAAC;QAAA;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eAELpF,OAAA;QAAK8E,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/B/E,OAAA;UAAK8E,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzB/E,OAAA,CAACL,MAAM;YAACqF,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpBpF,OAAA;YACEqF,IAAI,EAAC,MAAM;YACXC,WAAW,EAAC,mEAAiB;YAC7BC,KAAK,EAAE1C,UAAW;YAClB2C,QAAQ,EAAGC,CAAC,IAAK3C,aAAa,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YAC/CT,SAAS,EAAC;UAAc;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,EACDvC,UAAU,iBACT7C,OAAA;YAAQ2F,OAAO,EAAEA,CAAA,KAAM7C,aAAa,CAAC,EAAE,CAAE;YAACgC,SAAS,EAAC,cAAc;YAAAC,QAAA,eAChE/E,OAAA,CAACZ,CAAC;cAAC4F,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CACT;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAELhB,UAAU,CAACtC,MAAM,GAAG,CAAC,iBACpB9B,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B/E,OAAA,CAACN,MAAM;YAACsF,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpBpF,OAAA;YACEuF,KAAK,EAAExC,gBAAiB;YACxByC,QAAQ,EAAGC,CAAC,IAAKzC,mBAAmB,CAACyC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YACrDT,SAAS,EAAC,eAAe;YAAAC,QAAA,EAExBX,UAAU,CAACwB,GAAG,CAACC,GAAG,iBACjB7F,OAAA;cAAkBuF,KAAK,EAAEM,GAAI;cAAAd,QAAA,EAC1Bc,GAAG,KAAK,KAAK,GAAG,aAAa,GAAGA;YAAG,GADzBA,GAAG;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAER,CACT;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELnC,cAAc,CAACnB,MAAM,KAAK,CAAC,gBAC1B9B,OAAA;MAAK8E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B/E,OAAA,CAAChC,QAAQ;QAACgH,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACtBpF,OAAA;QAAA+E,QAAA,EAAI;MAAmB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5BpF,OAAA;QAAA+E,QAAA,EAAG;MAAiC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,GACJzB,aAAa,CAAC7B,MAAM,KAAK,CAAC,gBAC5B9B,OAAA;MAAK8E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAClC/E,OAAA,CAACL,MAAM;QAACqF,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACpBpF,OAAA;QAAA+E,QAAA,EAAI;MAAuB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChCpF,OAAA;QAAA+E,QAAA,GAAG,wGAA0B,EAAClC,UAAU,EAAC,IAAM;MAAA;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChD,CAAC,gBAGEpF,OAAA;MAAK8E,SAAS,EAAC,YAAY;MAAAC,QAAA,EACxBpB,aAAa,CAACiC,GAAG,CAACvC,IAAI,iBACrBrD,OAAA;QAEE8E,SAAS,EAAC,WAAW;QACrBa,OAAO,EAAEA,CAAA,KAAMjD,YAAY,CAACW,IAAI,CAAE;QAAA0B,QAAA,gBAElC/E,OAAA;UAAK8E,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC/E,OAAA;YACE8F,GAAG,EAAEnB,YAAY,CAACtB,IAAI,CAAE;YACxB0C,GAAG,EAAE1C,IAAI,CAACU,IAAK;YACfe,SAAS,EAAC,YAAY;YACtBkB,OAAO,EAAGP,CAAC,IAAKA,CAAC,CAACC,MAAM,CAACI,GAAG,GAAG;UAA2B;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACFpF,OAAA;YAAK8E,SAAS,EAAC,uBAAuB;YAAAC,QAAA,gBACpC/E,OAAA,CAACxB,WAAW;cAACwG,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACzBpF,OAAA;cAAA+E,QAAA,EAAM;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACd,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAENpF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA;YAAA+E,QAAA,EAAK1B,IAAI,CAACU;UAAI;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpBpF,OAAA;YAAK8E,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAE1B,IAAI,CAACa;UAAQ;YAAAe,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACpDpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,GACxB5E,cAAc,CAACkD,IAAI,CAAC4C,eAAe,CAAC,EAAC,sCACxC;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACNpF,OAAA;YAAK8E,SAAS,EAAC,cAAc;YAAAC,QAAA,eAC3B/E,OAAA;cAAQ8E,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBACjC/E,OAAA,CAACrB,IAAI;gBAACqG,IAAI,EAAE;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,6EAEpB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA,GA7BD/B,IAAI,CAAC6C,EAAE;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA8BT,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAxC,EAAA,CA5LML,SAAS;AAAA4D,EAAA,GAAT5D,SAAS;AA6Lf,MAAM6D,gBAAgB,GAAGA,CAAC;EACxBC,IAAI;EACJC,OAAO;EACPC,aAAa;EACbC,eAAe;EACfC;AAEF,CAAC,KAAK;EAAAC,GAAA;EACJ,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjJ,QAAQ,CAAC;IAC/CoG,IAAI,EAAE,EAAE;IACRpC,KAAK,EAAE,EAAE;IACTkF,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE;EACX,CAAC,CAAC;EACF,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrJ,QAAQ,CAAC,KAAK,CAAC;EAE/D,MAAM,CAACsJ,WAAW,EAAEC,cAAc,CAAC,GAAGvJ,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACwJ,aAAa,EAAEC,gBAAgB,CAAC,GAAGzJ,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC0J,aAAa,EAAEC,gBAAgB,CAAC,GAAG3J,QAAQ,CAAC,aAAa,CAAC;EACjE,MAAM,CAAC4J,KAAK,EAAEC,QAAQ,CAAC,GAAG7J,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC8J,YAAY,EAAEC,eAAe,CAAC,GAAG/J,QAAQ,CAAC,KAAK,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACd,IAAIyI,IAAI,IAAIE,aAAa,CAACzE,MAAM,GAAG,CAAC,EAAE;MACpC,MAAM6F,KAAK,GAAGpB,aAAa,CAACX,GAAG,CAACvC,IAAI,KAAK;QACvC6C,EAAE,EAAEjF,IAAI,CAAC2G,GAAG,CAAC,CAAC,GAAGvF,IAAI,CAACwF,MAAM,CAAC,CAAC;QAC9BC,MAAM,EAAEzE,IAAI,CAAC6C,EAAE;QACf6B,QAAQ,EAAE1E,IAAI,CAACU,IAAI;QACnBiE,SAAS,EAAE,0BAA0B;QACrCC,UAAU,EAAE,OAAO;QACnBC,QAAQ,EAAE,EAAE;QACZC,aAAa,EAAE9E,IAAI,CAAC4C,eAAe,IAAI,GAAG;QAC1CmC,QAAQ,EAAE,CAAC;QACXb,KAAK,EAAE;MACT,CAAC,CAAC,CAAC;MACHL,cAAc,CAACS,KAAK,CAAC;IACvB;EACF,CAAC,EAAE,CAACtB,IAAI,EAAEE,aAAa,CAAC,CAAC;EAEzB,MAAM8B,gBAAgB,GAAGA,CAACnC,EAAE,EAAEoC,OAAO,KAAK;IACxCpB,cAAc,CAACS,KAAK,IAClBA,KAAK,CAAC/B,GAAG,CAAC2C,IAAI,IACZA,IAAI,CAACrC,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGqC,IAAI;MAAE,GAAGD;IAAQ,CAAC,GAAGC,IAC7C,CACF,CAAC;EACH,CAAC;EAED,MAAMC,gBAAgB,GAAItC,EAAE,IAAK;IAC/BgB,cAAc,CAACS,KAAK,IAAIA,KAAK,CAACvE,MAAM,CAACmF,IAAI,IAAIA,IAAI,CAACrC,EAAE,KAAKA,EAAE,CAAC,CAAC;EAC/D,CAAC;EAED,MAAMuC,kBAAkB,GAAG5K,WAAW,CAAE0K,IAAI,IAAK;IAC/C,IAAIA,IAAI,CAACN,UAAU,KAAK,MAAM,EAAE,OAAO,CAAC;IACxC,MAAMS,KAAK,GAAGrG,IAAI,CAACsG,IAAI,CAACJ,IAAI,CAACL,QAAQ,GAAG,EAAE,CAAC;IAC3C,OAAQK,IAAI,CAACJ,aAAa,GAAGO,KAAK,GAAGH,IAAI,CAACH,QAAQ,IAAK,CAAC;EAC1D,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,cAAc,GAAG/K,WAAW,CAAC,MAAM;IACvC,OAAOoJ,WAAW,CAAC4B,MAAM,CAAC,CAACC,KAAK,EAAEP,IAAI,KAAK;MACzC,OAAOO,KAAK,GAAGL,kBAAkB,CAACF,IAAI,CAAC;IACzC,CAAC,EAAE,CAAC,CAAC;EACP,CAAC,EAAE,CAACtB,WAAW,EAAEwB,kBAAkB,CAAC,CAAC;EAErC,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI,CAACpC,YAAY,CAAC5C,IAAI,IAAI,CAAC4C,YAAY,CAAChF,KAAK,EAAE;MAC7CqH,KAAK,CAAC,mCAAmC,CAAC;MAC1C;IACF;IAEA,IAAI,CAACtH,aAAa,CAACiF,YAAY,CAAChF,KAAK,CAAC,EAAE;MACtCqH,KAAK,CAAC,uDAAuD,CAAC;MAC9D;IACF;IAEA,IAAI/B,WAAW,CAACnF,MAAM,KAAK,CAAC,EAAE;MAC5BkH,KAAK,CAAC,0BAA0B,CAAC;MACjC;IACF;IAEAtB,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI;MACF,MAAMuB,UAAU,GAAG;QACjBtC,YAAY;QACZM,WAAW;QACXE,aAAa;QACbE,aAAa;QACbE,KAAK;QACL2B,WAAW,EAAEN,cAAc,CAAC,CAAC;QAC7BO,OAAO,EAAE1C,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEP;MACzB,CAAC;MAED,MAAMM,eAAe,CAACyC,UAAU,CAAC;MAEjCrC,eAAe,CAAC;QAAE7C,IAAI,EAAE,EAAE;QAAEpC,KAAK,EAAE,EAAE;QAAEkF,KAAK,EAAE,EAAE;QAAEC,OAAO,EAAE;MAAG,CAAC,CAAC;MAChEI,cAAc,CAAC,EAAE,CAAC;MAClBE,gBAAgB,CAAC,KAAK,CAAC;MACvBE,gBAAgB,CAAC,aAAa,CAAC;MAC/BE,QAAQ,CAAC,EAAE,CAAC;MACZlB,OAAO,CAAC,CAAC;IAEX,CAAC,CAAC,OAAO8C,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7CJ,KAAK,CAAC,0BAA0B,CAAC;IACnC,CAAC,SAAS;MACRtB,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,IAAI,CAACrB,IAAI,EAAE,OAAO,IAAI;EAEtB,oBACErG,OAAA;IAAK8E,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5B/E,OAAA;MAAK8E,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjC/E,OAAA;QAAK8E,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B/E,OAAA;UAAA+E,QAAA,gBACE/E,OAAA,CAAC1B,YAAY;YAAC0G,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,6DACd,EAACmB,aAAa,CAACzE,MAAM,EAAC,4BACpC;QAAA;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACLpF,OAAA;UAAQ2F,OAAO,EAAEW,OAAQ;UAACxB,SAAS,EAAC,aAAa;UAAAC,QAAA,eAC/C/E,OAAA,CAACZ,CAAC;YAAC4F,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAEzB/E,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA;YAAA+E,QAAA,gBACE/E,OAAA,CAAC9B,IAAI;cAAC8G,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,mFAEpB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACJpF,OAAA;YACCqF,IAAI,EAAC,QAAQ;YACbP,SAAS,EAAC,kCAAkC;YAC5Ca,OAAO,EAAEA,CAAA,KAAMqB,mBAAmB,CAAC,IAAI,CAAE;YACzCsC,QAAQ,EAAE7B,YAAa;YAAA1C,QAAA,gBAEvB/E,OAAA,CAACrB,IAAI;cAACqG,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,oFAEpB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTpF,OAAA;YAAK8E,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxB/E,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC7BpF,OAAA;gBAAK8E,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9B/E,OAAA,CAAC9B,IAAI;kBAAC8G,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClBpF,OAAA;kBACEqF,IAAI,EAAC,MAAM;kBACXE,KAAK,EAAEoB,YAAY,CAAC5C,IAAK;kBACzByB,QAAQ,EAAGC,CAAC,IAAKmB,eAAe,CAAC;oBAAC,GAAGD,YAAY;oBAAE5C,IAAI,EAAE0B,CAAC,CAACC,MAAM,CAACH;kBAAK,CAAC,CAAE;kBAC1ED,WAAW,EAAC,kFAAiB;kBAC7BiE,QAAQ;gBAAA;kBAAAtE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENpF,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAY;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3BpF,OAAA;gBAAK8E,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9B/E,OAAA,CAAC7B,KAAK;kBAAC6G,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACnBpF,OAAA;kBACEqF,IAAI,EAAC,KAAK;kBACVE,KAAK,EAAEoB,YAAY,CAAChF,KAAM;kBAC1B6D,QAAQ,EAAGC,CAAC,IAAKmB,eAAe,CAAC;oBAAC,GAAGD,YAAY;oBAAEhF,KAAK,EAAE8D,CAAC,CAACC,MAAM,CAACH;kBAAK,CAAC,CAAE;kBAC3ED,WAAW,EAAC,aAAa;kBACzBiE,QAAQ;gBAAA;kBAAAtE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,EACLuB,YAAY,CAAChF,KAAK,IAAI,CAACD,aAAa,CAACiF,YAAY,CAAChF,KAAK,CAAC,iBACvD3B,OAAA;gBAAM8E,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAiB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CACrD;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENpF,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAiB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChCpF,OAAA;gBAAK8E,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9B/E,OAAA,CAAC3B,IAAI;kBAAC2G,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClBpF,OAAA;kBACEqF,IAAI,EAAC,OAAO;kBACZE,KAAK,EAAEoB,YAAY,CAACE,KAAM;kBAC1BrB,QAAQ,EAAGC,CAAC,IAAKmB,eAAe,CAAC;oBAAC,GAAGD,YAAY;oBAAEE,KAAK,EAAEpB,CAAC,CAACC,MAAM,CAACH;kBAAK,CAAC,CAAE;kBAC3ED,WAAW,EAAC;gBAAmB;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAENpF,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAO;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACtBpF,OAAA;gBAAK8E,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,gBAC9B/E,OAAA,CAAC5B,MAAM;kBAAC4G,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACpBpF,OAAA;kBACEqF,IAAI,EAAC,MAAM;kBACXE,KAAK,EAAEoB,YAAY,CAACG,OAAQ;kBAC5BtB,QAAQ,EAAGC,CAAC,IAAKmB,eAAe,CAAC;oBAAC,GAAGD,YAAY;oBAAEG,OAAO,EAAErB,CAAC,CAACC,MAAM,CAACH;kBAAK,CAAC,CAAE;kBAC7ED,WAAW,EAAC;gBAAgB;kBAAAL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC7B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpF,OAAA;UAAK8E,SAAS,EAAC,sBAAsB;UAAAC,QAAA,gBACnC/E,OAAA;YAAA+E,QAAA,gBACE/E,OAAA,CAAC1B,YAAY;cAAC0G,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,+EACX,EAAC6B,WAAW,CAACnF,MAAM,EAAC,GACrC;UAAA;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAEJ6B,WAAW,CAACrB,GAAG,CAAC2C,IAAI,iBACnBvI,OAAA;YAAmB8E,SAAS,EAAC,aAAa;YAAAC,QAAA,gBACxC/E,OAAA;cAAK8E,SAAS,EAAC,aAAa;cAAAC,QAAA,gBAC1B/E,OAAA;gBAAK8E,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxB/E,OAAA;kBAAM8E,SAAS,EAAC,WAAW;kBAAAC,QAAA,EAAEwD,IAAI,CAACR;gBAAQ;kBAAA9C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAClDpF,OAAA;kBAAM8E,SAAS,EAAC,YAAY;kBAAAC,QAAA,GACzB5E,cAAc,CAACoI,IAAI,CAACJ,aAAa,CAAC,EAAC,sCACtC;gBAAA;kBAAAlD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACNpF,OAAA;gBACE2F,OAAO,EAAEA,CAAA,KAAM6C,gBAAgB,CAACD,IAAI,CAACrC,EAAE,CAAE;gBACzCpB,SAAS,EAAC,YAAY;gBACtBwE,QAAQ,EAAE7B,YAAa;gBAAA1C,QAAA,eAEvB/E,OAAA,CAACnB,MAAM;kBAACmG,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAENpF,OAAA;cAAK8E,SAAS,EAAC,cAAc;cAAAC,QAAA,eAC3B/E,OAAA;gBAAK8E,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzB/E,OAAA;kBAAK8E,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3B/E,OAAA;oBAAA+E,QAAA,EAAO;kBAAY;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAC3BpF,OAAA;oBAAK8E,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,gBAC7B/E,OAAA;sBACEqF,IAAI,EAAC,QAAQ;sBACbP,SAAS,EAAE,cAAcyD,IAAI,CAACN,UAAU,KAAK,OAAO,GAAG,QAAQ,GAAG,EAAE,EAAG;sBACvEtC,OAAO,EAAEA,CAAA,KAAM0C,gBAAgB,CAACE,IAAI,CAACrC,EAAE,EAAE;wBAAE+B,UAAU,EAAE,OAAO;wBAAEC,QAAQ,EAAE;sBAAG,CAAC,CAAE;sBAChFoB,QAAQ,EAAE7B,YAAa;sBAAA1C,QAAA,gBAEvB/E,OAAA,CAAC/B,KAAK;wBAAC+G,IAAI,EAAE;sBAAG;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC,+CAErB;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,eACTpF,OAAA;sBACEqF,IAAI,EAAC,QAAQ;sBACbP,SAAS,EAAE,cAAcyD,IAAI,CAACN,UAAU,KAAK,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;sBACtEtC,OAAO,EAAEA,CAAA,KAAM0C,gBAAgB,CAACE,IAAI,CAACrC,EAAE,EAAE;wBAAE+B,UAAU,EAAE,MAAM;wBAAEC,QAAQ,EAAE;sBAAE,CAAC,CAAE;sBAC9EoB,QAAQ,EAAE7B,YAAa;sBAAA1C,QAAA,gBAEvB/E,OAAA,CAACR,MAAM;wBAACwF,IAAI,EAAE;sBAAG;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE,CAAC,qDAEtB;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,EAELmD,IAAI,CAACN,UAAU,KAAK,OAAO,iBAC1BjI,OAAA;kBAAK8E,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3B/E,OAAA;oBAAA+E,QAAA,EAAO;kBAAM;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACrBpF,OAAA;oBAAK8E,SAAS,EAAC,kBAAkB;oBAAAC,QAAA,EAC9B,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAACa,GAAG,CAAC4D,OAAO,iBACpCxJ,OAAA;sBAEEqF,IAAI,EAAC,QAAQ;sBACbP,SAAS,EAAE,gBAAgByD,IAAI,CAACL,QAAQ,KAAKsB,OAAO,GAAG,QAAQ,GAAG,EAAE,EAAG;sBACvE7D,OAAO,EAAEA,CAAA,KAAM0C,gBAAgB,CAACE,IAAI,CAACrC,EAAE,EAAE;wBAAEgC,QAAQ,EAAEsB;sBAAQ,CAAC,CAAE;sBAChEF,QAAQ,EAAE7B,YAAa;sBAAA1C,QAAA,GAEtByE,OAAO,EAAC,iCACX;oBAAA,GAPOA,OAAO;sBAAAvE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAON,CACT;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CACN,eAEDpF,OAAA;kBAAK8E,SAAS,EAAC,cAAc;kBAAAC,QAAA,gBAC3B/E,OAAA;oBAAA+E,QAAA,EAAO;kBAAO;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eACtBpF,OAAA;oBAAK8E,SAAS,EAAC,kBAAkB;oBAAAC,QAAA,gBAC/B/E,OAAA;sBACEqF,IAAI,EAAC,QAAQ;sBACbM,OAAO,EAAEA,CAAA,KAAM0C,gBAAgB,CAACE,IAAI,CAACrC,EAAE,EAAE;wBACvCkC,QAAQ,EAAE/F,IAAI,CAACoH,GAAG,CAAC,CAAC,EAAElB,IAAI,CAACH,QAAQ,GAAG,CAAC;sBACzC,CAAC,CAAE;sBACHtD,SAAS,EAAC,cAAc;sBACxBwE,QAAQ,EAAE7B,YAAa;sBAAA1C,QAAA,eAEvB/E,OAAA,CAACpB,KAAK;wBAACoG,IAAI,EAAE;sBAAG;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACb,CAAC,eACTpF,OAAA;sBAAM8E,SAAS,EAAC,gBAAgB;sBAAAC,QAAA,EAAEwD,IAAI,CAACH;oBAAQ;sBAAAnD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eACvDpF,OAAA;sBACEqF,IAAI,EAAC,QAAQ;sBACbM,OAAO,EAAEA,CAAA,KAAM0C,gBAAgB,CAACE,IAAI,CAACrC,EAAE,EAAE;wBACvCkC,QAAQ,EAAEG,IAAI,CAACH,QAAQ,GAAG;sBAC5B,CAAC,CAAE;sBACHtD,SAAS,EAAC,cAAc;sBACxBwE,QAAQ,EAAE7B,YAAa;sBAAA1C,QAAA,eAEvB/E,OAAA,CAACrB,IAAI;wBAACqG,IAAI,EAAE;sBAAG;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAE;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACZ,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAGN,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA,GA3FEmD,IAAI,CAACrC,EAAE;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA4FZ,CACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNpF,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B/E,OAAA;YAAA+E,QAAA,gBACE/E,OAAA,CAACzB,UAAU;cAACyG,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,qGAE1B;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAELpF,OAAA;YAAK8E,SAAS,EAAC,UAAU;YAAAC,QAAA,gBACvB/E,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAY;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3BpF,OAAA;gBACEuF,KAAK,EAAE4B,aAAc;gBACrB3B,QAAQ,EAAGC,CAAC,IAAK2B,gBAAgB,CAAC3B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAClD+D,QAAQ,EAAE7B,YAAa;gBAAA1C,QAAA,gBAEvB/E,OAAA;kBAAQuF,KAAK,EAAC,oBAAK;kBAAAR,QAAA,EAAC;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCpF,OAAA;kBAAQuF,KAAK,EAAC,gCAAO;kBAAAR,QAAA,EAAC;gBAAe;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC9CpF,OAAA;kBAAQuF,KAAK,EAAC,gCAAO;kBAAAR,QAAA,EAAC;gBAAkB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACjDpF,OAAA;kBAAQuF,KAAK,EAAC,gCAAO;kBAAAR,QAAA,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAENpF,OAAA;cAAK8E,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzB/E,OAAA;gBAAA+E,QAAA,EAAO;cAAW;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC1BpF,OAAA;gBACEuF,KAAK,EAAE8B,aAAc;gBACrB7B,QAAQ,EAAGC,CAAC,IAAK6B,gBAAgB,CAAC7B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;gBAClD+D,QAAQ,EAAE7B,YAAa;gBAAA1C,QAAA,gBAEvB/E,OAAA;kBAAQuF,KAAK,EAAC,+DAAa;kBAAAR,QAAA,EAAC;gBAAa;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAClDpF,OAAA;kBAAQuF,KAAK,EAAC,gCAAO;kBAAAR,QAAA,EAAC;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACtCpF,OAAA;kBAAQuF,KAAK,EAAC,0BAAM;kBAAAR,QAAA,EAAC;gBAAe;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB/E,OAAA;cAAA+E,QAAA,EAAO;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvBpF,OAAA;cACEuF,KAAK,EAAEgC,KAAM;cACb/B,QAAQ,EAAGC,CAAC,IAAK+B,QAAQ,CAAC/B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;cAC1CD,WAAW,EAAC,iGAAsB;cAClCoE,IAAI,EAAC,GAAG;cACRJ,QAAQ,EAAE7B;YAAa;cAAAxC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxB,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNpF,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B/E,OAAA;YAAK8E,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1B/E,OAAA;cAAA+E,QAAA,EAAM;YAAY;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzBpF,OAAA;cAAA+E,QAAA,EAAOkC,WAAW,CAACnF;YAAM;cAAAmD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CAAC,eACNpF,OAAA;YAAK8E,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1B/E,OAAA;cAAA+E,QAAA,EAAM;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1BpF,OAAA;cAAA+E,QAAA,EAAOkC,WAAW,CAAC4B,MAAM,CAAC,CAACc,GAAG,EAAEpB,IAAI,KAAKoB,GAAG,GAAGpB,IAAI,CAACH,QAAQ,EAAE,CAAC;YAAC;cAAAnD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrE,CAAC,eACNpF,OAAA;YAAK8E,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChC/E,OAAA;cAAA+E,QAAA,EAAM;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC7BpF,OAAA;cAAA+E,QAAA,EAAO5E,cAAc,CAACyI,cAAc,CAAC,CAAC;YAAC;cAAA3D,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B/E,OAAA;UACE2F,OAAO,EAAEW,OAAQ;UACjBxB,SAAS,EAAC,mBAAmB;UAC7BwE,QAAQ,EAAE7B,YAAa;UAAA1C,QAAA,gBAEvB/E,OAAA,CAACZ,CAAC;YAAC4F,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kCAEjB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTpF,OAAA;UACE2F,OAAO,EAAEoD,YAAa;UACtBjE,SAAS,EAAC,iBAAiB;UAC3BwE,QAAQ,EAAE7B,YAAY,IAAIR,WAAW,CAACnF,MAAM,KAAK,CAAE;UAAAiD,QAAA,EAElD0C,YAAY,gBACXzH,OAAA,CAAAE,SAAA;YAAA6E,QAAA,gBACE/E,OAAA,CAACP,OAAO;cAACqF,SAAS,EAAC,SAAS;cAACE,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gFAE3C;UAAA,eAAE,CAAC,gBAEHpF,OAAA,CAAAE,SAAA;YAAA6E,QAAA,gBACE/E,OAAA,CAACb,KAAK;cAAC6F,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,iEAErB;UAAA,eAAE;QACH;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACsB,GAAA,CA/YIN,gBAAgB;AAAAwD,GAAA,GAAhBxD,gBAAgB;AAgZrB;EAAA,IAAAyD,KAAA;EAAC9C,gBAAgB,iBACV/G,OAAA,CAAC8J,iBAAiB;IAChBzD,IAAI,EAAEU,gBAAiB;IACvBT,OAAO,EAAEA,CAAA,KAAMU,mBAAmB,CAAC,KAAK,CAAE;IAC1CxE,KAAK,EAAEA,KAAM;IACbC,QAAQ,GAAAoH,KAAA,GAAEE,IAAI,cAAAF,KAAA,uBAAJA,KAAA,CAAMrG,SAAU;IAC1B+C,aAAa,EAAEA,aAAc;IAC7ByD,UAAU,EAAGC,QAAQ,IAAK;MACxB;MACA,MAAMC,oBAAoB,GAAG,CAAC,GAAG3D,aAAa,CAAC;MAC/C0D,QAAQ,CAAC1F,OAAO,CAAClB,IAAI,IAAI;QACvB,IAAI,CAAC6G,oBAAoB,CAACC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAClE,EAAE,KAAK7C,IAAI,CAAC6C,EAAE,CAAC,EAAE;UACrDgE,oBAAoB,CAACG,IAAI,CAAChH,IAAI,CAAC;QACjC;MACF,CAAC,CAAC;MACFiH,gBAAgB,CAACJ,oBAAoB,CAAC;;MAEtC;MACA,MAAMK,QAAQ,GAAGN,QAAQ,CAACrE,GAAG,CAACvC,IAAI,KAAK;QACrC6C,EAAE,EAAEjF,IAAI,CAAC2G,GAAG,CAAC,CAAC,GAAGvF,IAAI,CAACwF,MAAM,CAAC,CAAC;QAC9BC,MAAM,EAAEzE,IAAI,CAAC6C,EAAE;QACf6B,QAAQ,EAAE1E,IAAI,CAACU,IAAI;QACnBiE,SAAS,EAAE,0BAA0B;QACrCC,UAAU,EAAE,OAAO;QACnBC,QAAQ,EAAE,EAAE;QACZC,aAAa,EAAE9E,IAAI,CAAC4C,eAAe,IAAI,GAAG;QAC1CmC,QAAQ,EAAE,CAAC;QACXb,KAAK,EAAE;MACT,CAAC,CAAC,CAAC;MACHL,cAAc,CAAC,CAAC,GAAGD,WAAW,EAAE,GAAGsD,QAAQ,CAAC,CAAC;IAC/C;EAAE;IAAAtF,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACP;AAAA;;AAGF;AACA,MAAMoF,kBAAkB,GAAGA,CAAC;EAAEC,OAAO;EAAEC,QAAQ;EAAE/H;AAAQ,CAAC,KAAK;EAAAgI,GAAA;EAC7D,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGlN,QAAQ,CAAC,CAAC,CAAC,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd,MAAMkN,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,MAAMC,aAAa,GAAG,CAAC,CAAC;MAExBN,OAAO,CAAClG,OAAO,CAACyG,MAAM,IAAI;QACxB,IAAI,CAACA,MAAM,EAAE;QAEb,MAAMC,UAAU,GAAGD,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,KAAK,MAAM;QAEvE,IAAI,CAACF,UAAU,EAAE;UACf,MAAM/I,OAAO,GAAG,IAAIjB,IAAI,CAAC+J,MAAM,CAACI,UAAU,CAAC;UAC3ClJ,OAAO,CAACmJ,UAAU,CAACnJ,OAAO,CAACoJ,UAAU,CAAC,CAAC,IAAIN,MAAM,CAACO,gBAAgB,IAAI,CAAC,CAAC,CAAC;UACzE,MAAM3D,GAAG,GAAG,IAAI3G,IAAI,CAAC,CAAC;UAEtB,IAAI2G,GAAG,GAAG1F,OAAO,EAAE;YACjB6I,aAAa,CAACC,MAAM,CAAC9E,EAAE,CAAC,GAAG,SAAS;UACtC,CAAC,MAAM;YACL,MAAMsF,MAAM,GAAGtJ,OAAO,GAAG0F,GAAG;YAC5B,MAAM4B,OAAO,GAAGnH,IAAI,CAACoJ,KAAK,CAACD,MAAM,GAAG,KAAK,CAAC;YAC1C,MAAME,OAAO,GAAGrJ,IAAI,CAACoJ,KAAK,CAAED,MAAM,GAAG,KAAK,GAAI,IAAI,CAAC;YACnDT,aAAa,CAACC,MAAM,CAAC9E,EAAE,CAAC,GAAG,GAAGsD,OAAO,IAAIkC,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;UAChF;QACF,CAAC,MAAM;UACL,MAAM3J,SAAS,GAAG,IAAIhB,IAAI,CAAC+J,MAAM,CAACI,UAAU,CAAC;UAC7C,MAAMxD,GAAG,GAAG,IAAI3G,IAAI,CAAC,CAAC;UACtB,MAAMuK,MAAM,GAAG5D,GAAG,GAAG3F,SAAS;UAC9B,MAAMuH,OAAO,GAAGnH,IAAI,CAACoJ,KAAK,CAACD,MAAM,GAAG,KAAK,CAAC;UAC1C,MAAME,OAAO,GAAGrJ,IAAI,CAACoJ,KAAK,CAAED,MAAM,GAAG,KAAK,GAAI,IAAI,CAAC;UACnDT,aAAa,CAACC,MAAM,CAAC9E,EAAE,CAAC,GAAG,KAAKsD,OAAO,IAAIkC,OAAO,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE;QAClF;MACF,CAAC,CAAC;MAEFf,aAAa,CAACE,aAAa,CAAC;IAC9B,CAAC;IAEDD,gBAAgB,CAAC,CAAC;IAClB,MAAMe,QAAQ,GAAGC,WAAW,CAAChB,gBAAgB,EAAE,IAAI,CAAC;IAEpD,OAAO,MAAMiB,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACpB,OAAO,CAAC,CAAC;EAEb,MAAMuB,iBAAiB,GAAGnO,WAAW,CAAEmN,MAAM,IAAK;IAChD,IAAI,CAACA,MAAM,EAAE,OAAO;MAAE3F,IAAI,EAAE,EAAE;MAAE4G,SAAS,EAAE;IAAG,CAAC;IAE/C,MAAMhB,UAAU,GAAGD,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,KAAK,MAAM;IAEvE,IAAIF,UAAU,EAAE;MACd,OAAO;QACL5F,IAAI,EAAE,aAAa;QACnB4G,SAAS,EAAErB,UAAU,CAACI,MAAM,CAAC9E,EAAE,CAAC,IAAI;MACtC,CAAC;IACH;IAEA,OAAO;MACLb,IAAI,EAAE,GAAG2F,MAAM,CAACO,gBAAgB,QAAQ;MACxCU,SAAS,EAAErB,UAAU,CAACI,MAAM,CAAC9E,EAAE,CAAC,IAAI,GAAG8E,MAAM,CAACO,gBAAgB,IAAI,CAAC;IACrE,CAAC;EACH,CAAC,EAAE,CAACX,UAAU,CAAC,CAAC;EAEhB,MAAMsB,qBAAqB,GAAGrO,WAAW,CAAEmN,MAAM,IAAK;IACpD,IAAI,CAACA,MAAM,EAAE,OAAO7K,cAAc,CAAC,CAAC,CAAC;IAErC,IAAI6K,MAAM,CAACmB,YAAY,IAAInB,MAAM,CAACmB,YAAY,GAAG,CAAC,EAAE;MAClD,OAAOhM,cAAc,CAAC6K,MAAM,CAACmB,YAAY,CAAC;IAC5C;IAEA,MAAMlB,UAAU,GAAGD,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,KAAK,MAAM;IACvE,IAAIF,UAAU,EAAE;MACd,MAAMhJ,SAAS,GAAG,IAAIhB,IAAI,CAAC+J,MAAM,CAACI,UAAU,CAAC;MAC7C,MAAMxD,GAAG,GAAG,IAAI3G,IAAI,CAAC,CAAC;MACtB,MAAMuI,OAAO,GAAGnH,IAAI,CAACoJ,KAAK,CAAC,CAAC7D,GAAG,GAAG3F,SAAS,IAAI,KAAK,CAAC;MACrD,MAAMyG,KAAK,GAAGrG,IAAI,CAACsG,IAAI,CAACa,OAAO,GAAG,EAAE,CAAC;MACrC,MAAM4C,aAAa,GAAGpB,MAAM,CAAC/E,eAAe,IAAI,GAAG;MAEnD,OAAO9F,cAAc,CAACuI,KAAK,GAAG0D,aAAa,CAAC;IAC9C;IAEA,OAAOjM,cAAc,CAAC6K,MAAM,CAACmB,YAAY,IAAI,CAAC,CAAC;EACjD,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIxJ,OAAO,EAAE;IACX,oBACE3C,OAAA;MAAK8E,SAAS,EAAC,wBAAwB;MAAAC,QAAA,eACrC/E,OAAA;QAAK8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B/E,OAAA,CAACP,OAAO;UAACqF,SAAS,EAAC,SAAS;UAACE,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzCpF,OAAA;UAAA+E,QAAA,EAAG;QAAuB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEpF,OAAA;IAAK8E,SAAS,EAAC,wBAAwB;IAAAC,QAAA,gBACrC/E,OAAA;MAAK8E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7B/E,OAAA;QAAI8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC3B/E,OAAA,CAACV,GAAG;UAAC0F,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,+FAEjB,eAAApF,OAAA;UAAM8E,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,GAAC,EAAC0F,OAAO,CAAC3I,MAAM,EAAC,GAAC;QAAA;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,EAELqF,OAAO,CAAC3I,MAAM,KAAK,CAAC,gBACnB9B,OAAA;MAAK8E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B/E,OAAA,CAAC/B,KAAK;QAAC+G,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACnBpF,OAAA;QAAA+E,QAAA,EAAI;MAAoB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7BpF,OAAA;QAAA+E,QAAA,EAAG;MAAgC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,gBAENpF,OAAA;MAAK8E,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9B/E,OAAA;QAAO8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC9B/E,OAAA;UAAA+E,QAAA,eACE/E,OAAA;YAAA+E,QAAA,gBACE/E,OAAA;cAAA+E,QAAA,EAAI;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACpBpF,OAAA;cAAA+E,QAAA,EAAI;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfpF,OAAA;cAAA+E,QAAA,EAAI;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfpF,OAAA;cAAA+E,QAAA,EAAI;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdpF,OAAA;cAAA+E,QAAA,EAAI;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtBpF,OAAA;cAAA+E,QAAA,EAAI;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACfpF,OAAA;cAAA+E,QAAA,EAAI;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnBpF,OAAA;cAAA+E,QAAA,EAAI;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACRpF,OAAA;UAAA+E,QAAA,EACG0F,OAAO,CAAC7E,GAAG,CAACoF,MAAM,IAAI;YACrB,MAAMqB,QAAQ,GAAGL,iBAAiB,CAAChB,MAAM,CAAC;YAC1C,MAAMC,UAAU,GAAGD,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,KAAK,MAAM;YAEvE,oBACEnL,OAAA;cAAA+E,QAAA,gBACE/E,OAAA;gBAAA+E,QAAA,gBACE/E,OAAA;kBAAA+E,QAAA,GAAQ,GAAC,EAACiG,MAAM,CAACsB,aAAa,IAAItB,MAAM,CAAC9E,EAAE;gBAAA;kBAAAjB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAS,CAAC,EACpD6F,UAAU,iBAAIjL,OAAA;kBAAM8E,SAAS,EAAC,YAAY;kBAAAC,QAAA,EAAC;gBAAK;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtD,CAAC,eACLpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAK8E,SAAS,EAAC,eAAe;kBAAAC,QAAA,gBAC5B/E,OAAA;oBAAK8E,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAEiG,MAAM,CAACuB;kBAAa;oBAAAtH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC3DpF,OAAA;oBAAK8E,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAAEiG,MAAM,CAACwB;kBAAc;oBAAAvH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLpF,OAAA;gBAAA+E,QAAA,EAAKiG,MAAM,CAACyB;cAAS;gBAAAxH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3BpF,OAAA;gBAAA+E,QAAA,EAAKsH,QAAQ,CAAChH;cAAI;gBAAAJ,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxBpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAK8E,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,gBAC7B/E,OAAA,CAAC/B,KAAK;oBAAC+G,IAAI,EAAE;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eACnBpF,OAAA;oBAAA+E,QAAA,EAAOsH,QAAQ,CAACJ;kBAAS;oBAAAhH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC9B;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLpF,OAAA;gBAAI8E,SAAS,EAAC,aAAa;gBAAAC,QAAA,EACxBmH,qBAAqB,CAAClB,MAAM;cAAC;gBAAA/F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B,CAAC,eACLpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAM8E,SAAS,EAAE,kBAAkBkG,MAAM,CAAC0B,cAAc,KAAK,OAAO,GAAG,MAAM,GAAG,SAAS,EAAG;kBAAA3H,QAAA,EACzFiG,MAAM,CAAC0B,cAAc,KAAK,OAAO,GAAG,SAAS,GAAG,IAAI,GAAG1B,MAAM,CAAC0B;gBAAc;kBAAAzH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACLpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAK8E,SAAS,EAAC,gBAAgB;kBAAAC,QAAA,gBAC7B/E,OAAA;oBACE2F,OAAO,EAAEA,CAAA,KAAM+E,QAAQ,CAAC,SAAS,EAAEM,MAAM,CAAE;oBAC3ClG,SAAS,EAAC,iBAAiB;oBAC3B6H,KAAK,EAAC,qEAAc;oBAAA5H,QAAA,eAEpB/E,OAAA,CAACtB,GAAG;sBAACsG,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACX,CAAC,EAER6F,UAAU,iBACTjL,OAAA;oBACE2F,OAAO,EAAEA,CAAA,KAAM+E,QAAQ,CAAC,KAAK,EAAEM,MAAM,CAAE;oBACvClG,SAAS,EAAC,gBAAgB;oBAC1B6H,KAAK,EAAC,+DAAa;oBAAA5H,QAAA,eAEnB/E,OAAA,CAAC/B,KAAK;sBAAC+G,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACb,CACT,eAEDpF,OAAA;oBACE2F,OAAO,EAAEA,CAAA,KAAM+E,QAAQ,CAAC,QAAQ,EAAEM,MAAM,CAAE;oBAC1ClG,SAAS,EAAC,mBAAmB;oBAC7B6H,KAAK,EAAC,2EAAe;oBAAA5H,QAAA,eAErB/E,OAAA,CAACvB,OAAO;sBAACuG,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACf,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA,GAvDE4F,MAAM,CAAC9E,EAAE;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAwDd,CAAC;UAET,CAAC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAAuF,GAAA,CAtMMH,kBAAkB;AAAAoC,GAAA,GAAlBpC,kBAAkB;AAuMxB,MAAMqC,qBAAqB,GAAGA,CAAC;EAAEpC,OAAO;EAAEqC,QAAQ;EAAEC,OAAO;EAAEpK,OAAO;EAAEqK;AAAU,CAAC,KAAK;EAAAC,GAAA;EACpF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGxP,QAAQ,CAAC,OAAO,CAAC;EAC7D,MAAM,CAACyP,eAAe,EAAEC,kBAAkB,CAAC,GAAG1P,QAAQ,CAAC,EAAE,CAAC;EAE1DC,SAAS,CAAC,MAAM;IACd,MAAM0P,aAAa,GAAGA,CAAA,KAAM;MAC1B,IAAI,CAAC7C,OAAO,IAAIA,OAAO,CAAC3I,MAAM,KAAK,CAAC,EAAE;QACpCuL,kBAAkB,CAAC,EAAE,CAAC;QACtB;MACF;MAEA,MAAMzF,GAAG,GAAG,IAAI3G,IAAI,CAAC,CAAC;MACtB,IAAIsM,QAAQ,GAAG,CAAC,GAAG9C,OAAO,CAAC;MAE3B,QAAQyC,cAAc;QACpB,KAAK,OAAO;UAAE;YACZ,MAAMM,KAAK,GAAG5F,GAAG,CAAC6F,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAC7CH,QAAQ,GAAG9C,OAAO,CAACrH,MAAM,CAACuK,CAAC,IAAIA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACC,QAAQ,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAKF,KAAK,CAAC;YAChF;UACF;QACA,KAAK,MAAM;UAAE;YACX,MAAMK,OAAO,GAAG,IAAI5M,IAAI,CAAC,CAAC;YAC1B4M,OAAO,CAACC,OAAO,CAACD,OAAO,CAACE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YACtCR,QAAQ,GAAG9C,OAAO,CAACrH,MAAM,CAACuK,CAAC,IAAIA,CAAC,CAACC,QAAQ,IAAI,IAAI3M,IAAI,CAAC0M,CAAC,CAACC,QAAQ,CAAC,IAAIC,OAAO,CAAC;YAC7E;UACF;QACA,KAAK,OAAO;UAAE;YACZ,MAAMG,QAAQ,GAAG,IAAI/M,IAAI,CAAC,CAAC;YAC3B+M,QAAQ,CAACC,QAAQ,CAACD,QAAQ,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1CX,QAAQ,GAAG9C,OAAO,CAACrH,MAAM,CAACuK,CAAC,IAAIA,CAAC,CAACC,QAAQ,IAAI,IAAI3M,IAAI,CAAC0M,CAAC,CAACC,QAAQ,CAAC,IAAII,QAAQ,CAAC;YAC9E;UACF;QACA;UACE;MACJ;MAEAX,kBAAkB,CAACE,QAAQ,CAAC;IAC9B,CAAC;IAEDD,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAAC7C,OAAO,EAAEyC,cAAc,CAAC,CAAC;EAE7B,MAAMiB,YAAY,GAAGrQ,OAAO,CAAC,MAAM;IACjC,OAAOsP,eAAe,CAACvE,MAAM,CAAC,CAACc,GAAG,EAAEqB,MAAM,KACxCrB,GAAG,IAAIrJ,UAAU,CAAC0K,MAAM,CAACmB,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,CAChD,CAAC;EACH,CAAC,EAAE,CAACiB,eAAe,CAAC,CAAC;EAErB,IAAIzK,OAAO,EAAE;IACX,oBACE3C,OAAA;MAAK8E,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eACxC/E,OAAA;QAAK8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B/E,OAAA,CAACP,OAAO;UAACqF,SAAS,EAAC,SAAS;UAACE,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzCpF,OAAA;UAAA+E,QAAA,EAAG;QAAgC;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAI,CAAC4H,SAAS,EAAE,OAAO,IAAI;EAE3B,oBACEhN,OAAA;IAAK8E,SAAS,EAAC,2BAA2B;IAAAC,QAAA,gBACxC/E,OAAA;MAAK8E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B/E,OAAA;QAAI8E,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC3B/E,OAAA,CAACxB,WAAW;UAACwG,IAAI,EAAE;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,2GAEzB,eAAApF,OAAA;UAAM8E,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,GAAC,EAACqI,eAAe,CAACtL,MAAM,EAAC,GAAC;QAAA;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/D,CAAC,eAELpF,OAAA;QAAK8E,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/B/E,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,eAC9B/E,OAAA;YACEuF,KAAK,EAAE2H,cAAe;YACtB1H,QAAQ,EAAGC,CAAC,IAAK0H,iBAAiB,CAAC1H,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;YACnDT,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAEzB/E,OAAA;cAAQuF,KAAK,EAAC,OAAO;cAAAR,QAAA,EAAC;YAAK;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACpCpF,OAAA;cAAQuF,KAAK,EAAC,MAAM;cAAAR,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACxCpF,OAAA;cAAQuF,KAAK,EAAC,OAAO;cAAAR,QAAA,EAAC;YAAU;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACzCpF,OAAA;cAAQuF,KAAK,EAAC,KAAK;cAAAR,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENpF,OAAA;UACE2F,OAAO,EAAEA,CAAA,KAAMmH,QAAQ,CAACM,eAAe,CAAE;UACzCtI,SAAS,EAAC,iBAAiB;UAC3BwE,QAAQ,EAAE8D,eAAe,CAACtL,MAAM,KAAK,CAAE;UAAAiD,QAAA,gBAEvC/E,OAAA,CAAChB,QAAQ;YAACgG,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kCAExB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAETpF,OAAA;UACE2F,OAAO,EAAEA,CAAA,KAAMoH,OAAO,CAACK,eAAe,CAAE;UACxCtI,SAAS,EAAC,iBAAiB;UAC3BwE,QAAQ,EAAE8D,eAAe,CAACtL,MAAM,KAAK,CAAE;UAAAiD,QAAA,gBAEvC/E,OAAA,CAACjB,OAAO;YAACiG,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kCAEvB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELgI,eAAe,CAACtL,MAAM,KAAK,CAAC,gBAC3B9B,OAAA;MAAK8E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1B/E,OAAA,CAACxB,WAAW;QAACwG,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzBpF,OAAA;QAAA+E,QAAA,EAAI;MAAsB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC/BpF,OAAA;QAAA+E,QAAA,EAAG;MAAqC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC,gBAENpF,OAAA,CAAAE,SAAA;MAAA6E,QAAA,gBACE/E,OAAA;QAAK8E,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9B/E,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA,CAACzB,UAAU;YAACyG,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxBpF,OAAA;YAAA+E,QAAA,gBACE/E,OAAA;cAAK8E,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACrDpF,OAAA;cAAK8E,SAAS,EAAC,eAAe;cAAAC,QAAA,EAAE5E,cAAc,CAACgO,YAAY;YAAC;cAAAlJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9B/E,OAAA;UAAO8E,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC9B/E,OAAA;YAAA+E,QAAA,eACE/E,OAAA;cAAA+E,QAAA,gBACE/E,OAAA;gBAAA+E,QAAA,EAAI;cAAW;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpBpF,OAAA;gBAAA+E,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfpF,OAAA;gBAAA+E,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfpF,OAAA;gBAAA+E,QAAA,EAAI;cAAS;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAClBpF,OAAA;gBAAA+E,QAAA,EAAI;cAAY;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrBpF,OAAA;gBAAA+E,QAAA,EAAI;cAAK;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACdpF,OAAA;gBAAA+E,QAAA,EAAI;cAAM;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfpF,OAAA;gBAAA+E,QAAA,EAAI;cAAU;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRpF,OAAA;YAAA+E,QAAA,EACGqI,eAAe,CAACxH,GAAG,CAACoF,MAAM,iBACzBhL,OAAA;cAAA+E,QAAA,gBACE/E,OAAA;gBAAA+E,QAAA,GAAI,GAAC,EAACiG,MAAM,CAACsB,aAAa,IAAItB,MAAM,CAAC9E,EAAE;cAAA;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC7CpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAK8E,SAAS,EAAC,eAAe;kBAAAC,QAAA,gBAC5B/E,OAAA;oBAAK8E,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAAEiG,MAAM,CAACuB;kBAAa;oBAAAtH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC3DpF,OAAA;oBAAK8E,SAAS,EAAC,gBAAgB;oBAAAC,QAAA,EAAEiG,MAAM,CAACwB;kBAAc;oBAAAvH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eACLpF,OAAA;gBAAA+E,QAAA,EAAKiG,MAAM,CAACyB;cAAS;gBAAAxH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC3BpF,OAAA;gBAAA+E,QAAA,EAAKvD,UAAU,CAACwJ,MAAM,CAACI,UAAU;cAAC;gBAAAnG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACxCpF,OAAA;gBAAA+E,QAAA,EAAKvD,UAAU,CAACwJ,MAAM,CAAC4C,QAAQ;cAAC;gBAAA3I,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACtCpF,OAAA;gBAAA+E,QAAA,GAAK/C,iBAAiB,CAACgJ,MAAM,CAACI,UAAU,EAAEJ,MAAM,CAAC4C,QAAQ,CAAC,EAAC,iCAAM;cAAA;gBAAA3I,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACtEpF,OAAA;gBAAI8E,SAAS,EAAC,aAAa;gBAAAC,QAAA,EAAE5E,cAAc,CAAC6K,MAAM,CAACmB,YAAY;cAAC;gBAAAlH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACtEpF,OAAA;gBAAA+E,QAAA,eACE/E,OAAA;kBAAM8E,SAAS,EAAE,kBAAkBkG,MAAM,CAAC0B,cAAc,KAAK,OAAO,GAAG,MAAM,GAAG,SAAS,EAAG;kBAAA3H,QAAA,EACzFiG,MAAM,CAAC0B,cAAc,KAAK,OAAO,GAAG,SAAS,GAAG,KAAK,GAAG1B,MAAM,CAAC0B;gBAAc;kBAAAzH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1E;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC;YAAA,GAjBE4F,MAAM,CAAC9E,EAAE;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAkBd,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA,eACN,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;;AAED;AAAA6H,GAAA,CAvKMJ,qBAAqB;AAAAuB,GAAA,GAArBvB,qBAAqB;AAwK3B,MAAMwB,cAAc,GAAGA,CAAC;EAAEC,KAAK;EAAE7H,YAAY;EAAE8H,YAAY;EAAEC,UAAU;EAAE7L;AAAQ,CAAC,KAAK;EACrF,IAAIA,OAAO,EAAE;IACX,oBACE3C,OAAA;MAAK8E,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9B/E,OAAA;QAAK8E,SAAS,EAAC,YAAY;QAAAC,QAAA,EACxB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACa,GAAG,CAAC6I,CAAC,iBACjBzO,OAAA;UAAa8E,SAAS,EAAC;QAAoB,GAAjC2J,CAAC;UAAAxJ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAsC,CAClD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEpF,OAAA;IAAK8E,SAAS,EAAC,iBAAiB;IAAAC,QAAA,eAC9B/E,OAAA;MAAK8E,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzB/E,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxB/E,OAAA,CAAChC,QAAQ;YAACgH,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACNpF,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAEuJ,KAAK,CAACrL,cAAc,IAAI;UAAC;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7DpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxB/E,OAAA,CAACV,GAAG;YAAC0F,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACd,CAAC,eACNpF,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAEuJ,KAAK,CAACI,aAAa,IAAI;UAAC;YAAAzJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC5DpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAY;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxB/E,OAAA,CAACzB,UAAU;YAACyG,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC,eACNpF,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE5E,cAAc,CAACmO,KAAK,CAACK,YAAY,IAAI,CAAC;UAAC;YAAA1J,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC3EpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAW;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxB/E,OAAA,CAAC/B,KAAK;YAAC+G,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC,eACNpF,OAAA;UAAK8E,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3B/E,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EACxB0B,YAAY,GAAG,IAAIA,YAAY,CAACP,EAAE,EAAE,GAAG;UAAI;YAAAjB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,eACNpF,OAAA;YAAK8E,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAa;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC/CpF,OAAA;YAAK8E,SAAS,EAAC,eAAe;YAAAC,QAAA,EAC3B,CAAC0B,YAAY,gBACZzG,OAAA;cAAQ2F,OAAO,EAAE4I,YAAa;cAACzJ,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBACxD/E,OAAA,CAACV,GAAG;gBAAC0F,IAAI,EAAE;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,+CAEnB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,gBAETpF,OAAA;cAAQ2F,OAAO,EAAE6I,UAAW;cAAC1J,SAAS,EAAC,iBAAiB;cAAAC,QAAA,gBACtD/E,OAAA,CAACT,IAAI;gBAACyF,IAAI,EAAE;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,2DAEpB;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UACT;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;;AAED;AAAAwJ,GAAA,GA3EMP,cAAc;AA4EpB,MAAMQ,OAAO,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACpB,MAAM;IAAE/E;EAAK,CAAC,GAAGlK,OAAO,CAAC,CAAC;EAC1B,MAAMmN,SAAS,GAAG,CAAAjD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgF,IAAI,MAAK,OAAO,IAAI,CAAAhF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEgF,IAAI,MAAK,gBAAgB;EAE3E,MAAM,CAACpM,OAAO,EAAEqM,UAAU,CAAC,GAAGrR,QAAQ,CAAC;IACrC6E,KAAK,EAAE,IAAI;IACXiI,OAAO,EAAE,IAAI;IACbwE,KAAK,EAAE,IAAI;IACXX,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAM,CAAC9L,KAAK,EAAE0M,QAAQ,CAAC,GAAGvR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+Q,aAAa,EAAES,gBAAgB,CAAC,GAAGxR,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACyR,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1R,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAAC8I,YAAY,EAAE6I,eAAe,CAAC,GAAG3R,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC4I,aAAa,EAAE+D,gBAAgB,CAAC,GAAG3M,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAAC4R,eAAe,EAAEC,kBAAkB,CAAC,GAAG7R,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAM,CAAC2Q,KAAK,EAAEmB,QAAQ,CAAC,GAAG9R,QAAQ,CAAC;IACjCsF,cAAc,EAAE,CAAC;IACjByM,UAAU,EAAE,CAAC;IACbhB,aAAa,EAAE,CAAC;IAChBC,YAAY,EAAE,CAAC;IACfgB,YAAY,EAAE;EAChB,CAAC,CAAC;;EAEF;EACA,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM/P,GAAG,CAACgQ,GAAG,CAAC,QAAQ,EAAE;QACvCC,MAAM,EAAE;UAAEvM,SAAS,EAAEuG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEvG;QAAU;MACvC,CAAC,CAAC;MAEF,IAAIqM,QAAQ,CAACG,OAAO,EAAE;QACpBd,QAAQ,CAACW,QAAQ,CAACI,IAAI,CAAC;QACvBR,QAAQ,CAACS,IAAI,KAAK;UAChB,GAAGA,IAAI;UACPjN,cAAc,EAAE4M,QAAQ,CAACI,IAAI,CAAC7M,MAAM,CAACgH,CAAC,IAAIA,CAAC,CAAC1G,MAAM,KAAK,MAAM,CAAC,CAAC5B,MAAM;UACrE4N,UAAU,EAAEG,QAAQ,CAACI,IAAI,CAACnO;QAC5B,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOsH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C,CAAC,SAAS;MACR4F,UAAU,CAACkB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE1N,KAAK,EAAE;MAAM,CAAC,CAAC,CAAC;IACjD;EACF,CAAC;EAED,MAAM2N,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMN,QAAQ,GAAG,MAAM/P,GAAG,CAACgQ,GAAG,CAAC,iBAAiB,CAAC;MAEjD,IAAID,QAAQ,CAACG,OAAO,EAAE;QACpBb,gBAAgB,CAACU,QAAQ,CAACI,IAAI,CAAC;QAC/BR,QAAQ,CAACS,IAAI,KAAK;UAChB,GAAGA,IAAI;UACPxB,aAAa,EAAEmB,QAAQ,CAACI,IAAI,CAACnO;QAC/B,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOsH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,SAAS;MACR4F,UAAU,CAACkB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEzF,OAAO,EAAE;MAAM,CAAC,CAAC,CAAC;IACnD;EACF,CAAC;EAED,MAAM2F,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAMP,QAAQ,GAAG,MAAM/P,GAAG,CAACgQ,GAAG,CAAC,gBAAgB,CAAC;MAEhD,IAAID,QAAQ,CAACG,OAAO,EAAE;QACpBV,eAAe,CAACO,QAAQ,CAACI,IAAI,CAAC;MAChC;IACF,CAAC,CAAC,OAAO7G,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C,CAAC,SAAS;MACR4F,UAAU,CAACkB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEjB,KAAK,EAAE;MAAM,CAAC,CAAC,CAAC;IACjD;EACF,CAAC;EAED,MAAMoB,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI,CAACrD,SAAS,EAAE;IAEhB,IAAI;MACF,MAAMQ,KAAK,GAAG,IAAIvM,IAAI,CAAC,CAAC,CAACwM,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MACpD,MAAMmC,QAAQ,GAAG,MAAM/P,GAAG,CAACgQ,GAAG,CAAC,UAAU,EAAE;QACzCC,MAAM,EAAE;UACNvM,SAAS,EAAEuG,IAAI,CAACvG,SAAS;UACzBE,MAAM,EAAE,OAAO;UACf4M,UAAU,EAAE9C;QACd;MACF,CAAC,CAAC;MAEF,IAAIqC,QAAQ,CAACG,OAAO,EAAE;QACpBX,mBAAmB,CAACQ,QAAQ,CAACI,IAAI,CAAC;QAElC,MAAMN,YAAY,GAAGE,QAAQ,CAACI,IAAI,CAAC7M,MAAM,CAACuK,CAAC,IACzCA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACC,QAAQ,CAACF,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAKF,KAC7C,CAAC;QAED,MAAMmB,YAAY,GAAGgB,YAAY,CAAC9G,MAAM,CAAC,CAACc,GAAG,EAAEqB,MAAM,KACnDrB,GAAG,IAAIrJ,UAAU,CAAC0K,MAAM,CAACmB,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE,CAChD,CAAC;QAEDsD,QAAQ,CAACS,IAAI,KAAK;UAChB,GAAGA,IAAI;UACPvB,YAAY,EAAEA,YAAY;UAC1BgB,YAAY,EAAEA,YAAY,CAAC7N;QAC7B,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOsH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D,CAAC,SAAS;MACR4F,UAAU,CAACkB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE5B,KAAK,EAAE;MAAM,CAAC,CAAC,CAAC;IACjD;EACF,CAAC;EAED,MAAMiC,WAAW,GAAG1S,WAAW,CAAC,YAAY;IAC1CmR,UAAU,CAAC;MAAExM,KAAK,EAAE,IAAI;MAAEiI,OAAO,EAAE,IAAI;MAAEwE,KAAK,EAAE,IAAI;MAAEX,KAAK,EAAE;IAAK,CAAC,CAAC;IAEpE,IAAI;MACF,MAAMkC,OAAO,CAACC,GAAG,CAAC,CAChBb,SAAS,CAAC,CAAC,EACXO,iBAAiB,CAAC,CAAC,EACnBC,gBAAgB,CAAC,CAAC,EAClBC,oBAAoB,CAAC,CAAC,CACvB,CAAC;IACJ,CAAC,CAAC,OAAOjH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;EACF,CAAC,EAAE,CAACW,IAAI,CAAC,CAAC;EAEVnM,SAAS,CAAC,MAAM;IACd,IAAImM,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEvG,SAAS,EAAE;MACnB+M,WAAW,CAAC,CAAC;IACf;EACF,CAAC,EAAE,CAACxG,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEvG,SAAS,CAAC,CAAC;EAGrB,MAAMiF,kBAAkB,GAAG5K,WAAW,CAAE0K,IAAI,IAAK;IACjD,IAAIA,IAAI,CAACN,UAAU,KAAK,MAAM,EAAE,OAAO,CAAC;IACxC,MAAMS,KAAK,GAAGrG,IAAI,CAACsG,IAAI,CAACJ,IAAI,CAACL,QAAQ,GAAG,EAAE,CAAC;IAC3C,OAAQK,IAAI,CAACJ,aAAa,GAAGO,KAAK,GAAGH,IAAI,CAACH,QAAQ,IAAK,CAAC;EAC1D,CAAC,EAAE,EAAE,CAAC;EACJ;EACA,MAAMsI,gBAAgB,GAAIrN,IAAI,IAAK;IACjC,IAAI,CAACoD,YAAY,EAAE;MACjBuC,KAAK,CAAC,oBAAoB,CAAC;MAC3B;IACF;IAEA,IAAI,CAACzC,aAAa,CAAC4D,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAClE,EAAE,KAAK7C,IAAI,CAAC6C,EAAE,CAAC,EAAE;MAC9CoE,gBAAgB,CAAC,CAAC,GAAG/D,aAAa,EAAElD,IAAI,CAAC,CAAC;IAC5C;IACAmM,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAEH,MAAMmB,kBAAkB,GAAG,MAAO1H,UAAU,IAAK;IAC/C,IAAI;MACFI,OAAO,CAACuH,GAAG,CAAC,2BAA2B,EAAE3H,UAAU,CAAChC,WAAW,CAACnF,MAAM,CAAC;MAEvE,MAAM+O,OAAO,GAAG,EAAE;MAClB,MAAMC,WAAW,GAAG,EAAE;;MAEtB;MACA,KAAK,MAAMvI,IAAI,IAAIU,UAAU,CAAChC,WAAW,EAAE;QACzC,IAAI;UACF;UACA,MAAM5D,IAAI,GAAGb,KAAK,CAACuO,IAAI,CAAC3G,CAAC,IAAIA,CAAC,CAAClE,EAAE,KAAKqC,IAAI,CAACT,MAAM,CAAC;UAElD,IAAI,CAACzE,IAAI,EAAE;YACTgG,OAAO,CAAC2H,IAAI,CAAC,aAAazI,IAAI,CAACT,MAAM,aAAa,CAAC;YACnDgJ,WAAW,CAACzG,IAAI,CAAC9B,IAAI,CAACR,QAAQ,CAAC;YAC/B;UACF;;UAEA;UACA,MAAMkJ,aAAa,GAAG;YACpBC,OAAO,EAAE3I,IAAI,CAACT,MAAM;YACpByE,aAAa,EAAEtD,UAAU,CAACtC,YAAY,CAAC5C,IAAI;YAC3CyI,cAAc,EAAEvD,UAAU,CAACtC,YAAY,CAAChF,KAAK;YAC7CwP,cAAc,EAAElI,UAAU,CAACtC,YAAY,CAACE,KAAK;YAC7CuK,gBAAgB,EAAEnI,UAAU,CAACtC,YAAY,CAACG,OAAO;YACjDyE,gBAAgB,EAAEhD,IAAI,CAACN,UAAU,KAAK,OAAO,GAAGM,IAAI,CAACL,QAAQ,GAAG,IAAI;YACpEiD,WAAW,EAAE5C,IAAI,CAACN,UAAU;YAC5BG,QAAQ,EAAEG,IAAI,CAACH,QAAQ;YACvBb,KAAK,EAAEgB,IAAI,CAAChB,KAAK,IAAI,EAAE;YACvB8J,cAAc,EAAEpI,UAAU,CAAC9B,aAAa;YACxCuF,cAAc,EAAEzD,UAAU,CAAC5B,aAAa;YACxC8E,YAAY,EAAE1D,kBAAkB,CAACF,IAAI,CAAC;YACtC2C,YAAY,EAAE3C,IAAI,CAACN,UAAU,KAAK,MAAM,GAAG,CAAC,GAAG;UACjD,CAAC;;UAED;UACA,MAAM4H,QAAQ,GAAG,MAAM/P,GAAG,CAACwR,YAAY,CAACL,aAAa,CAAC;UAEtD,IAAIpB,QAAQ,IAAIA,QAAQ,CAACG,OAAO,EAAE;YAAA,IAAAuB,cAAA,EAAAC,eAAA,EAAAC,eAAA;YAChCZ,OAAO,CAACxG,IAAI,CAAC;cACXhH,IAAI,EAAEkF,IAAI,CAACR,QAAQ;cACnBiI,OAAO,EAAE,IAAI;cACb1D,aAAa,EAAE,EAAAiF,cAAA,GAAA1B,QAAQ,CAACI,IAAI,cAAAsB,cAAA,uBAAbA,cAAA,CAAejF,aAAa,KAAIuD,QAAQ,CAACvD,aAAa;cACrEoF,SAAS,EAAE,EAAAF,eAAA,GAAA3B,QAAQ,CAACI,IAAI,cAAAuB,eAAA,uBAAbA,eAAA,CAAetL,EAAE,KAAI2J,QAAQ,CAAC6B;YAC3C,CAAC,CAAC;YAEFrI,OAAO,CAACuH,GAAG,CAAC,cAAcrI,IAAI,CAACR,QAAQ,KAAK8H,QAAQ,CAACvD,aAAa,MAAAmF,eAAA,GAAI5B,QAAQ,CAACI,IAAI,cAAAwB,eAAA,uBAAbA,eAAA,CAAenF,aAAa,GAAE,CAAC;UACvG,CAAC,MAAM;YACLwE,WAAW,CAACzG,IAAI,CAAC9B,IAAI,CAACR,QAAQ,CAAC;YAC/BsB,OAAO,CAAC2H,IAAI,CAAC,eAAezI,IAAI,CAACR,QAAQ,KAAK8H,QAAQ,CAAC8B,OAAO,EAAE,CAAC;UACnE;QACF,CAAC,CAAC,OAAOvI,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,mBAAmBb,IAAI,CAACR,QAAQ,GAAG,EAAEqB,KAAK,CAAC;UACzD0H,WAAW,CAACzG,IAAI,CAAC9B,IAAI,CAACR,QAAQ,CAAC;QACjC;MACF;;MAEA;MACA,MAAM6J,YAAY,GAAGf,OAAO,CAAC/O,MAAM;MACnC,MAAM+P,UAAU,GAAG5I,UAAU,CAAChC,WAAW,CAACnF,MAAM;MAEhD,IAAI8P,YAAY,KAAKC,UAAU,EAAE;QAC/B7I,KAAK,CAAC,cAAc4I,YAAY,cAAc,CAAC;MACjD,CAAC,MAAM,IAAIA,YAAY,GAAG,CAAC,EAAE;QAC3B5I,KAAK,CAAC,eAAe4I,YAAY,uBAAuBC,UAAU,kBAAkBf,WAAW,CAACgB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;MAC/G,CAAC,MAAM;QACL9I,KAAK,CAAC,4BAA4B,CAAC;MACrC;;MAEA;MACAwG,kBAAkB,CAAC,KAAK,CAAC;MACzBlF,gBAAgB,CAAC,EAAE,CAAC;;MAEpB;MACAyH,UAAU,CAAC,MAAM;QACfnC,SAAS,CAAC,CAAC;QACXO,iBAAiB,CAAC,CAAC;QACnBE,oBAAoB,CAAC,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IAEV,CAAC,CAAC,OAAOjH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpDJ,KAAK,CAAC,oDAAoD,CAAC;IAC7D;EACF,CAAC;;EAED;EACA,MAAMgJ,eAAe,GAAG,MAAOhH,MAAM,IAAK;IACxC,IAAI;MACF,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAAC9E,EAAE,EAAE;QACzB8C,KAAK,CAAC,0BAA0B,CAAC;QACjC;MACF;MAEA,MAAMiC,UAAU,GAAGD,MAAM,CAACE,YAAY,IAAIF,MAAM,CAACG,WAAW,KAAK,MAAM;MAEvE,IAAIF,UAAU,EAAE;QACd;QACA,MAAMhJ,SAAS,GAAG,IAAIhB,IAAI,CAAC+J,MAAM,CAACI,UAAU,CAAC;QAC7C,MAAMxD,GAAG,GAAG,IAAI3G,IAAI,CAAC,CAAC;QACtB,MAAMuI,OAAO,GAAGnH,IAAI,CAACoJ,KAAK,CAAC,CAAC7D,GAAG,GAAG3F,SAAS,IAAI,KAAK,CAAC;QACrD,MAAMyG,KAAK,GAAGrG,IAAI,CAACsG,IAAI,CAACa,OAAO,GAAG,EAAE,CAAC;QACrC,MAAM4C,aAAa,GAAGpB,MAAM,CAAC/E,eAAe,IAAI,GAAG;QACnD,MAAMgM,eAAe,GAAGvJ,KAAK,GAAG0D,aAAa;QAE7C,IAAI,CAAC8F,MAAM,CAACC,OAAO,CAAC,4CAA4C3I,OAAO,2BAA2BrJ,cAAc,CAAC8R,eAAe,CAAC,EAAE,CAAC,EAAE;UACpI;QACF;MACF,CAAC,MAAM;QACL,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4BAA4B,CAAC,EAAE;UACjD;QACF;MACF;MAEA,MAAMtC,QAAQ,GAAG,MAAM/P,GAAG,CAACsS,cAAc,CAACpH,MAAM,CAAC9E,EAAE,EAAE;QACnDmL,cAAc,EAAE;MAClB,CAAC,CAAC;MAEF,IAAIxB,QAAQ,CAACG,OAAO,EAAE;QACpBhH,KAAK,CAAC,0BAA0B,CAAC;QACjCmH,iBAAiB,CAAC,CAAC;QACnBP,SAAS,CAAC,CAAC;QACXS,oBAAoB,CAAC,CAAC;MACxB,CAAC,MAAM;QACLrH,KAAK,CAAC,wBAAwB6G,QAAQ,CAAC8B,OAAO,EAAE,CAAC;MACnD;IACF,CAAC,CAAC,OAAOvI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDJ,KAAK,CAAC,0BAA0B,CAAC;IACnC;EACF,CAAC;;EAED;EACA,MAAMqJ,kBAAkB,GAAG,MAAAA,CAAOC,MAAM,EAAEtH,MAAM,KAAK;IACnD,QAAOsH,MAAM;MACX,KAAK,SAAS;QAAE;UACd;UACAtJ,KAAK,CAAC;AACZ,eAAegC,MAAM,CAACsB,aAAa,IAAI,WAAW;AAClD,UAAUtB,MAAM,CAACuB,aAAa;AAC9B,UAAUvB,MAAM,CAACwB,cAAc;AAC/B,UAAUxB,MAAM,CAACyB,SAAS;AAC1B,aAAa3L,cAAc,CAACkK,MAAM,CAACI,UAAU,CAAC;AAC9C,UAAUJ,MAAM,CAACtH,MAAM;AACvB,UAAUvD,cAAc,CAAC6K,MAAM,CAACmB,YAAY,IAAI,CAAC,CAAC;AAClD,cAAcnB,MAAM,CAAC0B,cAAc,EAAE,CAAC;UAChC;QACF;MAEA,KAAK,KAAK;QAAE;UACV;UACA,MAAMsF,eAAe,CAAChH,MAAM,CAAC;UAC7B;QACF;MAEA,KAAK,QAAQ;QAAE;UACb,IAAIkH,MAAM,CAACC,OAAO,CAAC,uDAAuD,CAAC,EAAE;YAC3E,IAAI;cACF,MAAMtC,QAAQ,GAAG,MAAM/P,GAAG,CAACyS,YAAY,CAACvH,MAAM,CAAC9E,EAAE,EAAE,CAAC,EAAE,4BAA4B,CAAC;cACnF,IAAI2J,QAAQ,CAACG,OAAO,EAAE;gBACpBhH,KAAK,CAAC,oBAAoB,CAAC;gBAC3BmH,iBAAiB,CAAC,CAAC;gBACnBP,SAAS,CAAC,CAAC;cACb,CAAC,MAAM;gBACL5G,KAAK,CAAC,kBAAkB6G,QAAQ,CAAC8B,OAAO,EAAE,CAAC;cAC7C;YACF,CAAC,CAAC,OAAOvI,KAAK,EAAE;cACdJ,KAAK,CAAC,6BAA6B,CAAC;YACtC;UACF;UACA;QACF;MAEA,KAAK,QAAQ;QAAE;UACb,MAAMwJ,iBAAiB,GAAGC,MAAM,CAAC,4BAA4B,EAAE,IAAI,CAAC;UACpE,IAAID,iBAAiB,IAAI,CAACE,KAAK,CAACF,iBAAiB,CAAC,EAAE;YAClD,IAAI;cACF,MAAM3C,QAAQ,GAAG,MAAM/P,GAAG,CAAC6S,YAAY,CAAC3H,MAAM,CAAC9E,EAAE,EAAE3C,QAAQ,CAACiP,iBAAiB,CAAC,CAAC;cAC/E,IAAI3C,QAAQ,CAACG,OAAO,EAAE;gBACpBhH,KAAK,CAAC,sBAAsBwJ,iBAAiB,QAAQ,CAAC;gBACtDrC,iBAAiB,CAAC,CAAC;cACrB;YACF,CAAC,CAAC,OAAO/G,KAAK,EAAE;cACdJ,KAAK,CAAC,qBAAqB,CAAC;YAC9B;UACF;UACA;QACF;MAEA;QACEK,OAAO,CAAC2H,IAAI,CAAC,uBAAuBsB,MAAM,EAAE,CAAC;IACjD;EACF,CAAC;EAEC,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAM/C,QAAQ,GAAG,MAAM/P,GAAG,CAAC+S,IAAI,CAAC,eAAe,CAAC;MAChD,IAAIhD,QAAQ,CAACG,OAAO,EAAE;QACpBV,eAAe,CAACO,QAAQ,CAACI,IAAI,CAAC;QAC9BjH,KAAK,CAAC,eAAe,CAAC;QACtBuH,WAAW,CAAC,CAAC;MACf;IACF,CAAC,CAAC,OAAOnH,KAAK,EAAE;MACdJ,KAAK,CAAC,gBAAgB,CAAC;IACzB;EACF,CAAC;EAED,MAAM8J,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,IAAI,CAACrM,YAAY,EAAE;IAEnB,IAAIyL,MAAM,CAACC,OAAO,CAAC,8BAA8B,CAAC,EAAE;MAClD,IAAI;QACF,MAAMtC,QAAQ,GAAG,MAAM/P,GAAG,CAACiT,GAAG,CAAC,WAAWtM,YAAY,CAACP,EAAE,MAAM,CAAC;QAChE,IAAI2J,QAAQ,CAACG,OAAO,EAAE;UACpBV,eAAe,CAAC,IAAI,CAAC;UACrBH,gBAAgB,CAAC,EAAE,CAAC;UACpBnG,KAAK,CAAC,iBAAiB,CAAC;UACxBuH,WAAW,CAAC,CAAC;QACf;MACF,CAAC,CAAC,OAAOnH,KAAK,EAAE;QACdJ,KAAK,CAAC,kBAAkB,CAAC;MAC3B;IACF;EACF,CAAC;EAED,MAAMgK,qBAAqB,GAAIvI,OAAO,IAAK;IACzC,IAAI;MACF,MAAMwI,OAAO,GAAGC,IAAI,CAACC,SAAS,CAAC1I,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;MAChD,MAAM2I,OAAO,GAAG,sCAAsC,GAAEC,kBAAkB,CAACJ,OAAO,CAAC;MAEnF,MAAMK,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;MACxCF,IAAI,CAACG,YAAY,CAAC,MAAM,EAAEL,OAAO,CAAC;MAClCE,IAAI,CAACG,YAAY,CAAC,UAAU,EAAE,WAAW,IAAIxS,IAAI,CAAC,CAAC,CAACwM,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;MACvF4F,IAAI,CAACI,KAAK,CAAC,CAAC;MAEZ1K,KAAK,CAAC,YAAYyB,OAAO,CAAC3I,MAAM,QAAQ,CAAC;IAC3C,CAAC,CAAC,OAAOsH,KAAK,EAAE;MACdJ,KAAK,CAAC,oBAAoB,CAAC;IAC7B;EACF,CAAC;EAED,MAAM2K,oBAAoB,GAAIlJ,OAAO,IAAK;IACxC,MAAMmJ,WAAW,GAAG1B,MAAM,CAAC2B,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;IAC7C,MAAMC,OAAO,GAAG;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgBrJ,OAAO,CAAC7E,GAAG,CAACoF,MAAM,IAAI;AACtC;AACA,wBAAwBA,MAAM,CAACsB,aAAa,IAAItB,MAAM,CAAC9E,EAAE;AACzD,wBAAwB8E,MAAM,CAACuB,aAAa;AAC5C,wBAAwBvB,MAAM,CAACyB,SAAS;AACxC,wBAAwBtM,cAAc,CAAC6K,MAAM,CAACmB,YAAY,CAAC;AAC3D,wBAAwBrL,cAAc,CAACkK,MAAM,CAAC4C,QAAQ,CAAC;AACvD;AACA,eAAe,CAAC,CAACkE,IAAI,CAAC,EAAE,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;IAED8B,WAAW,CAACL,QAAQ,CAACQ,KAAK,CAACD,OAAO,CAAC;IACnCF,WAAW,CAACL,QAAQ,CAACS,KAAK,CAAC,CAAC;EAC9B,CAAC;;EAED;EACA,IAAIrR,OAAO,CAACH,KAAK,IAAIG,OAAO,CAAC8H,OAAO,EAAE;IACpC,oBACEzK,OAAA;MAAK8E,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChC/E,OAAA,CAACP,OAAO;QAACqF,SAAS,EAAC,SAAS;QAACE,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzCpF,OAAA;QAAA+E,QAAA,EAAG;MAAoB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC;EAEV;EAEA,oBACEpF,OAAA;IAAK8E,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAE3B/E,OAAA;MAAQ8E,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC7B/E,OAAA;QAAK8E,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B/E,OAAA;UAAA+E,QAAA,gBACE/E,OAAA,CAAChC,QAAQ;YAACgH,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kHAExB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACLpF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA,CAAC9B,IAAI;YAAC8G,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAClBpF,OAAA;YAAA+E,QAAA,GAAOgF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEhG,IAAI,EAAC,KAAG,EAACiJ,SAAS,GAAG,MAAM,GAAG,MAAM;UAAA;YAAA/H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzDpF,OAAA,CAACX,QAAQ;YAAC2F,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtBpF,OAAA;YAAA+E,QAAA,EAAOgF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEkK;UAAW;YAAAhP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpF,OAAA;QAAK8E,SAAS,EAAC,gBAAgB;QAAAC,QAAA,GAC5BwB,aAAa,CAACzE,MAAM,GAAG,CAAC,iBACvB9B,OAAA;UACE2F,OAAO,EAAEA,CAAA,KAAM6J,kBAAkB,CAAC,IAAI,CAAE;UACxC1K,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAE3B/E,OAAA,CAAC1B,YAAY;YAAC0G,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,uDACf,EAACmB,aAAa,CAACzE,MAAM,EAAC,GACnC;QAAA;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT,eAEDpF,OAAA;UACE2F,OAAO,EAAE4K,WAAY;UACrBzL,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAE7B/E,OAAA,CAACf,SAAS;YAAC+F,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,kCAEzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAGTpF,OAAA,CAACqO,cAAc;MACbC,KAAK,EAAEA,KAAM;MACb7H,YAAY,EAAEA,YAAa;MAC3B8H,YAAY,EAAEqE,UAAW;MACzBpE,UAAU,EAAEsE,QAAS;MACrBnQ,OAAO,EAAEA,OAAO,CAACsM;IAAM;MAAAhK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,EAGD,CAACqB,YAAY,iBACZzG,OAAA;MAAK8E,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7B/E,OAAA,CAACd,WAAW;QAAC8F,IAAI,EAAE;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACzBpF,OAAA;QAAA+E,QAAA,gBACE/E,OAAA;UAAA+E,QAAA,EAAI;QAAgB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBpF,OAAA;UAAA+E,QAAA,EAAG;QAA2C;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,eACNpF,OAAA;QAAQ2F,OAAO,EAAEiN,UAAW;QAAC9N,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAC;MAEzD;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN,EAGAqB,YAAY,iBACXzG,OAAA;MAAK8E,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAE3B/E,OAAA,CAACuC,SAAS;QACRC,KAAK,EAAEA,KAAM;QACbC,QAAQ,EAAEsH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEvG,SAAU;QAC1Bd,YAAY,EAAEgO,gBAAiB;QAC/B/N,OAAO,EAAEA,OAAO,CAACH;MAAM;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxB,CAAC,eAGFpF,OAAA,CAACwK,kBAAkB;QACjBC,OAAO,EAAEiE,aAAc;QACvBhE,QAAQ,EAAE2H,kBAAmB;QAC7B1P,OAAO,EAAEA,OAAO,CAAC8H;MAAQ;QAAAxF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B,CAAC,eAGFpF,OAAA,CAAC6M,qBAAqB;QACpBpC,OAAO,EAAE2E,gBAAiB;QAC1BtC,QAAQ,EAAEkG,qBAAsB;QAChCjG,OAAO,EAAE4G,oBAAqB;QAC9BhR,OAAO,EAAEA,OAAO,CAAC2L,KAAM;QACvBtB,SAAS,EAAEA;MAAU;QAAA/H,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,eAIDpF,OAAA,CAACoG,gBAAgB;MACfC,IAAI,EAAEkJ,eAAgB;MACtBjJ,OAAO,EAAEA,CAAA,KAAM;QACbkJ,kBAAkB,CAAC,KAAK,CAAC;QACzBlF,gBAAgB,CAAC,EAAE,CAAC;MACtB,CAAE;MACF/D,aAAa,EAAEA,aAAc;MAC7BE,YAAY,EAAEA,YAAa;MAC3BD,eAAe,EAAEmK;IAAmB;MAAA1L,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAIV,CAAC;AAAC0J,GAAA,CAljBID,OAAO;EAAA,QACMhP,OAAO;AAAA;AAAAqU,GAAA,GADpBrF,OAAO;AAojBb,eAAeA,OAAO;AAAC,IAAA1I,EAAA,EAAAyD,GAAA,EAAAgD,GAAA,EAAAwB,GAAA,EAAAQ,GAAA,EAAAsF,GAAA;AAAAC,YAAA,CAAAhO,EAAA;AAAAgO,YAAA,CAAAvK,GAAA;AAAAuK,YAAA,CAAAvH,GAAA;AAAAuH,YAAA,CAAA/F,GAAA;AAAA+F,YAAA,CAAAvF,GAAA;AAAAuF,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}