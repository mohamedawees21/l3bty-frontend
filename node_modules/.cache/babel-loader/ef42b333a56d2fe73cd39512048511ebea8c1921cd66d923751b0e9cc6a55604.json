{"ast":null,"code":"// src/services/authService.js - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†\nimport api from './api';\nconst authService = {\n  // ==================== UTILITY FUNCTIONS ====================\n\n  // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ API\n  getApiUrl: endpoint => {\n    const baseUrl = api.defaults.baseURL || 'http://localhost:5000';\n\n    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù€ / Ø§Ù„Ù…ÙƒØ±Ø±Ø©\n    const cleanBase = baseUrl.replace(/\\/+$/, '');\n    const cleanEndpoint = endpoint.replace(/^\\/+/, '');\n    return `${cleanBase}/${cleanEndpoint}`;\n  },\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\n  logError: (context, error) => {\n    var _error$response, _error$response2, _error$config;\n    console.error(`âŒ ${context}:`, {\n      message: error.message,\n      response: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data,\n      status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status,\n      url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url\n    });\n  },\n  // ==================== AUTHENTICATION ====================\n\n  login: async (email, password) => {\n    try {\n      const response = await api.post('/api/auth/login', {\n        email,\n        password\n      });\n      if (response.data.success && response.data.token && response.data.user) {\n        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n\n        // ØªØ­Ø¯ÙŠØ« header Ø§Ù„Ù€ axios\n        api.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`;\n        return {\n          success: true,\n          data: response.data,\n          message: 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­'\n        };\n      } else {\n        var _response$data;\n        return {\n          success: false,\n          message: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message) || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n        };\n      }\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      authService.logError('Login', error);\n      return {\n        success: false,\n        message: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n  },\n  logout: () => {\n    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('current_shift');\n\n    // Ø¥Ø²Ø§Ù„Ø© header Ø§Ù„Ù€ axios\n    delete api.defaults.headers.common['Authorization'];\n    return {\n      success: true,\n      message: 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­'\n    };\n  },\n  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ† ÙÙŠ Ø§Ù„Ù€ axios Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\n  setupToken: () => {\n    const token = authService.getToken();\n    if (token) {\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n    return token;\n  },\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n      return null;\n    }\n  },\n  getToken: () => {\n    const token = localStorage.getItem('token');\n    return token ? token.trim() : null;\n  },\n  isAuthenticated: () => {\n    const token = authService.getToken();\n    const user = authService.getCurrentUser();\n    return !!(token && user);\n  },\n  // ==================== BRANCH TIMING ====================\n\n  getCurrentBranchTiming: async () => {\n    try {\n      const response = await api.get('/api/branches/current/timing');\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Current Branch Timing', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙØ±Ø¹',\n        data: null\n      };\n    }\n  },\n  checkBranchStatus: async branchId => {\n    try {\n      const response = await api.get(`/api/branches/${branchId}/timing-check`);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„ÙØ±Ø¹',\n        data: null\n      };\n    }\n  },\n  // ==================== SHIFT MANAGEMENT ====================\n\n  getActiveShift: async () => {\n    try {\n      const response = await api.get('/api/shifts/active');\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Active Shift', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n        data: null\n      };\n    }\n  },\n  startShift: async () => {\n    try {\n      const response = await api.post('/api/shifts/start');\n      return response.data;\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      authService.logError('Start Shift', error);\n      return {\n        success: false,\n        message: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n      };\n    }\n  },\n  endShift: async shiftId => {\n    try {\n      const response = await api.post(`/api/shifts/${shiftId}/end`);\n      return response.data;\n    } catch (error) {\n      authService.logError('End Shift', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n      };\n    }\n  },\n  getShiftStats: async shiftId => {\n    try {\n      const response = await api.get(`/api/shifts/${shiftId}/stats`);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª',\n        data: null\n      };\n    }\n  },\n  getAllShifts: async (params = {}) => {\n    try {\n      const response = await api.get('/api/shifts', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n        data: [],\n        pagination: {\n          page: 1,\n          limit: 10,\n          total: 0,\n          totalPages: 0\n        }\n      };\n    }\n  },\n  // ==================== RENTALS MANAGEMENT ====================\n\n  getRentals: async (params = {}) => {\n    try {\n      const response = await api.get('/api/rentals', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Rentals', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n        data: []\n      };\n    }\n  },\n  createRental: async rentalData => {\n    try {\n      const user = authService.getCurrentUser();\n\n      // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\n      const fullRentalData = {\n        ...rentalData,\n        branch_id: (user === null || user === void 0 ? void 0 : user.branch_id) || rentalData.branch_id,\n        employee_id: (user === null || user === void 0 ? void 0 : user.id) || rentalData.employee_id\n      };\n      console.log('ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±:', fullRentalData);\n      const response = await api.post('/api/rentals/new', fullRentalData);\n      return response.data;\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      authService.logError('Create Rental', error);\n      return {\n        success: false,\n        message: ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n      };\n    }\n  },\n  completeRental: async (rentalId, finalAmount = null) => {\n    try {\n      const payload = {};\n      if (finalAmount !== null) {\n        payload.final_amount = finalAmount;\n      }\n      const response = await api.put(`/api/rentals/${rentalId}/complete`, payload);\n      return response.data;\n    } catch (error) {\n      authService.logError('Complete Rental', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n      };\n    }\n  },\n  getActiveRentalsForCurrentBranch: async () => {\n    try {\n      const user = authService.getCurrentUser();\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        return {\n          success: false,\n          message: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨ÙØ±Ø¹',\n          data: []\n        };\n      }\n      const response = await api.get('/api/rentals', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'Ù†Ø´Ø·'\n        }\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\n        data: []\n      };\n    }\n  },\n  // ==================== BRANCHES MANAGEMENT ====================\n\n  getBranches: async () => {\n    try {\n      const response = await api.get('/api/branches');\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Branches', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹',\n        data: []\n      };\n    }\n  },\n  getBranch: async branchId => {\n    try {\n      const response = await api.get(`/api/branches/${branchId}`);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n        data: null\n      };\n    }\n  },\n  createBranch: async branchData => {\n    try {\n      const response = await api.post('/api/branches', branchData);\n      return response.data;\n    } catch (error) {\n      authService.logError('Create Branch', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\n      };\n    }\n  },\n  updateBranch: async (id, branchData) => {\n    try {\n      const response = await api.put(`/api/branches/${id}`, branchData);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\n      };\n    }\n  },\n  deleteBranch: async (id, permanent = false) => {\n    try {\n      const url = `/api/branches/${id}${permanent ? '?permanent=true' : ''}`;\n      const response = await api.delete(url);\n      return response.data;\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      authService.logError('Delete Branch', error);\n      return {\n        success: false,\n        message: ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\n      };\n    }\n  },\n  // ==================== GAMES MANAGEMENT ====================\n\n  getGames: async (params = {}) => {\n    try {\n      const response = await api.get('/api/games', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Games', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n        data: [],\n        stats: {\n          total: 0,\n          available: 0,\n          rented: 0,\n          maintenance: 0\n        }\n      };\n    }\n  },\n  getAvailableGames: async (params = {}) => {\n    try {\n      const response = await api.get('/api/games/available', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©',\n        data: []\n      };\n    }\n  },\n  getRentedGames: async (params = {}) => {\n    try {\n      const response = await api.get('/api/games/rented', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©',\n        data: []\n      };\n    }\n  },\n  createGame: async gameData => {\n    try {\n      const cleanGameData = {\n        ...gameData\n      };\n\n      // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n      if (cleanGameData.max_speed && typeof cleanGameData.max_speed !== 'number') {\n        cleanGameData.max_speed = parseInt(cleanGameData.max_speed) || 30;\n      }\n      if (!cleanGameData.min_rental_time) cleanGameData.min_rental_time = 15;\n      if (!cleanGameData.max_rental_time) cleanGameData.max_rental_time = 120;\n      if (!cleanGameData.price_per_15min && cleanGameData.price_per_hour) {\n        cleanGameData.price_per_15min = Math.ceil(cleanGameData.price_per_hour / 4);\n      }\n      console.log('ğŸ”„ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©:', cleanGameData);\n      const response = await api.post('/api/games', cleanGameData);\n      return response.data;\n    } catch (error) {\n      var _error$response7, _error$response7$data, _error$response8, _error$response8$data;\n      authService.logError('Create Game', error);\n      const errorResponse = {\n        success: false,\n        message: ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©',\n        errorMessage: error.message\n      };\n      if ((_error$response8 = error.response) !== null && _error$response8 !== void 0 && (_error$response8$data = _error$response8.data) !== null && _error$response8$data !== void 0 && _error$response8$data.sqlError) {\n        errorResponse.sqlError = error.response.data.sqlError;\n      }\n      return errorResponse;\n    }\n  },\n  updateGame: async (id, gameData) => {\n    try {\n      const response = await api.put(`/api/games/${id}`, gameData);\n      return response.data;\n    } catch (error) {\n      var _error$response9, _error$response9$data;\n      return {\n        success: false,\n        message: ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.message) || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\n      };\n    }\n  },\n  deleteGame: async (id, permanent = false) => {\n    try {\n      const url = `/api/games/${id}${permanent ? '?permanent=true' : ''}`;\n      const response = await api.delete(url);\n      return response.data;\n    } catch (error) {\n      var _error$response0, _error$response0$data;\n      return {\n        success: false,\n        message: ((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : (_error$response0$data = _error$response0.data) === null || _error$response0$data === void 0 ? void 0 : _error$response0$data.message) || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\n      };\n    }\n  },\n  // ==================== BRANCH GAMES ====================\n\n  getBranchGames: async branchId => {\n    try {\n      const response = await api.get(`/api/branches/${branchId}/games`);\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Branch Games', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\n        data: []\n      };\n    }\n  },\n  // ==================== DASHBOARD STATISTICS ====================\n\n  getDashboardStats: async () => {\n    try {\n      const response = await api.get('/api/dashboard/stats');\n      return response.data;\n    } catch (error) {\n      authService.logError('Get Dashboard Stats', error);\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\n        data: {\n          summary: {}\n        }\n      };\n    }\n  },\n  // ==================== USERS MANAGEMENT ====================\n\n  getUsers: async () => {\n    try {\n      const response = await api.get('/api/users');\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\n        data: []\n      };\n    }\n  },\n  createUser: async userData => {\n    try {\n      const response = await api.post('/api/users', userData);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n      };\n    }\n  },\n  updateUser: async (id, userData) => {\n    try {\n      const response = await api.put(`/api/users/${id}`, userData);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n      };\n    }\n  },\n  deleteUser: async (id, permanent = false) => {\n    try {\n      const url = `/api/users/${id}${permanent ? '?permanent=true' : ''}`;\n      const response = await api.delete(url);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n      };\n    }\n  },\n  // ==================== PROFILE MANAGEMENT ====================\n\n  updateProfile: async profileData => {\n    try {\n      const response = await api.put('/api/auth/update-profile', profileData);\n      if (response.data.success && response.data.user) {\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n      }\n      return response.data;\n    } catch (error) {\n      var _error$response1, _error$response1$data;\n      return {\n        success: false,\n        message: ((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : (_error$response1$data = _error$response1.data) === null || _error$response1$data === void 0 ? void 0 : _error$response1$data.message) || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\n      };\n    }\n  },\n  changePassword: async passwordData => {\n    try {\n      const response = await api.put('/api/auth/change-password', passwordData);\n      return response.data;\n    } catch (error) {\n      var _error$response10, _error$response10$dat;\n      return {\n        success: false,\n        message: ((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : (_error$response10$dat = _error$response10.data) === null || _error$response10$dat === void 0 ? void 0 : _error$response10$dat.message) || 'ØªØ¹Ø°Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'\n      };\n    }\n  },\n  // ==================== ACTIVITIES ====================\n\n  getActivities: async (filters = {}) => {\n    try {\n      const response = await api.get('/api/activities', {\n        params: filters\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©',\n        data: []\n      };\n    }\n  },\n  // ==================== CUSTOMERS ====================\n\n  getCustomers: async (search = '') => {\n    try {\n      const params = search ? {\n        search\n      } : {};\n      const response = await api.get('/api/customers', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\n        data: []\n      };\n    }\n  },\n  createCustomer: async customerData => {\n    try {\n      const response = await api.post('/api/customers', customerData);\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„'\n      };\n    }\n  },\n  // ==================== REPORTS ====================\n\n  getSalesReport: async (params = {}) => {\n    try {\n      const response = await api.get('/api/reports/sales', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',\n        data: []\n      };\n    }\n  },\n  getAdvancedReport: async (reportType, params = {}) => {\n    try {\n      const response = await api.get(`/api/analytics/reports/${reportType}`, {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±',\n        data: []\n      };\n    }\n  },\n  // ==================== HEALTH CHECK ====================\n\n  healthCheck: async () => {\n    try {\n      const response = await api.get('/api/health');\n      return response.data;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n  },\n  // ==================== TESTING ====================\n\n  testApiConnection: async () => {\n    try {\n      const response = await api.get('/api/health');\n      return {\n        success: response.data.success,\n        message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\n        data: response.data\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n  },\n  // ==================== UTILITY FUNCTIONS ====================\n\n  formatError: error => {\n    if (error.response) {\n      var _error$response$data;\n      return ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || `Ø®Ø·Ø£ ${error.response.status}: ${error.response.statusText}`;\n    } else if (error.request) {\n      return 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…';\n    } else {\n      return error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';\n    }\n  },\n  hasRole: role => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) === role;\n  },\n  hasAnyRole: roles => {\n    const user = authService.getCurrentUser();\n    return roles.includes(user === null || user === void 0 ? void 0 : user.role);\n  },\n  // ==================== FORMATTING FUNCTIONS ====================\n\n  formatCurrency: amount => {\n    const num = parseFloat(amount) || 0;\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 0\n    }).format(num);\n  },\n  formatDuration: minutes => {\n    if (!minutes || minutes === 0) return 'ÙˆÙ‚Øª Ù…ÙØªÙˆØ­';\n    if (minutes < 60) return `${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours} Ø³Ø§Ø¹Ø©${remainingMinutes > 0 ? ` ${remainingMinutes} Ø¯Ù‚ÙŠÙ‚Ø©` : ''}`;\n  },\n  formatDateTime: dateString => {\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleString('ar-EG', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return '--/--/---- --:--';\n    }\n  },\n  // ==================== VALIDATION FUNCTIONS ====================\n\n  validateCustomerPhone: phone => {\n    const phoneRegex = /^01[0-9]{9}$/;\n    return phoneRegex.test(phone);\n  },\n  validateEmail: email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  },\n  // ==================== CALCULATION FUNCTIONS ====================\n\n  calculateRentalPrice: (game, durationMinutes, quantity = 1) => {\n    if (!game) return 0;\n    let price = 0;\n    if (durationMinutes >= 60) {\n      price = (game.price_per_hour || 0) * (durationMinutes / 60);\n    } else {\n      const quarters = Math.ceil(durationMinutes / 15);\n      price = (game.price_per_15min || 0) * quarters;\n    }\n    return price * quantity;\n  },\n  calculateTotalPrice: (games, quantities, durationMinutes, discount = 0) => {\n    let total = 0;\n    games.forEach(game => {\n      const quantity = quantities[game.id] || 1;\n      total += authService.calculateRentalPrice(game, durationMinutes, quantity);\n    });\n    return total * (1 - discount / 100);\n  },\n  // ==================== NOTIFICATION FUNCTIONS ====================\n\n  showNotification: (type, message) => {\n    const messages = {\n      error: `âŒ ${message}`,\n      success: `âœ… ${message}`,\n      warning: `âš ï¸ ${message}`,\n      info: `â„¹ï¸ ${message}`\n    };\n\n    // ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ù‡Ø°Ø§ Ø¨Ù€ toast library\n    alert(messages[type] || message);\n  }\n};\n\n// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆÙƒÙ† Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù\nauthService.setupToken();\nexport default authService;","map":{"version":3,"names":["api","authService","getApiUrl","endpoint","baseUrl","defaults","baseURL","cleanBase","replace","cleanEndpoint","logError","context","error","_error$response","_error$response2","_error$config","console","message","response","data","status","url","config","login","email","password","post","success","token","user","localStorage","setItem","JSON","stringify","headers","common","_response$data","_error$response3","_error$response3$data","logout","removeItem","setupToken","getToken","getCurrentUser","userStr","getItem","parse","trim","isAuthenticated","getCurrentBranchTiming","get","checkBranchStatus","branchId","getActiveShift","startShift","_error$response4","_error$response4$data","endShift","shiftId","getShiftStats","getAllShifts","params","pagination","page","limit","total","totalPages","getRentals","createRental","rentalData","fullRentalData","branch_id","employee_id","id","log","_error$response5","_error$response5$data","completeRental","rentalId","finalAmount","payload","final_amount","put","getActiveRentalsForCurrentBranch","getBranches","getBranch","createBranch","branchData","updateBranch","deleteBranch","permanent","delete","_error$response6","_error$response6$data","getGames","stats","available","rented","maintenance","getAvailableGames","getRentedGames","createGame","gameData","cleanGameData","max_speed","parseInt","min_rental_time","max_rental_time","price_per_15min","price_per_hour","Math","ceil","_error$response7","_error$response7$data","_error$response8","_error$response8$data","errorResponse","errorMessage","sqlError","updateGame","_error$response9","_error$response9$data","deleteGame","_error$response0","_error$response0$data","getBranchGames","getDashboardStats","summary","getUsers","createUser","userData","updateUser","deleteUser","updateProfile","profileData","_error$response1","_error$response1$data","changePassword","passwordData","_error$response10","_error$response10$dat","getActivities","filters","getCustomers","search","createCustomer","customerData","getSalesReport","getAdvancedReport","reportType","healthCheck","testApiConnection","formatError","_error$response$data","statusText","request","hasRole","role","hasAnyRole","roles","includes","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDuration","minutes","hours","floor","remainingMinutes","formatDateTime","dateString","date","Date","toLocaleString","year","month","day","hour","minute","validateCustomerPhone","phone","phoneRegex","test","validateEmail","emailRegex","calculateRentalPrice","game","durationMinutes","quantity","price","quarters","calculateTotalPrice","games","quantities","discount","forEach","showNotification","type","messages","warning","info","alert"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["// src/services/authService.js - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†\r\nimport api from './api';\r\n\r\nconst authService = {\r\n  // ==================== UTILITY FUNCTIONS ====================\r\n  \r\n  // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ API\r\n  getApiUrl: (endpoint) => {\r\n    const baseUrl = api.defaults.baseURL || 'http://localhost:5000';\r\n    \r\n    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù€ / Ø§Ù„Ù…ÙƒØ±Ø±Ø©\r\n    const cleanBase = baseUrl.replace(/\\/+$/, '');\r\n    const cleanEndpoint = endpoint.replace(/^\\/+/, '');\r\n    \r\n    return `${cleanBase}/${cleanEndpoint}`;\r\n  },\r\n\r\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\r\n  logError: (context, error) => {\r\n    console.error(`âŒ ${context}:`, {\r\n      message: error.message,\r\n      response: error.response?.data,\r\n      status: error.response?.status,\r\n      url: error.config?.url\r\n    });\r\n  },\r\n\r\n  // ==================== AUTHENTICATION ====================\r\n  \r\n  login: async (email, password) => {\r\n    try {\r\n      const response = await api.post('/api/auth/login', { email, password });\r\n      \r\n      if (response.data.success && response.data.token && response.data.user) {\r\n        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage\r\n        localStorage.setItem('token', response.data.token);\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« header Ø§Ù„Ù€ axios\r\n        api.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`;\r\n        \r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          message: 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­'\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.data?.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      authService.logError('Login', error);\r\n      \r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  logout: () => {\r\n    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† localStorage\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('current_shift');\r\n    \r\n    // Ø¥Ø²Ø§Ù„Ø© header Ø§Ù„Ù€ axios\r\n    delete api.defaults.headers.common['Authorization'];\r\n    \r\n    return {\r\n      success: true,\r\n      message: 'ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n  },\r\n\r\n  // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ† ÙÙŠ Ø§Ù„Ù€ axios Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„\r\n  setupToken: () => {\r\n    const token = authService.getToken();\r\n    if (token) {\r\n      api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    return token;\r\n  },\r\n\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      return userStr ? JSON.parse(userStr) : null;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  getToken: () => {\r\n    const token = localStorage.getItem('token');\r\n    return token ? token.trim() : null;\r\n  },\r\n\r\n  isAuthenticated: () => {\r\n    const token = authService.getToken();\r\n    const user = authService.getCurrentUser();\r\n    return !!(token && user);\r\n  },\r\n\r\n  // ==================== BRANCH TIMING ====================\r\n  \r\n  getCurrentBranchTiming: async () => {\r\n    try {\r\n      const response = await api.get('/api/branches/current/timing');\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Current Branch Timing', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙØ±Ø¹',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n  checkBranchStatus: async (branchId) => {\r\n    try {\r\n      const response = await api.get(`/api/branches/${branchId}/timing-check`);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„ÙØ±Ø¹',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== SHIFT MANAGEMENT ====================\r\n  \r\n  getActiveShift: async () => {\r\n    try {\r\n      const response = await api.get('/api/shifts/active');\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Active Shift', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n  startShift: async () => {\r\n    try {\r\n      const response = await api.post('/api/shifts/start');\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Start Shift', error);\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n      };\r\n    }\r\n  },\r\n\r\n  endShift: async (shiftId) => {\r\n    try {\r\n      const response = await api.post(`/api/shifts/${shiftId}/end`);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('End Shift', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n      };\r\n    }\r\n  },\r\n\r\n  getShiftStats: async (shiftId) => {\r\n    try {\r\n      const response = await api.get(`/api/shifts/${shiftId}/stats`);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n  getAllShifts: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/shifts', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n        data: [],\r\n        pagination: { page: 1, limit: 10, total: 0, totalPages: 0 }\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== RENTALS MANAGEMENT ====================\r\n  \r\n  getRentals: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/rentals', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Rentals', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createRental: async (rentalData) => {\r\n    try {\r\n      const user = authService.getCurrentUser();\r\n      \r\n      // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n      const fullRentalData = {\r\n        ...rentalData,\r\n        branch_id: user?.branch_id || rentalData.branch_id,\r\n        employee_id: user?.id || rentalData.employee_id\r\n      };\r\n      \r\n      console.log('ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±:', fullRentalData);\r\n      const response = await api.post('/api/rentals/new', fullRentalData);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Create Rental', error);\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n      };\r\n    }\r\n  },\r\n\r\n  completeRental: async (rentalId, finalAmount = null) => {\r\n    try {\r\n      const payload = {};\r\n      if (finalAmount !== null) {\r\n        payload.final_amount = finalAmount;\r\n      }\r\n      \r\n      const response = await api.put(`/api/rentals/${rentalId}/complete`, payload);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Complete Rental', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n      };\r\n    }\r\n  },\r\n\r\n  getActiveRentalsForCurrentBranch: async () => {\r\n    try {\r\n      const user = authService.getCurrentUser();\r\n      if (!user?.branch_id) {\r\n        return {\r\n          success: false,\r\n          message: 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨ÙØ±Ø¹',\r\n          data: []\r\n        };\r\n      }\r\n      \r\n      const response = await api.get('/api/rentals', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          status: 'Ù†Ø´Ø·'\r\n        }\r\n      });\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== BRANCHES MANAGEMENT ====================\r\n  \r\n  getBranches: async () => {\r\n    try {\r\n      const response = await api.get('/api/branches');\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Branches', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getBranch: async (branchId) => {\r\n    try {\r\n      const response = await api.get(`/api/branches/${branchId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n  createBranch: async (branchData) => {\r\n    try {\r\n      const response = await api.post('/api/branches', branchData);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Create Branch', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\r\n      };\r\n    }\r\n  },\r\n\r\n  updateBranch: async (id, branchData) => {\r\n    try {\r\n      const response = await api.put(`/api/branches/${id}`, branchData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteBranch: async (id, permanent = false) => {\r\n    try {\r\n      const url = `/api/branches/${id}${permanent ? '?permanent=true' : ''}`;\r\n      const response = await api.delete(url);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Delete Branch', error);\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== GAMES MANAGEMENT ====================\r\n  \r\n  getGames: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/games', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Games', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n        data: [],\r\n        stats: { total: 0, available: 0, rented: 0, maintenance: 0 }\r\n      };\r\n    }\r\n  },\r\n\r\n  getAvailableGames: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/games/available', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getRentedGames: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/games/rented', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createGame: async (gameData) => {\r\n    try {\r\n      const cleanGameData = { ...gameData };\r\n      \r\n      // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n      if (cleanGameData.max_speed && typeof cleanGameData.max_speed !== 'number') {\r\n        cleanGameData.max_speed = parseInt(cleanGameData.max_speed) || 30;\r\n      }\r\n      \r\n      if (!cleanGameData.min_rental_time) cleanGameData.min_rental_time = 15;\r\n      if (!cleanGameData.max_rental_time) cleanGameData.max_rental_time = 120;\r\n      if (!cleanGameData.price_per_15min && cleanGameData.price_per_hour) {\r\n        cleanGameData.price_per_15min = Math.ceil(cleanGameData.price_per_hour / 4);\r\n      }\r\n      \r\n      console.log('ğŸ”„ Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©:', cleanGameData);\r\n      const response = await api.post('/api/games', cleanGameData);\r\n      return response.data;\r\n      \r\n    } catch (error) {\r\n      authService.logError('Create Game', error);\r\n      \r\n      const errorResponse = {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©',\r\n        errorMessage: error.message\r\n      };\r\n      \r\n      if (error.response?.data?.sqlError) {\r\n        errorResponse.sqlError = error.response.data.sqlError;\r\n      }\r\n      \r\n      return errorResponse;\r\n    }\r\n  },\r\n\r\n  updateGame: async (id, gameData) => {\r\n    try {\r\n      const response = await api.put(`/api/games/${id}`, gameData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteGame: async (id, permanent = false) => {\r\n    try {\r\n      const url = `/api/games/${id}${permanent ? '?permanent=true' : ''}`;\r\n      const response = await api.delete(url);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== BRANCH GAMES ====================\r\n  \r\n  getBranchGames: async (branchId) => {\r\n    try {\r\n      const response = await api.get(`/api/branches/${branchId}/games`);\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Branch Games', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== DASHBOARD STATISTICS ====================\r\n  \r\n  getDashboardStats: async () => {\r\n    try {\r\n      const response = await api.get('/api/dashboard/stats');\r\n      return response.data;\r\n    } catch (error) {\r\n      authService.logError('Get Dashboard Stats', error);\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\r\n        data: { summary: {} }\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== USERS MANAGEMENT ====================\r\n  \r\n  getUsers: async () => {\r\n    try {\r\n      const response = await api.get('/api/users');\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createUser: async (userData) => {\r\n    try {\r\n      const response = await api.post('/api/users', userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  updateUser: async (id, userData) => {\r\n    try {\r\n      const response = await api.put(`/api/users/${id}`, userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteUser: async (id, permanent = false) => {\r\n    try {\r\n      const url = `/api/users/${id}${permanent ? '?permanent=true' : ''}`;\r\n      const response = await api.delete(url);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== PROFILE MANAGEMENT ====================\r\n  \r\n  updateProfile: async (profileData) => {\r\n    try {\r\n      const response = await api.put('/api/auth/update-profile', profileData);\r\n      \r\n      if (response.data.success && response.data.user) {\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      }\r\n      \r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\r\n      };\r\n    }\r\n  },\r\n\r\n  changePassword: async (passwordData) => {\r\n    try {\r\n      const response = await api.put('/api/auth/change-password', passwordData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== ACTIVITIES ====================\r\n  \r\n  getActivities: async (filters = {}) => {\r\n    try {\r\n      const response = await api.get('/api/activities', { params: filters });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== CUSTOMERS ====================\r\n  \r\n  getCustomers: async (search = '') => {\r\n    try {\r\n      const params = search ? { search } : {};\r\n      const response = await api.get('/api/customers', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createCustomer: async (customerData) => {\r\n    try {\r\n      const response = await api.post('/api/customers', customerData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== REPORTS ====================\r\n  \r\n  getSalesReport: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/api/reports/sales', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getAdvancedReport: async (reportType, params = {}) => {\r\n    try {\r\n      const response = await api.get(`/api/analytics/reports/${reportType}`, { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ±',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== HEALTH CHECK ====================\r\n  \r\n  healthCheck: async () => {\r\n    try {\r\n      const response = await api.get('/api/health');\r\n      return response.data;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== TESTING ====================\r\n  \r\n  testApiConnection: async () => {\r\n    try {\r\n      const response = await api.get('/api/health');\r\n      return {\r\n        success: response.data.success,\r\n        message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\r\n        data: response.data\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ==================== UTILITY FUNCTIONS ====================\r\n  \r\n  formatError: (error) => {\r\n    if (error.response) {\r\n      return error.response.data?.message || `Ø®Ø·Ø£ ${error.response.status}: ${error.response.statusText}`;\r\n    } else if (error.request) {\r\n      return 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…';\r\n    } else {\r\n      return error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';\r\n    }\r\n  },\r\n\r\n  hasRole: (role) => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role === role;\r\n  },\r\n\r\n  hasAnyRole: (roles) => {\r\n    const user = authService.getCurrentUser();\r\n    return roles.includes(user?.role);\r\n  },\r\n\r\n  // ==================== FORMATTING FUNCTIONS ====================\r\n  \r\n  formatCurrency: (amount) => {\r\n    const num = parseFloat(amount) || 0;\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0\r\n    }).format(num);\r\n  },\r\n\r\n  formatDuration: (minutes) => {\r\n    if (!minutes || minutes === 0) return 'ÙˆÙ‚Øª Ù…ÙØªÙˆØ­';\r\n    if (minutes < 60) return `${minutes} Ø¯Ù‚ÙŠÙ‚Ø©`;\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    const remainingMinutes = minutes % 60;\r\n    return `${hours} Ø³Ø§Ø¹Ø©${remainingMinutes > 0 ? ` ${remainingMinutes} Ø¯Ù‚ÙŠÙ‚Ø©` : ''}`;\r\n  },\r\n\r\n  formatDateTime: (dateString) => {\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString('ar-EG', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return '--/--/---- --:--';\r\n    }\r\n  },\r\n\r\n  // ==================== VALIDATION FUNCTIONS ====================\r\n  \r\n  validateCustomerPhone: (phone) => {\r\n    const phoneRegex = /^01[0-9]{9}$/;\r\n    return phoneRegex.test(phone);\r\n  },\r\n\r\n  validateEmail: (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  },\r\n\r\n  // ==================== CALCULATION FUNCTIONS ====================\r\n  \r\n  calculateRentalPrice: (game, durationMinutes, quantity = 1) => {\r\n    if (!game) return 0;\r\n    \r\n    let price = 0;\r\n    \r\n    if (durationMinutes >= 60) {\r\n      price = (game.price_per_hour || 0) * (durationMinutes / 60);\r\n    } else {\r\n      const quarters = Math.ceil(durationMinutes / 15);\r\n      price = (game.price_per_15min || 0) * quarters;\r\n    }\r\n    \r\n    return price * quantity;\r\n  },\r\n\r\n  calculateTotalPrice: (games, quantities, durationMinutes, discount = 0) => {\r\n    let total = 0;\r\n    \r\n    games.forEach(game => {\r\n      const quantity = quantities[game.id] || 1;\r\n      total += authService.calculateRentalPrice(game, durationMinutes, quantity);\r\n    });\r\n    \r\n    return total * (1 - discount / 100);\r\n  },\r\n\r\n  // ==================== NOTIFICATION FUNCTIONS ====================\r\n  \r\n  showNotification: (type, message) => {\r\n    const messages = {\r\n      error: `âŒ ${message}`,\r\n      success: `âœ… ${message}`,\r\n      warning: `âš ï¸ ${message}`,\r\n      info: `â„¹ï¸ ${message}`\r\n    };\r\n    \r\n    // ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ù‡Ø°Ø§ Ø¨Ù€ toast library\r\n    alert(messages[type] || message);\r\n  }\r\n};\r\n\r\n// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆÙƒÙ† Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù\r\nauthService.setupToken();\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}