{"ast":null,"code":"// frontend/src/services/authService.js\nclass AuthService {\n  constructor() {\n    this.login = async (email, password) => {\n      try {\n        // بيانات اختبارية\n        const testUsers = {\n          'admin@l3bty.com': {\n            id: 1,\n            name: 'المدير العام',\n            role: 'admin',\n            branch_id: 1,\n            branch_name: 'الفرع الرئيسي'\n          },\n          'manager1@l3bty.com': {\n            id: 2,\n            name: 'أحمد محمد',\n            role: 'branch_manager',\n            branch_id: 1,\n            branch_name: 'غازي مول'\n          },\n          'employee1@l3bty.com': {\n            id: 3,\n            name: 'محمد أحمد',\n            role: 'employee',\n            branch_id: 1,\n            branch_name: 'غازي مول'\n          }\n        };\n\n        // اختبار كلمة المرور\n        if (password !== '123456') {\n          return {\n            success: false,\n            error: 'كلمة المرور غير صحيحة'\n          };\n        }\n        const user = testUsers[email];\n        if (!user) {\n          return {\n            success: false,\n            error: 'البريد الإلكتروني غير موجود'\n          };\n        }\n        const token = 'test-token-' + Date.now();\n        return {\n          success: true,\n          token,\n          user\n        };\n      } catch (error) {\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    };\n    this.logout = () => {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      window.location.href = '/login';\n    };\n    this.getUser = () => {\n      const userStr = localStorage.getItem('user');\n      if (userStr) {\n        try {\n          return JSON.parse(userStr);\n        } catch (e) {\n          return null;\n        }\n      }\n      return null;\n    };\n    this.isAuthenticated = () => {\n      return !!localStorage.getItem('token');\n    };\n    this.getToken = () => {\n      return localStorage.getItem('token');\n    };\n    this.updateUser = userData => {\n      localStorage.setItem('user', JSON.stringify(userData));\n    };\n    this.createBranch = async branchData => {\n      return {\n        success: true,\n        message: 'تم إنشاء الفرع بنجاح (وضع الاختبار)',\n        data: {\n          id: Date.now(),\n          ...branchData\n        }\n      };\n    };\n    this.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  }\n}\nconst authService = new AuthService();\nexport default authService;","map":{"version":3,"names":["AuthService","constructor","login","email","password","testUsers","id","name","role","branch_id","branch_name","success","error","user","token","Date","now","message","logout","localStorage","removeItem","window","location","href","getUser","userStr","getItem","JSON","parse","e","isAuthenticated","getToken","updateUser","userData","setItem","stringify","createBranch","branchData","data","baseURL","process","env","REACT_APP_API_URL","authService"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["// frontend/src/services/authService.js\r\nclass AuthService {\r\n  constructor() {\r\n    this.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n  }\r\n\r\n  login = async (email, password) => {\r\n    try {\r\n      // بيانات اختبارية\r\n      const testUsers = {\r\n        'admin@l3bty.com': {\r\n          id: 1,\r\n          name: 'المدير العام',\r\n          role: 'admin',\r\n          branch_id: 1,\r\n          branch_name: 'الفرع الرئيسي'\r\n        },\r\n        'manager1@l3bty.com': {\r\n          id: 2,\r\n          name: 'أحمد محمد',\r\n          role: 'branch_manager',\r\n          branch_id: 1,\r\n          branch_name: 'غازي مول'\r\n        },\r\n        'employee1@l3bty.com': {\r\n          id: 3,\r\n          name: 'محمد أحمد',\r\n          role: 'employee',\r\n          branch_id: 1,\r\n          branch_name: 'غازي مول'\r\n        }\r\n      };\r\n\r\n      // اختبار كلمة المرور\r\n      if (password !== '123456') {\r\n        return { success: false, error: 'كلمة المرور غير صحيحة' };\r\n      }\r\n\r\n      const user = testUsers[email];\r\n      if (!user) {\r\n        return { success: false, error: 'البريد الإلكتروني غير موجود' };\r\n      }\r\n\r\n      const token = 'test-token-' + Date.now();\r\n      \r\n      return {\r\n        success: true,\r\n        token,\r\n        user\r\n      };\r\n\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  };\r\n\r\n  logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  getUser = () => {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      try {\r\n        return JSON.parse(userStr);\r\n      } catch (e) {\r\n        return null;\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  isAuthenticated = () => {\r\n    return !!localStorage.getItem('token');\r\n  };\r\n\r\n  getToken = () => {\r\n    return localStorage.getItem('token');\r\n  };\r\n\r\n  updateUser = (userData) => {\r\n    localStorage.setItem('user', JSON.stringify(userData));\r\n  };\r\n\r\n  createBranch = async (branchData) => {\r\n    return { \r\n      success: true, \r\n      message: 'تم إنشاء الفرع بنجاح (وضع الاختبار)',\r\n      data: { id: Date.now(), ...branchData }\r\n    };\r\n  };\r\n}\r\n\r\nconst authService = new AuthService();\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}