{"ast":null,"code":"// src/services/authService.js - النسخة النظيفة\nimport api from './api';\nconst authService = {\n  // ================= AUTHENTICATION =================\n\n  login: async (email, password) => {\n    try {\n      const response = await api.login(email, password);\n      return response.success ? {\n        success: true,\n        data: response.data,\n        message: 'تم تسجيل الدخول بنجاح'\n      } : {\n        success: false,\n        message: response.message || 'فشل تسجيل الدخول'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر الاتصال بالخادم. تأكد من تشغيل الخادم على المنفذ 5000'\n      };\n    }\n  },\n  logout: () => {\n    api.logout();\n  },\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n      return null;\n    }\n  },\n  getToken: () => {\n    const token = localStorage.getItem('token');\n    return token ? token.trim() : null;\n  },\n  isAuthenticated: () => {\n    const token = authService.getToken();\n    const user = authService.getCurrentUser();\n    return !!(token && user);\n  },\n  // ================= PROFILE MANAGEMENT =================\n\n  updateProfile: async profileData => {\n    try {\n      const response = await api.updateProfile(profileData);\n      if (response.success && response.user) {\n        localStorage.setItem('user', JSON.stringify(response.user));\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر تحديث الملف الشخصي'\n      };\n    }\n  },\n  changePassword: async passwordData => {\n    try {\n      return await api.changePassword(passwordData);\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر تغيير كلمة المرور'\n      };\n    }\n  },\n  // ================= BRANCHES MANAGEMENT =================\n\n  getBranches: async () => {\n    try {\n      return await api.get('/branches');\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الفروع',\n        data: []\n      };\n    }\n  },\n  createBranch: async branchData => {\n    try {\n      return await api.post('/branches', branchData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إنشاء الفرع'\n      };\n    }\n  },\n  updateBranch: async (id, branchData) => {\n    try {\n      return await api.put(`/branches/${id}`, branchData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحديث الفرع'\n      };\n    }\n  },\n  deleteBranch: async id => {\n    try {\n      return await api.delete(`/branches/${id}`);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر حذف الفرع'\n      };\n    }\n  },\n  // ================= GAMES MANAGEMENT =================\n\n  // في src/services/authService.js - تحديث دالة getGames\n  getGames: async (params = {}) => {\n    try {\n      const token = authService.getToken();\n      if (!token) {\n        return {\n          success: false,\n          message: 'يجب تسجيل الدخول أولاً',\n          data: []\n        };\n      }\n      const response = await api.get('/games', {\n        params,\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر تحميل الألعاب',\n        data: []\n      };\n    }\n  },\n  createGame: async gameData => {\n    try {\n      // إزالة الحقول غير المستخدمة\n      const {\n        max_speed: _,\n        ...cleanGameData\n      } = gameData; // تسمية max_speed بـ _ للإشارة أنها غير مستخدمة\n\n      return await api.post('/games', cleanGameData);\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response3;\n      return {\n        success: false,\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'تعذر إنشاء اللعبة',\n        status: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status,\n        data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data\n      };\n    }\n  },\n  updateGame: async (id, gameData) => {\n    try {\n      return await api.put(`/games/${id}`, gameData);\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر تحديث اللعبة'\n      };\n    }\n  },\n  deleteGame: async id => {\n    try {\n      return await api.delete(`/games/${id}`);\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر حذف اللعبة'\n      };\n    }\n  },\n  // ================= USERS MANAGEMENT =================\n\n  getUsers: async () => {\n    try {\n      return await api.get('/users');\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل المستخدمين',\n        data: []\n      };\n    }\n  },\n  createUser: async userData => {\n    try {\n      return await api.post('/users', userData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إنشاء المستخدم'\n      };\n    }\n  },\n  updateUser: async (id, userData) => {\n    try {\n      return await api.put(`/users/${id}`, userData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحديث المستخدم'\n      };\n    }\n  },\n  deleteUser: async id => {\n    try {\n      return await api.delete(`/users/${id}`);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر حذف المستخدم'\n      };\n    }\n  },\n  // ================= DASHBOARD & ANALYTICS =================\n\n  getDashboardStats: async () => {\n    try {\n      return await api.get('/dashboard/stats');\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الإحصائيات',\n        data: {\n          summary: {}\n        }\n      };\n    }\n  },\n  // ================= CUSTOMERS =================\n\n  getCustomers: async (search = '') => {\n    try {\n      const params = search ? {\n        search\n      } : {};\n      return await api.get('/customers', {\n        params\n      });\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل العملاء',\n        data: []\n      };\n    }\n  },\n  createCustomer: async customerData => {\n    try {\n      return await api.post('/customers', customerData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إنشاء العميل'\n      };\n    }\n  },\n  // ================= RENTALS =================\n\n  getRentals: async (params = {}) => {\n    try {\n      return await api.get('/rentals', {\n        params\n      });\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل التأجيرات',\n        data: []\n      };\n    }\n  },\n  createRental: async rentalData => {\n    try {\n      return await api.post('/rentals', rentalData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إنشاء التأجير'\n      };\n    }\n  },\n  completeRental: async (id, paymentData = {}) => {\n    try {\n      return await api.put(`/rentals/${id}/complete`, paymentData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إكمال التأجير'\n      };\n    }\n  },\n  // ================= ACTIVITIES =================\n\n  getActivities: async (filters = {}) => {\n    try {\n      return await api.get('/activities', {\n        params: filters\n      });\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل سجل الأنشطة',\n        data: []\n      };\n    }\n  },\n  // ================= HEALTH CHECK =================\n\n  healthCheck: async () => {\n    try {\n      return await api.get('/health');\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر الاتصال بالخادم'\n      };\n    }\n  },\n  // ================= BRANCH GAMES =================\n\n  getBranchGames: async branchId => {\n    try {\n      return await api.get(`/branches/${branchId}/games`);\n    } catch (error) {\n      return {\n        success: false,\n        message: error.message || 'تعذر تحميل ألعاب الفرع',\n        data: []\n      };\n    }\n  },\n  addGameToBranch: async (branchId, gameData) => {\n    try {\n      return await api.post(`/branches/${branchId}/games`, gameData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إضافة لعبة للفرع'\n      };\n    }\n  },\n  // ================= TESTING =================\n\n  testApiConnection: async () => {\n    try {\n      const response = await api.get('/health');\n      return {\n        success: response.success,\n        message: '✅ اتصال API يعمل بشكل صحيح',\n        data: response.data\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: '❌ فشل اختبار الاتصال بالخادم'\n      };\n    }\n  },\n  // ================= UTILITY FUNCTIONS =================\n\n  formatError: error => {\n    if (error.response) {\n      var _error$response$data2;\n      return ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.message) || `خطأ ${error.response.status}: ${error.response.statusText}`;\n    } else if (error.request) {\n      return 'تعذر الاتصال بالخادم. تأكد من تشغيل الخادم';\n    } else {\n      return error.message || 'حدث خطأ غير معروف';\n    }\n  },\n  // التحقق من الدور\n  hasRole: role => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) === role;\n  },\n  hasAnyRole: roles => {\n    const user = authService.getCurrentUser();\n    return roles.includes(user === null || user === void 0 ? void 0 : user.role);\n  },\n  // ================= ADVANCED ANALYTICS =================\n\n  getMonthlyStats: async (month, year) => {\n    try {\n      return await api.getMonthlyStats(month, year);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الإحصائيات الشهرية',\n        data: {}\n      };\n    }\n  },\n  getTopGames: async (params = {}) => {\n    try {\n      return await api.getTopGames(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل أفضل الألعاب',\n        data: []\n      };\n    }\n  },\n  getBranchPerformance: async (params = {}) => {\n    try {\n      return await api.getBranchPerformance(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل أداء الفروع',\n        data: []\n      };\n    }\n  },\n  getRevenueTrend: async (params = {}) => {\n    try {\n      return await api.getRevenueTrend(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل اتجاه الإيرادات',\n        data: []\n      };\n    }\n  },\n  getAdvancedReport: async (reportType, params = {}) => {\n    try {\n      return await api.getAdvancedReport(reportType, params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل التقرير',\n        data: []\n      };\n    }\n  },\n  getSalesReport: async (params = {}) => {\n    try {\n      return await api.getSalesReport(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل تقرير المبيعات',\n        data: []\n      };\n    }\n  },\n  // ================= AVAILABLE & RENTED GAMES =================\n\n  getAvailableGames: async (params = {}) => {\n    try {\n      return await api.getAvailableGames(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الألعاب المتاحة',\n        data: []\n      };\n    }\n  },\n  getRentedGames: async (params = {}) => {\n    try {\n      return await api.getRentedGames(params);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الألعاب المؤجرة',\n        data: []\n      };\n    }\n  },\n  // ================= PERMANENT DELETION =================\n\n  deleteBranchPermanent: async id => {\n    try {\n      return await api.deleteBranchPermanent(id);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر حذف الفرع نهائياً'\n      };\n    }\n  },\n  deleteGamePermanent: async id => {\n    try {\n      return await api.deleteGamePermanent(id);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر حذف اللعبة نهائياً'\n      };\n    }\n  },\n  deleteUserPermanent: async id => {\n    try {\n      return await api.deleteUserPermanent(id);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر حذف المستخدم نهائياً'\n      };\n    }\n  },\n  // ================= DEBUG & TESTING =================\n\n  testToken: async () => {\n    try {\n      return await api.testToken();\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر اختبار التوكن',\n        error: error.message\n      };\n    }\n  },\n  // ================= UPDATE BRANCH GAME =================\n\n  updateBranchGame: async (branchId, gameId, updateData) => {\n    try {\n      return await api.updateBranchGame(branchId, gameId, updateData);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحديث لعبة الفرع'\n      };\n    }\n  },\n  // ================= DELETE BRANCH GAME =================\n\n  deleteBranchGame: async (branchId, gameId) => {\n    try {\n      return await api.deleteBranchGame(branchId, gameId);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر إزالة لعبة من الفرع'\n      };\n    }\n  },\n  // ================= GET AVAILABLE GAMES FOR BRANCH =================\n\n  getAvailableGamesForBranch: async branchId => {\n    try {\n      const [allGames, branchGames] = await Promise.all([authService.getGames(), authService.getBranchGames(branchId)]);\n      if (allGames.success && branchGames.success) {\n        const addedGameIds = branchGames.data.map(g => g.game_id || g.id);\n        const availableGames = allGames.data.filter(game => !addedGameIds.includes(game.id));\n        return {\n          success: true,\n          data: availableGames\n        };\n      }\n      return {\n        success: false,\n        message: 'فشل في جلب الألعاب المتاحة'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        message: 'فشل في جلب الألعاب المتاحة'\n      };\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","response","success","data","message","error","logout","getCurrentUser","userStr","localStorage","getItem","JSON","parse","getToken","token","trim","isAuthenticated","user","updateProfile","profileData","setItem","stringify","changePassword","passwordData","getBranches","get","createBranch","branchData","post","updateBranch","id","put","deleteBranch","delete","getGames","params","headers","createGame","gameData","max_speed","_","cleanGameData","_error$response","_error$response$data","_error$response2","_error$response3","status","updateGame","deleteGame","getUsers","createUser","userData","updateUser","deleteUser","getDashboardStats","summary","getCustomers","search","createCustomer","customerData","getRentals","createRental","rentalData","completeRental","paymentData","getActivities","filters","healthCheck","getBranchGames","branchId","addGameToBranch","testApiConnection","formatError","_error$response$data2","statusText","request","hasRole","role","hasAnyRole","roles","includes","getMonthlyStats","month","year","getTopGames","getBranchPerformance","getRevenueTrend","getAdvancedReport","reportType","getSalesReport","getAvailableGames","getRentedGames","deleteBranchPermanent","deleteGamePermanent","deleteUserPermanent","testToken","updateBranchGame","gameId","updateData","deleteBranchGame","getAvailableGamesForBranch","allGames","branchGames","Promise","all","addedGameIds","map","g","game_id","availableGames","filter","game"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["// src/services/authService.js - النسخة النظيفة\r\nimport api from './api';\r\n\r\nconst authService = {\r\n  // ================= AUTHENTICATION =================\r\n  \r\n  login: async (email, password) => {\r\n    try {\r\n      const response = await api.login(email, password);\r\n      \r\n      return response.success ? {\r\n        success: true,\r\n        data: response.data,\r\n        message: 'تم تسجيل الدخول بنجاح'\r\n      } : {\r\n        success: false,\r\n        message: response.message || 'فشل تسجيل الدخول'\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر الاتصال بالخادم. تأكد من تشغيل الخادم على المنفذ 5000'\r\n      };\r\n    }\r\n  },\r\n\r\n  logout: () => {\r\n    api.logout();\r\n  },\r\n\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      return userStr ? JSON.parse(userStr) : null;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n  getToken: () => {\r\n    const token = localStorage.getItem('token');\r\n    return token ? token.trim() : null;\r\n  },\r\n\r\n  isAuthenticated: () => {\r\n    const token = authService.getToken();\r\n    const user = authService.getCurrentUser();\r\n    return !!(token && user);\r\n  },\r\n\r\n  // ================= PROFILE MANAGEMENT =================\r\n  \r\n  updateProfile: async (profileData) => {\r\n    try {\r\n      const response = await api.updateProfile(profileData);\r\n      \r\n      if (response.success && response.user) {\r\n        localStorage.setItem('user', JSON.stringify(response.user));\r\n      }\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message || 'تعذر تحديث الملف الشخصي'\r\n      };\r\n    }\r\n  },\r\n\r\n  changePassword: async (passwordData) => {\r\n    try {\r\n      return await api.changePassword(passwordData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message || 'تعذر تغيير كلمة المرور'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= BRANCHES MANAGEMENT =================\r\n  \r\n  getBranches: async () => {\r\n    try {\r\n      return await api.get('/branches');\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الفروع',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createBranch: async (branchData) => {\r\n    try {\r\n      return await api.post('/branches', branchData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إنشاء الفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  updateBranch: async (id, branchData) => {\r\n    try {\r\n      return await api.put(`/branches/${id}`, branchData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحديث الفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteBranch: async (id) => {\r\n    try {\r\n      return await api.delete(`/branches/${id}`);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر حذف الفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= GAMES MANAGEMENT =================\r\n  \r\n// في src/services/authService.js - تحديث دالة getGames\r\ngetGames: async (params = {}) => {\r\n  try {\r\n    const token = authService.getToken();\r\n    \r\n    if (!token) {\r\n      return {\r\n        success: false,\r\n        message: 'يجب تسجيل الدخول أولاً',\r\n        data: []\r\n      };\r\n    }\r\n\r\n    const response = await api.get('/games', { \r\n      params,\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: error.message || 'تعذر تحميل الألعاب',\r\n      data: []\r\n    };\r\n  }\r\n},\r\n\r\n  createGame: async (gameData) => {\r\n    try {\r\n      // إزالة الحقول غير المستخدمة\r\n      const { max_speed: _, ...cleanGameData } = gameData; // تسمية max_speed بـ _ للإشارة أنها غير مستخدمة\r\n      \r\n      return await api.post('/games', cleanGameData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || error.message || 'تعذر إنشاء اللعبة',\r\n        status: error.response?.status,\r\n        data: error.response?.data\r\n      };\r\n    }\r\n  },\r\n\r\n  updateGame: async (id, gameData) => {\r\n    try {\r\n      return await api.put(`/games/${id}`, gameData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message || 'تعذر تحديث اللعبة'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteGame: async (id) => {\r\n    try {\r\n      return await api.delete(`/games/${id}`);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message || 'تعذر حذف اللعبة'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= USERS MANAGEMENT =================\r\n  \r\n  getUsers: async () => {\r\n    try {\r\n      return await api.get('/users');\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل المستخدمين',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createUser: async (userData) => {\r\n    try {\r\n      return await api.post('/users', userData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إنشاء المستخدم'\r\n      };\r\n    }\r\n  },\r\n\r\n  updateUser: async (id, userData) => {\r\n    try {\r\n      return await api.put(`/users/${id}`, userData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحديث المستخدم'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteUser: async (id) => {\r\n    try {\r\n      return await api.delete(`/users/${id}`);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر حذف المستخدم'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= DASHBOARD & ANALYTICS =================\r\n  \r\n  getDashboardStats: async () => {\r\n    try {\r\n      return await api.get('/dashboard/stats');\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الإحصائيات',\r\n        data: { summary: {} }\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= CUSTOMERS =================\r\n  \r\n  getCustomers: async (search = '') => {\r\n    try {\r\n      const params = search ? { search } : {};\r\n      return await api.get('/customers', { params });\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل العملاء',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createCustomer: async (customerData) => {\r\n    try {\r\n      return await api.post('/customers', customerData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إنشاء العميل'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= RENTALS =================\r\n  \r\n  getRentals: async (params = {}) => {\r\n    try {\r\n      return await api.get('/rentals', { params });\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل التأجيرات',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  createRental: async (rentalData) => {\r\n    try {\r\n      return await api.post('/rentals', rentalData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إنشاء التأجير'\r\n      };\r\n    }\r\n  },\r\n\r\n  completeRental: async (id, paymentData = {}) => {\r\n    try {\r\n      return await api.put(`/rentals/${id}/complete`, paymentData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إكمال التأجير'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= ACTIVITIES =================\r\n  \r\n  getActivities: async (filters = {}) => {\r\n    try {\r\n      return await api.get('/activities', { params: filters });\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل سجل الأنشطة',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= HEALTH CHECK =================\r\n  \r\n  healthCheck: async () => {\r\n    try {\r\n      return await api.get('/health');\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر الاتصال بالخادم'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= BRANCH GAMES =================\r\n  \r\n  getBranchGames: async (branchId) => {\r\n    try {\r\n      return await api.get(`/branches/${branchId}/games`);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: error.message || 'تعذر تحميل ألعاب الفرع',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  addGameToBranch: async (branchId, gameData) => {\r\n    try {\r\n      return await api.post(`/branches/${branchId}/games`, gameData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إضافة لعبة للفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= TESTING =================\r\n  \r\n  testApiConnection: async () => {\r\n    try {\r\n      const response = await api.get('/health');\r\n      return {\r\n        success: response.success,\r\n        message: '✅ اتصال API يعمل بشكل صحيح',\r\n        data: response.data\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: '❌ فشل اختبار الاتصال بالخادم'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= UTILITY FUNCTIONS =================\r\n  \r\n  formatError: (error) => {\r\n    if (error.response) {\r\n      return error.response.data?.message || `خطأ ${error.response.status}: ${error.response.statusText}`;\r\n    } else if (error.request) {\r\n      return 'تعذر الاتصال بالخادم. تأكد من تشغيل الخادم';\r\n    } else {\r\n      return error.message || 'حدث خطأ غير معروف';\r\n    }\r\n  },\r\n\r\n  // التحقق من الدور\r\n  hasRole: (role) => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role === role;\r\n  },\r\n\r\n  hasAnyRole: (roles) => {\r\n    const user = authService.getCurrentUser();\r\n    return roles.includes(user?.role);\r\n  },\r\n\r\n  // ================= ADVANCED ANALYTICS =================\r\n  \r\n  getMonthlyStats: async (month, year) => {\r\n    try {\r\n      return await api.getMonthlyStats(month, year);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الإحصائيات الشهرية',\r\n        data: {}\r\n      };\r\n    }\r\n  },\r\n\r\n  getTopGames: async (params = {}) => {\r\n    try {\r\n      return await api.getTopGames(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل أفضل الألعاب',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getBranchPerformance: async (params = {}) => {\r\n    try {\r\n      return await api.getBranchPerformance(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل أداء الفروع',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getRevenueTrend: async (params = {}) => {\r\n    try {\r\n      return await api.getRevenueTrend(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل اتجاه الإيرادات',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getAdvancedReport: async (reportType, params = {}) => {\r\n    try {\r\n      return await api.getAdvancedReport(reportType, params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل التقرير',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getSalesReport: async (params = {}) => {\r\n    try {\r\n      return await api.getSalesReport(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل تقرير المبيعات',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= AVAILABLE & RENTED GAMES =================\r\n  \r\n  getAvailableGames: async (params = {}) => {\r\n    try {\r\n      return await api.getAvailableGames(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الألعاب المتاحة',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getRentedGames: async (params = {}) => {\r\n    try {\r\n      return await api.getRentedGames(params);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الألعاب المؤجرة',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= PERMANENT DELETION =================\r\n  \r\n  deleteBranchPermanent: async (id) => {\r\n    try {\r\n      return await api.deleteBranchPermanent(id);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر حذف الفرع نهائياً'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteGamePermanent: async (id) => {\r\n    try {\r\n      return await api.deleteGamePermanent(id);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر حذف اللعبة نهائياً'\r\n      };\r\n    }\r\n  },\r\n\r\n  deleteUserPermanent: async (id) => {\r\n    try {\r\n      return await api.deleteUserPermanent(id);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر حذف المستخدم نهائياً'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= DEBUG & TESTING =================\r\n  \r\n  testToken: async () => {\r\n    try {\r\n      return await api.testToken();\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر اختبار التوكن',\r\n        error: error.message\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= UPDATE BRANCH GAME =================\r\n  \r\n  updateBranchGame: async (branchId, gameId, updateData) => {\r\n    try {\r\n      return await api.updateBranchGame(branchId, gameId, updateData);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحديث لعبة الفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= DELETE BRANCH GAME =================\r\n  \r\n  deleteBranchGame: async (branchId, gameId) => {\r\n    try {\r\n      return await api.deleteBranchGame(branchId, gameId);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر إزالة لعبة من الفرع'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= GET AVAILABLE GAMES FOR BRANCH =================\r\n  \r\n  getAvailableGamesForBranch: async (branchId) => {\r\n    try {\r\n      const [allGames, branchGames] = await Promise.all([\r\n        authService.getGames(),\r\n        authService.getBranchGames(branchId)\r\n      ]);\r\n      \r\n      if (allGames.success && branchGames.success) {\r\n        const addedGameIds = branchGames.data.map(g => g.game_id || g.id);\r\n        const availableGames = allGames.data.filter(game => !addedGameIds.includes(game.id));\r\n        \r\n        return { \r\n          success: true, \r\n          data: availableGames \r\n        };\r\n      }\r\n      return { success: false, message: 'فشل في جلب الألعاب المتاحة' };\r\n    } catch (error) {\r\n      return { success: false, message: 'فشل في جلب الألعاب المتاحة' };\r\n    }\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,GAAG;EAClB;;EAEAC,KAAK,EAAE,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACE,KAAK,CAACC,KAAK,EAAEC,QAAQ,CAAC;MAEjD,OAAOC,QAAQ,CAACC,OAAO,GAAG;QACxBA,OAAO,EAAE,IAAI;QACbC,IAAI,EAAEF,QAAQ,CAACE,IAAI;QACnBC,OAAO,EAAE;MACX,CAAC,GAAG;QACFF,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEH,QAAQ,CAACG,OAAO,IAAI;MAC/B,CAAC;IACH,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAEDE,MAAM,EAAEA,CAAA,KAAM;IACZV,GAAG,CAACU,MAAM,CAAC,CAAC;EACd,CAAC;EAEDC,cAAc,EAAEA,CAAA,KAAM;IACpB,IAAI;MACF,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC5C,OAAOF,OAAO,GAAGG,IAAI,CAACC,KAAK,CAACJ,OAAO,CAAC,GAAG,IAAI;IAC7C,CAAC,CAAC,OAAOH,KAAK,EAAE;MACd,OAAO,IAAI;IACb;EACF,CAAC;EAEDQ,QAAQ,EAAEA,CAAA,KAAM;IACd,MAAMC,KAAK,GAAGL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,OAAOI,KAAK,GAAGA,KAAK,CAACC,IAAI,CAAC,CAAC,GAAG,IAAI;EACpC,CAAC;EAEDC,eAAe,EAAEA,CAAA,KAAM;IACrB,MAAMF,KAAK,GAAGjB,WAAW,CAACgB,QAAQ,CAAC,CAAC;IACpC,MAAMI,IAAI,GAAGpB,WAAW,CAACU,cAAc,CAAC,CAAC;IACzC,OAAO,CAAC,EAAEO,KAAK,IAAIG,IAAI,CAAC;EAC1B,CAAC;EAED;;EAEAC,aAAa,EAAE,MAAOC,WAAW,IAAK;IACpC,IAAI;MACF,MAAMlB,QAAQ,GAAG,MAAML,GAAG,CAACsB,aAAa,CAACC,WAAW,CAAC;MAErD,IAAIlB,QAAQ,CAACC,OAAO,IAAID,QAAQ,CAACgB,IAAI,EAAE;QACrCR,YAAY,CAACW,OAAO,CAAC,MAAM,EAAET,IAAI,CAACU,SAAS,CAACpB,QAAQ,CAACgB,IAAI,CAAC,CAAC;MAC7D;MAEA,OAAOhB,QAAQ;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI;MAC5B,CAAC;IACH;EACF,CAAC;EAEDkB,cAAc,EAAE,MAAOC,YAAY,IAAK;IACtC,IAAI;MACF,OAAO,MAAM3B,GAAG,CAAC0B,cAAc,CAACC,YAAY,CAAC;IAC/C,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI;MAC5B,CAAC;IACH;EACF,CAAC;EAED;;EAEAoB,WAAW,EAAE,MAAAA,CAAA,KAAY;IACvB,IAAI;MACF,OAAO,MAAM5B,GAAG,CAAC6B,GAAG,CAAC,WAAW,CAAC;IACnC,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,mBAAmB;QAC5BD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDuB,YAAY,EAAE,MAAOC,UAAU,IAAK;IAClC,IAAI;MACF,OAAO,MAAM/B,GAAG,CAACgC,IAAI,CAAC,WAAW,EAAED,UAAU,CAAC;IAChD,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAEDyB,YAAY,EAAE,MAAAA,CAAOC,EAAE,EAAEH,UAAU,KAAK;IACtC,IAAI;MACF,OAAO,MAAM/B,GAAG,CAACmC,GAAG,CAAC,aAAaD,EAAE,EAAE,EAAEH,UAAU,CAAC;IACrD,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED4B,YAAY,EAAE,MAAOF,EAAE,IAAK;IAC1B,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACqC,MAAM,CAAC,aAAaH,EAAE,EAAE,CAAC;IAC5C,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEF;EACA8B,QAAQ,EAAE,MAAAA,CAAOC,MAAM,GAAG,CAAC,CAAC,KAAK;IAC/B,IAAI;MACF,MAAMrB,KAAK,GAAGjB,WAAW,CAACgB,QAAQ,CAAC,CAAC;MAEpC,IAAI,CAACC,KAAK,EAAE;QACV,OAAO;UACLZ,OAAO,EAAE,KAAK;UACdE,OAAO,EAAE,wBAAwB;UACjCD,IAAI,EAAE;QACR,CAAC;MACH;MAEA,MAAMF,QAAQ,GAAG,MAAML,GAAG,CAAC6B,GAAG,CAAC,QAAQ,EAAE;QACvCU,MAAM;QACNC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUtB,KAAK;QAClC;MACF,CAAC,CAAC;MACF,OAAOb,QAAQ;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI,oBAAoB;QAC9CD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAECkC,UAAU,EAAE,MAAOC,QAAQ,IAAK;IAC9B,IAAI;MACF;MACA,MAAM;QAAEC,SAAS,EAAEC,CAAC;QAAE,GAAGC;MAAc,CAAC,GAAGH,QAAQ,CAAC,CAAC;;MAErD,OAAO,MAAM1C,GAAG,CAACgC,IAAI,CAAC,QAAQ,EAAEa,aAAa,CAAC;IAChD,CAAC,CAAC,OAAOpC,KAAK,EAAE;MAAA,IAAAqC,eAAA,EAAAC,oBAAA,EAAAC,gBAAA,EAAAC,gBAAA;MACd,OAAO;QACL3C,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,EAAAsC,eAAA,GAAArC,KAAK,CAACJ,QAAQ,cAAAyC,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBvC,IAAI,cAAAwC,oBAAA,uBAApBA,oBAAA,CAAsBvC,OAAO,KAAIC,KAAK,CAACD,OAAO,IAAI,mBAAmB;QAC9E0C,MAAM,GAAAF,gBAAA,GAAEvC,KAAK,CAACJ,QAAQ,cAAA2C,gBAAA,uBAAdA,gBAAA,CAAgBE,MAAM;QAC9B3C,IAAI,GAAA0C,gBAAA,GAAExC,KAAK,CAACJ,QAAQ,cAAA4C,gBAAA,uBAAdA,gBAAA,CAAgB1C;MACxB,CAAC;IACH;EACF,CAAC;EAED4C,UAAU,EAAE,MAAAA,CAAOjB,EAAE,EAAEQ,QAAQ,KAAK;IAClC,IAAI;MACF,OAAO,MAAM1C,GAAG,CAACmC,GAAG,CAAC,UAAUD,EAAE,EAAE,EAAEQ,QAAQ,CAAC;IAChD,CAAC,CAAC,OAAOjC,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI;MAC5B,CAAC;IACH;EACF,CAAC;EAED4C,UAAU,EAAE,MAAOlB,EAAE,IAAK;IACxB,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACqC,MAAM,CAAC,UAAUH,EAAE,EAAE,CAAC;IACzC,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI;MAC5B,CAAC;IACH;EACF,CAAC;EAED;;EAEA6C,QAAQ,EAAE,MAAAA,CAAA,KAAY;IACpB,IAAI;MACF,OAAO,MAAMrD,GAAG,CAAC6B,GAAG,CAAC,QAAQ,CAAC;IAChC,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,uBAAuB;QAChCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAED+C,UAAU,EAAE,MAAOC,QAAQ,IAAK;IAC9B,IAAI;MACF,OAAO,MAAMvD,GAAG,CAACgC,IAAI,CAAC,QAAQ,EAAEuB,QAAQ,CAAC;IAC3C,CAAC,CAAC,OAAO9C,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAEDgD,UAAU,EAAE,MAAAA,CAAOtB,EAAE,EAAEqB,QAAQ,KAAK;IAClC,IAAI;MACF,OAAO,MAAMvD,GAAG,CAACmC,GAAG,CAAC,UAAUD,EAAE,EAAE,EAAEqB,QAAQ,CAAC;IAChD,CAAC,CAAC,OAAO9C,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAEDiD,UAAU,EAAE,MAAOvB,EAAE,IAAK;IACxB,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACqC,MAAM,CAAC,UAAUH,EAAE,EAAE,CAAC;IACzC,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAkD,iBAAiB,EAAE,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,OAAO,MAAM1D,GAAG,CAAC6B,GAAG,CAAC,kBAAkB,CAAC;IAC1C,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,uBAAuB;QAChCD,IAAI,EAAE;UAAEoD,OAAO,EAAE,CAAC;QAAE;MACtB,CAAC;IACH;EACF,CAAC;EAED;;EAEAC,YAAY,EAAE,MAAAA,CAAOC,MAAM,GAAG,EAAE,KAAK;IACnC,IAAI;MACF,MAAMtB,MAAM,GAAGsB,MAAM,GAAG;QAAEA;MAAO,CAAC,GAAG,CAAC,CAAC;MACvC,OAAO,MAAM7D,GAAG,CAAC6B,GAAG,CAAC,YAAY,EAAE;QAAEU;MAAO,CAAC,CAAC;IAChD,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,oBAAoB;QAC7BD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDuD,cAAc,EAAE,MAAOC,YAAY,IAAK;IACtC,IAAI;MACF,OAAO,MAAM/D,GAAG,CAACgC,IAAI,CAAC,YAAY,EAAE+B,YAAY,CAAC;IACnD,CAAC,CAAC,OAAOtD,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAwD,UAAU,EAAE,MAAAA,CAAOzB,MAAM,GAAG,CAAC,CAAC,KAAK;IACjC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC6B,GAAG,CAAC,UAAU,EAAE;QAAEU;MAAO,CAAC,CAAC;IAC9C,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,sBAAsB;QAC/BD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAED0D,YAAY,EAAE,MAAOC,UAAU,IAAK;IAClC,IAAI;MACF,OAAO,MAAMlE,GAAG,CAACgC,IAAI,CAAC,UAAU,EAAEkC,UAAU,CAAC;IAC/C,CAAC,CAAC,OAAOzD,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED2D,cAAc,EAAE,MAAAA,CAAOjC,EAAE,EAAEkC,WAAW,GAAG,CAAC,CAAC,KAAK;IAC9C,IAAI;MACF,OAAO,MAAMpE,GAAG,CAACmC,GAAG,CAAC,YAAYD,EAAE,WAAW,EAAEkC,WAAW,CAAC;IAC9D,CAAC,CAAC,OAAO3D,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEA6D,aAAa,EAAE,MAAAA,CAAOC,OAAO,GAAG,CAAC,CAAC,KAAK;IACrC,IAAI;MACF,OAAO,MAAMtE,GAAG,CAAC6B,GAAG,CAAC,aAAa,EAAE;QAAEU,MAAM,EAAE+B;MAAQ,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAO7D,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,wBAAwB;QACjCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAED;;EAEAgE,WAAW,EAAE,MAAAA,CAAA,KAAY;IACvB,IAAI;MACF,OAAO,MAAMvE,GAAG,CAAC6B,GAAG,CAAC,SAAS,CAAC;IACjC,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAgE,cAAc,EAAE,MAAOC,QAAQ,IAAK;IAClC,IAAI;MACF,OAAO,MAAMzE,GAAG,CAAC6B,GAAG,CAAC,aAAa4C,QAAQ,QAAQ,CAAC;IACrD,CAAC,CAAC,OAAOhE,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAEC,KAAK,CAACD,OAAO,IAAI,wBAAwB;QAClDD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDmE,eAAe,EAAE,MAAAA,CAAOD,QAAQ,EAAE/B,QAAQ,KAAK;IAC7C,IAAI;MACF,OAAO,MAAM1C,GAAG,CAACgC,IAAI,CAAC,aAAayC,QAAQ,QAAQ,EAAE/B,QAAQ,CAAC;IAChE,CAAC,CAAC,OAAOjC,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAmE,iBAAiB,EAAE,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAMtE,QAAQ,GAAG,MAAML,GAAG,CAAC6B,GAAG,CAAC,SAAS,CAAC;MACzC,OAAO;QACLvB,OAAO,EAAED,QAAQ,CAACC,OAAO;QACzBE,OAAO,EAAE,4BAA4B;QACrCD,IAAI,EAAEF,QAAQ,CAACE;MACjB,CAAC;IACH,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAoE,WAAW,EAAGnE,KAAK,IAAK;IACtB,IAAIA,KAAK,CAACJ,QAAQ,EAAE;MAAA,IAAAwE,qBAAA;MAClB,OAAO,EAAAA,qBAAA,GAAApE,KAAK,CAACJ,QAAQ,CAACE,IAAI,cAAAsE,qBAAA,uBAAnBA,qBAAA,CAAqBrE,OAAO,KAAI,OAAOC,KAAK,CAACJ,QAAQ,CAAC6C,MAAM,KAAKzC,KAAK,CAACJ,QAAQ,CAACyE,UAAU,EAAE;IACrG,CAAC,MAAM,IAAIrE,KAAK,CAACsE,OAAO,EAAE;MACxB,OAAO,4CAA4C;IACrD,CAAC,MAAM;MACL,OAAOtE,KAAK,CAACD,OAAO,IAAI,mBAAmB;IAC7C;EACF,CAAC;EAED;EACAwE,OAAO,EAAGC,IAAI,IAAK;IACjB,MAAM5D,IAAI,GAAGpB,WAAW,CAACU,cAAc,CAAC,CAAC;IACzC,OAAO,CAAAU,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4D,IAAI,MAAKA,IAAI;EAC5B,CAAC;EAEDC,UAAU,EAAGC,KAAK,IAAK;IACrB,MAAM9D,IAAI,GAAGpB,WAAW,CAACU,cAAc,CAAC,CAAC;IACzC,OAAOwE,KAAK,CAACC,QAAQ,CAAC/D,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4D,IAAI,CAAC;EACnC,CAAC;EAED;;EAEAI,eAAe,EAAE,MAAAA,CAAOC,KAAK,EAAEC,IAAI,KAAK;IACtC,IAAI;MACF,OAAO,MAAMvF,GAAG,CAACqF,eAAe,CAACC,KAAK,EAAEC,IAAI,CAAC;IAC/C,CAAC,CAAC,OAAO9E,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,+BAA+B;QACxCD,IAAI,EAAE,CAAC;MACT,CAAC;IACH;EACF,CAAC;EAEDiF,WAAW,EAAE,MAAAA,CAAOjD,MAAM,GAAG,CAAC,CAAC,KAAK;IAClC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAACwF,WAAW,CAACjD,MAAM,CAAC;IACtC,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,yBAAyB;QAClCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDkF,oBAAoB,EAAE,MAAAA,CAAOlD,MAAM,GAAG,CAAC,CAAC,KAAK;IAC3C,IAAI;MACF,OAAO,MAAMvC,GAAG,CAACyF,oBAAoB,CAAClD,MAAM,CAAC;IAC/C,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,wBAAwB;QACjCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDmF,eAAe,EAAE,MAAAA,CAAOnD,MAAM,GAAG,CAAC,CAAC,KAAK;IACtC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC0F,eAAe,CAACnD,MAAM,CAAC;IAC1C,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,4BAA4B;QACrCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDoF,iBAAiB,EAAE,MAAAA,CAAOC,UAAU,EAAErD,MAAM,GAAG,CAAC,CAAC,KAAK;IACpD,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC2F,iBAAiB,CAACC,UAAU,EAAErD,MAAM,CAAC;IACxD,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,oBAAoB;QAC7BD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDsF,cAAc,EAAE,MAAAA,CAAOtD,MAAM,GAAG,CAAC,CAAC,KAAK;IACrC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC6F,cAAc,CAACtD,MAAM,CAAC;IACzC,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,2BAA2B;QACpCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAED;;EAEAuF,iBAAiB,EAAE,MAAAA,CAAOvD,MAAM,GAAG,CAAC,CAAC,KAAK;IACxC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC8F,iBAAiB,CAACvD,MAAM,CAAC;IAC5C,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,4BAA4B;QACrCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAEDwF,cAAc,EAAE,MAAAA,CAAOxD,MAAM,GAAG,CAAC,CAAC,KAAK;IACrC,IAAI;MACF,OAAO,MAAMvC,GAAG,CAAC+F,cAAc,CAACxD,MAAM,CAAC;IACzC,CAAC,CAAC,OAAO9B,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,4BAA4B;QACrCD,IAAI,EAAE;MACR,CAAC;IACH;EACF,CAAC;EAED;;EAEAyF,qBAAqB,EAAE,MAAO9D,EAAE,IAAK;IACnC,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACgG,qBAAqB,CAAC9D,EAAE,CAAC;IAC5C,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAEDyF,mBAAmB,EAAE,MAAO/D,EAAE,IAAK;IACjC,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACiG,mBAAmB,CAAC/D,EAAE,CAAC;IAC1C,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED0F,mBAAmB,EAAE,MAAOhE,EAAE,IAAK;IACjC,IAAI;MACF,OAAO,MAAMlC,GAAG,CAACkG,mBAAmB,CAAChE,EAAE,CAAC;IAC1C,CAAC,CAAC,OAAOzB,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEA2F,SAAS,EAAE,MAAAA,CAAA,KAAY;IACrB,IAAI;MACF,OAAO,MAAMnG,GAAG,CAACmG,SAAS,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAO1F,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,oBAAoB;QAC7BC,KAAK,EAAEA,KAAK,CAACD;MACf,CAAC;IACH;EACF,CAAC;EAED;;EAEA4F,gBAAgB,EAAE,MAAAA,CAAO3B,QAAQ,EAAE4B,MAAM,EAAEC,UAAU,KAAK;IACxD,IAAI;MACF,OAAO,MAAMtG,GAAG,CAACoG,gBAAgB,CAAC3B,QAAQ,EAAE4B,MAAM,EAAEC,UAAU,CAAC;IACjE,CAAC,CAAC,OAAO7F,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEA+F,gBAAgB,EAAE,MAAAA,CAAO9B,QAAQ,EAAE4B,MAAM,KAAK;IAC5C,IAAI;MACF,OAAO,MAAMrG,GAAG,CAACuG,gBAAgB,CAAC9B,QAAQ,EAAE4B,MAAM,CAAC;IACrD,CAAC,CAAC,OAAO5F,KAAK,EAAE;MACd,OAAO;QACLH,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE;MACX,CAAC;IACH;EACF,CAAC;EAED;;EAEAgG,0BAA0B,EAAE,MAAO/B,QAAQ,IAAK;IAC9C,IAAI;MACF,MAAM,CAACgC,QAAQ,EAAEC,WAAW,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChD3G,WAAW,CAACqC,QAAQ,CAAC,CAAC,EACtBrC,WAAW,CAACuE,cAAc,CAACC,QAAQ,CAAC,CACrC,CAAC;MAEF,IAAIgC,QAAQ,CAACnG,OAAO,IAAIoG,WAAW,CAACpG,OAAO,EAAE;QAC3C,MAAMuG,YAAY,GAAGH,WAAW,CAACnG,IAAI,CAACuG,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,IAAID,CAAC,CAAC7E,EAAE,CAAC;QACjE,MAAM+E,cAAc,GAAGR,QAAQ,CAAClG,IAAI,CAAC2G,MAAM,CAACC,IAAI,IAAI,CAACN,YAAY,CAACzB,QAAQ,CAAC+B,IAAI,CAACjF,EAAE,CAAC,CAAC;QAEpF,OAAO;UACL5B,OAAO,EAAE,IAAI;UACbC,IAAI,EAAE0G;QACR,CAAC;MACH;MACA,OAAO;QAAE3G,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAE;MAA6B,CAAC;IAClE,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,OAAO;QAAEH,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAE;MAA6B,CAAC;IAClE;EACF;AACF,CAAC;AAED,eAAeP,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}