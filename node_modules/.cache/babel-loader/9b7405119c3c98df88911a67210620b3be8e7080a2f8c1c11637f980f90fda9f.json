{"ast":null,"code":"// src/services/api.js\n\nimport axios from 'axios';\n\n// ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© ====================\nconst detectEnvironment = () => {\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\n  let apiUrl;\n  if (env === 'production') {\n    apiUrl = process.env.REACT_APP_API_URL;\n  } else {\n    apiUrl = 'http://localhost:5000/api';\n  }\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\n  return {\n    env,\n    apiUrl\n  };\n};\nconst {\n  apiUrl\n} = detectEnvironment();\nconst api = axios.create({\n  baseURL: apiUrl,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'ar'\n  }\n});\n\n// ==================== Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ====================\nconst generateRentalNumber = (prefix = 'RNT') => `${prefix}-${Date.now().toString().slice(-8)}-${Math.floor(Math.random() * 1000)}`;\nconst generateShiftNumber = () => `SHIFT-${Date.now().toString().slice(-8)}`;\n\n// ØªØ£Ø®ÙŠØ± ØªÙ†ÙÙŠØ°\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\n\n// ==================== Interceptors ====================\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  let authToken = token;\n  if (token && token.startsWith('Bearer ')) {\n    authToken = token.substring(7);\n  }\n  if (authToken) {\n    config.headers.Authorization = `Bearer ${authToken}`;\n  }\n  if (process.env.NODE_ENV === 'development') {\n    var _config$method;\n    console.log('ğŸŒ API Request:', {\n      method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n      url: config.url,\n      fullUrl: `${config.baseURL}${config.url}`,\n      tokenExists: !!authToken,\n      data: config.data ? JSON.stringify(config.data).substring(0, 200) : undefined\n    });\n  }\n  return config;\n}, error => {\n  console.error('âŒ Request Interceptor Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  if (process.env.NODE_ENV === 'development') {\n    var _response$data;\n    console.log('âœ… API Response:', {\n      url: response.config.url,\n      status: response.status,\n      success: (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.success\n    });\n  }\n  if (response.data && typeof response.data === 'object') {\n    return response.data;\n  }\n  return {\n    success: true,\n    status: response.status,\n    data: response.data,\n    message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\n  };\n}, error => {\n  var _error$config, _error$response, _error$response2, _error$response3, _error$response4, _error$response5, _error$response6, _error$response6$data, _error$response7;\n  console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: error.message,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n  });\n  if (env === 'ngrok' && error.message.includes('Network Error')) {\n    return {\n      success: false,\n      status: 0,\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\n      ngrokError: true\n    };\n  }\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    console.log('ğŸ”’ ØªÙˆÙƒÙ† Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    if (typeof window !== 'undefined' && !window.location.pathname.includes('/login')) {\n      window.location.href = '/login';\n    }\n  }\n  if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 500) {\n    console.log('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… (500) - ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡ Ù…Ø­Ù„ÙŠØ§Ù‹');\n  }\n  return Promise.reject({\n    success: false,\n    status: ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) || 0,\n    message: ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.message) || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\n    data: (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data\n  });\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ† ====================\napi.setToken = token => {\n  if (token) {\n    let cleanToken = token;\n    if (token.startsWith('Bearer ')) {\n      cleanToken = token.substring(7);\n    }\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\n    localStorage.setItem('token', cleanToken);\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n  }\n};\napi.checkAuthStatus = () => {\n  const token = localStorage.getItem('token');\n  const user = localStorage.getItem('user');\n  return {\n    isAuthenticated: !!token,\n    token: token,\n    user: user ? JSON.parse(user) : null\n  };\n};\napi.getCurrentUser = () => {\n  try {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\n    return null;\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ UNBREAKABLE Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\n\n/**\r\n * Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ù…ÙƒÙ†Ø© (UNBREAKABLE)\r\n */\napi.createRentalUnbreakable = async (rentalData, retryCount = 0) => {\n  var _rentalData$items8;\n  const MAX_RETRIES = 3;\n  const RETRY_DELAY = 1000;\n  console.log(`ğŸ›¡ï¸ [UNBREAKABLE] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± #${retryCount + 1}:`, rentalData);\n\n  // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n  const user = api.getCurrentUser();\n  const branchId = (user === null || user === void 0 ? void 0 : user.branch_id) || rentalData.branch_id || 1;\n\n  // Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© - Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©\n  const strategies = [{\n    name: 'Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ POST /rentals (Ù…Ø¹ Ø¹Ù†Ø§ØµØ± Ù…ØªØ¹Ø¯Ø¯Ø©)',\n    executor: async () => {\n      return await api.post('/rentals', {\n        items: rentalData.items || [],\n        customer_name: rentalData.customer_name,\n        customer_phone: rentalData.customer_phone || '',\n        notes: rentalData.notes || ''\n      });\n    }\n  }, {\n    name: 'Ù…Ø³Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª POST /rentals/fixed',\n    executor: async () => {\n      var _rentalData$items;\n      // Ø§ÙØªØ±Ø§Ø¶ Ø£Ù† Ø£ÙˆÙ„ Ø¹Ù†ØµØ± ÙÙ‚Ø· Ù‡Ùˆ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\n      const firstItem = ((_rentalData$items = rentalData.items) === null || _rentalData$items === void 0 ? void 0 : _rentalData$items[0]) || {};\n      return await api.post('/rentals/fixed', {\n        game_id: firstItem.game_id,\n        customer_name: rentalData.customer_name,\n        customer_phone: rentalData.customer_phone || '',\n        duration_minutes: firstItem.duration_minutes || 15,\n        child_name: firstItem.child_name || '',\n        quantity: firstItem.quantity || 1\n      });\n    }\n  }, {\n    name: 'Ù…Ø³Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ POST /rentals/open',\n    executor: async () => {\n      var _rentalData$items2;\n      const firstItem = ((_rentalData$items2 = rentalData.items) === null || _rentalData$items2 === void 0 ? void 0 : _rentalData$items2[0]) || {};\n      return await api.post('/rentals/open', {\n        game_id: firstItem.game_id,\n        customer_name: rentalData.customer_name,\n        customer_phone: rentalData.customer_phone || '',\n        child_name: firstItem.child_name || ''\n      });\n    }\n  }, {\n    name: 'Ù…Ø³Ø§Ø± Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§Ù‹ POST /rentals/simple',\n    executor: async () => {\n      var _rentalData$items3, _rentalData$items3$;\n      return await api.post('/rentals/simple', {\n        game_id: ((_rentalData$items3 = rentalData.items) === null || _rentalData$items3 === void 0 ? void 0 : (_rentalData$items3$ = _rentalData$items3[0]) === null || _rentalData$items3$ === void 0 ? void 0 : _rentalData$items3$.game_id) || 1,\n        customer_name: rentalData.customer_name,\n        customer_phone: rentalData.customer_phone || ''\n      });\n    }\n  }, {\n    name: 'Ù…Ø³Ø§Ø± Ù…Ø¨Ø§Ø´Ø± POST /rentals/direct',\n    executor: async () => {\n      var _rentalData$items4, _rentalData$items4$, _rentalData$items5, _rentalData$items5$;\n      return await api.post('/rentals/direct', {\n        game_id: ((_rentalData$items4 = rentalData.items) === null || _rentalData$items4 === void 0 ? void 0 : (_rentalData$items4$ = _rentalData$items4[0]) === null || _rentalData$items4$ === void 0 ? void 0 : _rentalData$items4$.game_id) || 1,\n        customer_name: rentalData.customer_name,\n        duration: ((_rentalData$items5 = rentalData.items) === null || _rentalData$items5 === void 0 ? void 0 : (_rentalData$items5$ = _rentalData$items5[0]) === null || _rentalData$items5$ === void 0 ? void 0 : _rentalData$items5$.duration_minutes) || 15,\n        branch_id: branchId\n      });\n    }\n  }, {\n    name: 'Ù…Ø³Ø§Ø± Ù‚Ø¯ÙŠÙ… POST /rentals/legacy',\n    executor: async () => {\n      var _rentalData$items6, _rentalData$items6$, _rentalData$items7, _rentalData$items7$;\n      return await api.post('/rentals/legacy', {\n        game_id: ((_rentalData$items6 = rentalData.items) === null || _rentalData$items6 === void 0 ? void 0 : (_rentalData$items6$ = _rentalData$items6[0]) === null || _rentalData$items6$ === void 0 ? void 0 : _rentalData$items6$.game_id) || 1,\n        customer_name: rentalData.customer_name,\n        hours: Math.ceil((((_rentalData$items7 = rentalData.items) === null || _rentalData$items7 === void 0 ? void 0 : (_rentalData$items7$ = _rentalData$items7[0]) === null || _rentalData$items7$ === void 0 ? void 0 : _rentalData$items7$.duration_minutes) || 15) / 60)\n      });\n    }\n  }];\n\n  // ØªÙ†ÙÙŠØ° Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨\n  for (let i = 0; i < strategies.length; i++) {\n    try {\n      console.log(`ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}: ${strategies[i].name}`);\n      const response = await strategies[i].executor();\n      console.log(`ğŸ“Š Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}:`, response);\n      if (response && response.success) {\n        console.log(`âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}!`);\n\n        // ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠ Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ\n        try {\n          var _response$data2, _response$data3;\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n          localRentals.push({\n            id: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.id) || `local-${Date.now()}`,\n            rental_number: ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.rental_number) || generateRentalNumber(),\n            customer_name: rentalData.customer_name,\n            created_at: new Date().toISOString(),\n            synced: true\n          });\n          localStorage.setItem('local_rentals', JSON.stringify(localRentals.slice(-50)));\n        } catch (e) {\n          console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\n        }\n        return response;\n      }\n\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500 (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…) ÙˆÙ„ÙƒÙ† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù‚Ø¯ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙŠØ¯Ø©\n      if (response.status === 500 && response.data) {\n        console.log('âš ï¸ Ø®Ø·Ø£ 500 Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù†Ø§Ø¬Ø­Ø§Ù‹ Ø¬Ø²Ø¦ÙŠØ§Ù‹:', response.data);\n\n        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ø±ÙØŒ Ù†Ø¹ØªØ¨Ø±Ù‡Ø§ Ù†Ø§Ø¬Ø­Ø©\n        if (response.data.id || response.data.rental_id) {\n          return {\n            success: true,\n            data: response.data,\n            message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± (Ù…Ø¹ ØªØ­Ø°ÙŠØ±)',\n            warning: true\n          };\n        }\n      }\n    } catch (error) {\n      var _error$response8, _error$response9;\n      console.log(`âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}:`, error.message);\n\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 404 (Ø§Ù„Ù…Ø³Ø§Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯)ØŒ Ù†ÙƒÙ…Ù„ Ù„Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©\n      if (error.status === 404 || ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.status) === 404) {\n        continue;\n      }\n\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500 (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…) ÙˆÙ†Ø­Ù† ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©\n      if ((error.status === 500 || ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status) === 500) && i === strategies.length - 1) {\n        console.log('âš ï¸ Ø®Ø·Ø£ 500 ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©ØŒ Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\n\n        // Ù†Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙˆÙ†Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©\n        if (retryCount < MAX_RETRIES) {\n          await delay(RETRY_DELAY);\n          return api.createRentalUnbreakable(rentalData, retryCount + 1);\n        }\n      }\n    }\n  }\n\n  // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª - Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n  console.warn('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„ØªØŒ Ø³ÙŠØªÙ… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠØ§Ù‹');\n  const localRental = {\n    id: `local-${Date.now()}`,\n    rental_number: generateRentalNumber(),\n    customer_name: rentalData.customer_name,\n    customer_phone: rentalData.customer_phone || '',\n    items: rentalData.items || [],\n    total_amount: ((_rentalData$items8 = rentalData.items) === null || _rentalData$items8 === void 0 ? void 0 : _rentalData$items8.reduce((sum, item) => {\n      if (item.rental_type === 'fixed') {\n        const units = Math.ceil((item.duration_minutes || 15) / 15);\n        return sum + (item.price_per_15min || 50) * units * (item.quantity || 1);\n      }\n      return sum;\n    }, 0)) || 0,\n    status: 'active',\n    created_at: new Date().toISOString(),\n    local: true,\n    synced: false\n  };\n\n  // Ø­ÙØ¸ ÙÙŠ localStorage\n  try {\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n    localRentals.push(localRental);\n    localStorage.setItem('local_rentals', JSON.stringify(localRentals.slice(-50)));\n    console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹:', localRental.rental_number);\n  } catch (e) {\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹:', e.message);\n  }\n  return {\n    success: true,\n    data: localRental,\n    message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\n    local: true,\n    emergency: true\n  };\n};\n\n/**\r\n * Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\napi.getActiveRentalsUnbreakable = async (params = {}) => {\n  console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', params);\n  const strategies = [{\n    name: 'GET /rentals/active',\n    executor: async () => {\n      return await api.get('/rentals/active', {\n        params\n      });\n    }\n  }, {\n    name: 'GET /rentals/active-all',\n    executor: async () => {\n      return await api.get('/rentals/active-all', {\n        params\n      });\n    }\n  }, {\n    name: 'GET /rentals?status=active',\n    executor: async () => {\n      return await api.get('/rentals', {\n        params: {\n          ...params,\n          status: 'active'\n        }\n      });\n    }\n  }, {\n    name: 'GET /rentals/list?active=true',\n    executor: async () => {\n      return await api.get('/rentals/list', {\n        params: {\n          ...params,\n          active: true\n        }\n      });\n    }\n  }];\n  for (const strategy of strategies) {\n    try {\n      const response = await strategy.executor();\n      if (response.success) {\n        const rentals = response.data || [];\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}:`, rentals.length, 'ØªØ£Ø¬ÙŠØ±');\n\n        // Ø¯Ù…Ø¬ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n        const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n        const activeLocal = localRentals.filter(r => r.status === 'active');\n        if (activeLocal.length > 0) {\n          console.log('ğŸ“¦ Ø¯Ù…Ø¬ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ©:', activeLocal.length);\n          return {\n            success: true,\n            data: [...rentals, ...activeLocal],\n            local_count: activeLocal.length,\n            method: strategy.name\n          };\n        }\n        return {\n          success: true,\n          data: rentals,\n          method: strategy.name\n        };\n      }\n    } catch (error) {\n      var _error$response0;\n      if (error.status !== 404 && ((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.status) !== 404) {\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\n      }\n    }\n  }\n\n  // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ù†Ø±Ø¬Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n  const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n  const activeLocal = localRentals.filter(r => r.status === 'active');\n  return {\n    success: true,\n    data: activeLocal,\n    local_only: true,\n    message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙ‚Ø·'\n  };\n};\n\n/**\r\n * Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…ÙØªÙˆØ­ Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\napi.completeOpenRentalUnbreakable = async (rentalId, data = {}) => {\n  console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…ÙØªÙˆØ­ ${rentalId}:`, data);\n  const strategies = [{\n    name: `POST /rentals/${rentalId}/complete-open`,\n    executor: async () => {\n      return await api.post(`/rentals/${rentalId}/complete-open`, {\n        payment_method: data.payment_method || 'ÙƒØ§Ø´',\n        actual_minutes: data.actual_minutes,\n        final_amount: data.final_amount\n      });\n    }\n  }, {\n    name: `POST /rentals/complete/${rentalId}`,\n    executor: async () => {\n      return await api.post(`/rentals/complete/${rentalId}`, {\n        type: 'open',\n        ...data\n      });\n    }\n  }, {\n    name: `PUT /rentals/${rentalId}/complete`,\n    executor: async () => {\n      return await api.put(`/rentals/${rentalId}/complete`, {\n        rental_type: 'open',\n        ...data\n      });\n    }\n  }, {\n    name: `POST /rentals/${rentalId}/finish`,\n    executor: async () => {\n      return await api.post(`/rentals/${rentalId}/finish`, data);\n    }\n  }];\n  for (const strategy of strategies) {\n    try {\n      const response = await strategy.executor();\n      if (response && response.success) {\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}`);\n\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n        try {\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n          const updatedRentals = localRentals.map(r => r.id === rentalId || r.id === `local-${rentalId}` ? {\n            ...r,\n            status: 'completed',\n            synced: true\n          } : r);\n          localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\n        } catch (e) {\n          console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', e.message);\n        }\n        return response;\n      }\n    } catch (error) {\n      var _error$response1;\n      if (error.status !== 404 && ((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.status) !== 404) {\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\n      }\n    }\n  }\n\n  // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ù†Ø¹Ø§Ù„Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\n  console.warn('âš ï¸ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŒ Ø³ÙŠØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹');\n  try {\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n    const updatedRentals = localRentals.map(r => r.id === rentalId || r.id === `local-${rentalId}` ? {\n      ...r,\n      status: 'completed',\n      end_time: new Date().toISOString(),\n      final_amount: data.final_amount || r.total_amount || 0,\n      local_completed: true\n    } : r);\n    localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\n  } catch (e) {\n    console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\n  }\n  return {\n    success: true,\n    data: {\n      id: rentalId,\n      final_amount: data.final_amount || 0,\n      actual_minutes: data.actual_minutes || 15,\n      completed_at: new Date().toISOString()\n    },\n    message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹',\n    local: true\n  };\n};\n\n/**\r\n * Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\napi.cancelRentalUnbreakable = async (rentalId, reason = '') => {\n  console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n  const strategies = [{\n    name: `POST /rentals/${rentalId}/cancel`,\n    executor: async () => {\n      return await api.post(`/rentals/${rentalId}/cancel`, {\n        reason\n      });\n    }\n  }, {\n    name: `DELETE /rentals/${rentalId}`,\n    executor: async () => {\n      return await api.delete(`/rentals/${rentalId}`);\n    }\n  }, {\n    name: `PUT /rentals/${rentalId}/cancel`,\n    executor: async () => {\n      return await api.put(`/rentals/${rentalId}/cancel`, {\n        reason\n      });\n    }\n  }, {\n    name: `POST /rentals/cancel/${rentalId}`,\n    executor: async () => {\n      return await api.post(`/rentals/cancel/${rentalId}`, {\n        reason\n      });\n    }\n  }];\n  for (const strategy of strategies) {\n    try {\n      const response = await strategy.executor();\n      if (response && response.success) {\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}`);\n\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n        try {\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n          const updatedRentals = localRentals.map(r => r.id === rentalId || r.id === `local-${rentalId}` ? {\n            ...r,\n            status: 'cancelled',\n            synced: true\n          } : r);\n          localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\n        } catch (e) {\n          console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', e.message);\n        }\n        return response;\n      }\n    } catch (error) {\n      var _error$response10;\n      if (error.status !== 404 && ((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : _error$response10.status) !== 404) {\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\n      }\n    }\n  }\n\n  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\n  try {\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n    const updatedRentals = localRentals.map(r => r.id === rentalId || r.id === `local-${rentalId}` ? {\n      ...r,\n      status: 'cancelled',\n      cancelled_at: new Date().toISOString()\n    } : r);\n    localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\n  } catch (e) {\n    console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\n  }\n  return {\n    success: true,\n    data: {\n      id: rentalId,\n      cancelled: true\n    },\n    message: 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹',\n    local: true\n  };\n};\n\n// ==================== ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø© ====================\n\n// ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.createRental = api.createRentalUnbreakable;\napi.getActiveRentals = api.getActiveRentalsUnbreakable;\napi.completeOpenRental = api.completeOpenRentalUnbreakable;\napi.cancelRental = api.cancelRentalUnbreakable;\n\n// ==================== Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ (Ù…Ø­Ø°ÙˆÙØ© Ù„Ù„Ø§Ø®ØªØµØ§Ø± ÙˆÙ„ÙƒÙ† ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ====================\n// ... (Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…Ù† Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ)\n\n// AUTH ENDPOINTS\napi.login = async (email, password) => {\n  try {\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\n    const response = await api.post('/auth/login', {\n      email,\n      password\n    });\n    if (response.success && response.token) {\n      api.setToken(response.token);\n      if (response.user) {\n        localStorage.setItem('user', JSON.stringify(response.user));\n        localStorage.setItem('lastLogin', new Date().toISOString());\n      }\n      return {\n        success: true,\n        data: response\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n    if (error.status === 401) {\n      return {\n        success: false,\n        message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.logout = async (redirect = true) => {\n  try {\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\n  } finally {\n    api.setToken(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastLogin');\n    if (redirect) {\n      window.location.href = '/login';\n    }\n  }\n};\napi.getProfile = async () => {\n  try {\n    return await api.get('/auth/profile');\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\n    };\n  }\n};\n\n// BRANCHES ENDPOINTS\napi.getBranches = async (params = {}) => {\n  try {\n    const response = await api.get('/branches', {\n      params\n    });\n    return {\n      success: true,\n      data: response.data || [],\n      count: response.count || 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\napi.getBranch = async branchId => {\n  try {\n    const response = await api.get(`/branches/${branchId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: true\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: true\n      },\n      fromCache: true\n    };\n  }\n};\napi.createBranch = async branchData => {\n  try {\n    return await api.post('/branches', branchData);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.updateBranch = async (id, branchData) => {\n  try {\n    return await api.put(`/branches/${id}`, branchData);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.deleteBranch = async (id, permanent = false) => {\n  try {\n    return await api.delete(`/branches/${id}?permanent=${permanent}`);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.getBranchGames = async branchId => {\n  try {\n    const response = await api.get(`/branches/${branchId}/games`);\n    return {\n      success: true,\n      data: response.data || [],\n      stats: response.stats || {}\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n\n// GAMES ENDPOINTS\napi.getGames = async (params = {}) => {\n  try {\n    const requestParams = {\n      ...params\n    };\n    delete requestParams.status;\n    const response = await api.get('/games', {\n      params: requestParams,\n      timeout: 15000\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      data: []\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\napi.getAvailableGames = async (params = {}) => {\n  try {\n    const response = await api.get('/games/available', {\n      params\n    });\n    return {\n      success: true,\n      data: response.data || [],\n      count: response.count || 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\napi.getGameById = async id => {\n  try {\n    return await api.get(`/games/${id}`);\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù„Ø¹Ø¨Ø© ${id}:`, error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\napi.createGame = async gameData => {\n  try {\n    return await api.post('/games', gameData);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\napi.updateGame = async (id, gameData) => {\n  try {\n    return await api.put(`/games/${id}`, gameData);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\napi.deleteGame = async (id, permanent = false) => {\n  try {\n    return await api.delete(`/games/${id}?permanent=${permanent}`);\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\n\n// SHIFTS ENDPOINTS\napi.getCurrentShift = async () => {\n  try {\n    const response = await api.get('/shifts/current');\n    if (response.success && response.data) {\n      return {\n        success: true,\n        data: response.data,\n        exists: true,\n        message: 'ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·'\n      };\n    }\n    return {\n      success: true,\n      data: null,\n      exists: false,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error.message);\n    return {\n      success: true,\n      data: null,\n      exists: false\n    };\n  }\n};\napi.startShift = async (openingCash = 0) => {\n  try {\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©\n    const endpoints = [{\n      method: 'post',\n      url: '/shifts/start',\n      data: {\n        opening_cash: openingCash\n      }\n    }, {\n      method: 'post',\n      url: '/shifts/start-simple',\n      data: {}\n    }, {\n      method: 'post',\n      url: '/shifts/start-clean',\n      data: {}\n    }];\n    for (const endpoint of endpoints) {\n      try {\n        const response = await api[endpoint.method](endpoint.url, endpoint.data);\n        if (response && response.success) {\n          console.log(`âœ… Ù†Ø¬Ø­ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¹Ø¨Ø± ${endpoint.url}`);\n          if (response.data) {\n            localStorage.setItem('current_shift', JSON.stringify(response.data));\n          }\n          return response;\n        }\n      } catch (error) {\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint.url}:`, error.message);\n      }\n    }\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShift:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹'\n    };\n  }\n};\napi.endShift = async (shiftId, closingData = {}) => {\n  try {\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId}...`);\n    const response = await api.put(`/shifts/${shiftId}/end`, {\n      closing_cash: closingData.closing_cash,\n      notes: closingData.notes || 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n    });\n    if (response.success) {\n      localStorage.removeItem('current_shift');\n    }\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    try {\n      const altResponse = await api.post(`/shifts/${shiftId}/end-quick`, {\n        notes: closingData.notes || 'Ø¥Ù†Ù‡Ø§Ø¡ Ø³Ø±ÙŠØ¹'\n      });\n      if (altResponse.success) {\n        localStorage.removeItem('current_shift');\n      }\n      return altResponse;\n    } catch (altError) {\n      return {\n        success: false,\n        message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n      };\n    }\n  }\n};\napi.getShiftDetails = async shiftId => {\n  try {\n    const response = await api.get(`/shifts/${shiftId}/details`);\n    return {\n      success: true,\n      data: response.data || {},\n      stats: response.stats || {}\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      data: null\n    };\n  }\n};\napi.getAllActiveShifts = async () => {\n  try {\n    const response = await api.get('/shifts/active-all');\n    return {\n      success: true,\n      data: response.data || [],\n      count: response.count || 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\napi.getShiftStats = async shiftId => {\n  try {\n    const response = await api.get(`/shifts/${shiftId}/stats`);\n    return {\n      success: true,\n      data: response.data || {}\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      data: null\n    };\n  }\n};\napi.getShifts = async (params = {}) => {\n  try {\n    const response = await api.get('/shifts', {\n      params\n    });\n    return {\n      success: true,\n      data: response.data || [],\n      count: response.count || 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n\n// DASHBOARD & STATS\napi.getSimpleStats = async () => {\n  try {\n    const response = await api.get('/dashboard/stats/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\n    return {\n      success: false,\n      data: {\n        availableGames: 0,\n        totalGames: 0,\n        todayRevenue: 0,\n        todayRentals: 0,\n        activeRentals: 0\n      }\n    };\n  }\n};\napi.getDashboardStats = async () => {\n  try {\n    const response = await api.get('/dashboard/stats');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\n    return {\n      success: false,\n      data: {}\n    };\n  }\n};\napi.getDashboardAllStats = async () => {\n  try {\n    const response = await api.get('/dashboard/all-stats');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\n    return {\n      success: false,\n      data: {}\n    };\n  }\n};\n\n// HEALTH & TEST\napi.healthCheck = async () => {\n  try {\n    return await api.get('/health');\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.testConnection = async () => {\n  try {\n    const response = await api.get('/health');\n    return {\n      success: true,\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\n      data: response\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\n    };\n  }\n};\n\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\nconst savedToken = localStorage.getItem('token');\nif (savedToken) {\n  api.setToken(savedToken);\n}\nexport default api;","map":{"version":3,"names":["axios","detectEnvironment","env","process","REACT_APP_ENVIRONMENT","apiUrl","REACT_APP_API_URL","console","log","api","create","baseURL","timeout","headers","generateRentalNumber","prefix","Date","now","toString","slice","Math","floor","random","generateShiftNumber","delay","ms","Promise","resolve","setTimeout","interceptors","request","use","config","token","localStorage","getItem","authToken","startsWith","substring","Authorization","NODE_ENV","_config$method","method","toUpperCase","url","fullUrl","tokenExists","data","JSON","stringify","undefined","error","reject","response","_response$data","status","success","message","_error$config","_error$response","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","_error$response6$data","_error$response7","includes","ngrokError","removeItem","window","location","pathname","href","setToken","cleanToken","defaults","common","setItem","checkAuthStatus","user","isAuthenticated","parse","getCurrentUser","userStr","createRentalUnbreakable","rentalData","retryCount","_rentalData$items8","MAX_RETRIES","RETRY_DELAY","branchId","branch_id","strategies","name","executor","post","items","customer_name","customer_phone","notes","_rentalData$items","firstItem","game_id","duration_minutes","child_name","quantity","_rentalData$items2","_rentalData$items3","_rentalData$items3$","_rentalData$items4","_rentalData$items4$","_rentalData$items5","_rentalData$items5$","duration","_rentalData$items6","_rentalData$items6$","_rentalData$items7","_rentalData$items7$","hours","ceil","i","length","_response$data2","_response$data3","localRentals","push","id","rental_number","created_at","toISOString","synced","e","warn","rental_id","warning","_error$response8","_error$response9","localRental","total_amount","reduce","sum","item","rental_type","units","price_per_15min","local","emergency","getActiveRentalsUnbreakable","params","get","active","strategy","rentals","activeLocal","filter","r","local_count","_error$response0","local_only","completeOpenRentalUnbreakable","rentalId","payment_method","actual_minutes","final_amount","type","put","updatedRentals","map","_error$response1","end_time","local_completed","completed_at","cancelRentalUnbreakable","reason","delete","_error$response10","cancelled_at","cancelled","createRental","getActiveRentals","completeOpenRental","cancelRental","login","email","password","code","logout","redirect","getProfile","getBranches","count","getBranch","city","contact_phone","opening_time","closing_time","is_active","fromCache","createBranch","branchData","updateBranch","deleteBranch","permanent","getBranchGames","stats","getGames","requestParams","getAvailableGames","getGameById","createGame","gameData","updateGame","deleteGame","getCurrentShift","exists","startShift","openingCash","endpoints","opening_cash","endpoint","endShift","shiftId","closingData","closing_cash","altResponse","altError","getShiftDetails","getAllActiveShifts","getShiftStats","getShifts","getSimpleStats","availableGames","totalGames","todayRevenue","todayRentals","activeRentals","getDashboardStats","getDashboardAllStats","healthCheck","testConnection","savedToken"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\n\r\nimport axios from 'axios';\r\n\r\n// ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© ====================\r\nconst detectEnvironment = () => {\r\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\r\n\r\n  let apiUrl;\r\n\r\n  if (env === 'production') {\r\n    apiUrl = process.env.REACT_APP_API_URL;\r\n  } else {\r\n    apiUrl = 'http://localhost:5000/api';\r\n  }\r\n\r\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\r\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\r\n\r\n  return { env, apiUrl };\r\n};\r\n\r\nconst { apiUrl } = detectEnvironment();\r\n\r\nconst api = axios.create({\r\n  baseURL: apiUrl,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Language': 'ar'\r\n  }\r\n});\r\n\r\n// ==================== Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ====================\r\nconst generateRentalNumber = (prefix = 'RNT') => \r\n  `${prefix}-${Date.now().toString().slice(-8)}-${Math.floor(Math.random() * 1000)}`;\r\n\r\nconst generateShiftNumber = () => `SHIFT-${Date.now().toString().slice(-8)}`;\r\n\r\n// ØªØ£Ø®ÙŠØ± ØªÙ†ÙÙŠØ°\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// ==================== Interceptors ====================\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    let authToken = token;\r\n    if (token && token.startsWith('Bearer ')) {\r\n      authToken = token.substring(7);\r\n    }\r\n    \r\n    if (authToken) {\r\n      config.headers.Authorization = `Bearer ${authToken}`;\r\n    }\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('ğŸŒ API Request:', {\r\n        method: config.method?.toUpperCase(),\r\n        url: config.url,\r\n        fullUrl: `${config.baseURL}${config.url}`,\r\n        tokenExists: !!authToken,\r\n        data: config.data ? JSON.stringify(config.data).substring(0, 200) : undefined\r\n      });\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Request Interceptor Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('âœ… API Response:', {\r\n        url: response.config.url,\r\n        status: response.status,\r\n        success: response.data?.success\r\n      });\r\n    }\r\n    \r\n    if (response.data && typeof response.data === 'object') {\r\n      return response.data;\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      status: response.status,\r\n      data: response.data,\r\n      message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\r\n      url: error.config?.url,\r\n      status: error.response?.status,\r\n      message: error.message,\r\n      data: error.response?.data\r\n    });\r\n    \r\n    if (env === 'ngrok' && error.message.includes('Network Error')) {\r\n      return {\r\n        success: false,\r\n        status: 0,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\r\n        ngrokError: true\r\n      };\r\n    }\r\n    \r\n    if (error.response?.status === 401) {\r\n      console.log('ğŸ”’ ØªÙˆÙƒÙ† Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©');\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      \r\n      if (typeof window !== 'undefined' && !window.location.pathname.includes('/login')) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    \r\n    if (error.response?.status === 500) {\r\n      console.log('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… (500) - ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡ Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n    }\r\n    \r\n    return Promise.reject({\r\n      success: false,\r\n      status: error.response?.status || 0,\r\n      message: error.response?.data?.message || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\r\n      data: error.response?.data\r\n    });\r\n  }\r\n);\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ† ====================\r\napi.setToken = (token) => {\r\n  if (token) {\r\n    let cleanToken = token;\r\n    if (token.startsWith('Bearer ')) {\r\n      cleanToken = token.substring(7);\r\n    }\r\n    \r\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\r\n    localStorage.setItem('token', cleanToken);\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n  }\r\n};\r\n\r\napi.checkAuthStatus = () => {\r\n  const token = localStorage.getItem('token');\r\n  const user = localStorage.getItem('user');\r\n  \r\n  return {\r\n    isAuthenticated: !!token,\r\n    token: token,\r\n    user: user ? JSON.parse(user) : null\r\n  };\r\n};\r\n\r\napi.getCurrentUser = () => {\r\n  try {\r\n    const userStr = localStorage.getItem('user');\r\n    return userStr ? JSON.parse(userStr) : null;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ UNBREAKABLE Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\r\n\r\n/**\r\n * Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„Ù…Ù…ÙƒÙ†Ø© (UNBREAKABLE)\r\n */\r\napi.createRentalUnbreakable = async (rentalData, retryCount = 0) => {\r\n  const MAX_RETRIES = 3;\r\n  const RETRY_DELAY = 1000;\r\n  \r\n  console.log(`ğŸ›¡ï¸ [UNBREAKABLE] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± #${retryCount + 1}:`, rentalData);\r\n  \r\n  // ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n  const user = api.getCurrentUser();\r\n  const branchId = user?.branch_id || rentalData.branch_id || 1;\r\n  \r\n  // Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© - Ù…Ø±ØªØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©\r\n  const strategies = [\r\n    {\r\n      name: 'Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ POST /rentals (Ù…Ø¹ Ø¹Ù†Ø§ØµØ± Ù…ØªØ¹Ø¯Ø¯Ø©)',\r\n      executor: async () => {\r\n        return await api.post('/rentals', {\r\n          items: rentalData.items || [],\r\n          customer_name: rentalData.customer_name,\r\n          customer_phone: rentalData.customer_phone || '',\r\n          notes: rentalData.notes || ''\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: 'Ù…Ø³Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª POST /rentals/fixed',\r\n      executor: async () => {\r\n        // Ø§ÙØªØ±Ø§Ø¶ Ø£Ù† Ø£ÙˆÙ„ Ø¹Ù†ØµØ± ÙÙ‚Ø· Ù‡Ùˆ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\n        const firstItem = rentalData.items?.[0] || {};\r\n        return await api.post('/rentals/fixed', {\r\n          game_id: firstItem.game_id,\r\n          customer_name: rentalData.customer_name,\r\n          customer_phone: rentalData.customer_phone || '',\r\n          duration_minutes: firstItem.duration_minutes || 15,\r\n          child_name: firstItem.child_name || '',\r\n          quantity: firstItem.quantity || 1\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: 'Ù…Ø³Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ POST /rentals/open',\r\n      executor: async () => {\r\n        const firstItem = rentalData.items?.[0] || {};\r\n        return await api.post('/rentals/open', {\r\n          game_id: firstItem.game_id,\r\n          customer_name: rentalData.customer_name,\r\n          customer_phone: rentalData.customer_phone || '',\r\n          child_name: firstItem.child_name || ''\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: 'Ù…Ø³Ø§Ø± Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§Ù‹ POST /rentals/simple',\r\n      executor: async () => {\r\n        return await api.post('/rentals/simple', {\r\n          game_id: rentalData.items?.[0]?.game_id || 1,\r\n          customer_name: rentalData.customer_name,\r\n          customer_phone: rentalData.customer_phone || ''\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: 'Ù…Ø³Ø§Ø± Ù…Ø¨Ø§Ø´Ø± POST /rentals/direct',\r\n      executor: async () => {\r\n        return await api.post('/rentals/direct', {\r\n          game_id: rentalData.items?.[0]?.game_id || 1,\r\n          customer_name: rentalData.customer_name,\r\n          duration: rentalData.items?.[0]?.duration_minutes || 15,\r\n          branch_id: branchId\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: 'Ù…Ø³Ø§Ø± Ù‚Ø¯ÙŠÙ… POST /rentals/legacy',\r\n      executor: async () => {\r\n        return await api.post('/rentals/legacy', {\r\n          game_id: rentalData.items?.[0]?.game_id || 1,\r\n          customer_name: rentalData.customer_name,\r\n          hours: Math.ceil((rentalData.items?.[0]?.duration_minutes || 15) / 60)\r\n        });\r\n      }\r\n    }\r\n  ];\r\n  \r\n  // ØªÙ†ÙÙŠØ° Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨\r\n  for (let i = 0; i < strategies.length; i++) {\r\n    try {\r\n      console.log(`ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}: ${strategies[i].name}`);\r\n      const response = await strategies[i].executor();\r\n      \r\n      console.log(`ğŸ“Š Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}:`, response);\r\n      \r\n      if (response && response.success) {\r\n        console.log(`âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}!`);\r\n        \r\n        // ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠ Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ\r\n        try {\r\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n          localRentals.push({\r\n            id: response.data?.id || `local-${Date.now()}`,\r\n            rental_number: response.data?.rental_number || generateRentalNumber(),\r\n            customer_name: rentalData.customer_name,\r\n            created_at: new Date().toISOString(),\r\n            synced: true\r\n          });\r\n          localStorage.setItem('local_rentals', JSON.stringify(localRentals.slice(-50)));\r\n        } catch (e) {\r\n          console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\r\n        }\r\n        \r\n        return response;\r\n      }\r\n      \r\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500 (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…) ÙˆÙ„ÙƒÙ† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ù‚Ø¯ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙŠØ¯Ø©\r\n      if (response.status === 500 && response.data) {\r\n        console.log('âš ï¸ Ø®Ø·Ø£ 500 Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù†Ø§Ø¬Ø­Ø§Ù‹ Ø¬Ø²Ø¦ÙŠØ§Ù‹:', response.data);\r\n        \r\n        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ø±ÙØŒ Ù†Ø¹ØªØ¨Ø±Ù‡Ø§ Ù†Ø§Ø¬Ø­Ø©\r\n        if (response.data.id || response.data.rental_id) {\r\n          return {\r\n            success: true,\r\n            data: response.data,\r\n            message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± (Ù…Ø¹ ØªØ­Ø°ÙŠØ±)',\r\n            warning: true\r\n          };\r\n        }\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.log(`âŒ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}:`, error.message);\r\n      \r\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 404 (Ø§Ù„Ù…Ø³Ø§Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯)ØŒ Ù†ÙƒÙ…Ù„ Ù„Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©\r\n      if (error.status === 404 || error.response?.status === 404) {\r\n        continue;\r\n      }\r\n      \r\n      // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500 (Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…) ÙˆÙ†Ø­Ù† ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©\r\n      if ((error.status === 500 || error.response?.status === 500) && i === strategies.length - 1) {\r\n        console.log('âš ï¸ Ø®Ø·Ø£ 500 ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£Ø®ÙŠØ±Ø©ØŒ Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\r\n        \r\n        // Ù†Ù†ØªØ¸Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹ ÙˆÙ†Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©\r\n        if (retryCount < MAX_RETRIES) {\r\n          await delay(RETRY_DELAY);\r\n          return api.createRentalUnbreakable(rentalData, retryCount + 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª - Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n  console.warn('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„ØªØŒ Ø³ÙŠØªÙ… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n  \r\n  const localRental = {\r\n    id: `local-${Date.now()}`,\r\n    rental_number: generateRentalNumber(),\r\n    customer_name: rentalData.customer_name,\r\n    customer_phone: rentalData.customer_phone || '',\r\n    items: rentalData.items || [],\r\n    total_amount: rentalData.items?.reduce((sum, item) => {\r\n      if (item.rental_type === 'fixed') {\r\n        const units = Math.ceil((item.duration_minutes || 15) / 15);\r\n        return sum + ((item.price_per_15min || 50) * units * (item.quantity || 1));\r\n      }\r\n      return sum;\r\n    }, 0) || 0,\r\n    status: 'active',\r\n    created_at: new Date().toISOString(),\r\n    local: true,\r\n    synced: false\r\n  };\r\n  \r\n  // Ø­ÙØ¸ ÙÙŠ localStorage\r\n  try {\r\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n    localRentals.push(localRental);\r\n    localStorage.setItem('local_rentals', JSON.stringify(localRentals.slice(-50)));\r\n    console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹:', localRental.rental_number);\r\n  } catch (e) {\r\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹:', e.message);\r\n  }\r\n  \r\n  return {\r\n    success: true,\r\n    data: localRental,\r\n    message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\r\n    local: true,\r\n    emergency: true\r\n  };\r\n};\r\n\r\n/**\r\n * Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\r\napi.getActiveRentalsUnbreakable = async (params = {}) => {\r\n  console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', params);\r\n  \r\n  const strategies = [\r\n    {\r\n      name: 'GET /rentals/active',\r\n      executor: async () => {\r\n        return await api.get('/rentals/active', { params });\r\n      }\r\n    },\r\n    {\r\n      name: 'GET /rentals/active-all',\r\n      executor: async () => {\r\n        return await api.get('/rentals/active-all', { params });\r\n      }\r\n    },\r\n    {\r\n      name: 'GET /rentals?status=active',\r\n      executor: async () => {\r\n        return await api.get('/rentals', { params: { ...params, status: 'active' } });\r\n      }\r\n    },\r\n    {\r\n      name: 'GET /rentals/list?active=true',\r\n      executor: async () => {\r\n        return await api.get('/rentals/list', { params: { ...params, active: true } });\r\n      }\r\n    }\r\n  ];\r\n  \r\n  for (const strategy of strategies) {\r\n    try {\r\n      const response = await strategy.executor();\r\n      \r\n      if (response.success) {\r\n        const rentals = response.data || [];\r\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}:`, rentals.length, 'ØªØ£Ø¬ÙŠØ±');\r\n        \r\n        // Ø¯Ù…Ø¬ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n        const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n        const activeLocal = localRentals.filter(r => r.status === 'active');\r\n        \r\n        if (activeLocal.length > 0) {\r\n          console.log('ğŸ“¦ Ø¯Ù…Ø¬ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø­Ù„ÙŠØ©:', activeLocal.length);\r\n          return {\r\n            success: true,\r\n            data: [...rentals, ...activeLocal],\r\n            local_count: activeLocal.length,\r\n            method: strategy.name\r\n          };\r\n        }\r\n        \r\n        return {\r\n          success: true,\r\n          data: rentals,\r\n          method: strategy.name\r\n        };\r\n      }\r\n    } catch (error) {\r\n      if (error.status !== 404 && error.response?.status !== 404) {\r\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ù†Ø±Ø¬Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n  const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n  const activeLocal = localRentals.filter(r => r.status === 'active');\r\n  \r\n  return {\r\n    success: true,\r\n    data: activeLocal,\r\n    local_only: true,\r\n    message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© ÙÙ‚Ø·'\r\n  };\r\n};\r\n\r\n/**\r\n * Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…ÙØªÙˆØ­ Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\r\napi.completeOpenRentalUnbreakable = async (rentalId, data = {}) => {\r\n  console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…ÙØªÙˆØ­ ${rentalId}:`, data);\r\n  \r\n  const strategies = [\r\n    {\r\n      name: `POST /rentals/${rentalId}/complete-open`,\r\n      executor: async () => {\r\n        return await api.post(`/rentals/${rentalId}/complete-open`, {\r\n          payment_method: data.payment_method || 'ÙƒØ§Ø´',\r\n          actual_minutes: data.actual_minutes,\r\n          final_amount: data.final_amount\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: `POST /rentals/complete/${rentalId}`,\r\n      executor: async () => {\r\n        return await api.post(`/rentals/complete/${rentalId}`, {\r\n          type: 'open',\r\n          ...data\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: `PUT /rentals/${rentalId}/complete`,\r\n      executor: async () => {\r\n        return await api.put(`/rentals/${rentalId}/complete`, {\r\n          rental_type: 'open',\r\n          ...data\r\n        });\r\n      }\r\n    },\r\n    {\r\n      name: `POST /rentals/${rentalId}/finish`,\r\n      executor: async () => {\r\n        return await api.post(`/rentals/${rentalId}/finish`, data);\r\n      }\r\n    }\r\n  ];\r\n  \r\n  for (const strategy of strategies) {\r\n    try {\r\n      const response = await strategy.executor();\r\n      \r\n      if (response && response.success) {\r\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}`);\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n        try {\r\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n          const updatedRentals = localRentals.map(r => \r\n            r.id === rentalId || r.id === `local-${rentalId}` \r\n              ? { ...r, status: 'completed', synced: true } \r\n              : r\r\n          );\r\n          localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\r\n        } catch (e) {\r\n          console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', e.message);\r\n        }\r\n        \r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      if (error.status !== 404 && error.response?.status !== 404) {\r\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ù†Ø¹Ø§Ù„Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\r\n  console.warn('âš ï¸ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŒ Ø³ÙŠØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n  \r\n  try {\r\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n    const updatedRentals = localRentals.map(r => \r\n      r.id === rentalId || r.id === `local-${rentalId}` \r\n        ? { \r\n            ...r, \r\n            status: 'completed', \r\n            end_time: new Date().toISOString(),\r\n            final_amount: data.final_amount || r.total_amount || 0,\r\n            local_completed: true \r\n          } \r\n        : r\r\n    );\r\n    localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\r\n  } catch (e) {\r\n    console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\r\n  }\r\n  \r\n  return {\r\n    success: true,\r\n    data: {\r\n      id: rentalId,\r\n      final_amount: data.final_amount || 0,\r\n      actual_minutes: data.actual_minutes || 15,\r\n      completed_at: new Date().toISOString()\r\n    },\r\n    message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹',\r\n    local: true\r\n  };\r\n};\r\n\r\n/**\r\n * Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ø¯Ø¹Ù… ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n */\r\napi.cancelRentalUnbreakable = async (rentalId, reason = '') => {\r\n  console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n  \r\n  const strategies = [\r\n    {\r\n      name: `POST /rentals/${rentalId}/cancel`,\r\n      executor: async () => {\r\n        return await api.post(`/rentals/${rentalId}/cancel`, { reason });\r\n      }\r\n    },\r\n    {\r\n      name: `DELETE /rentals/${rentalId}`,\r\n      executor: async () => {\r\n        return await api.delete(`/rentals/${rentalId}`);\r\n      }\r\n    },\r\n    {\r\n      name: `PUT /rentals/${rentalId}/cancel`,\r\n      executor: async () => {\r\n        return await api.put(`/rentals/${rentalId}/cancel`, { reason });\r\n      }\r\n    },\r\n    {\r\n      name: `POST /rentals/cancel/${rentalId}`,\r\n      executor: async () => {\r\n        return await api.post(`/rentals/cancel/${rentalId}`, { reason });\r\n      }\r\n    }\r\n  ];\r\n  \r\n  for (const strategy of strategies) {\r\n    try {\r\n      const response = await strategy.executor();\r\n      \r\n      if (response && response.success) {\r\n        console.log(`âœ… Ù†Ø¬Ø­Øª ${strategy.name}`);\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n        try {\r\n          const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n          const updatedRentals = localRentals.map(r => \r\n            r.id === rentalId || r.id === `local-${rentalId}` \r\n              ? { ...r, status: 'cancelled', synced: true } \r\n              : r\r\n          );\r\n          localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\r\n        } catch (e) {\r\n          console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', e.message);\r\n        }\r\n        \r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      if (error.status !== 404 && error.response?.status !== 404) {\r\n        console.log(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ ${strategy.name}:`, error.message);\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\r\n  try {\r\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n    const updatedRentals = localRentals.map(r => \r\n      r.id === rentalId || r.id === `local-${rentalId}` \r\n        ? { ...r, status: 'cancelled', cancelled_at: new Date().toISOString() } \r\n        : r\r\n    );\r\n    localStorage.setItem('local_rentals', JSON.stringify(updatedRentals));\r\n  } catch (e) {\r\n    console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø­Ù„ÙŠ:', e.message);\r\n  }\r\n  \r\n  return {\r\n    success: true,\r\n    data: { id: rentalId, cancelled: true },\r\n    message: 'ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠØ§Ù‹',\r\n    local: true\r\n  };\r\n};\r\n\r\n// ==================== ÙˆØ§Ø¬Ù‡Ø© Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø© ====================\r\n\r\n// ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.createRental = api.createRentalUnbreakable;\r\napi.getActiveRentals = api.getActiveRentalsUnbreakable;\r\napi.completeOpenRental = api.completeOpenRentalUnbreakable;\r\napi.cancelRental = api.cancelRentalUnbreakable;\r\n\r\n// ==================== Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ (Ù…Ø­Ø°ÙˆÙØ© Ù„Ù„Ø§Ø®ØªØµØ§Ø± ÙˆÙ„ÙƒÙ† ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ) ====================\r\n// ... (Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…Ù† Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ)\r\n\r\n// AUTH ENDPOINTS\r\napi.login = async (email, password) => {\r\n  try {\r\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\r\n    \r\n    const response = await api.post('/auth/login', { email, password });\r\n    \r\n    if (response.success && response.token) {\r\n      api.setToken(response.token);\r\n      \r\n      if (response.user) {\r\n        localStorage.setItem('user', JSON.stringify(response.user));\r\n        localStorage.setItem('lastLogin', new Date().toISOString());\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: response\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      return { success: false, message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…' };\r\n    }\r\n    \r\n    if (error.status === 401) {\r\n      return { success: false, message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' };\r\n    }\r\n    \r\n    return { success: false, message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…' };\r\n  }\r\n};\r\n\r\napi.logout = async (redirect = true) => {\r\n  try {\r\n    await api.post('/auth/logout');\r\n  } catch (error) {\r\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\r\n  } finally {\r\n    api.setToken(null);\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastLogin');\r\n    \r\n    if (redirect) {\r\n      window.location.href = '/login';\r\n    }\r\n  }\r\n};\r\n\r\napi.getProfile = async () => {\r\n  try {\r\n    return await api.get('/auth/profile');\r\n  } catch (error) {\r\n    return { success: false, message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ' };\r\n  }\r\n};\r\n\r\n// BRANCHES ENDPOINTS\r\napi.getBranches = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/branches', { params });\r\n    return {\r\n      success: true,\r\n      data: response.data || [],\r\n      count: response.count || 0\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\napi.getBranch = async (branchId) => {\r\n  try {\r\n    const response = await api.get(`/branches/${branchId}`);\r\n    \r\n    if (response.success) {\r\n      return { success: true, data: response.data };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: true\r\n      },\r\n      fromCache: true\r\n    };\r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: true\r\n      },\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\napi.createBranch = async (branchData) => {\r\n  try {\r\n    return await api.post('/branches', branchData);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹' };\r\n  }\r\n};\r\n\r\napi.updateBranch = async (id, branchData) => {\r\n  try {\r\n    return await api.put(`/branches/${id}`, branchData);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹' };\r\n  }\r\n};\r\n\r\napi.deleteBranch = async (id, permanent = false) => {\r\n  try {\r\n    return await api.delete(`/branches/${id}?permanent=${permanent}`);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹' };\r\n  }\r\n};\r\n\r\napi.getBranchGames = async (branchId) => {\r\n  try {\r\n    const response = await api.get(`/branches/${branchId}/games`);\r\n    return {\r\n      success: true,\r\n      data: response.data || [],\r\n      stats: response.stats || {}\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\n// GAMES ENDPOINTS\r\napi.getGames = async (params = {}) => {\r\n  try {\r\n    const requestParams = { ...params };\r\n    delete requestParams.status;\r\n    \r\n    const response = await api.get('/games', { params: requestParams, timeout: 15000 });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return { success: false, data: [] };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\napi.getAvailableGames = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/games/available', { params });\r\n    return {\r\n      success: true,\r\n      data: response.data || [],\r\n      count: response.count || 0\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\napi.getGameById = async (id) => {\r\n  try {\r\n    return await api.get(`/games/${id}`);\r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù„Ø¹Ø¨Ø© ${id}:`, error);\r\n    return { success: false, message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©' };\r\n  }\r\n};\r\n\r\napi.createGame = async (gameData) => {\r\n  try {\r\n    return await api.post('/games', gameData);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©' };\r\n  }\r\n};\r\n\r\napi.updateGame = async (id, gameData) => {\r\n  try {\r\n    return await api.put(`/games/${id}`, gameData);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©' };\r\n  }\r\n};\r\n\r\napi.deleteGame = async (id, permanent = false) => {\r\n  try {\r\n    return await api.delete(`/games/${id}?permanent=${permanent}`);\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return { success: false, message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©' };\r\n  }\r\n};\r\n\r\n// SHIFTS ENDPOINTS\r\napi.getCurrentShift = async () => {\r\n  try {\r\n    const response = await api.get('/shifts/current');\r\n    \r\n    if (response.success && response.data) {\r\n      return {\r\n        success: true,\r\n        data: response.data,\r\n        exists: true,\r\n        message: 'ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      exists: false,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error.message);\r\n    return { success: true, data: null, exists: false };\r\n  }\r\n};\r\n\r\napi.startShift = async (openingCash = 0) => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©\r\n    const endpoints = [\r\n      { method: 'post', url: '/shifts/start', data: { opening_cash: openingCash } },\r\n      { method: 'post', url: '/shifts/start-simple', data: {} },\r\n      { method: 'post', url: '/shifts/start-clean', data: {} }\r\n    ];\r\n    \r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        const response = await api[endpoint.method](endpoint.url, endpoint.data);\r\n        if (response && response.success) {\r\n          console.log(`âœ… Ù†Ø¬Ø­ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¹Ø¨Ø± ${endpoint.url}`);\r\n          \r\n          if (response.data) {\r\n            localStorage.setItem('current_shift', JSON.stringify(response.data));\r\n          }\r\n          \r\n          return response;\r\n        }\r\n      } catch (error) {\r\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint.url}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShift:', error);\r\n    return { success: false, message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹' };\r\n  }\r\n};\r\n\r\napi.endShift = async (shiftId, closingData = {}) => {\r\n  try {\r\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId}...`);\r\n    \r\n    const response = await api.put(`/shifts/${shiftId}/end`, {\r\n      closing_cash: closingData.closing_cash,\r\n      notes: closingData.notes || 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n    });\r\n    \r\n    if (response.success) {\r\n      localStorage.removeItem('current_shift');\r\n    }\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    \r\n    try {\r\n      const altResponse = await api.post(`/shifts/${shiftId}/end-quick`, {\r\n        notes: closingData.notes || 'Ø¥Ù†Ù‡Ø§Ø¡ Ø³Ø±ÙŠØ¹'\r\n      });\r\n      \r\n      if (altResponse.success) {\r\n        localStorage.removeItem('current_shift');\r\n      }\r\n      \r\n      return altResponse;\r\n    } catch (altError) {\r\n      return { success: false, message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª' };\r\n    }\r\n  }\r\n};\r\n\r\napi.getShiftDetails = async (shiftId) => {\r\n  try {\r\n    const response = await api.get(`/shifts/${shiftId}/details`);\r\n    return {\r\n      success: true,\r\n      data: response.data || {},\r\n      stats: response.stats || {}\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return { success: false, data: null };\r\n  }\r\n};\r\n\r\napi.getAllActiveShifts = async () => {\r\n  try {\r\n    const response = await api.get('/shifts/active-all');\r\n    return {\r\n      success: true,\r\n      data: response.data || [],\r\n      count: response.count || 0\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\napi.getShiftStats = async (shiftId) => {\r\n  try {\r\n    const response = await api.get(`/shifts/${shiftId}/stats`);\r\n    return {\r\n      success: true,\r\n      data: response.data || {}\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return { success: false, data: null };\r\n  }\r\n};\r\n\r\napi.getShifts = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/shifts', { params });\r\n    return {\r\n      success: true,\r\n      data: response.data || [],\r\n      count: response.count || 0\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\n// DASHBOARD & STATS\r\napi.getSimpleStats = async () => {\r\n  try {\r\n    const response = await api.get('/dashboard/stats/simple');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\r\n    return {\r\n      success: false,\r\n      data: {\r\n        availableGames: 0,\r\n        totalGames: 0,\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        activeRentals: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getDashboardStats = async () => {\r\n  try {\r\n    const response = await api.get('/dashboard/stats');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\r\n    return { success: false, data: {} };\r\n  }\r\n};\r\n\r\napi.getDashboardAllStats = async () => {\r\n  try {\r\n    const response = await api.get('/dashboard/all-stats');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\r\n    return { success: false, data: {} };\r\n  }\r\n};\r\n\r\n// HEALTH & TEST\r\napi.healthCheck = async () => {\r\n  try {\r\n    return await api.get('/health');\r\n  } catch (error) {\r\n    return { success: false, message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…' };\r\n  }\r\n};\r\n\r\napi.testConnection = async () => {\r\n  try {\r\n    const response = await api.get('/health');\r\n    return {\r\n      success: true,\r\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\r\n      data: response\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\r\nconst savedToken = localStorage.getItem('token');\r\nif (savedToken) {\r\n  api.setToken(savedToken);\r\n}\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}