{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconsole.log('ðŸŒ API Base URL:', API_BASE_URL);\n\n// ==================== ØªÙ‡ÙŠØ¦Ø© axios ====================\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'ar'\n  }\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\nconst getStoredUser = () => {\n  try {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return null;\n  }\n};\nconst setStoredUser = user => {\n  try {\n    if (user) {\n      localStorage.setItem('user', JSON.stringify(user));\n    } else {\n      localStorage.removeItem('user');\n    }\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n  }\n};\nconst checkUserPermission = requiredRole => {\n  const user = getStoredUser();\n  if (!user || !user.role) return false;\n  const roleHierarchy = {\n    'admin': 3,\n    'branch_manager': 2,\n    'employee': 1\n  };\n  const userLevel = roleHierarchy[user.role] || 0;\n  const requiredLevel = roleHierarchy[requiredRole] || 0;\n  return userLevel >= requiredLevel;\n};\n\n// ==================== Interceptors ====================\napi.interceptors.request.use(config => {\n  var _config$method;\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // âœ… ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª: Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\n  if (config.url && config.url.startsWith('/api/')) {\n    config.url = config.url.replace(/^\\/api/, '');\n    console.log('ðŸ”„ ØªÙ… ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±:', config.url);\n  }\n  console.log('ðŸŒ API Request:', {\n    method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n    url: config.url,\n    baseURL: config.baseURL\n  });\n  return config;\n}, error => {\n  console.error('âŒ Request Interceptor Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  console.log('âœ… API Response:', {\n    url: response.config.url,\n    status: response.status,\n    data: response.data\n  });\n  return response.data;\n}, error => {\n  var _error$response, _error$response2, _error$response2$data, _error$response3, _error$response4;\n  const errorData = {\n    success: false,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\n    data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data\n  };\n  console.error('âŒ API Error:', errorData);\n  if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 401) {\n    console.log('ðŸ”’ Ø¬Ù„Ø³Ø© Ù…Ù†ØªÙ‡ÙŠØ©ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬...');\n    api.clearAuth();\n    window.location.href = '/login';\n  }\n  return Promise.reject(errorData);\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ† ====================\napi.setToken = token => {\n  if (token) {\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    localStorage.setItem('token', token);\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n  }\n};\napi.clearAuth = () => {\n  delete api.defaults.headers.common['Authorization'];\n  localStorage.removeItem('token');\n  localStorage.removeItem('user');\n  localStorage.removeItem('lastLogin');\n};\napi.getToken = () => {\n  return localStorage.getItem('token');\n};\n\n// âœ… **Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø­Ø§Ø³Ù… - Ø¯Ø§Ù„Ø© Ø¨Ø³ÙŠØ·Ø© Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±**\napi.getUser = () => {\n  return getStoredUser();\n};\napi.setUser = user => {\n  setStoredUser(user);\n};\napi.checkAuth = () => {\n  const token = api.getToken();\n  const user = getStoredUser();\n  return {\n    isAuthenticated: !!token && !!user,\n    token: token,\n    user: user\n  };\n};\napi.hasPermission = requiredRole => {\n  return checkUserPermission(requiredRole);\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\n\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\napi.login = async (email, password) => {\n  try {\n    const response = await api.post('/auth/login', {\n      email,\n      password\n    });\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n    };\n  }\n};\napi.logout = async () => {\n  try {\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\n  } finally {\n    api.clearAuth();\n    window.location.href = '/login';\n  }\n};\napi.getProfile = async () => {\n  try {\n    const response = await api.get('/auth/profile');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\n    };\n  }\n};\n\n// 2. Ø§Ù„ÙØ±ÙˆØ¹ - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø§Ø· API Ø§Ù„ØµØ­ÙŠØ­Ø©\napi.getBranches = async (params = {}) => {\n  try {\n    const response = await api.get('/branches', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹',\n      data: []\n    };\n  }\n};\napi.getBranchStats = async () => {\n  try {\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©\n    const endpoints = ['/branches/with-stats', '/branches/stats', '/branches'];\n    for (const endpoint of endpoints) {\n      try {\n        const response = await api.get(endpoint);\n        return response;\n      } catch (error) {\n        console.log(`âš ï¸ Ø§Ù„Ù†Ù‚Ø·Ø© ${endpoint} ØºÙŠØ± Ù…ØªØ§Ø­Ø©`);\n        continue;\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n    const response = await api.get('/branches');\n    if (response.success) {\n      const branches = response.data || [];\n      const branchesWithStats = branches.map(branch => ({\n        ...branch,\n        stats: {\n          total_games: 0,\n          available_games: 0,\n          total_rentals: 0\n        }\n      }));\n      return {\n        success: true,\n        data: branchesWithStats\n      };\n    }\n    throw new Error('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹');\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹',\n      data: []\n    };\n  }\n};\napi.getBranch = async id => {\n  try {\n    const response = await api.get(`/branches/${id}`);\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n      data: null\n    };\n  }\n};\napi.getBranchGames = async branchId => {\n  try {\n    const response = await api.get(`/branches/${branchId}/games`);\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\n      data: []\n    };\n  }\n};\n\n// 3. Ø§Ù„Ø´ÙŠÙØªØ§Øª - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø§Ø· API Ø§Ù„ØµØ­ÙŠØ­Ø©\napi.getActiveShift = async () => {\n  try {\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©\n    const endpoints = ['/shifts/active', '/shifts/get-active', '/shifts?status=Ù†Ø´Ø·'];\n    for (const endpoint of endpoints) {\n      try {\n        const response = await api.get(endpoint);\n        if (response.success && response.data) {\n          return response;\n        }\n      } catch (error) {\n        console.log(`âš ï¸ Ø§Ù„Ù†Ù‚Ø·Ø© ${endpoint} ØºÙŠØ± Ù…ØªØ§Ø­Ø©`);\n        continue;\n      }\n    }\n\n    // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø´ÙŠÙØªØ§Øª Ù†Ø´Ø·Ø©\n    return {\n      success: true,\n      data: null,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n      data: null\n    };\n  }\n};\napi.startShift = async () => {\n  try {\n    const response = await api.post('/shifts/start');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.getShifts = async (params = {}) => {\n  try {\n    const response = await api.get('/shifts', {\n      params\n    });\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\n\n// 4. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\napi.getGames = async (params = {}) => {\n  try {\n    const response = await api.get('/games', {\n      params\n    });\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  }\n};\napi.getAvailableGames = async (params = {}) => {\n  try {\n    const response = await api.get('/games', {\n      params: {\n        ...params,\n        status: 'Ù…ØªØ§Ø­'\n      }\n    });\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©',\n      data: []\n    };\n  }\n};\n\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRentals = async (params = {}) => {\n  try {\n    const response = await api.get('/rentals', {\n      params\n    });\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      data: []\n    };\n  }\n};\napi.createRental = async rentalData => {\n  try {\n    const response = await api.post('/rentals', rentalData);\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// 6. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\napi.getUsers = async () => {\n  try {\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª\n    if (!checkUserPermission('admin')) {\n      return {\n        success: false,\n        status: 403,\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n      };\n    }\n    const response = await api.get('/users');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\n      data: []\n    };\n  }\n};\n\n// 7. Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„\napi.healthCheck = async () => {\n  try {\n    const response = await api.get('/health');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ====================\napi.testConnection = async () => {\n  try {\n    const response = await api.healthCheck();\n    return {\n      success: response.success,\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„'\n    };\n  }\n};\n\n// ==================== Ø¯Ø§Ù„Ø© Ù„ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ====================\napi.fixUrl = url => {\n  if (!url) return '';\n\n  // Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\n  let fixedUrl = url.replace(/^\\/api/, '');\n\n  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ /\n  if (!fixedUrl.startsWith('/')) {\n    fixedUrl = '/' + fixedUrl;\n  }\n  return fixedUrl;\n};\n\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\nconst token = localStorage.getItem('token');\nif (token) {\n  api.setToken(token);\n}\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","timeout","headers","getStoredUser","userStr","localStorage","getItem","JSON","parse","error","setStoredUser","user","setItem","stringify","removeItem","checkUserPermission","requiredRole","role","roleHierarchy","userLevel","requiredLevel","interceptors","request","use","config","_config$method","token","Authorization","url","startsWith","replace","method","toUpperCase","Promise","reject","response","status","data","_error$response","_error$response2","_error$response2$data","_error$response3","_error$response4","errorData","success","message","clearAuth","window","location","href","setToken","defaults","common","getToken","getUser","setUser","checkAuth","isAuthenticated","hasPermission","login","email","password","post","logout","getProfile","get","getBranches","params","getBranchStats","endpoints","endpoint","branches","branchesWithStats","map","branch","stats","total_games","available_games","total_rentals","Error","getBranch","id","getBranchGames","branchId","getActiveShift","startShift","getShifts","getGames","getAvailableGames","getRentals","createRental","rentalData","getUsers","healthCheck","testConnection","fixUrl","fixedUrl"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconsole.log('ðŸŒ API Base URL:', API_BASE_URL);\r\n\r\n// ==================== ØªÙ‡ÙŠØ¦Ø© axios ====================\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Language': 'ar'\r\n  }\r\n});\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\nconst getStoredUser = () => {\r\n  try {\r\n    const userStr = localStorage.getItem('user');\r\n    return userStr ? JSON.parse(userStr) : null;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst setStoredUser = (user) => {\r\n  try {\r\n    if (user) {\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n    } else {\r\n      localStorage.removeItem('user');\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n  }\r\n};\r\n\r\nconst checkUserPermission = (requiredRole) => {\r\n  const user = getStoredUser();\r\n  if (!user || !user.role) return false;\r\n  \r\n  const roleHierarchy = {\r\n    'admin': 3,\r\n    'branch_manager': 2,\r\n    'employee': 1\r\n  };\r\n  \r\n  const userLevel = roleHierarchy[user.role] || 0;\r\n  const requiredLevel = roleHierarchy[requiredRole] || 0;\r\n  \r\n  return userLevel >= requiredLevel;\r\n};\r\n\r\n// ==================== Interceptors ====================\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // âœ… ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª: Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\r\n    if (config.url && config.url.startsWith('/api/')) {\r\n      config.url = config.url.replace(/^\\/api/, '');\r\n      console.log('ðŸ”„ ØªÙ… ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±:', config.url);\r\n    }\r\n    \r\n    console.log('ðŸŒ API Request:', {\r\n      method: config.method?.toUpperCase(),\r\n      url: config.url,\r\n      baseURL: config.baseURL\r\n    });\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Request Interceptor Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log('âœ… API Response:', {\r\n      url: response.config.url,\r\n      status: response.status,\r\n      data: response.data\r\n    });\r\n    \r\n    return response.data;\r\n  },\r\n  (error) => {\r\n    const errorData = {\r\n      success: false,\r\n      status: error.response?.status,\r\n      message: error.response?.data?.message || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\r\n      data: error.response?.data\r\n    };\r\n    \r\n    console.error('âŒ API Error:', errorData);\r\n    \r\n    if (error.response?.status === 401) {\r\n      console.log('ðŸ”’ Ø¬Ù„Ø³Ø© Ù…Ù†ØªÙ‡ÙŠØ©ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬...');\r\n      api.clearAuth();\r\n      window.location.href = '/login';\r\n    }\r\n    \r\n    return Promise.reject(errorData);\r\n  }\r\n);\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆÙƒÙ† ====================\r\napi.setToken = (token) => {\r\n  if (token) {\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    localStorage.setItem('token', token);\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n  }\r\n};\r\n\r\napi.clearAuth = () => {\r\n  delete api.defaults.headers.common['Authorization'];\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('lastLogin');\r\n};\r\n\r\napi.getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\n// âœ… **Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø­Ø§Ø³Ù… - Ø¯Ø§Ù„Ø© Ø¨Ø³ÙŠØ·Ø© Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø±**\r\napi.getUser = () => {\r\n  return getStoredUser();\r\n};\r\n\r\napi.setUser = (user) => {\r\n  setStoredUser(user);\r\n};\r\n\r\napi.checkAuth = () => {\r\n  const token = api.getToken();\r\n  const user = getStoredUser();\r\n  \r\n  return {\r\n    isAuthenticated: !!token && !!user,\r\n    token: token,\r\n    user: user\r\n  };\r\n};\r\n\r\napi.hasPermission = (requiredRole) => {\r\n  return checkUserPermission(requiredRole);\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\r\n\r\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\napi.login = async (email, password) => {\r\n  try {\r\n    const response = await api.post('/auth/login', { email, password });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\r\n    };\r\n  }\r\n};\r\n\r\napi.logout = async () => {\r\n  try {\r\n    await api.post('/auth/logout');\r\n  } catch (error) {\r\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\r\n  } finally {\r\n    api.clearAuth();\r\n    window.location.href = '/login';\r\n  }\r\n};\r\n\r\napi.getProfile = async () => {\r\n  try {\r\n    const response = await api.get('/auth/profile');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. Ø§Ù„ÙØ±ÙˆØ¹ - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø§Ø· API Ø§Ù„ØµØ­ÙŠØ­Ø©\r\napi.getBranches = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/branches', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchStats = async () => {\r\n  try {\r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©\r\n    const endpoints = ['/branches/with-stats', '/branches/stats', '/branches'];\r\n    \r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        const response = await api.get(endpoint);\r\n        return response;\r\n      } catch (error) {\r\n        console.log(`âš ï¸ Ø§Ù„Ù†Ù‚Ø·Ø© ${endpoint} ØºÙŠØ± Ù…ØªØ§Ø­Ø©`);\r\n        continue;\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n    const response = await api.get('/branches');\r\n    if (response.success) {\r\n      const branches = response.data || [];\r\n      const branchesWithStats = branches.map(branch => ({\r\n        ...branch,\r\n        stats: {\r\n          total_games: 0,\r\n          available_games: 0,\r\n          total_rentals: 0\r\n        }\r\n      }));\r\n      \r\n      return {\r\n        success: true,\r\n        data: branchesWithStats\r\n      };\r\n    }\r\n    \r\n    throw new Error('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±ÙˆØ¹');\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±ÙˆØ¹',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranch = async (id) => {\r\n  try {\r\n    const response = await api.get(`/branches/${id}`);\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchGames = async (branchId) => {\r\n  try {\r\n    const response = await api.get(`/branches/${branchId}/games`);\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// 3. Ø§Ù„Ø´ÙŠÙØªØ§Øª - Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø§Ø· API Ø§Ù„ØµØ­ÙŠØ­Ø©\r\napi.getActiveShift = async () => {\r\n  try {\r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ØªØ§Ø­Ø©\r\n    const endpoints = ['/shifts/active', '/shifts/get-active', '/shifts?status=Ù†Ø´Ø·'];\r\n    \r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        const response = await api.get(endpoint);\r\n        if (response.success && response.data) {\r\n          return response;\r\n        }\r\n      } catch (error) {\r\n        console.log(`âš ï¸ Ø§Ù„Ù†Ù‚Ø·Ø© ${endpoint} ØºÙŠØ± Ù…ØªØ§Ø­Ø©`);\r\n        continue;\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ø´ÙŠÙØªØ§Øª Ù†Ø´Ø·Ø©\r\n    return {\r\n      success: true,\r\n      data: null,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.startShift = async () => {\r\n  try {\r\n    const response = await api.post('/shifts/start');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\napi.getShifts = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/shifts', { params });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\napi.getGames = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/games', { params });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getAvailableGames = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/games', {\r\n      params: { ...params, status: 'Ù…ØªØ§Ø­' }\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRentals = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/rentals', { params });\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.createRental = async (rentalData) => {\r\n  try {\r\n    const response = await api.post('/rentals', rentalData);\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// 6. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\r\napi.getUsers = async () => {\r\n  try {\r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª\r\n    if (!checkUserPermission('admin')) {\r\n      return {\r\n        success: false,\r\n        status: 403,\r\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n      };\r\n    }\r\n    \r\n    const response = await api.get('/users');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// 7. Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„\r\napi.healthCheck = async () => {\r\n  try {\r\n    const response = await api.get('/health');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ====================\r\napi.testConnection = async () => {\r\n  try {\r\n    const response = await api.healthCheck();\r\n    return {\r\n      success: response.success,\r\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\r\n      data: response.data\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„'\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯Ø§Ù„Ø© Ù„ØªØµØ­ÙŠØ­ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ====================\r\napi.fixUrl = (url) => {\r\n  if (!url) return '';\r\n  \r\n  // Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\r\n  let fixedUrl = url.replace(/^\\/api/, '');\r\n  \r\n  // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ /\r\n  if (!fixedUrl.startsWith('/')) {\r\n    fixedUrl = '/' + fixedUrl;\r\n  }\r\n  \r\n  return fixedUrl;\r\n};\r\n\r\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\r\nconst token = localStorage.getItem('token');\r\nif (token) {\r\n  api.setToken(token);\r\n}\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}