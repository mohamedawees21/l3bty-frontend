{"ast":null,"code":"// src/services/analyticsService.js\nimport api from './api';\nconst analyticsService = {\n  // إحصائيات لوحة التحكم الرئيسية\n  getDashboardStats: async (params = {}) => {\n    try {\n      const response = await api.get('/dashboard/stats', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error loading dashboard stats:', error);\n\n      // بيانات افتراضية للوضع غير المتصل\n      return {\n        success: true,\n        data: {\n          summary: {\n            total_revenue: 15000,\n            total_rentals: 45,\n            active_rentals: 3,\n            available_games: 15,\n            today_revenue: 1200,\n            today_rentals: 2,\n            total_users: 8,\n            total_branches: 3,\n            total_games: 20,\n            total_customers: 25\n          },\n          topGames: [{\n            id: 1,\n            name: 'دريفت كار',\n            rental_count: 15,\n            total_revenue: 4500,\n            price_per_hour: 150\n          }, {\n            id: 2,\n            name: 'موتوسيكل كهربائي',\n            rental_count: 12,\n            total_revenue: 3600,\n            price_per_hour: 120\n          }, {\n            id: 3,\n            name: 'عربة كهربائية',\n            rental_count: 8,\n            total_revenue: 3200,\n            price_per_hour: 200\n          }],\n          monthlyRevenue: [{\n            month: '2024-01',\n            month_name: 'يناير',\n            revenue: 12000,\n            rental_count: 25\n          }, {\n            month: '2024-02',\n            month_name: 'فبراير',\n            revenue: 15000,\n            rental_count: 30\n          }]\n        },\n        isFallback: true\n      };\n    }\n  },\n  // أفضل الألعاب\n  getTopGames: async (limit = 5) => {\n    try {\n      const response = await analyticsService.getDashboardStats();\n      if (response.success) {\n        var _response$data, _response$data$topGam;\n        return {\n          success: true,\n          data: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$topGam = _response$data.topGames) === null || _response$data$topGam === void 0 ? void 0 : _response$data$topGam.slice(0, limit)) || []\n        };\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل أفضل الألعاب'\n      };\n    }\n  },\n  // أفضل العملاء\n  getTopCustomers: async (limit = 5) => {\n    try {\n      const response = await analyticsService.getDashboardStats();\n      if (response.success) {\n        var _response$data2, _response$data2$topCu;\n        return {\n          success: true,\n          data: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : (_response$data2$topCu = _response$data2.topCustomers) === null || _response$data2$topCu === void 0 ? void 0 : _response$data2$topCu.slice(0, limit)) || []\n        };\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل أفضل العملاء'\n      };\n    }\n  },\n  // الإيرادات الشهرية\n  getMonthlyRevenue: async () => {\n    try {\n      const response = await analyticsService.getDashboardStats();\n      if (response.success) {\n        var _response$data3;\n        return {\n          success: true,\n          data: ((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.monthlyRevenue) || []\n        };\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل الإيرادات الشهرية'\n      };\n    }\n  },\n  // التأجيرات النشطة\n  getActiveRentals: async () => {\n    try {\n      const response = await analyticsService.getDashboardStats();\n      if (response.success) {\n        var _response$data4;\n        return {\n          success: true,\n          data: ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.activeRentals) || []\n        };\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'تعذر تحميل التأجيرات النشطة'\n      };\n    }\n  }\n};\nexport default analyticsService;","map":{"version":3,"names":["api","analyticsService","getDashboardStats","params","response","get","data","error","console","success","summary","total_revenue","total_rentals","active_rentals","available_games","today_revenue","today_rentals","total_users","total_branches","total_games","total_customers","topGames","id","name","rental_count","price_per_hour","monthlyRevenue","month","month_name","revenue","isFallback","getTopGames","limit","_response$data","_response$data$topGam","slice","message","getTopCustomers","_response$data2","_response$data2$topCu","topCustomers","getMonthlyRevenue","_response$data3","getActiveRentals","_response$data4","activeRentals"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/analyticsService.js"],"sourcesContent":["// src/services/analyticsService.js\r\nimport api from './api';\r\n\r\nconst analyticsService = {\r\n  // إحصائيات لوحة التحكم الرئيسية\r\n  getDashboardStats: async (params = {}) => {\r\n    try {\r\n      const response = await api.get('/dashboard/stats', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error loading dashboard stats:', error);\r\n      \r\n      // بيانات افتراضية للوضع غير المتصل\r\n      return {\r\n        success: true,\r\n        data: {\r\n          summary: {\r\n            total_revenue: 15000,\r\n            total_rentals: 45,\r\n            active_rentals: 3,\r\n            available_games: 15,\r\n            today_revenue: 1200,\r\n            today_rentals: 2,\r\n            total_users: 8,\r\n            total_branches: 3,\r\n            total_games: 20,\r\n            total_customers: 25\r\n          },\r\n          topGames: [\r\n            { id: 1, name: 'دريفت كار', rental_count: 15, total_revenue: 4500, price_per_hour: 150 },\r\n            { id: 2, name: 'موتوسيكل كهربائي', rental_count: 12, total_revenue: 3600, price_per_hour: 120 },\r\n            { id: 3, name: 'عربة كهربائية', rental_count: 8, total_revenue: 3200, price_per_hour: 200 }\r\n          ],\r\n          monthlyRevenue: [\r\n            { month: '2024-01', month_name: 'يناير', revenue: 12000, rental_count: 25 },\r\n            { month: '2024-02', month_name: 'فبراير', revenue: 15000, rental_count: 30 }\r\n          ]\r\n        },\r\n        isFallback: true\r\n      };\r\n    }\r\n  },\r\n\r\n  // أفضل الألعاب\r\n  getTopGames: async (limit = 5) => {\r\n    try {\r\n      const response = await analyticsService.getDashboardStats();\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data?.topGames?.slice(0, limit) || []\r\n        };\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل أفضل الألعاب'\r\n      };\r\n    }\r\n  },\r\n\r\n  // أفضل العملاء\r\n  getTopCustomers: async (limit = 5) => {\r\n    try {\r\n      const response = await analyticsService.getDashboardStats();\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data?.topCustomers?.slice(0, limit) || []\r\n        };\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل أفضل العملاء'\r\n      };\r\n    }\r\n  },\r\n\r\n  // الإيرادات الشهرية\r\n  getMonthlyRevenue: async () => {\r\n    try {\r\n      const response = await analyticsService.getDashboardStats();\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data?.monthlyRevenue || []\r\n        };\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل الإيرادات الشهرية'\r\n      };\r\n    }\r\n  },\r\n\r\n  // التأجيرات النشطة\r\n  getActiveRentals: async () => {\r\n    try {\r\n      const response = await analyticsService.getDashboardStats();\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data?.activeRentals || []\r\n        };\r\n      }\r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'تعذر تحميل التأجيرات النشطة'\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\nexport default analyticsService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}