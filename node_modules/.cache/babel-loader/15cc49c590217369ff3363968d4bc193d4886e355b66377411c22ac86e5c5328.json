{"ast":null,"code":"// frontend/src/services/apiService.js\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass ApiService {\n  constructor() {\n    this.token = localStorage.getItem('token');\n  }\n  setToken(token) {\n    this.token = token;\n    localStorage.setItem('token', token);\n  }\n  clearToken() {\n    this.token = null;\n    localStorage.removeItem('token');\n  }\n  async request(endpoint, options = {}) {\n    const url = `${API_URL}${endpoint}`;\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers\n    };\n    if (this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n    try {\n      const response = await fetch(url, {\n        ...options,\n        headers\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || 'Request failed');\n      }\n      return data;\n    } catch (error) {\n      console.error('API Request Error:', error);\n      throw error;\n    }\n  }\n\n  // üîê Auth\n  async login(email, password) {\n    return this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n  }\n  async getCurrentUser() {\n    const userStr = localStorage.getItem('user');\n    return userStr ? JSON.parse(userStr) : null;\n  }\n\n  // üë• Users\n  async getUsers() {\n    return this.request('/users');\n  }\n  async createUser(userData) {\n    return this.request('/users', {\n      method: 'POST',\n      body: JSON.stringify(userData)\n    });\n  }\n  async updateUser(id, userData) {\n    return this.request(`/users/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(userData)\n    });\n  }\n  async deleteUser(id) {\n    return this.request(`/users/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // üéÆ Games\n  async getGames() {\n    return this.request('/games');\n  }\n  async createGame(gameData) {\n    return this.request('/games', {\n      method: 'POST',\n      body: JSON.stringify(gameData)\n    });\n  }\n  async updateGame(id, gameData) {\n    return this.request(`/games/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(gameData)\n    });\n  }\n  async deleteGame(id) {\n    return this.request(`/games/${id}`, {\n      method: 'DELETE'\n    });\n  }\n\n  // üè¨ Branches\n  async getBranches() {\n    return this.request('/branches');\n  }\n\n  // ‚è±Ô∏è Rentals\n  async getRentals() {\n    return this.request('/rentals');\n  }\n  async createRental(rentalData) {\n    return this.request('/rentals', {\n      method: 'POST',\n      body: JSON.stringify(rentalData)\n    });\n  }\n\n  // üìä Dashboard\n  async getDashboardStats() {\n    return this.request('/dashboard/stats');\n  }\n  async getRecentRentals() {\n    return this.request('/dashboard/recent-rentals');\n  }\n  async getTopGames() {\n    return this.request('/dashboard/top-games');\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","ApiService","constructor","token","localStorage","getItem","setToken","setItem","clearToken","removeItem","request","endpoint","options","url","headers","response","fetch","data","json","ok","Error","message","error","console","login","email","password","method","body","JSON","stringify","getCurrentUser","userStr","parse","getUsers","createUser","userData","updateUser","id","deleteUser","getGames","createGame","gameData","updateGame","deleteGame","getBranches","getRentals","createRental","rentalData","getDashboardStats","getRecentRentals","getTopGames"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/apiService.js"],"sourcesContent":["// frontend/src/services/apiService.js\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass ApiService {\r\n  constructor() {\r\n    this.token = localStorage.getItem('token');\r\n  }\r\n\r\n  setToken(token) {\r\n    this.token = token;\r\n    localStorage.setItem('token', token);\r\n  }\r\n\r\n  clearToken() {\r\n    this.token = null;\r\n    localStorage.removeItem('token');\r\n  }\r\n\r\n  async request(endpoint, options = {}) {\r\n    const url = `${API_URL}${endpoint}`;\r\n    \r\n    const headers = {\r\n      'Content-Type': 'application/json',\r\n      ...options.headers,\r\n    };\r\n\r\n    if (this.token) {\r\n      headers['Authorization'] = `Bearer ${this.token}`;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(url, {\r\n        ...options,\r\n        headers,\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || 'Request failed');\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('API Request Error:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // üîê Auth\r\n  async login(email, password) {\r\n    return this.request('/auth/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  async getCurrentUser() {\r\n    const userStr = localStorage.getItem('user');\r\n    return userStr ? JSON.parse(userStr) : null;\r\n  }\r\n\r\n  // üë• Users\r\n  async getUsers() {\r\n    return this.request('/users');\r\n  }\r\n\r\n  async createUser(userData) {\r\n    return this.request('/users', {\r\n      method: 'POST',\r\n      body: JSON.stringify(userData),\r\n    });\r\n  }\r\n\r\n  async updateUser(id, userData) {\r\n    return this.request(`/users/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(userData),\r\n    });\r\n  }\r\n\r\n  async deleteUser(id) {\r\n    return this.request(`/users/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  // üéÆ Games\r\n  async getGames() {\r\n    return this.request('/games');\r\n  }\r\n\r\n  async createGame(gameData) {\r\n    return this.request('/games', {\r\n      method: 'POST',\r\n      body: JSON.stringify(gameData),\r\n    });\r\n  }\r\n\r\n  async updateGame(id, gameData) {\r\n    return this.request(`/games/${id}`, {\r\n      method: 'PUT',\r\n      body: JSON.stringify(gameData),\r\n    });\r\n  }\r\n\r\n  async deleteGame(id) {\r\n    return this.request(`/games/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  // üè¨ Branches\r\n  async getBranches() {\r\n    return this.request('/branches');\r\n  }\r\n\r\n  // ‚è±Ô∏è Rentals\r\n  async getRentals() {\r\n    return this.request('/rentals');\r\n  }\r\n\r\n  async createRental(rentalData) {\r\n    return this.request('/rentals', {\r\n      method: 'POST',\r\n      body: JSON.stringify(rentalData),\r\n    });\r\n  }\r\n\r\n  // üìä Dashboard\r\n  async getDashboardStats() {\r\n    return this.request('/dashboard/stats');\r\n  }\r\n\r\n  async getRecentRentals() {\r\n    return this.request('/dashboard/recent-rentals');\r\n  }\r\n\r\n  async getTopGames() {\r\n    return this.request('/dashboard/top-games');\r\n  }\r\n}\r\n\r\nexport default new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}