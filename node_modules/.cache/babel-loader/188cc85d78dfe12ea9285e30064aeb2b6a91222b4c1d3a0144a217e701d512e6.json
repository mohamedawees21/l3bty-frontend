{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport apiService from '../../services/apiService';\nimport './AdminDashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const [stats, setStats] = useState({\n    totalRevenue: 0,\n    totalRentals: 0,\n    activeRentals: 0,\n    totalUsers: 0,\n    totalBranches: 0,\n    totalGames: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n  const [recentRentals, setRecentRentals] = useState([]);\n  const [topGames, setTopGames] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    loadDashboardData();\n  }, []);\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n\n      // تحميل جميع البيانات في نفس الوقت\n      const [statsData, recentData, topGamesData] = await Promise.all([apiService.getDashboardStats(), apiService.getRecentRentals(), apiService.getTopGames()]);\n      if (statsData.success) {\n        setStats(statsData.data);\n      }\n      if (recentData.success) {\n        setRecentRentals(recentData.data);\n      }\n      if (topGamesData.success) {\n        setTopGames(topGamesData.data);\n      }\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n      // استخدام بيانات وهمية إذا فشل الاتصال\n      setStats({\n        totalRevenue: 52400,\n        totalRentals: 158,\n        activeRentals: 12,\n        totalUsers: 23,\n        totalBranches: 5,\n        totalGames: 40,\n        todayRevenue: 5240,\n        todayRentals: 8\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-dashboard loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"kUI5vUkgx1nfFICy5SgeqN7ffdE=\");\n_c = AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","apiService","jsxDEV","_jsxDEV","AdminDashboard","_s","stats","setStats","totalRevenue","totalRentals","activeRentals","totalUsers","totalBranches","totalGames","todayRevenue","todayRentals","recentRentals","setRecentRentals","topGames","setTopGames","loading","setLoading","loadDashboardData","statsData","recentData","topGamesData","Promise","all","getDashboardStats","getRecentRentals","getTopGames","success","data","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/admin/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport apiService from '../../services/apiService';\r\nimport './AdminDashboard.css';\r\n\r\nconst AdminDashboard = () => {\r\n  const [stats, setStats] = useState({\r\n    totalRevenue: 0,\r\n    totalRentals: 0,\r\n    activeRentals: 0,\r\n    totalUsers: 0,\r\n    totalBranches: 0,\r\n    totalGames: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n\r\n  const [recentRentals, setRecentRentals] = useState([]);\r\n  const [topGames, setTopGames] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadDashboardData();\r\n  }, []);\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // تحميل جميع البيانات في نفس الوقت\r\n      const [statsData, recentData, topGamesData] = await Promise.all([\r\n        apiService.getDashboardStats(),\r\n        apiService.getRecentRentals(),\r\n        apiService.getTopGames()\r\n      ]);\r\n\r\n      if (statsData.success) {\r\n        setStats(statsData.data);\r\n      }\r\n\r\n      if (recentData.success) {\r\n        setRecentRentals(recentData.data);\r\n      }\r\n\r\n      if (topGamesData.success) {\r\n        setTopGames(topGamesData.data);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error loading dashboard data:', error);\r\n      // استخدام بيانات وهمية إذا فشل الاتصال\r\n      setStats({\r\n        totalRevenue: 52400,\r\n        totalRentals: 158,\r\n        activeRentals: 12,\r\n        totalUsers: 23,\r\n        totalBranches: 5,\r\n        totalGames: 40,\r\n        todayRevenue: 5240,\r\n        todayRentals: 8\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-dashboard loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>جاري تحميل البيانات...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      {/* باقي الكود كما هو مع تعديل البيانات لتصبح ديناميكية */}\r\n      {/* ... */}\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}