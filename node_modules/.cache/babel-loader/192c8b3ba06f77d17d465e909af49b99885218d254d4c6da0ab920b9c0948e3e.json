{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/employee/Dashboard.jsx - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØµØ­Ø­Ø©\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom'; // ğŸ”¥ ØªÙ… Ø¥Ø¶Ø§ÙØ© useNavigate\nimport api from '../../services/api';\nimport authService from '../../services/authService';\nimport './EmployeeDashboard.css';\nimport { Gamepad2, Zap, DollarSign, Clock, Users, CheckCircle, AlertCircle, RefreshCw, Building, Loader2, Calendar, TrendingUp, User, PowerOff, LogOut, Bell, History, Package, BarChart3, Activity,\n// ğŸ”¥ Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©\nShoppingCart, ChevronRight, Eye, Lightbulb } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmployeeDashboard = () => {\n  _s();\n  // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n  const navigate = useNavigate(); // ğŸ”¥ ØªÙ… Ù†Ù‚Ù„Ù‡ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒÙˆÙ†\n\n  const [dashboardData, setDashboardData] = useState({\n    availableGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0,\n    completedRentals: 0,\n    currentShift: null,\n    shiftEmployees: [],\n    branchInfo: null,\n    rentalStats: {\n      fixedTime: 0,\n      openTime: 0,\n      totalAmount: 0\n    }\n  });\n\n  // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ÙØµÙ„Ø©\n  const [availableGames, setAvailableGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [user, setUser] = useState(null);\n  const [branch, setBranch] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [refreshInterval, setRefreshInterval] = useState(null);\n  const [shiftEnded, setShiftEnded] = useState(false);\n  const [lastShiftInfo, setLastShiftInfo] = useState(null);\n\n  // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªÙŠ ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©\n  const [games, setGames] = useState([]);\n  const [shiftEmployees, setShiftEmployees] = useState([]);\n  const [stats, setStats] = useState({\n    availableGames: 0,\n    totalGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n\n  // Ø§Ø³ØªØ®Ø±Ø§Ø¬ currentShift Ù…Ù† dashboardData\n  const currentShift = dashboardData.currentShift;\n\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø©\n  const formatCurrency = amount => {\n    if (!amount && amount !== 0) return '0 Ø¬.Ù…';\n    const num = parseFloat(amount) || 0;\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2\n    }).format(num);\n  };\n\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª\n  const formatTime = dateString => {\n    if (!dateString) return '--:--';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleTimeString('ar-EG', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return '--:--';\n    }\n  };\n\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª\n  const formatDateTime = dateString => {\n    if (!dateString) return '--/--/---- --:--';\n    try {\n      const date = new Date(dateString);\n      return date.toLocaleDateString('ar-EG', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return '--/--/---- --:--';\n    }\n  };\n  const loadShiftEmployees = async shiftId => {\n    try {\n      console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\n      try {\n        const response = await api.get(`/shifts/${shiftId}/employees`);\n        if (response.success) {\n          return response.data || [];\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n      }\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n      try {\n        const response = await api.get('/shifts/current-employees', {\n          params: {\n            shift_id: shiftId\n          }\n        });\n        if (response.success) {\n          return response.data || [];\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\n      }\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙ‚Ø·\n      return user ? [{\n        id: user.id,\n        name: user.name,\n        role: user.role,\n        email: user.email,\n        total_rentals: 0\n      }] : [];\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\n      return [];\n    }\n  };\n  const goToRentals = () => {\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø´ÙŠÙØª Ù†Ø´Ø·\n    if (!dashboardData.currentShift) {\n      alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n      handleStartShiftFromDashboard(); // Ø¨Ø¯Ø¡ Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n      return;\n    }\n\n    // Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø¹Ø±Ù Ø§Ù„Ø´ÙŠÙØª\n    navigate(`/employee/rentals?shift=${dashboardData.currentShift.id}&quick=true`);\n  };\n\n  // ğŸ”¥ Ø²Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ£Ø¬ÙŠØ±\n  const QuickRentalButton = () => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: goToRentals,\n    className: \"quick-rental-fab\",\n    children: [/*#__PURE__*/_jsxDEV(Zap, {\n      size: 24\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"\\u0627\\u0628\\u062F\\u0623 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n  const QuickNavigationSection = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"quick-navigation-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDE80 \\u062A\\u0646\\u0642\\u0644 \\u0633\\u0631\\u064A\\u0639\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quick-nav-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          if (!dashboardData.currentShift) {\n            alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n            handleStartShiftFromDashboard();\n            return;\n          }\n          navigate('/employee/rentals');\n        },\n        className: \"quick-nav-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          style: {\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0635\\u0641\\u062D\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u062C\\u062F\\u064A\\u062F\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"nav-badge\",\n            children: [dashboardData.activeRentals || 0, \" \\u0646\\u0634\\u0637\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-arrow\",\n          children: \"\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/employee/rentals?tab=active\",\n        className: \"quick-nav-card\",\n        onClick: e => {\n          if (!dashboardData.currentShift) {\n            e.preventDefault();\n            alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          style: {\n            background: 'linear-gradient(135deg, #ed8936 0%, #dd6b20 100%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(Clock, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u062C\\u0627\\u0631\\u064A\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-arrow\",\n          children: \"\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/employee/rentals?tab=completed\",\n        className: \"quick-nav-card\",\n        onClick: e => {\n          if (!dashboardData.currentShift) {\n            e.preventDefault();\n            alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©');\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          style: {\n            background: 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0641\\u0648\\u0627\\u062A\\u064A\\u0631 \\u0648\\u0627\\u0644\\u062A\\u0642\\u0627\\u0631\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-arrow\",\n          children: \"\\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleManualRefresh,\n        className: \"quick-nav-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-icon\",\n          style: {\n            background: 'linear-gradient(135deg, #4299e1 0%, #3182ce 100%)'\n          },\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u062C\\u0644\\u0628 \\u0623\\u062D\\u062F\\u062B \\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-arrow\",\n          children: \"\\u21BB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n\n  // ÙÙŠ Dashboard.jsx\n  const loadCompletedRentals = async () => {\n    try {\n      if (!(currentShift !== null && currentShift !== void 0 && currentShift.id)) return [];\n      const response = await api.getCompletedRentalsSmart(currentShift.id, user === null || user === void 0 ? void 0 : user.branch_id);\n      if (response.success) {\n        return response.data || [];\n      }\n      return [];\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n      return [];\n    }\n  };\n  const loadActiveRentalsForShift = async (shiftId, branchId) => {\n    try {\n      console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n      const response = await api.get('/rentals/active', {\n        params: {\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        // ØªØµÙÙŠØ© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨\n        const filtered = response.data.filter(rental => rental.shift_id === shiftId && rental.status === 'Ù†Ø´Ø·');\n        console.log(`âœ… ØªÙ… ØªØµÙÙŠØ© ${filtered.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø· Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n        return filtered;\n      }\n      return [];\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n      return [];\n    }\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯\n  const calculateTodayRevenue = completedRentals => {\n    if (!completedRentals || !Array.isArray(completedRentals)) return 0;\n    return completedRentals.reduce((total, rental) => {\n      const amount = rental.final_amount || rental.total_amount || 0;\n      return total + (parseFloat(amount) || 0);\n    }, 0);\n  };\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      console.log('ğŸ“Š ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…...');\n\n      // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹\n      const userResponse = await authService.getCurrentUser();\n      if (userResponse) {\n        setUser(userResponse);\n      }\n\n      // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\n      const shiftResponse = await api.getActiveShift();\n      if (shiftResponse.success && shiftResponse.data) {\n        // ØªØ­Ø¯ÙŠØ« dashboardData\n        setDashboardData(prev => ({\n          ...prev,\n          currentShift: shiftResponse.data\n        }));\n        const shiftId = shiftResponse.data.id;\n        const branchId = (userResponse === null || userResponse === void 0 ? void 0 : userResponse.branch_id) || 1;\n\n        // 2. Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n        const gamesResponse = await api.getGames({\n          branch_id: branchId\n        });\n        if (gamesResponse.success) {\n          const gamesData = gamesResponse.data || [];\n          setGames(gamesData);\n          setAvailableGames(gamesData);\n        }\n        const activeRentalsResponse = await api.getShiftRentalsSmart(shiftId, branchId);\n        const activeData = activeRentalsResponse.data || [];\n        setActiveRentals(activeData);\n\n        // 4. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n        const completedRentalsResponse = await api.get('/rentals/completed-only', {\n          params: {\n            shift_id: shiftId,\n            branch_id: branchId\n          }\n        });\n        let completedRentalsData = [];\n        if (completedRentalsResponse.success) {\n          completedRentalsData = completedRentalsResponse.data || [];\n        } else {\n          // Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ©\n          const allRentalsResponse = await api.get('/rentals', {\n            params: {\n              branch_id: branchId,\n              limit: 50\n            }\n          });\n          if (allRentalsResponse.success) {\n            completedRentalsData = (allRentalsResponse.data || []).filter(rental => rental.status === 'Ù…ÙƒØªÙ…Ù„' && rental.shift_id === shiftId);\n          }\n        }\n        setCompletedRentals(completedRentalsData);\n\n        // 5. Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª\n        const employees = await loadShiftEmployees(shiftId);\n        setShiftEmployees(employees);\n\n        // 6. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n        const statsData = {\n          availableGames: games.length,\n          totalGames: games.length,\n          activeRentals: activeData.length,\n          todayRevenue: calculateTodayRevenue(completedRentalsData),\n          todayRentals: completedRentalsData.length\n        };\n        setStats(statsData);\n\n        // ØªØ­Ø¯ÙŠØ« dashboardData Ø¨Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n        setDashboardData(prev => ({\n          ...prev,\n          availableGames: games.length,\n          activeRentals: activeData.length,\n          todayRevenue: calculateTodayRevenue(completedRentalsData),\n          todayRentals: completedRentalsData.length,\n          completedRentals: completedRentalsData.length,\n          shiftEmployees: employees,\n          rentalStats: {\n            fixedTime: activeData.filter(r => !r.is_open_time || r.rental_type === 'fixed').length,\n            openTime: activeData.filter(r => r.is_open_time || r.rental_type === 'open').length,\n            totalAmount: calculateTodayRevenue(completedRentalsData)\n          }\n        }));\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±\n  const handleShiftEndInRentals = useCallback(() => {\n    var _dashboardData$curren;\n    if ((_dashboardData$curren = dashboardData.currentShift) !== null && _dashboardData$curren !== void 0 && _dashboardData$curren.id && !shiftEnded) {\n      // ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ\n      setLastShiftInfo({\n        id: dashboardData.currentShift.id,\n        startTime: dashboardData.currentShift.start_time,\n        endTime: new Date().toISOString(),\n        revenue: dashboardData.todayRevenue,\n        rentals: dashboardData.todayRentals,\n        employee: dashboardData.currentShift.employee_name\n      });\n\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n      setDashboardData(prev => ({\n        ...prev,\n        currentShift: null,\n        shiftEmployees: [],\n        todayRevenue: 0,\n        todayRentals: 0,\n        completedRentals: 0,\n        activeRentals: 0,\n        rentalStats: {\n          fixedTime: 0,\n          openTime: 0,\n          totalAmount: 0\n        }\n      }));\n      setActiveRentals([]);\n      setCompletedRentals([]);\n      setShiftEmployees([]);\n      setShiftEnded(true);\n      console.log('âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n    }\n  }, [dashboardData.currentShift, dashboardData.todayRevenue, dashboardData.todayRentals, shiftEnded]);\n\n  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n  useEffect(() => {\n    if (refreshInterval) {\n      clearInterval(refreshInterval);\n    }\n    loadDashboardData();\n\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\n    const interval = setInterval(() => {\n      loadDashboardData();\n    }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\n\n    setRefreshInterval(interval);\n    return () => {\n      if (refreshInterval) {\n        clearInterval(refreshInterval);\n      }\n    };\n  }, []);\n\n  // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª\n  useEffect(() => {\n    const checkShiftStatus = async () => {\n      try {\n        const shiftResponse = await api.get('/shifts/simple');\n        if (!shiftResponse.success || !shiftResponse.data) {\n          // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·\n          if (dashboardData.currentShift) {\n            handleShiftEndInRentals();\n          }\n        } else {\n          // Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª Ù†Ø´Ø·\n          if (!dashboardData.currentShift) {\n            // ØªÙ… Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯\n            setShiftEnded(false);\n          }\n        }\n      } catch (error) {\n        console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø´ÙŠÙØª:', error);\n      }\n    };\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø´ÙŠÙØª ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ\n    const shiftCheckInterval = setInterval(checkShiftStatus, 10000);\n    return () => clearInterval(shiftCheckInterval);\n  }, [dashboardData.currentShift, handleShiftEndInRentals]);\n\n  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© shiftEnded Ø¨Ø¹Ø¯ ÙØªØ±Ø©\n  useEffect(() => {\n    if (shiftEnded) {\n      const timer = setTimeout(() => {\n        setShiftEnded(false);\n      }, 15000); // 15 Ø«Ø§Ù†ÙŠØ©\n\n      return () => clearTimeout(timer);\n    }\n  }, [shiftEnded]);\n\n  // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙŠØ¯ÙˆÙŠ\n  const handleManualRefresh = () => {\n    loadDashboardData();\n  };\n\n  // Ø¯Ø§Ù„Ø© Ù„Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù€Dashboard\n  const handleStartShiftFromDashboard = async () => {\n    try {\n      const response = await api.post('/shifts/start');\n      if (response.success) {\n        const newShift = response.data;\n        setDashboardData(prev => ({\n          ...prev,\n          currentShift: newShift\n        }));\n        setShiftEnded(false);\n        setLastShiftInfo(null);\n\n        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n        setTimeout(() => {\n          loadDashboardData();\n        }, 1000);\n        alert(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${newShift.id} Ø¨Ù†Ø¬Ø§Ø­`);\n      } else {\n        alert('âŒ ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');\n      }\n    } catch (error) {\n      console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„Ù€Dashboard:', error);\n      alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª');\n    }\n  };\n\n  // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\n  const calculateTimeLeft = rental => {\n    if (!rental || !rental.start_time) return '--:--';\n    const isOpenTime = rental.rental_type === 'open' || rental.is_open_time === 1;\n    if (isOpenTime) {\n      // ÙˆÙ‚Øª Ù…ÙØªÙˆØ­: Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ\n      const startTime = new Date(rental.start_time);\n      const now = new Date();\n      const elapsedSeconds = Math.floor((now - startTime) / 1000);\n      const minutes = Math.floor(elapsedSeconds / 60);\n      const seconds = elapsedSeconds % 60;\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    } else {\n      // ÙˆÙ‚Øª Ø«Ø§Ø¨Øª: Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ\n      const startTime = new Date(rental.start_time);\n      const duration = rental.duration_minutes || 15;\n      const endTime = new Date(startTime.getTime() + duration * 60000);\n      const now = new Date();\n      const remainingSeconds = Math.floor((endTime - now) / 1000);\n      if (remainingSeconds <= 0) return 'Ø§Ù†ØªÙ‡Ù‰';\n      const minutes = Math.floor(remainingSeconds / 60);\n      const seconds = remainingSeconds % 60;\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0645\\u0646 \\u0646\\u0638\\u0627\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"employee-dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-quick-actions\",\n      children: /*#__PURE__*/_jsxDEV(QuickNavigationSection, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 585,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 583,\n    columnNumber: 5\n  }, this);\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ù„ÙˆØ§Ù† Ù„Ù„ØªØµÙ†ÙŠÙØ§Øª\n_s(EmployeeDashboard, \"LZaEOZj1rBvbt/62jWi7r3ZkI2Q=\", false, function () {\n  return [useNavigate];\n});\n_c = EmployeeDashboard;\nconst getCategoryColor = category => {\n  const colors = {\n    'ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '#4299e1',\n    'Ø¹Ø§Ø¯ÙŠ': '#48bb78',\n    'Ù…Ø­Ø±Ùƒ': '#ed8936',\n    'Ø£Ø·ÙØ§Ù„': '#9f7aea',\n    'ÙƒØ¨ÙŠØ±': '#e53e3e',\n    'ØµØºÙŠØ±': '#38b2ac',\n    'ØºÙŠØ± Ù…ØµÙ†Ù': '#a0aec0'\n  };\n  return colors[category] || '#a0aec0';\n};\nexport default EmployeeDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmployeeDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Link","useNavigate","api","authService","Gamepad2","Zap","DollarSign","Clock","Users","CheckCircle","AlertCircle","RefreshCw","Building","Loader2","Calendar","TrendingUp","User","PowerOff","LogOut","Bell","History","Package","BarChart3","Activity","ShoppingCart","ChevronRight","Eye","Lightbulb","jsxDEV","_jsxDEV","EmployeeDashboard","_s","navigate","dashboardData","setDashboardData","availableGames","activeRentals","todayRevenue","todayRentals","completedRentals","currentShift","shiftEmployees","branchInfo","rentalStats","fixedTime","openTime","totalAmount","setAvailableGames","setActiveRentals","setCompletedRentals","user","setUser","branch","setBranch","loading","setLoading","refreshInterval","setRefreshInterval","shiftEnded","setShiftEnded","lastShiftInfo","setLastShiftInfo","games","setGames","setShiftEmployees","stats","setStats","totalGames","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatTime","dateString","date","Date","toLocaleTimeString","hour","minute","formatDateTime","toLocaleDateString","year","month","day","loadShiftEmployees","shiftId","console","log","response","get","success","data","error","warn","message","params","shift_id","id","name","role","email","total_rentals","goToRentals","alert","handleStartShiftFromDashboard","QuickRentalButton","onClick","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","QuickNavigationSection","background","to","e","preventDefault","handleManualRefresh","loadCompletedRentals","getCompletedRentalsSmart","branch_id","loadActiveRentalsForShift","branchId","filtered","filter","rental","status","length","calculateTodayRevenue","Array","isArray","reduce","total","final_amount","total_amount","loadDashboardData","userResponse","getCurrentUser","shiftResponse","getActiveShift","prev","gamesResponse","getGames","gamesData","activeRentalsResponse","getShiftRentalsSmart","activeData","completedRentalsResponse","completedRentalsData","allRentalsResponse","limit","employees","statsData","r","is_open_time","rental_type","handleShiftEndInRentals","_dashboardData$curren","startTime","start_time","endTime","toISOString","revenue","rentals","employee","employee_name","clearInterval","interval","setInterval","checkShiftStatus","shiftCheckInterval","timer","setTimeout","clearTimeout","post","newShift","calculateTimeLeft","isOpenTime","now","elapsedSeconds","Math","floor","minutes","seconds","toString","padStart","duration","duration_minutes","getTime","remainingSeconds","_c","getCategoryColor","category","colors","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Dashboard.jsx"],"sourcesContent":["// frontend/src/pages/employee/Dashboard.jsx - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØµØ­Ø­Ø©\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom'; // ğŸ”¥ ØªÙ… Ø¥Ø¶Ø§ÙØ© useNavigate\r\nimport api from '../../services/api';\r\nimport authService from '../../services/authService';\r\nimport './EmployeeDashboard.css';\r\nimport {\r\n  Gamepad2, Zap, DollarSign, Clock, Users,\r\n  CheckCircle, AlertCircle, RefreshCw, Building,\r\n  Loader2, Calendar, TrendingUp, User,\r\n  PowerOff, LogOut, Bell, History,\r\n  Package, BarChart3, Activity,\r\n  // ğŸ”¥ Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©\r\n  ShoppingCart, ChevronRight, Eye, Lightbulb\r\n} from 'lucide-react';\r\n\r\nconst EmployeeDashboard = () => {\r\n  // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n  const navigate = useNavigate(); // ğŸ”¥ ØªÙ… Ù†Ù‚Ù„Ù‡ Ù„Ø£Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒÙˆÙ†\r\n  \r\n  const [dashboardData, setDashboardData] = useState({\r\n    availableGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0,\r\n    completedRentals: 0,\r\n    currentShift: null,\r\n    shiftEmployees: [],\r\n    branchInfo: null,\r\n    rentalStats: {\r\n      fixedTime: 0,\r\n      openTime: 0,\r\n      totalAmount: 0\r\n    }\r\n  });\r\n  \r\n  // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ÙØµÙ„Ø©\r\n  const [availableGames, setAvailableGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const [branch, setBranch] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshInterval, setRefreshInterval] = useState(null);\r\n  const [shiftEnded, setShiftEnded] = useState(false);\r\n  const [lastShiftInfo, setLastShiftInfo] = useState(null);\r\n  \r\n  // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªÙŠ ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©\r\n  const [games, setGames] = useState([]);\r\n  const [shiftEmployees, setShiftEmployees] = useState([]);\r\n  const [stats, setStats] = useState({\r\n    availableGames: 0,\r\n    totalGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n  \r\n  // Ø§Ø³ØªØ®Ø±Ø§Ø¬ currentShift Ù…Ù† dashboardData\r\n  const currentShift = dashboardData.currentShift;\r\n  \r\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„Ø©\r\n  const formatCurrency = (amount) => {\r\n    if (!amount && amount !== 0) return '0 Ø¬.Ù…';\r\n    const num = parseFloat(amount) || 0;\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 2\r\n    }).format(num);\r\n  };\r\n  \r\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª\r\n  const formatTime = (dateString) => {\r\n    if (!dateString) return '--:--';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleTimeString('ar-EG', {\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return '--:--';\r\n    }\r\n  };\r\n  \r\n  // Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª\r\n  const formatDateTime = (dateString) => {\r\n    if (!dateString) return '--/--/---- --:--';\r\n    try {\r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('ar-EG', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return '--/--/---- --:--';\r\n    }\r\n  };\r\n\r\n  const loadShiftEmployees = async (shiftId) => {\r\n    try {\r\n      console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©\r\n      try {\r\n        const response = await api.get(`/shifts/${shiftId}/employees`);\r\n        if (response.success) {\r\n          return response.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n      }\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n      try {\r\n        const response = await api.get('/shifts/current-employees', {\r\n          params: { shift_id: shiftId }\r\n        });\r\n        if (response.success) {\r\n          return response.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\r\n      }\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙ‚Ø·\r\n      return user ? [{\r\n        id: user.id,\r\n        name: user.name,\r\n        role: user.role,\r\n        email: user.email,\r\n        total_rentals: 0\r\n      }] : [];\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const goToRentals = () => {\r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø´ÙŠÙØª Ù†Ø´Ø·\r\n    if (!dashboardData.currentShift) {\r\n      alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n      handleStartShiftFromDashboard(); // Ø¨Ø¯Ø¡ Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\r\n      return;\r\n    }\r\n    \r\n    // Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø¹Ø±Ù Ø§Ù„Ø´ÙŠÙØª\r\n    navigate(`/employee/rentals?shift=${dashboardData.currentShift.id}&quick=true`);\r\n  };\r\n  \r\n  // ğŸ”¥ Ø²Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØªØ£Ø¬ÙŠØ±\r\n  const QuickRentalButton = () => (\r\n    <button onClick={goToRentals} className=\"quick-rental-fab\">\r\n      <Zap size={24} />\r\n      <span>Ø§Ø¨Ø¯Ø£ ØªØ£Ø¬ÙŠØ± Ø¬Ø¯ÙŠØ¯</span>\r\n    </button>\r\n  );\r\n  \r\n  const QuickNavigationSection = () => (\r\n    <div className=\"quick-navigation-section\">\r\n      <h2>ğŸš€ ØªÙ†Ù‚Ù„ Ø³Ø±ÙŠØ¹</h2>\r\n      <div className=\"quick-nav-grid\">\r\n        {/* Ø¨Ø·Ø§Ù‚Ø© ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± */}\r\n        <button \r\n          onClick={() => {\r\n            if (!dashboardData.currentShift) {\r\n              alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n              handleStartShiftFromDashboard();\r\n              return;\r\n            }\r\n            navigate('/employee/rentals');\r\n          }} \r\n          className=\"quick-nav-card\"\r\n        >\r\n          <div className=\"nav-icon\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\r\n            <Gamepad2 size={24} />\r\n          </div>\r\n          <div className=\"nav-content\">\r\n            <h3>ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±</h3>\r\n            <p>Ø¨Ø¯Ø¡ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©</p>\r\n            <span className=\"nav-badge\">\r\n              {dashboardData.activeRentals || 0} Ù†Ø´Ø·Ø©\r\n            </span>\r\n          </div>\r\n          <div className=\"nav-arrow\">â†’</div>\r\n        </button>\r\n        \r\n        {/* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© */}\r\n        <Link \r\n          to=\"/employee/rentals?tab=active\" \r\n          className=\"quick-nav-card\"\r\n          onClick={(e) => {\r\n            if (!dashboardData.currentShift) {\r\n              e.preventDefault();\r\n              alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"nav-icon\" style={{ background: 'linear-gradient(135deg, #ed8936 0%, #dd6b20 100%)' }}>\r\n            <Clock size={24} />\r\n          </div>\r\n          <div className=\"nav-content\">\r\n            <h3>Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</h3>\r\n            <p>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø§Ø±ÙŠØ©</p>\r\n          </div>\r\n          <div className=\"nav-arrow\">â†’</div>\r\n        </Link>\r\n        \r\n        {/* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© */}\r\n        <Link \r\n          to=\"/employee/rentals?tab=completed\" \r\n          className=\"quick-nav-card\"\r\n          onClick={(e) => {\r\n            if (!dashboardData.currentShift) {\r\n              e.preventDefault();\r\n              alert('âš ï¸ ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©');\r\n            }\r\n          }}\r\n        >\r\n          <div className=\"nav-icon\" style={{ background: 'linear-gradient(135deg, #48bb78 0%, #38a169 100%)' }}>\r\n            <CheckCircle size={24} />\r\n          </div>\r\n          <div className=\"nav-content\">\r\n            <h3>Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h3>\r\n            <p>Ø¹Ø±Ø¶ Ø§Ù„ÙÙˆØ§ØªÙŠØ± ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</p>\r\n          </div>\r\n          <div className=\"nav-arrow\">â†’</div>\r\n        </Link>\r\n        \r\n        {/* Ø¨Ø·Ø§Ù‚Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */}\r\n        <button \r\n          onClick={handleManualRefresh} \r\n          className=\"quick-nav-card\"\r\n        >\r\n          <div className=\"nav-icon\" style={{ background: 'linear-gradient(135deg, #4299e1 0%, #3182ce 100%)' }}>\r\n            <RefreshCw size={24} />\r\n          </div>\r\n          <div className=\"nav-content\">\r\n            <h3>ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>\r\n            <p>Ø¬Ù„Ø¨ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</p>\r\n          </div>\r\n          <div className=\"nav-arrow\">â†»</div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ÙÙŠ Dashboard.jsx\r\n  const loadCompletedRentals = async () => {\r\n    try {\r\n      if (!currentShift?.id) return [];\r\n      \r\n      const response = await api.getCompletedRentalsSmart(currentShift.id, user?.branch_id);\r\n      \r\n      if (response.success) {\r\n        return response.data || [];\r\n      }\r\n      \r\n      return [];\r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const loadActiveRentalsForShift = async (shiftId, branchId) => {\r\n    try {\r\n      console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n      const response = await api.get('/rentals/active', {\r\n        params: {\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        // ØªØµÙÙŠØ© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨\r\n        const filtered = response.data.filter(rental => \r\n          rental.shift_id === shiftId && rental.status === 'Ù†Ø´Ø·'\r\n        );\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØµÙÙŠØ© ${filtered.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø· Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n        return filtered;\r\n      }\r\n      \r\n      return [];\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      return [];\r\n    }\r\n  };\r\n  \r\n  // Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯\r\n  const calculateTodayRevenue = (completedRentals) => {\r\n    if (!completedRentals || !Array.isArray(completedRentals)) return 0;\r\n    \r\n    return completedRentals.reduce((total, rental) => {\r\n      const amount = rental.final_amount || rental.total_amount || 0;\r\n      return total + (parseFloat(amount) || 0);\r\n    }, 0);\r\n  };\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      console.log('ğŸ“Š ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…...');\r\n      \r\n      // Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹\r\n      const userResponse = await authService.getCurrentUser();\r\n      if (userResponse) {\r\n        setUser(userResponse);\r\n      }\r\n      \r\n      // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\r\n      const shiftResponse = await api.getActiveShift();\r\n      \r\n      if (shiftResponse.success && shiftResponse.data) {\r\n        // ØªØ­Ø¯ÙŠØ« dashboardData\r\n        setDashboardData(prev => ({\r\n          ...prev,\r\n          currentShift: shiftResponse.data\r\n        }));\r\n        \r\n        const shiftId = shiftResponse.data.id;\r\n        const branchId = userResponse?.branch_id || 1;\r\n        \r\n        // 2. Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n        const gamesResponse = await api.getGames({ branch_id: branchId });\r\n        if (gamesResponse.success) {\r\n          const gamesData = gamesResponse.data || [];\r\n          setGames(gamesData);\r\n          setAvailableGames(gamesData);\r\n        }\r\n        \r\n        const activeRentalsResponse = await api.getShiftRentalsSmart(shiftId, branchId);\r\n        const activeData = activeRentalsResponse.data || [];\r\n        setActiveRentals(activeData);\r\n        \r\n        // 4. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n        const completedRentalsResponse = await api.get('/rentals/completed-only', {\r\n          params: { shift_id: shiftId, branch_id: branchId }\r\n        });\r\n        \r\n        let completedRentalsData = [];\r\n        if (completedRentalsResponse.success) {\r\n          completedRentalsData = completedRentalsResponse.data || [];\r\n        } else {\r\n          // Ø¨Ø¯ÙŠÙ„: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ Ø§Ù„ØªØµÙÙŠØ©\r\n          const allRentalsResponse = await api.get('/rentals', {\r\n            params: { branch_id: branchId, limit: 50 }\r\n          });\r\n          \r\n          if (allRentalsResponse.success) {\r\n            completedRentalsData = (allRentalsResponse.data || []).filter(rental => \r\n              rental.status === 'Ù…ÙƒØªÙ…Ù„' && rental.shift_id === shiftId\r\n            );\r\n          }\r\n        }\r\n        setCompletedRentals(completedRentalsData);\r\n        \r\n        // 5. Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª\r\n        const employees = await loadShiftEmployees(shiftId);\r\n        setShiftEmployees(employees);\r\n        \r\n        // 6. Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\r\n        const statsData = {\r\n          availableGames: games.length,\r\n          totalGames: games.length,\r\n          activeRentals: activeData.length,\r\n          todayRevenue: calculateTodayRevenue(completedRentalsData),\r\n          todayRentals: completedRentalsData.length\r\n        };\r\n        setStats(statsData);\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« dashboardData Ø¨Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\r\n        setDashboardData(prev => ({\r\n          ...prev,\r\n          availableGames: games.length,\r\n          activeRentals: activeData.length,\r\n          todayRevenue: calculateTodayRevenue(completedRentalsData),\r\n          todayRentals: completedRentalsData.length,\r\n          completedRentals: completedRentalsData.length,\r\n          shiftEmployees: employees,\r\n          rentalStats: {\r\n            fixedTime: activeData.filter(r => !r.is_open_time || r.rental_type === 'fixed').length,\r\n            openTime: activeData.filter(r => r.is_open_time || r.rental_type === 'open').length,\r\n            totalAmount: calculateTodayRevenue(completedRentalsData)\r\n          }\r\n        }));\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Ø¯Ø§Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\n  const handleShiftEndInRentals = useCallback(() => {\r\n    if (dashboardData.currentShift?.id && !shiftEnded) {\r\n      // ØªØ®Ø²ÙŠÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠ\r\n      setLastShiftInfo({\r\n        id: dashboardData.currentShift.id,\r\n        startTime: dashboardData.currentShift.start_time,\r\n        endTime: new Date().toISOString(),\r\n        revenue: dashboardData.todayRevenue,\r\n        rentals: dashboardData.todayRentals,\r\n        employee: dashboardData.currentShift.employee_name\r\n      });\r\n      \r\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n      setDashboardData(prev => ({\r\n        ...prev,\r\n        currentShift: null,\r\n        shiftEmployees: [],\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        completedRentals: 0,\r\n        activeRentals: 0,\r\n        rentalStats: {\r\n          fixedTime: 0,\r\n          openTime: 0,\r\n          totalAmount: 0\r\n        }\r\n      }));\r\n      \r\n      setActiveRentals([]);\r\n      setCompletedRentals([]);\r\n      setShiftEmployees([]);\r\n      setShiftEnded(true);\r\n      \r\n      console.log('âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† ØµÙØ­Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n    }\r\n  }, [dashboardData.currentShift, dashboardData.todayRevenue, dashboardData.todayRentals, shiftEnded]);\r\n  \r\n  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\r\n  useEffect(() => {\r\n    if (refreshInterval) {\r\n      clearInterval(refreshInterval);\r\n    }\r\n    \r\n    loadDashboardData();\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\r\n    const interval = setInterval(() => {\r\n      loadDashboardData();\r\n    }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\r\n    \r\n    setRefreshInterval(interval);\r\n    \r\n    return () => {\r\n      if (refreshInterval) {\r\n        clearInterval(refreshInterval);\r\n      }\r\n    };\r\n  }, []);\r\n  \r\n  // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª\r\n  useEffect(() => {\r\n    const checkShiftStatus = async () => {\r\n      try {\r\n        const shiftResponse = await api.get('/shifts/simple');\r\n        if (!shiftResponse.success || !shiftResponse.data) {\r\n          // Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·\r\n          if (dashboardData.currentShift) {\r\n            handleShiftEndInRentals();\r\n          }\r\n        } else {\r\n          // Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª Ù†Ø´Ø·\r\n          if (!dashboardData.currentShift) {\r\n            // ØªÙ… Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯\r\n            setShiftEnded(false);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      }\r\n    };\r\n    \r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø´ÙŠÙØª ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ\r\n    const shiftCheckInterval = setInterval(checkShiftStatus, 10000);\r\n    \r\n    return () => clearInterval(shiftCheckInterval);\r\n  }, [dashboardData.currentShift, handleShiftEndInRentals]);\r\n  \r\n  // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© shiftEnded Ø¨Ø¹Ø¯ ÙØªØ±Ø©\r\n  useEffect(() => {\r\n    if (shiftEnded) {\r\n      const timer = setTimeout(() => {\r\n        setShiftEnded(false);\r\n      }, 15000); // 15 Ø«Ø§Ù†ÙŠØ©\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [shiftEnded]);\r\n  \r\n  // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙŠØ¯ÙˆÙŠ\r\n  const handleManualRefresh = () => {\r\n    loadDashboardData();\r\n  };\r\n  \r\n  // Ø¯Ø§Ù„Ø© Ù„Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù€Dashboard\r\n  const handleStartShiftFromDashboard = async () => {\r\n    try {\r\n      const response = await api.post('/shifts/start');\r\n      \r\n      if (response.success) {\r\n        const newShift = response.data;\r\n        setDashboardData(prev => ({\r\n          ...prev,\r\n          currentShift: newShift\r\n        }));\r\n        \r\n        setShiftEnded(false);\r\n        setLastShiftInfo(null);\r\n        \r\n        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n        setTimeout(() => {\r\n          loadDashboardData();\r\n        }, 1000);\r\n        \r\n        alert(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${newShift.id} Ø¨Ù†Ø¬Ø§Ø­`);\r\n      } else {\r\n        alert('âŒ ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰');\r\n      }\r\n    } catch (error) {\r\n      console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„Ù€Dashboard:', error);\r\n      alert('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª');\r\n    }\r\n  };\r\n  \r\n  // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n  const calculateTimeLeft = (rental) => {\r\n    if (!rental || !rental.start_time) return '--:--';\r\n    \r\n    const isOpenTime = rental.rental_type === 'open' || rental.is_open_time === 1;\r\n    \r\n    if (isOpenTime) {\r\n      // ÙˆÙ‚Øª Ù…ÙØªÙˆØ­: Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ\r\n      const startTime = new Date(rental.start_time);\r\n      const now = new Date();\r\n      const elapsedSeconds = Math.floor((now - startTime) / 1000);\r\n      const minutes = Math.floor(elapsedSeconds / 60);\r\n      const seconds = elapsedSeconds % 60;\r\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n    } else {\r\n      // ÙˆÙ‚Øª Ø«Ø§Ø¨Øª: Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ\r\n      const startTime = new Date(rental.start_time);\r\n      const duration = rental.duration_minutes || 15;\r\n      const endTime = new Date(startTime.getTime() + duration * 60000);\r\n      const now = new Date();\r\n      const remainingSeconds = Math.floor((endTime - now) / 1000);\r\n      \r\n      if (remainingSeconds <= 0) return 'Ø§Ù†ØªÙ‡Ù‰';\r\n      \r\n      const minutes = Math.floor(remainingSeconds / 60);\r\n      const seconds = remainingSeconds % 60;\r\n      return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n    }\r\n  };\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-loading\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±...</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <div className=\"employee-dashboard\">\r\n      {/* ğŸ”¥ Ø£Ø¶Ù Ù‚Ø³Ù… Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹ */}\r\n      <div className=\"dashboard-quick-actions\">\r\n        <QuickNavigationSection />\r\n      </div>\r\n      \r\n      {/* ... Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ù€return ÙƒÙ…Ø§ Ù‡Ùˆ ... */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ù„ÙˆØ§Ù† Ù„Ù„ØªØµÙ†ÙŠÙØ§Øª\r\nconst getCategoryColor = (category) => {\r\n  const colors = {\r\n    'ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '#4299e1',\r\n    'Ø¹Ø§Ø¯ÙŠ': '#48bb78',\r\n    'Ù…Ø­Ø±Ùƒ': '#ed8936',\r\n    'Ø£Ø·ÙØ§Ù„': '#9f7aea',\r\n    'ÙƒØ¨ÙŠØ±': '#e53e3e',\r\n    'ØµØºÙŠØ±': '#38b2ac',\r\n    'ØºÙŠØ± Ù…ØµÙ†Ù': '#a0aec0'\r\n  };\r\n  \r\n  return colors[category] || '#a0aec0';\r\n};\r\n\r\nexport default EmployeeDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}