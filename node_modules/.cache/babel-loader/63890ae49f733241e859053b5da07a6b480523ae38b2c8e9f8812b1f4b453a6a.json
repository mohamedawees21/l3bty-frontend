{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { Gamepad2, Clock, User, Phone, ShoppingCart, DollarSign, CheckCircle, XCircle, Eye, Plus, Minus, Trash2, Calendar, Printer, Download, RefreshCw, AlertCircle, Check, X, Building, Zap, Lock, Unlock, Loader2, Filter, Search, ChevronRight, MapPin, Mail, Users, Package, RotateCcw, Calculator, Play, Pause, StopCircle, AlertTriangle, Info, LogOut, Save, Edit, CreditCard, Wallet, Hash } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== دوال المساعدة العامة ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (amount === null || amount === undefined || amount === '') return '0 ج.م';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--:--';\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst validatePhone = phone => {\n  if (!phone || phone.trim() === '') return true;\n  const cleaned = phone.replace(/\\D/g, '');\n  return cleaned.length === 11 && cleaned.startsWith('01');\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\n};\n\n// ==================== المكونات الفرعية ====================\n\n// مكون إحصائيات الشيفت\nconst ShiftStats = /*#__PURE__*/React.memo(_c = function ShiftStats({\n  currentShift,\n  onStartShift,\n  onEndShift,\n  shiftSummary,\n  loading,\n  error,\n  onErrorClose\n}) {\n  if (loading.shift) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-shift-stats\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-stats-grid\",\n        children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-stat-card rentals-skeleton\"\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-shift-stats\",\n    children: [currentShift ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-shift-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-shift-badge open\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0634\\u064A\\u0641\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D #\", currentShift.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-shift-time\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0628\\u062F\\u0627\\u064A\\u0629: \", formatDateTime(currentShift.start_time)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-icon\",\n            children: /*#__PURE__*/_jsxDEV(DollarSign, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-value\",\n              children: formatCurrency((shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.total_revenue) || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-icon\",\n            children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-value\",\n              children: (shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.total_rentals) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-label\",\n              children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-icon\",\n            children: /*#__PURE__*/_jsxDEV(Gamepad2, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-value\",\n              children: (shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.active_rentals) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-label\",\n              children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-icon\",\n            children: /*#__PURE__*/_jsxDEV(Clock, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-stat-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-value\",\n              children: formatCurrency((shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.opening_cash) || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-stat-label\",\n              children: \"\\u062E\\u0632\\u0646\\u0629 \\u0627\\u0644\\u0628\\u062F\\u0627\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onEndShift,\n              className: \"rentals-btn rentals-btn-warning\",\n              disabled: loading.processing,\n              children: [loading.processing ? /*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"rentals-spinner\",\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Lock, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this), \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-no-shift\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-no-shift-content\",\n        children: [/*#__PURE__*/_jsxDEV(Lock, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u0641\\u062A\\u062D \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0644\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onStartShift,\n          className: \"rentals-btn rentals-btn-success\",\n          disabled: loading.processing,\n          children: [loading.processing ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"rentals-spinner\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Unlock, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), \"\\u0641\\u062A\\u062D \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-error-banner\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onErrorClose,\n        className: \"rentals-error-close\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n});\n\n// مكون سلة التأجير (Cart)\n_c2 = ShiftStats;\nconst RentalCart = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c3 = _s(function RentalCart({\n  items,\n  onUpdateItem,\n  onRemoveItem,\n  onClearCart,\n  customerInfo,\n  onCustomerInfoChange,\n  onSubmit,\n  isSubmitting,\n  games,\n  onAddGame\n}) {\n  _s();\n  const calculateItemTotal = useCallback(item => {\n    if (item.rental_type === 'open') return 0;\n    const units = Math.ceil((item.duration_minutes || 15) / 15);\n    return (item.price_per_15min || 0) * units * (item.quantity || 1);\n  }, []);\n  const calculateCartTotal = useCallback(() => {\n    return items.reduce((total, item) => total + calculateItemTotal(item), 0);\n  }, [items, calculateItemTotal]);\n  const isCartValid = useCallback(() => {\n    var _customerInfo$name;\n    return items.length > 0 && ((_customerInfo$name = customerInfo.name) === null || _customerInfo$name === void 0 ? void 0 : _customerInfo$name.trim());\n  }, [items.length, customerInfo.name]);\n  if (items.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-cart-empty\",\n      children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0627\\u0644\\u0633\\u0644\\u0629 \\u0641\\u0627\\u0631\\u063A\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0627\\u062E\\u062A\\u0631 \\u0623\\u0644\\u0639\\u0627\\u0628\\u0627\\u064B \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0644\\u0625\\u0636\\u0627\\u0641\\u062A\\u0647\\u0627 \\u0625\\u0644\\u0649 \\u0627\\u0644\\u0633\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-cart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-cart-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), \"\\u0633\\u0644\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631 (\", items.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClearCart,\n        className: \"rentals-btn rentals-btn-outline rentals-small-btn\",\n        disabled: isSubmitting,\n        children: [/*#__PURE__*/_jsxDEV(Trash2, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), \"\\u062A\\u0641\\u0631\\u064A\\u063A \\u0627\\u0644\\u0633\\u0644\\u0629\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-cart-items\",\n      children: items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-cart-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-cart-item-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-cart-item-name\",\n            children: item.game_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onRemoveItem(item.id),\n            className: \"rentals-btn-remove\",\n            disabled: isSubmitting,\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-cart-item-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-cart-item-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0646\\u0648\\u0639:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: item.rental_type,\n              onChange: e => onUpdateItem(item.id, {\n                rental_type: e.target.value\n              }),\n              disabled: isSubmitting,\n              className: \"rentals-select-small\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fixed\",\n                children: \"\\u23F0 \\u062B\\u0627\\u0628\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"open\",\n                children: \"\\uD83D\\uDD13 \\u0645\\u0641\\u062A\\u0648\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this), item.rental_type === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-cart-item-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: item.duration_minutes || 15,\n              onChange: e => onUpdateItem(item.id, {\n                duration_minutes: parseInt(e.target.value)\n              }),\n              disabled: isSubmitting,\n              className: \"rentals-select-small\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"15\",\n                children: \"15 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"30\",\n                children: \"30 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"45\",\n                children: \"45 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"60\",\n                children: \"60 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"90\",\n                children: \"90 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"120\",\n                children: \"120 \\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-cart-item-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-quantity-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onUpdateItem(item.id, {\n                  quantity: Math.max(1, (item.quantity || 1) - 1)\n                }),\n                className: \"rentals-quantity-btn\",\n                disabled: isSubmitting || (item.quantity || 1) <= 1,\n                children: /*#__PURE__*/_jsxDEV(Minus, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-quantity-value\",\n                children: item.quantity || 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onUpdateItem(item.id, {\n                  quantity: (item.quantity || 1) + 1\n                }),\n                className: \"rentals-quantity-btn\",\n                disabled: isSubmitting,\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-cart-item-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0637\\u0641\\u0644:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: item.child_name || '',\n              onChange: e => onUpdateItem(item.id, {\n                child_name: e.target.value\n              }),\n              placeholder: \"\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A\",\n              disabled: isSubmitting,\n              className: \"rentals-input-small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), item.rental_type === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-cart-item-total\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rentals-amount\",\n            children: formatCurrency(calculateItemTotal(item))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 15\n        }, this)]\n      }, item.id || index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-cart-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onAddGame,\n        className: \"rentals-btn rentals-btn-outline\",\n        disabled: isSubmitting,\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0639\\u0628\\u0629\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-cart-total\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-total-amount\",\n          children: formatCurrency(calculateCartTotal())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-cart-customer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-cart-customer-fields\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644 *\",\n            value: customerInfo.name || '',\n            onChange: e => onCustomerInfoChange('name', e.target.value),\n            disabled: isSubmitting,\n            className: \"rentals-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            placeholder: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",\n            value: customerInfo.phone || '',\n            onChange: e => onCustomerInfoChange('phone', e.target.value.replace(/\\D/g, '').slice(0, 11)),\n            disabled: isSubmitting,\n            className: \"rentals-input\",\n            maxLength: 11\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onSubmit,\n        className: \"rentals-btn rentals-btn-primary rentals-btn-block\",\n        disabled: isSubmitting || !isCartValid(),\n        children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"rentals-spinner\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0625\\u0646\\u0634\\u0627\\u0621...\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this), \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n}, \"7RoeHvm88PLCWM+Y35Kjqqaev0Q=\")), \"7RoeHvm88PLCWM+Y35Kjqqaev0Q=\");\n\n// مكون شبكة الألعاب\n_c4 = RentalCart;\nconst GamesGrid = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c5 = _s2(function GamesGrid({\n  games,\n  branchId,\n  onAddToCart,\n  loading,\n  searchTerm,\n  onSearchChange,\n  filterCategory,\n  onFilterChange\n}) {\n  _s2();\n  const [localSearch, setLocalSearch] = useState('');\n  const [localCategory, setLocalCategory] = useState('all');\n\n  // استخدام القيم الخارجية إذا وجدت\n  const effectiveSearchTerm = searchTerm !== undefined ? searchTerm : localSearch;\n  const effectiveFilterCategory = filterCategory !== undefined ? filterCategory : localCategory;\n\n  // تصفية الألعاب حسب الفرع\n  const branchGames = useMemo(() => {\n    if (!(games !== null && games !== void 0 && games.length) || !branchId) return [];\n    return games.filter(game => game && game.branch_id === branchId);\n  }, [games, branchId]);\n\n  // استخراج الفئات المتاحة\n  const categories = useMemo(() => {\n    if (!branchGames.length) return ['all'];\n    const cats = new Set(['all']);\n    branchGames.forEach(g => g.category && cats.add(g.category));\n    return Array.from(cats);\n  }, [branchGames]);\n\n  // تصفية الألعاب حسب البحث والفئة\n  const filteredGames = useMemo(() => {\n    if (!branchGames.length) return [];\n    const search = effectiveSearchTerm.toLowerCase();\n    return branchGames.filter(game => {\n      var _game$name, _game$category;\n      const matchesSearch = !effectiveSearchTerm || ((_game$name = game.name) === null || _game$name === void 0 ? void 0 : _game$name.toLowerCase().includes(search)) || ((_game$category = game.category) === null || _game$category === void 0 ? void 0 : _game$category.toLowerCase().includes(search));\n      const matchesCategory = effectiveFilterCategory === 'all' || game.category === effectiveFilterCategory;\n      return matchesSearch && matchesCategory;\n    });\n  }, [branchGames, effectiveSearchTerm, effectiveFilterCategory]);\n  const getGameImage = useCallback(game => {\n    if (!game) return '/images/default-game.jpg';\n    if (game.image_url && game.image_url !== 'default-game.jpg') {\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\n    }\n    return '/images/default-game.jpg';\n  }, []);\n  const handleSearchChange = e => {\n    const value = e.target.value;\n    setLocalSearch(value);\n    if (onSearchChange) onSearchChange(value);\n  };\n  const handleCategoryChange = e => {\n    const value = e.target.value;\n    setLocalCategory(value);\n    if (onFilterChange) onFilterChange(value);\n  };\n  if (!branchId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(Building, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639 \\u0644\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading.games) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"rentals-spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-games-grid-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"rentals-section-title\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-section-count\",\n          children: [\"(\", branchGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-search-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18,\n            className: \"rentals-search-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            value: effectiveSearchTerm,\n            onChange: handleSearchChange,\n            className: \"rentals-search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: effectiveFilterCategory,\n          onChange: handleCategoryChange,\n          className: \"rentals-category-select\",\n          children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat === 'all' ? 'جميع الفئات' : cat\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }, this), branchGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 9\n    }, this) : filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062A\\u0637\\u0627\\u0628\\u0642 \\\"\", effectiveSearchTerm, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-games-grid\",\n      children: filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-game-card\",\n        onClick: () => onAddToCart(game),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-game-image-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: getGameImage(game),\n            alt: game.name,\n            className: \"rentals-game-image\",\n            loading: \"lazy\",\n            onError: e => {\n              e.target.src = '/images/default-game.jpg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-game-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: game.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-game-price\",\n            children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"rentals-add-to-cart-btn\",\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 15\n        }, this)]\n      }, game.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 514,\n    columnNumber: 5\n  }, this);\n}, \"rUW1IqDX873erhaJQlvmhGgu78k=\")), \"rUW1IqDX873erhaJQlvmhGgu78k=\");\n\n// مكون التأجيرات النشطة\n_c6 = GamesGrid;\nconst ActiveRentalsList = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c7 = _s3(function ActiveRentalsList({\n  rentals,\n  items,\n  loading,\n  onComplete,\n  onCancel,\n  onViewDetails\n}) {\n  _s3();\n  const [timeNow, setTimeNow] = useState(new Date());\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTimeNow(new Date());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // تجميع التأجيرات مع عناصرها\n  const rentalsWithItems = useMemo(() => {\n    return rentals.map(rental => ({\n      ...rental,\n      items: items.filter(item => item.rental_id === rental.id)\n    }));\n  }, [rentals, items]);\n  const calculateRemainingTime = useCallback(rental => {\n    if (rental.rental_type === 'open') return 'مفتوح';\n    if (!rental.start_time) return '--:--';\n    const startTime = new Date(rental.start_time);\n    const duration = rental.duration_minutes || 15;\n    const endTime = new Date(startTime.getTime() + duration * 60000);\n    const remainingMs = endTime - timeNow;\n    if (remainingMs <= 0) return '00:00';\n    const remainingMinutes = Math.floor(remainingMs / 60000);\n    const remainingSeconds = Math.floor(remainingMs % 60000 / 1000);\n    return `${remainingMinutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n  }, [timeNow]);\n  const calculateProgress = useCallback(rental => {\n    if (rental.rental_type !== 'fixed' || !rental.start_time) return 100;\n    const startTime = new Date(rental.start_time);\n    const duration = rental.duration_minutes || 15;\n    const endTime = new Date(startTime.getTime() + duration * 60000);\n    const totalMs = duration * 60000;\n    const remainingMs = endTime - timeNow;\n    if (remainingMs <= 0) return 0;\n    const percentage = remainingMs / totalMs * 100;\n    return Math.max(0, Math.min(100, percentage));\n  }, [timeNow]);\n  const isExpired = useCallback(rental => {\n    if (rental.rental_type !== 'fixed' || !rental.start_time) return false;\n    const startTime = new Date(rental.start_time);\n    const duration = rental.duration_minutes || 15;\n    const endTime = new Date(startTime.getTime() + duration * 60000);\n    return timeNow > endTime;\n  }, [timeNow]);\n  const filteredRentals = useMemo(() => {\n    if (!searchTerm) return rentalsWithItems;\n    const term = searchTerm.toLowerCase();\n    return rentalsWithItems.filter(rental => {\n      var _rental$customer_name, _rental$customer_phon, _rental$rental_number, _rental$items;\n      return ((_rental$customer_name = rental.customer_name) === null || _rental$customer_name === void 0 ? void 0 : _rental$customer_name.toLowerCase().includes(term)) || ((_rental$customer_phon = rental.customer_phone) === null || _rental$customer_phon === void 0 ? void 0 : _rental$customer_phon.includes(term)) || ((_rental$rental_number = rental.rental_number) === null || _rental$rental_number === void 0 ? void 0 : _rental$rental_number.toLowerCase().includes(term)) || ((_rental$items = rental.items) === null || _rental$items === void 0 ? void 0 : _rental$items.some(item => {\n        var _item$game_name;\n        return (_item$game_name = item.game_name) === null || _item$game_name === void 0 ? void 0 : _item$game_name.toLowerCase().includes(term);\n      }));\n    });\n  }, [rentalsWithItems, searchTerm]);\n  if (loading.rentals) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-active-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"rentals-spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 681,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-active-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"rentals-section-title\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rentals-section-count\",\n          children: [\"(\", filteredRentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-search-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          size: 18,\n          className: \"rentals-search-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0628\\u062D\\u062B \\u0641\\u064A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"rentals-search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 7\n    }, this), filteredRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(Clock, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-rentals-list\",\n      children: filteredRentals.map(rental => {\n        var _rental$items2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `rentals-rental-card ${isExpired(rental) ? 'expired' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-rental-number\",\n              children: [/*#__PURE__*/_jsxDEV(Hash, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"#\", rental.rental_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-rental-type\",\n              children: rental.rental_type === 'open' ? '🔓 مفتوح' : '⏰ ثابت'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-customer\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.customer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this), rental.customer_phone && rental.customer_phone !== '00000000000' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-customer-phone\",\n              children: [\"(\", rental.customer_phone, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-items\",\n            children: (_rental$items2 = rental.items) === null || _rental$items2 === void 0 ? void 0 : _rental$items2.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-rental-item\",\n              children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-item-name\",\n                children: item.game_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 21\n              }, this), item.child_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-child-name\",\n                children: [\"- \", item.child_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-item-duration\",\n                children: [item.duration_minutes, \" \\u062F\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 21\n              }, this), item.quantity > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"rentals-item-quantity\",\n                children: [\"x\", item.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 43\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-time\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0627\\u0644\\u0628\\u062F\\u0627\\u064A\\u0629: \", formatTime(rental.start_time)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 754,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this), rental.rental_type === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-progress-bar\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `rentals-progress-fill ${isExpired(rental) ? 'expired' : ''}`,\n                style: {\n                  width: `${calculateProgress(rental)}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-rental-remaining\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A: \", calculateRemainingTime(rental)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-rental-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onViewDetails(rental),\n              className: \"rentals-btn-action rentals-btn-info\",\n              title: \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n              children: /*#__PURE__*/_jsxDEV(Eye, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 17\n            }, this), rental.rental_type === 'open' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onComplete(rental),\n              className: \"rentals-btn-action rentals-btn-success\",\n              title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n              children: /*#__PURE__*/_jsxDEV(Check, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 786,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => onCancel(rental),\n              className: \"rentals-btn-action rentals-btn-danger\",\n              title: \"\\u0625\\u0644\\u063A\\u0627\\u0621\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 790,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 15\n          }, this)]\n        }, rental.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 719,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 691,\n    columnNumber: 5\n  }, this);\n}, \"GfiGxUsV9pZym4Tylabrpkx1zuo=\")), \"GfiGxUsV9pZym4Tylabrpkx1zuo=\");\n\n// مكون إضافة لعبة للسلة\n_c8 = ActiveRentalsList;\nconst AddGameToCartModal = /*#__PURE__*/_s4(/*#__PURE__*/React.memo(_c9 = _s4(function AddGameToCartModal({\n  show,\n  onClose,\n  games,\n  onAddGame\n}) {\n  _s4();\n  const [searchTerm, setSearchTerm] = useState('');\n  const filteredGames = useMemo(() => {\n    if (!(games !== null && games !== void 0 && games.length)) return [];\n    const availableGames = games.filter(game => game.is_active);\n    if (!searchTerm) return availableGames;\n    const term = searchTerm.toLowerCase();\n    return availableGames.filter(game => {\n      var _game$name2, _game$category2;\n      return ((_game$name2 = game.name) === null || _game$name2 === void 0 ? void 0 : _game$name2.toLowerCase().includes(term)) || ((_game$category2 = game.category) === null || _game$category2 === void 0 ? void 0 : _game$category2.toLowerCase().includes(term));\n    });\n  }, [games, searchTerm]);\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-modal rentals-add-game-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 836,\n            columnNumber: 13\n          }, this), \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0639\\u0628\\u0629 \\u0644\\u0644\\u0633\\u0644\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 835,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rentals-modal-close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 840,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 834,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-search-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18,\n            className: \"rentals-search-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0627\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"rentals-search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 847,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-games-list\",\n          children: filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              size: 48\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 860,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this) : filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-game-select-item\",\n            onClick: () => {\n              onAddGame(game);\n              onClose();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-game-select-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: game.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 873,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-game-price\",\n                children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 874,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"rentals-add-btn\",\n              children: /*#__PURE__*/_jsxDEV(Plus, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 879,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 878,\n              columnNumber: 19\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 833,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 832,\n    columnNumber: 5\n  }, this);\n}, \"LBmd/RuKqIQ6CiJiEfY7P25+mnY=\")), \"LBmd/RuKqIQ6CiJiEfY7P25+mnY=\");\n\n// مكون تفاصيل التأجير\n_c0 = AddGameToCartModal;\nconst RentalDetailsModal = /*#__PURE__*/React.memo(_c1 = function RentalDetailsModal({\n  show,\n  onClose,\n  rental,\n  items\n}) {\n  if (!show || !rental) return null;\n  const rentalItems = items.filter(item => item.rental_id === rental.id);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 907,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631 #\", rental.rental_number]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rentals-modal-close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 917,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 919,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.customer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 918,\n            columnNumber: 13\n          }, this), rental.customer_phone && rental.customer_phone !== '00000000000' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 924,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.customer_phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 931,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(Hash, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 933,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631: \", rental.rental_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 934,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 932,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621: \", formatDateTime(rental.start_time)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 13\n          }, this), rental.end_time && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 942,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621: \", formatDateTime(rental.end_time)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 943,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 941,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0628\\u0648\\u0627\\u0633\\u0637\\u0629: \", rental.employee_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 948,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 946,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 (\", rentalItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 953,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-items-list\",\n            children: rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rentals-item-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-item-info\",\n                children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 958,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-item-name\",\n                  children: item.game_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 959,\n                  columnNumber: 21\n                }, this), item.child_name && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-child-name\",\n                  children: [\"(\", item.child_name, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 961,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 957,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rentals-item-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [item.duration_minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 965,\n                  columnNumber: 21\n                }, this), item.quantity > 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"x\", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 966,\n                  columnNumber: 43\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"rentals-item-price\",\n                  children: formatCurrency(item.price)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 967,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 964,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 952,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 977,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A: \", formatCurrency(rental.total_amount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 978,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 976,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 981,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639: \", formatCurrency(rental.paid_amount || 0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(Wallet, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 985,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639: \", rental.payment_method || 'كاش']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 986,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-details-row\",\n            children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 989,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639: \", rental.payment_status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 974,\n          columnNumber: 11\n        }, this), rental.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-details-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"rentals-notes\",\n            children: rental.notes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 995,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rentals-btn rentals-btn-secondary\",\n          children: \"\\u0625\\u063A\\u0644\\u0627\\u0642\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"rentals-btn rentals-btn-outline\",\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 904,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 903,\n    columnNumber: 5\n  }, this);\n});\n\n// مكون إنهاء تأجير مفتوح\n_c10 = RentalDetailsModal;\nconst CompleteOpenRentalModal = /*#__PURE__*/_s5(/*#__PURE__*/React.memo(_c11 = _s5(function CompleteOpenRentalModal({\n  show,\n  onClose,\n  rental,\n  items,\n  onConfirm\n}) {\n  _s5();\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const rentalItems = useMemo(() => {\n    return items.filter(item => item.rental_id === (rental === null || rental === void 0 ? void 0 : rental.id));\n  }, [rental, items]);\n  const calculateDuration = useCallback(() => {\n    if (!(rental !== null && rental !== void 0 && rental.start_time)) return 0;\n    const start = new Date(rental.start_time);\n    const now = new Date();\n    return Math.max(15, Math.floor((now - start) / 60000));\n  }, [rental]);\n  const calculateTotal = useCallback(() => {\n    const minutes = calculateDuration();\n    return rentalItems.reduce((total, item) => {\n      const units = Math.ceil(minutes / 15);\n      return total + item.price_per_15min * units * (item.quantity || 1);\n    }, 0);\n  }, [rentalItems, calculateDuration]);\n  const duration = calculateDuration();\n  const totalAmount = calculateTotal();\n  const handleConfirm = async () => {\n    setIsSubmitting(true);\n    try {\n      await onConfirm(rental, {\n        payment_method: paymentMethod,\n        final_amount: totalAmount,\n        actual_minutes: duration\n      });\n      onClose();\n    } catch (error) {\n      console.error('خطأ في إنهاء التأجير:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (!show || !rental) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 13\n          }, this), \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631 \\u0627\\u0644\\u0645\\u0641\\u062A\\u0648\\u062D\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1071,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rentals-modal-close\",\n          disabled: isSubmitting,\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1075,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1070,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1083,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-summary-value\",\n              children: rental.customer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1084,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1082,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1087,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatDateTime(rental.start_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1086,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0627\\u0644\\u0645\\u062F\\u0629 \\u0627\\u0644\\u0645\\u0646\\u0642\\u0636\\u064A\\u0629:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1091,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-highlight\",\n              children: [duration, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1092,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-items-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1097,\n            columnNumber: 13\n          }, this), rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.game_name, \" \", item.child_name && `(${item.child_name})`, \" x\", item.quantity || 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatCurrency(item.price_per_15min * Math.ceil(duration / 15) * (item.quantity || 1))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1096,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-total-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rentals-summary-row total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rentals-total-amount\",\n              children: formatCurrency(totalAmount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: paymentMethod,\n            onChange: e => setPaymentMethod(e.target.value),\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0643\\u0627\\u0634\",\n              children: \"\\uD83D\\uDCB5 \\u0646\\u0642\\u062F\\u064A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n              children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u0645\\u062D\\u0641\\u0638\\u0629\",\n              children: \"\\uD83D\\uDCF1 \\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1080,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"rentals-btn rentals-btn-secondary\",\n          disabled: isSubmitting,\n          children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleConfirm,\n          className: \"rentals-btn rentals-btn-success\",\n          disabled: isSubmitting,\n          children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"rentals-spinner\",\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1142,\n              columnNumber: 17\n            }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0644\\u062C\\u0629...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 17\n            }, this), \"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1069,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1068,\n    columnNumber: 5\n  }, this);\n}, \"OV9TpdmHAU/Pgcz7k3AuZxVk8cg=\")), \"OV9TpdmHAU/Pgcz7k3AuZxVk8cg=\");\n\n// ==================== المكون الرئيسي ====================\n_c12 = CompleteOpenRentalModal;\nconst Rentals = () => {\n  _s6();\n  const {\n    user\n  } = useAuth();\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n  const [loading, setLoading] = useState({\n    games: false,\n    rentals: false,\n    shift: false,\n    processing: false\n  });\n  const [games, setGames] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n  const [shiftSummary, setShiftSummary] = useState(null);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [rentalItems, setRentalItems] = useState([]);\n\n  // حالة السلة (Cart)\n  const [cartItems, setCartItems] = useState([]);\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: ''\n  });\n\n  // حالة النوافذ المنبثقة\n  const [showAddGameModal, setShowAddGameModal] = useState(false);\n  const [showRentalDetailsModal, setShowRentalDetailsModal] = useState(false);\n  const [showCompleteOpenModal, setShowCompleteOpenModal] = useState(false);\n  const [selectedRental, setSelectedRental] = useState(null);\n\n  // حالة البحث والتصفية\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [error, setError] = useState(null);\n\n  // ==================== دوال API ====================\n\n  // تحميل الألعاب\n  const loadGames = useCallback(async () => {\n    if (!(user !== null && user !== void 0 && user.branch_id)) return;\n    setLoading(prev => ({\n      ...prev,\n      games: true\n    }));\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user.branch_id\n        }\n      });\n      if (response.success) {\n        setGames(response.data || []);\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل الألعاب:', error);\n      setError('فشل تحميل الألعاب');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        games: false\n      }));\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n\n  // تحميل الشيفت الحالي\n  const loadCurrentShift = useCallback(async () => {\n    setLoading(prev => ({\n      ...prev,\n      shift: true\n    }));\n    try {\n      const response = await api.get('/shifts/current');\n      if (response.success && response.data) {\n        const shift = response.data;\n        // التحقق من أن الشيفت يخص المستخدم الحالي\n        if (shift.user_id === (user === null || user === void 0 ? void 0 : user.id)) {\n          setCurrentShift(shift);\n          // تحميل ملخص الشيفت\n          await loadShiftSummary(shift.id);\n        } else {\n          setCurrentShift(null);\n          setShiftSummary(null);\n        }\n      } else {\n        setCurrentShift(null);\n        setShiftSummary(null);\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل الشيفت:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  }, [user === null || user === void 0 ? void 0 : user.id]);\n\n  // تحميل ملخص الشيفت\n  const loadShiftSummary = useCallback(async shiftId => {\n    try {\n      const response = await api.get(`/shifts/${shiftId}/summary`);\n      if (response.success) {\n        setShiftSummary(response.data);\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل ملخص الشيفت:', error);\n    }\n  }, []);\n\n  // تحميل التأجيرات النشطة\n  const loadActiveRentals = useCallback(async () => {\n    if (!(currentShift !== null && currentShift !== void 0 && currentShift.id)) return;\n    setLoading(prev => ({\n      ...prev,\n      rentals: true\n    }));\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          shift_id: currentShift.id\n        }\n      });\n      if (response.success) {\n        const rentals = response.data || [];\n        setActiveRentals(rentals);\n\n        // تحميل عناصر التأجيرات\n        if (rentals.length > 0) {\n          const itemsPromises = rentals.map(rental => api.get(`/rental-items`, {\n            params: {\n              rental_id: rental.id\n            }\n          }));\n          const itemsResponses = await Promise.all(itemsPromises);\n          const allItems = itemsResponses.flatMap(res => res.data || []);\n          setRentalItems(allItems);\n        } else {\n          setRentalItems([]);\n        }\n      }\n    } catch (error) {\n      console.error('خطأ في تحميل التأجيرات:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        rentals: false\n      }));\n    }\n  }, [currentShift === null || currentShift === void 0 ? void 0 : currentShift.id]);\n\n  // تحديث جميع البيانات\n  const refreshAllData = useCallback(async () => {\n    await loadCurrentShift();\n    if (currentShift !== null && currentShift !== void 0 && currentShift.id) {\n      await loadActiveRentals();\n      await loadShiftSummary(currentShift.id);\n    }\n    await loadGames();\n  }, [loadCurrentShift, loadActiveRentals, loadShiftSummary, loadGames, currentShift === null || currentShift === void 0 ? void 0 : currentShift.id]);\n\n  // ==================== دوال الشيفت ====================\n\n  const handleStartShift = useCallback(async () => {\n    if (!(user !== null && user !== void 0 && user.branch_id)) {\n      alert('لا يوجد فرع محدد للمستخدم');\n      return;\n    }\n    setLoading(prev => ({\n      ...prev,\n      processing: true\n    }));\n    try {\n      const response = await api.post('/shifts/start', {\n        branch_id: user.branch_id,\n        opening_cash: 0 // يمكن تعديلها حسب الحاجة\n      });\n      if (response.success) {\n        setCurrentShift(response.data);\n        await refreshAllData();\n        alert('✅ تم فتح الشيفت بنجاح');\n      } else {\n        alert(`❌ فشل فتح الشيفت: ${response.message}`);\n      }\n    } catch (error) {\n      console.error('خطأ في فتح الشيفت:', error);\n      alert('حدث خطأ في فتح الشيفت');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        processing: false\n      }));\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id, refreshAllData]);\n  const handleEndShift = useCallback(async () => {\n    if (!currentShift) return;\n    if (activeRentals.length > 0) {\n      const confirmed = window.confirm(`⚠️ يوجد ${activeRentals.length} تأجير نشط!\\nهل تريد إنهاء الشيفت مع وجود تأجيرات نشطة؟`);\n      if (!confirmed) return;\n    }\n    setLoading(prev => ({\n      ...prev,\n      processing: true\n    }));\n    try {\n      const response = await api.post(`/shifts/${currentShift.id}/end`, {\n        closing_cash: (shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.total_revenue) || 0,\n        total_rentals: (shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.total_rentals) || 0,\n        total_revenue: (shiftSummary === null || shiftSummary === void 0 ? void 0 : shiftSummary.total_revenue) || 0\n      });\n      if (response.success) {\n        setCurrentShift(null);\n        setShiftSummary(null);\n        setActiveRentals([]);\n        setRentalItems([]);\n        alert('✅ تم إنهاء الشيفت بنجاح');\n      } else {\n        alert(`❌ فشل إنهاء الشيفت: ${response.message}`);\n      }\n    } catch (error) {\n      console.error('خطأ في إنهاء الشيفت:', error);\n      alert('حدث خطأ في إنهاء الشيفت');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        processing: false\n      }));\n    }\n  }, [currentShift, activeRentals.length, shiftSummary]);\n\n  // ==================== دوال السلة (Cart) ====================\n\n  const handleAddToCart = useCallback(game => {\n    if (!currentShift) {\n      alert('❌ يجب فتح شيفت أولاً');\n      return;\n    }\n    setCartItems(prev => [...prev, {\n      id: Date.now() + Math.random(),\n      game_id: game.id,\n      game_name: game.name,\n      price_per_15min: game.price_per_15min,\n      rental_type: 'fixed',\n      duration_minutes: 15,\n      quantity: 1,\n      child_name: ''\n    }]);\n  }, [currentShift]);\n  const handleUpdateCartItem = useCallback((itemId, updates) => {\n    setCartItems(prev => prev.map(item => item.id === itemId ? {\n      ...item,\n      ...updates\n    } : item));\n  }, []);\n  const handleRemoveCartItem = useCallback(itemId => {\n    setCartItems(prev => prev.filter(item => item.id !== itemId));\n  }, []);\n  const handleClearCart = useCallback(() => {\n    setCartItems([]);\n    setCustomerInfo({\n      name: '',\n      phone: ''\n    });\n  }, []);\n\n  // ==================== دوال التأجير ====================\n\n  const handleCreateRental = useCallback(async () => {\n    var _customerInfo$name2;\n    if (!currentShift) {\n      alert('❌ لا يوجد شيفت نشط');\n      return;\n    }\n    if (cartItems.length === 0) {\n      alert('❌ السلة فارغة');\n      return;\n    }\n    if (!((_customerInfo$name2 = customerInfo.name) !== null && _customerInfo$name2 !== void 0 && _customerInfo$name2.trim())) {\n      alert('❌ اسم العميل مطلوب');\n      return;\n    }\n    setLoading(prev => ({\n      ...prev,\n      processing: true\n    }));\n    try {\n      // إنشاء التأجير الرئيسي\n      const rentalResponse = await api.post('/rentals', {\n        branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n        shift_id: currentShift.id,\n        user_id: user === null || user === void 0 ? void 0 : user.id,\n        customer_name: customerInfo.name.trim(),\n        customer_phone: customerInfo.phone || '00000000000',\n        total_amount: 0,\n        // سيتم حسابه من العناصر\n        paid_amount: 0,\n        // سيتم حسابه من العناصر\n        status: 'نشط',\n        payment_status: 'pending',\n        rental_type: cartItems.every(i => i.rental_type === 'fixed') ? 'fixed' : 'mixed'\n      });\n      if (!rentalResponse.success) {\n        throw new Error(rentalResponse.message || 'فشل إنشاء التأجير');\n      }\n      const rentalId = rentalResponse.data.id;\n      const rentalNumber = rentalResponse.data.rental_number;\n\n      // إنشاء عناصر التأجير\n      let totalAmount = 0;\n      for (const item of cartItems) {\n        const units = item.rental_type === 'fixed' ? Math.ceil((item.duration_minutes || 15) / 15) : 0;\n        const itemPrice = item.rental_type === 'fixed' ? item.price_per_15min * units * (item.quantity || 1) : 0;\n        totalAmount += itemPrice;\n        await api.post('/rental-items', {\n          rental_id: rentalId,\n          game_id: item.game_id,\n          child_name: item.child_name || null,\n          duration_minutes: item.rental_type === 'fixed' ? item.duration_minutes : null,\n          quantity: item.quantity || 1,\n          price_per_15min: item.price_per_15min,\n          price: itemPrice,\n          rental_type: item.rental_type\n        });\n      }\n\n      // تحديث المبلغ الإجمالي في التأجير\n      await api.put(`/rentals/${rentalId}`, {\n        total_amount: totalAmount,\n        paid_amount: totalAmount // للتأجير الثابت\n      });\n      alert(`✅ تم إنشاء التأجير رقم ${rentalNumber} بنجاح`);\n\n      // تفريغ السلة وتحديث البيانات\n      handleClearCart();\n      await loadActiveRentals();\n      await loadShiftSummary(currentShift.id);\n    } catch (error) {\n      console.error('خطأ في إنشاء التأجير:', error);\n      alert(`❌ فشل إنشاء التأجير: ${error.message}`);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        processing: false\n      }));\n    }\n  }, [currentShift, cartItems, customerInfo, user, handleClearCart, loadActiveRentals, loadShiftSummary]);\n  const handleCompleteOpenRental = useCallback(async (rental, data) => {\n    if (!rental) return;\n    setLoading(prev => ({\n      ...prev,\n      processing: true\n    }));\n    try {\n      const response = await api.post(`/rentals/${rental.id}/complete`, {\n        payment_method: data.payment_method,\n        final_amount: data.final_amount,\n        actual_minutes: data.actual_minutes,\n        end_time: new Date().toISOString()\n      });\n      if (response.success) {\n        alert(`✅ تم إنهاء التأجير بنجاح\\nالمبلغ: ${formatCurrency(data.final_amount)}`);\n        await loadActiveRentals();\n        await loadShiftSummary(currentShift === null || currentShift === void 0 ? void 0 : currentShift.id);\n      } else {\n        alert(`❌ فشل إنهاء التأجير: ${response.message}`);\n      }\n    } catch (error) {\n      console.error('خطأ في إنهاء التأجير:', error);\n      alert('حدث خطأ في إنهاء التأجير');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        processing: false\n      }));\n    }\n  }, [currentShift === null || currentShift === void 0 ? void 0 : currentShift.id, loadActiveRentals, loadShiftSummary]);\n  const handleCancelRental = useCallback(async rental => {\n    if (!window.confirm('هل تريد إلغاء هذا التأجير؟')) return;\n    setLoading(prev => ({\n      ...prev,\n      processing: true\n    }));\n    try {\n      const response = await api.post(`/rentals/${rental.id}/cancel`, {\n        reason: 'تم الإلغاء من قبل المستخدم'\n      });\n      if (response.success) {\n        alert('✅ تم إلغاء التأجير');\n        await loadActiveRentals();\n        await loadShiftSummary(currentShift === null || currentShift === void 0 ? void 0 : currentShift.id);\n      } else {\n        alert(`❌ فشل إلغاء التأجير: ${response.message}`);\n      }\n    } catch (error) {\n      console.error('خطأ في إلغاء التأجير:', error);\n      alert('حدث خطأ في إلغاء التأجير');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        processing: false\n      }));\n    }\n  }, [currentShift === null || currentShift === void 0 ? void 0 : currentShift.id, loadActiveRentals, loadShiftSummary]);\n\n  // ==================== Effects ====================\n\n  // تحميل البيانات الأولية\n  useEffect(() => {\n    refreshAllData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // تحديث البيانات عند تغيير الشيفت\n  useEffect(() => {\n    if (currentShift !== null && currentShift !== void 0 && currentShift.id) {\n      loadActiveRentals();\n      loadShiftSummary(currentShift.id);\n    }\n  }, [currentShift === null || currentShift === void 0 ? void 0 : currentShift.id, loadActiveRentals, loadShiftSummary]);\n\n  // تحديث دوري للتأجيرات النشطة (كل دقيقة)\n  useEffect(() => {\n    if (!(currentShift !== null && currentShift !== void 0 && currentShift.id)) return;\n    const interval = setInterval(() => {\n      loadActiveRentals();\n    }, 60000);\n    return () => clearInterval(interval);\n  }, [currentShift === null || currentShift === void 0 ? void 0 : currentShift.id, loadActiveRentals]);\n\n  // ==================== Render ====================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1575,\n          columnNumber: 11\n        }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1574,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-header-actions\",\n        children: [currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-shift-badge\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1581,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", currentShift.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1582,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1580,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: refreshAllData,\n          className: \"rentals-btn rentals-btn-outline\",\n          disabled: loading.processing,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading.processing ? 'rentals-spinner' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1590,\n            columnNumber: 13\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1585,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1578,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1573,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShiftStats, {\n      currentShift: currentShift,\n      onStartShift: handleStartShift,\n      onEndShift: handleEndShift,\n      shiftSummary: shiftSummary,\n      loading: loading,\n      error: error,\n      onErrorClose: () => setError(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1596,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-main-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(GamesGrid, {\n          games: games,\n          branchId: user === null || user === void 0 ? void 0 : user.branch_id,\n          onAddToCart: handleAddToCart,\n          loading: loading,\n          searchTerm: searchTerm,\n          onSearchChange: setSearchTerm,\n          filterCategory: filterCategory,\n          onFilterChange: setFilterCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1608,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ActiveRentalsList, {\n          rentals: activeRentals,\n          items: rentalItems,\n          loading: loading,\n          onComplete: rental => {\n            setSelectedRental(rental);\n            setShowCompleteOpenModal(true);\n          },\n          onCancel: handleCancelRental,\n          onViewDetails: rental => {\n            setSelectedRental(rental);\n            setShowRentalDetailsModal(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1619,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1607,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-right-panel\",\n        children: /*#__PURE__*/_jsxDEV(RentalCart, {\n          items: cartItems,\n          onUpdateItem: handleUpdateCartItem,\n          onRemoveItem: handleRemoveCartItem,\n          onClearCart: handleClearCart,\n          customerInfo: customerInfo,\n          onCustomerInfoChange: (field, value) => setCustomerInfo(prev => ({\n            ...prev,\n            [field]: value\n          })),\n          onSubmit: handleCreateRental,\n          isSubmitting: loading.processing,\n          games: games,\n          onAddGame: () => setShowAddGameModal(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1636,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1635,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1606,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddGameToCartModal, {\n      show: showAddGameModal,\n      onClose: () => setShowAddGameModal(false),\n      games: games,\n      onAddGame: handleAddToCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1653,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RentalDetailsModal, {\n      show: showRentalDetailsModal,\n      onClose: () => {\n        setShowRentalDetailsModal(false);\n        setSelectedRental(null);\n      },\n      rental: selectedRental,\n      items: rentalItems\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1660,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CompleteOpenRentalModal, {\n      show: showCompleteOpenModal,\n      onClose: () => {\n        setShowCompleteOpenModal(false);\n        setSelectedRental(null);\n      },\n      rental: selectedRental,\n      items: rentalItems,\n      onConfirm: handleCompleteOpenRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1670,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1572,\n    columnNumber: 5\n  }, this);\n};\n_s6(Rentals, \"D92ejGHWJhUCzOkyuUgpNWepAfo=\", false, function () {\n  return [useAuth];\n});\n_c13 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"ShiftStats$React.memo\");\n$RefreshReg$(_c2, \"ShiftStats\");\n$RefreshReg$(_c3, \"RentalCart$React.memo\");\n$RefreshReg$(_c4, \"RentalCart\");\n$RefreshReg$(_c5, \"GamesGrid$React.memo\");\n$RefreshReg$(_c6, \"GamesGrid\");\n$RefreshReg$(_c7, \"ActiveRentalsList$React.memo\");\n$RefreshReg$(_c8, \"ActiveRentalsList\");\n$RefreshReg$(_c9, \"AddGameToCartModal$React.memo\");\n$RefreshReg$(_c0, \"AddGameToCartModal\");\n$RefreshReg$(_c1, \"RentalDetailsModal$React.memo\");\n$RefreshReg$(_c10, \"RentalDetailsModal\");\n$RefreshReg$(_c11, \"CompleteOpenRentalModal$React.memo\");\n$RefreshReg$(_c12, \"CompleteOpenRentalModal\");\n$RefreshReg$(_c13, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","Gamepad2","Clock","User","Phone","ShoppingCart","DollarSign","CheckCircle","XCircle","Eye","Plus","Minus","Trash2","Calendar","Printer","Download","RefreshCw","AlertCircle","Check","X","Building","Zap","Lock","Unlock","Loader2","Filter","Search","ChevronRight","MapPin","Mail","Users","Package","RotateCcw","Calculator","Play","Pause","StopCircle","AlertTriangle","Info","LogOut","Save","Edit","CreditCard","Wallet","Hash","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","undefined","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","validatePhone","phone","trim","cleaned","replace","length","startsWith","calculateDuration","startTime","endTime","start","end","Math","max","round","ShiftStats","memo","_c","currentShift","onStartShift","onEndShift","shiftSummary","loading","error","onErrorClose","shift","className","children","map","i","fileName","_jsxFileName","lineNumber","columnNumber","size","id","start_time","total_revenue","total_rentals","active_rentals","opening_cash","onClick","disabled","processing","_c2","RentalCart","_s","_c3","items","onUpdateItem","onRemoveItem","onClearCart","customerInfo","onCustomerInfoChange","onSubmit","isSubmitting","games","onAddGame","calculateItemTotal","item","rental_type","units","ceil","duration_minutes","price_per_15min","quantity","calculateCartTotal","reduce","total","isCartValid","_customerInfo$name","name","index","game_name","value","onChange","e","target","parseInt","type","child_name","placeholder","slice","maxLength","_c4","GamesGrid","_s2","_c5","branchId","onAddToCart","searchTerm","onSearchChange","filterCategory","onFilterChange","localSearch","setLocalSearch","localCategory","setLocalCategory","effectiveSearchTerm","effectiveFilterCategory","branchGames","filter","game","branch_id","categories","cats","Set","forEach","g","category","add","Array","from","filteredGames","search","toLowerCase","_game$name","_game$category","matchesSearch","includes","matchesCategory","getGameImage","image_url","handleSearchChange","handleCategoryChange","cat","src","alt","onError","_c6","ActiveRentalsList","_s3","_c7","rentals","onComplete","onCancel","onViewDetails","timeNow","setTimeNow","setSearchTerm","interval","setInterval","clearInterval","rentalsWithItems","rental","rental_id","calculateRemainingTime","duration","remainingMs","remainingMinutes","floor","remainingSeconds","toString","padStart","calculateProgress","totalMs","percentage","min","isExpired","filteredRentals","term","_rental$customer_name","_rental$customer_phon","_rental$rental_number","_rental$items","customer_name","customer_phone","rental_number","some","_item$game_name","_rental$items2","width","title","_c8","AddGameToCartModal","_s4","_c9","show","onClose","availableGames","is_active","_game$name2","_game$category2","_c0","RentalDetailsModal","_c1","rentalItems","end_time","employee_name","price","total_amount","paid_amount","payment_method","payment_status","notes","_c10","CompleteOpenRentalModal","_s5","_c11","onConfirm","paymentMethod","setPaymentMethod","setIsSubmitting","now","calculateTotal","minutes","totalAmount","handleConfirm","final_amount","actual_minutes","console","_c12","Rentals","_s6","user","isManager","role","setLoading","setGames","setCurrentShift","setShiftSummary","activeRentals","setActiveRentals","setRentalItems","cartItems","setCartItems","setCustomerInfo","showAddGameModal","setShowAddGameModal","showRentalDetailsModal","setShowRentalDetailsModal","showCompleteOpenModal","setShowCompleteOpenModal","selectedRental","setSelectedRental","setFilterCategory","setError","loadGames","prev","response","get","params","success","data","loadCurrentShift","user_id","loadShiftSummary","shiftId","loadActiveRentals","shift_id","itemsPromises","itemsResponses","Promise","all","allItems","flatMap","res","refreshAllData","handleStartShift","alert","post","message","handleEndShift","confirmed","window","confirm","closing_cash","handleAddToCart","random","game_id","handleUpdateCartItem","itemId","updates","handleRemoveCartItem","handleClearCart","handleCreateRental","_customerInfo$name2","rentalResponse","status","every","Error","rentalId","rentalNumber","itemPrice","put","handleCompleteOpenRental","toISOString","handleCancelRental","reason","field","_c13","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { \r\n  Gamepad2, Clock, User, Phone, ShoppingCart, DollarSign, \r\n  CheckCircle, XCircle, Eye, Plus, Minus, Trash2, Calendar,\r\n  Printer, Download, RefreshCw, AlertCircle, Check, X,\r\n  Building, Zap, Lock, Unlock, Loader2, Filter, Search,\r\n  ChevronRight, MapPin, Mail, Users, Package, RotateCcw, Calculator,\r\n  Play, Pause, StopCircle, AlertTriangle,\r\n  Info, LogOut, Save, Edit, CreditCard, Wallet, Hash\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== دوال المساعدة العامة ====================\r\nconst formatCurrency = (amount) => {\r\n  if (amount === null || amount === undefined || amount === '') return '0 ج.م';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--:--';\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst validatePhone = (phone) => {\r\n  if (!phone || phone.trim() === '') return true;\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 11 && cleaned.startsWith('01');\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\r\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\r\n};\r\n\r\n// ==================== المكونات الفرعية ====================\r\n\r\n// مكون إحصائيات الشيفت\r\nconst ShiftStats = React.memo(function ShiftStats({\r\n  currentShift,\r\n  onStartShift,\r\n  onEndShift,\r\n  shiftSummary,\r\n  loading,\r\n  error,\r\n  onErrorClose\r\n}) {\r\n  if (loading.shift) {\r\n    return (\r\n      <div className=\"rentals-shift-stats\">\r\n        <div className=\"rentals-stats-grid\">\r\n          {[1, 2, 3, 4].map(i => (\r\n            <div key={i} className=\"rentals-stat-card rentals-skeleton\"></div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-shift-stats\">\r\n      {currentShift ? (\r\n        <>\r\n          <div className=\"rentals-shift-header\">\r\n            <div className=\"rentals-shift-badge open\">\r\n              <Zap size={20} />\r\n              <span>شيفت مفتوح #{currentShift.id}</span>\r\n            </div>\r\n            <div className=\"rentals-shift-time\">\r\n              <Clock size={16} />\r\n              <span>بداية: {formatDateTime(currentShift.start_time)}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rentals-stats-grid\">\r\n            <div className=\"rentals-stat-card\">\r\n              <div className=\"rentals-stat-icon\">\r\n                <DollarSign size={24} />\r\n              </div>\r\n              <div className=\"rentals-stat-content\">\r\n                <div className=\"rentals-stat-value\">\r\n                  {formatCurrency(shiftSummary?.total_revenue || 0)}\r\n                </div>\r\n                <div className=\"rentals-stat-label\">\r\n                  إجمالي الإيراد\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rentals-stat-card\">\r\n              <div className=\"rentals-stat-icon\">\r\n                <ShoppingCart size={24} />\r\n              </div>\r\n              <div className=\"rentals-stat-content\">\r\n                <div className=\"rentals-stat-value\">\r\n                  {shiftSummary?.total_rentals || 0}\r\n                </div>\r\n                <div className=\"rentals-stat-label\">\r\n                  عدد التأجيرات\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rentals-stat-card\">\r\n              <div className=\"rentals-stat-icon\">\r\n                <Gamepad2 size={24} />\r\n              </div>\r\n              <div className=\"rentals-stat-content\">\r\n                <div className=\"rentals-stat-value\">\r\n                  {shiftSummary?.active_rentals || 0}\r\n                </div>\r\n                <div className=\"rentals-stat-label\">\r\n                  تأجيرات نشطة\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rentals-stat-card\">\r\n              <div className=\"rentals-stat-icon\">\r\n                <Clock size={24} />\r\n              </div>\r\n              <div className=\"rentals-stat-content\">\r\n                <div className=\"rentals-stat-value\">\r\n                  {formatCurrency(shiftSummary?.opening_cash || 0)}\r\n                </div>\r\n                <div className=\"rentals-stat-label\">\r\n                  خزنة البداية\r\n                </div>\r\n                <button\r\n                  onClick={onEndShift}\r\n                  className=\"rentals-btn rentals-btn-warning\"\r\n                  disabled={loading.processing}\r\n                >\r\n                  {loading.processing ? (\r\n                    <Loader2 className=\"rentals-spinner\" size={14} />\r\n                  ) : (\r\n                    <Lock size={14} />\r\n                  )}\r\n                  إنهاء الشيفت\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <div className=\"rentals-no-shift\">\r\n          <div className=\"rentals-no-shift-content\">\r\n            <Lock size={48} />\r\n            <h3>لا يوجد شيفت نشط</h3>\r\n            <p>يجب فتح شيفت جديد لبدء التأجير</p>\r\n            <button\r\n              onClick={onStartShift}\r\n              className=\"rentals-btn rentals-btn-success\"\r\n              disabled={loading.processing}\r\n            >\r\n              {loading.processing ? (\r\n                <Loader2 className=\"rentals-spinner\" size={16} />\r\n              ) : (\r\n                <Unlock size={16} />\r\n              )}\r\n              فتح شيفت جديد\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div className=\"rentals-error-banner\">\r\n          <AlertCircle size={20} />\r\n          <span>{error}</span>\r\n          <button onClick={onErrorClose} className=\"rentals-error-close\">\r\n            <X size={16} />\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون سلة التأجير (Cart)\r\nconst RentalCart = React.memo(function RentalCart({\r\n  items,\r\n  onUpdateItem,\r\n  onRemoveItem,\r\n  onClearCart,\r\n  customerInfo,\r\n  onCustomerInfoChange,\r\n  onSubmit,\r\n  isSubmitting,\r\n  games,\r\n  onAddGame\r\n}) {\r\n  const calculateItemTotal = useCallback((item) => {\r\n    if (item.rental_type === 'open') return 0;\r\n    const units = Math.ceil((item.duration_minutes || 15) / 15);\r\n    return (item.price_per_15min || 0) * units * (item.quantity || 1);\r\n  }, []);\r\n\r\n  const calculateCartTotal = useCallback(() => {\r\n    return items.reduce((total, item) => total + calculateItemTotal(item), 0);\r\n  }, [items, calculateItemTotal]);\r\n\r\n  const isCartValid = useCallback(() => {\r\n    return items.length > 0 && customerInfo.name?.trim();\r\n  }, [items.length, customerInfo.name]);\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"rentals-cart-empty\">\r\n        <ShoppingCart size={48} />\r\n        <h3>السلة فارغة</h3>\r\n        <p>اختر ألعاباً من القائمة لإضافتها إلى السلة</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-cart\">\r\n      <div className=\"rentals-cart-header\">\r\n        <h3>\r\n          <ShoppingCart size={20} />\r\n          سلة التأجير ({items.length})\r\n        </h3>\r\n        <button\r\n          onClick={onClearCart}\r\n          className=\"rentals-btn rentals-btn-outline rentals-small-btn\"\r\n          disabled={isSubmitting}\r\n        >\r\n          <Trash2 size={14} />\r\n          تفريغ السلة\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"rentals-cart-items\">\r\n        {items.map((item, index) => (\r\n          <div key={item.id || index} className=\"rentals-cart-item\">\r\n            <div className=\"rentals-cart-item-header\">\r\n              <span className=\"rentals-cart-item-name\">{item.game_name}</span>\r\n              <button\r\n                onClick={() => onRemoveItem(item.id)}\r\n                className=\"rentals-btn-remove\"\r\n                disabled={isSubmitting}\r\n              >\r\n                <X size={14} />\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"rentals-cart-item-details\">\r\n              <div className=\"rentals-cart-item-field\">\r\n                <label>النوع:</label>\r\n                <select\r\n                  value={item.rental_type}\r\n                  onChange={(e) => onUpdateItem(item.id, { rental_type: e.target.value })}\r\n                  disabled={isSubmitting}\r\n                  className=\"rentals-select-small\"\r\n                >\r\n                  <option value=\"fixed\">⏰ ثابت</option>\r\n                  <option value=\"open\">🔓 مفتوح</option>\r\n                </select>\r\n              </div>\r\n\r\n              {item.rental_type === 'fixed' && (\r\n                <div className=\"rentals-cart-item-field\">\r\n                  <label>المدة:</label>\r\n                  <select\r\n                    value={item.duration_minutes || 15}\r\n                    onChange={(e) => onUpdateItem(item.id, { duration_minutes: parseInt(e.target.value) })}\r\n                    disabled={isSubmitting}\r\n                    className=\"rentals-select-small\"\r\n                  >\r\n                    <option value=\"15\">15 د</option>\r\n                    <option value=\"30\">30 د</option>\r\n                    <option value=\"45\">45 د</option>\r\n                    <option value=\"60\">60 د</option>\r\n                    <option value=\"90\">90 د</option>\r\n                    <option value=\"120\">120 د</option>\r\n                  </select>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"rentals-cart-item-field\">\r\n                <label>الكمية:</label>\r\n                <div className=\"rentals-quantity-control\">\r\n                  <button\r\n                    onClick={() => onUpdateItem(item.id, { quantity: Math.max(1, (item.quantity || 1) - 1) })}\r\n                    className=\"rentals-quantity-btn\"\r\n                    disabled={isSubmitting || (item.quantity || 1) <= 1}\r\n                  >\r\n                    <Minus size={12} />\r\n                  </button>\r\n                  <span className=\"rentals-quantity-value\">{item.quantity || 1}</span>\r\n                  <button\r\n                    onClick={() => onUpdateItem(item.id, { quantity: (item.quantity || 1) + 1 })}\r\n                    className=\"rentals-quantity-btn\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <Plus size={12} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rentals-cart-item-field\">\r\n                <label>اسم الطفل:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={item.child_name || ''}\r\n                  onChange={(e) => onUpdateItem(item.id, { child_name: e.target.value })}\r\n                  placeholder=\"اختياري\"\r\n                  disabled={isSubmitting}\r\n                  className=\"rentals-input-small\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {item.rental_type === 'fixed' && (\r\n              <div className=\"rentals-cart-item-total\">\r\n                <span>المجموع:</span>\r\n                <span className=\"rentals-amount\">{formatCurrency(calculateItemTotal(item))}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"rentals-cart-footer\">\r\n        <button\r\n          onClick={onAddGame}\r\n          className=\"rentals-btn rentals-btn-outline\"\r\n          disabled={isSubmitting}\r\n        >\r\n          <Plus size={16} />\r\n          إضافة لعبة\r\n        </button>\r\n\r\n        <div className=\"rentals-cart-total\">\r\n          <span>الإجمالي:</span>\r\n          <span className=\"rentals-total-amount\">{formatCurrency(calculateCartTotal())}</span>\r\n        </div>\r\n\r\n        <div className=\"rentals-cart-customer\">\r\n          <h4>معلومات العميل</h4>\r\n          <div className=\"rentals-cart-customer-fields\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"اسم العميل *\"\r\n              value={customerInfo.name || ''}\r\n              onChange={(e) => onCustomerInfoChange('name', e.target.value)}\r\n              disabled={isSubmitting}\r\n              className=\"rentals-input\"\r\n            />\r\n            <input\r\n              type=\"tel\"\r\n              placeholder=\"رقم الهاتف\"\r\n              value={customerInfo.phone || ''}\r\n              onChange={(e) => onCustomerInfoChange('phone', e.target.value.replace(/\\D/g, '').slice(0, 11))}\r\n              disabled={isSubmitting}\r\n              className=\"rentals-input\"\r\n              maxLength={11}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          onClick={onSubmit}\r\n          className=\"rentals-btn rentals-btn-primary rentals-btn-block\"\r\n          disabled={isSubmitting || !isCartValid()}\r\n        >\r\n          {isSubmitting ? (\r\n            <>\r\n              <Loader2 className=\"rentals-spinner\" size={16} />\r\n              جاري الإنشاء...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Check size={16} />\r\n              تأكيد التأجير\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون شبكة الألعاب\r\nconst GamesGrid = React.memo(function GamesGrid({ \r\n  games, \r\n  branchId, \r\n  onAddToCart, \r\n  loading,\r\n  searchTerm,\r\n  onSearchChange,\r\n  filterCategory,\r\n  onFilterChange\r\n}) {\r\n  const [localSearch, setLocalSearch] = useState('');\r\n  const [localCategory, setLocalCategory] = useState('all');\r\n\r\n  // استخدام القيم الخارجية إذا وجدت\r\n  const effectiveSearchTerm = searchTerm !== undefined ? searchTerm : localSearch;\r\n  const effectiveFilterCategory = filterCategory !== undefined ? filterCategory : localCategory;\r\n\r\n  // تصفية الألعاب حسب الفرع\r\n  const branchGames = useMemo(() => {\r\n    if (!games?.length || !branchId) return [];\r\n    return games.filter(game => game && game.branch_id === branchId);\r\n  }, [games, branchId]);\r\n\r\n  // استخراج الفئات المتاحة\r\n  const categories = useMemo(() => {\r\n    if (!branchGames.length) return ['all'];\r\n    const cats = new Set(['all']);\r\n    branchGames.forEach(g => g.category && cats.add(g.category));\r\n    return Array.from(cats);\r\n  }, [branchGames]);\r\n\r\n  // تصفية الألعاب حسب البحث والفئة\r\n  const filteredGames = useMemo(() => {\r\n    if (!branchGames.length) return [];\r\n\r\n    const search = effectiveSearchTerm.toLowerCase();\r\n    \r\n    return branchGames.filter(game => {\r\n      const matchesSearch = !effectiveSearchTerm || \r\n        game.name?.toLowerCase().includes(search) ||\r\n        game.category?.toLowerCase().includes(search);\r\n\r\n      const matchesCategory = effectiveFilterCategory === 'all' || game.category === effectiveFilterCategory;\r\n\r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  }, [branchGames, effectiveSearchTerm, effectiveFilterCategory]);\r\n\r\n  const getGameImage = useCallback((game) => {\r\n    if (!game) return '/images/default-game.jpg';\r\n    if (game.image_url && game.image_url !== 'default-game.jpg') {\r\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\r\n    }\r\n    return '/images/default-game.jpg';\r\n  }, []);\r\n\r\n  const handleSearchChange = (e) => {\r\n    const value = e.target.value;\r\n    setLocalSearch(value);\r\n    if (onSearchChange) onSearchChange(value);\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    const value = e.target.value;\r\n    setLocalCategory(value);\r\n    if (onFilterChange) onFilterChange(value);\r\n  };\r\n\r\n  if (!branchId) {\r\n    return (\r\n      <div className=\"rentals-games-grid-section\">\r\n        <div className=\"rentals-empty-state\">\r\n          <Building size={48} />\r\n          <h3>الرجاء تحديد فرع</h3>\r\n          <p>يجب تحديد فرع لعرض الألعاب المتاحة</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading.games) {\r\n    return (\r\n      <div className=\"rentals-games-grid-section\">\r\n        <div className=\"rentals-loading-state\">\r\n          <Loader2 className=\"rentals-spinner\" size={32} />\r\n          <p>جاري تحميل الألعاب...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-games-grid-section\">\r\n      <div className=\"rentals-section-header\">\r\n        <h3 className=\"rentals-section-title\">\r\n          <Gamepad2 size={24} />\r\n          الألعاب المتاحة\r\n          <span className=\"rentals-section-count\">\r\n            ({branchGames.length})\r\n          </span>\r\n        </h3>\r\n        \r\n        <div className=\"rentals-filters\">\r\n          <div className=\"rentals-search-wrapper\">\r\n            <Search size={18} className=\"rentals-search-icon\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"بحث عن لعبة...\"\r\n              value={effectiveSearchTerm}\r\n              onChange={handleSearchChange}\r\n              className=\"rentals-search-input\"\r\n            />\r\n          </div>\r\n\r\n          <select\r\n            value={effectiveFilterCategory}\r\n            onChange={handleCategoryChange}\r\n            className=\"rentals-category-select\"\r\n          >\r\n            {categories.map(cat => (\r\n              <option key={cat} value={cat}>\r\n                {cat === 'all' ? 'جميع الفئات' : cat}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {branchGames.length === 0 ? (\r\n        <div className=\"rentals-empty-state\">\r\n          <Gamepad2 size={48} />\r\n          <h3>لا توجد ألعاب متاحة</h3>\r\n        </div>\r\n      ) : filteredGames.length === 0 ? (\r\n        <div className=\"rentals-empty-state\">\r\n          <Search size={48} />\r\n          <p>لا توجد ألعاب تطابق \"{effectiveSearchTerm}\"</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"rentals-games-grid\">\r\n          {filteredGames.map(game => (\r\n            <div\r\n              key={game.id}\r\n              className=\"rentals-game-card\"\r\n              onClick={() => onAddToCart(game)}\r\n            >\r\n              <div className=\"rentals-game-image-container\">\r\n                <img\r\n                  src={getGameImage(game)}\r\n                  alt={game.name}\r\n                  className=\"rentals-game-image\"\r\n                  loading=\"lazy\"\r\n                  onError={(e) => {\r\n                    e.target.src = '/images/default-game.jpg';\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"rentals-game-info\">\r\n                <h4>{game.name}</h4>\r\n                <div className=\"rentals-game-price\">\r\n                  {formatCurrency(game.price_per_15min)} / 15 دقيقة\r\n                </div>\r\n                <button className=\"rentals-add-to-cart-btn\">\r\n                  <Plus size={16} />\r\n                  إضافة\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون التأجيرات النشطة\r\nconst ActiveRentalsList = React.memo(function ActiveRentalsList({ \r\n  rentals, \r\n  items,\r\n  loading, \r\n  onComplete,\r\n  onCancel,\r\n  onViewDetails\r\n}) {\r\n  const [timeNow, setTimeNow] = useState(new Date());\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setTimeNow(new Date());\r\n    }, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // تجميع التأجيرات مع عناصرها\r\n  const rentalsWithItems = useMemo(() => {\r\n    return rentals.map(rental => ({\r\n      ...rental,\r\n      items: items.filter(item => item.rental_id === rental.id)\r\n    }));\r\n  }, [rentals, items]);\r\n\r\n  const calculateRemainingTime = useCallback((rental) => {\r\n    if (rental.rental_type === 'open') return 'مفتوح';\r\n    if (!rental.start_time) return '--:--';\r\n    \r\n    const startTime = new Date(rental.start_time);\r\n    const duration = rental.duration_minutes || 15;\r\n    const endTime = new Date(startTime.getTime() + duration * 60000);\r\n    const remainingMs = endTime - timeNow;\r\n    \r\n    if (remainingMs <= 0) return '00:00';\r\n    \r\n    const remainingMinutes = Math.floor(remainingMs / 60000);\r\n    const remainingSeconds = Math.floor((remainingMs % 60000) / 1000);\r\n    return `${remainingMinutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  }, [timeNow]);\r\n\r\n  const calculateProgress = useCallback((rental) => {\r\n    if (rental.rental_type !== 'fixed' || !rental.start_time) return 100;\r\n    \r\n    const startTime = new Date(rental.start_time);\r\n    const duration = rental.duration_minutes || 15;\r\n    const endTime = new Date(startTime.getTime() + duration * 60000);\r\n    const totalMs = duration * 60000;\r\n    const remainingMs = endTime - timeNow;\r\n    \r\n    if (remainingMs <= 0) return 0;\r\n    \r\n    const percentage = (remainingMs / totalMs) * 100;\r\n    return Math.max(0, Math.min(100, percentage));\r\n  }, [timeNow]);\r\n\r\n  const isExpired = useCallback((rental) => {\r\n    if (rental.rental_type !== 'fixed' || !rental.start_time) return false;\r\n    \r\n    const startTime = new Date(rental.start_time);\r\n    const duration = rental.duration_minutes || 15;\r\n    const endTime = new Date(startTime.getTime() + duration * 60000);\r\n    \r\n    return timeNow > endTime;\r\n  }, [timeNow]);\r\n\r\n  const filteredRentals = useMemo(() => {\r\n    if (!searchTerm) return rentalsWithItems;\r\n    \r\n    const term = searchTerm.toLowerCase();\r\n    return rentalsWithItems.filter(rental =>\r\n      rental.customer_name?.toLowerCase().includes(term) ||\r\n      rental.customer_phone?.includes(term) ||\r\n      rental.rental_number?.toLowerCase().includes(term) ||\r\n      rental.items?.some(item => item.game_name?.toLowerCase().includes(term))\r\n    );\r\n  }, [rentalsWithItems, searchTerm]);\r\n\r\n  if (loading.rentals) {\r\n    return (\r\n      <div className=\"rentals-active-rentals-section\">\r\n        <div className=\"rentals-loading-state\">\r\n          <Loader2 className=\"rentals-spinner\" size={32} />\r\n          <p>جاري تحميل التأجيرات...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-active-rentals-section\">\r\n      <div className=\"rentals-section-header\">\r\n        <h3 className=\"rentals-section-title\">\r\n          <Clock size={24} />\r\n          التأجيرات النشطة\r\n          <span className=\"rentals-section-count\">\r\n            ({filteredRentals.length})\r\n          </span>\r\n        </h3>\r\n\r\n        <div className=\"rentals-search-wrapper\">\r\n          <Search size={18} className=\"rentals-search-icon\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"بحث في التأجيرات...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"rentals-search-input\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {filteredRentals.length === 0 ? (\r\n        <div className=\"rentals-empty-state\">\r\n          <Clock size={48} />\r\n          <p>لا توجد تأجيرات نشطة</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"rentals-rentals-list\">\r\n          {filteredRentals.map(rental => (\r\n            <div key={rental.id} className={`rentals-rental-card ${isExpired(rental) ? 'expired' : ''}`}>\r\n              <div className=\"rentals-rental-header\">\r\n                <div className=\"rentals-rental-number\">\r\n                  <Hash size={14} />\r\n                  <span>#{rental.rental_number}</span>\r\n                </div>\r\n                <div className=\"rentals-rental-type\">\r\n                  {rental.rental_type === 'open' ? '🔓 مفتوح' : '⏰ ثابت'}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rentals-rental-customer\">\r\n                <User size={16} />\r\n                <span>{rental.customer_name}</span>\r\n                {rental.customer_phone && rental.customer_phone !== '00000000000' && (\r\n                  <span className=\"rentals-customer-phone\">({rental.customer_phone})</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"rentals-rental-items\">\r\n                {rental.items?.map(item => (\r\n                  <div key={item.id} className=\"rentals-rental-item\">\r\n                    <Gamepad2 size={14} />\r\n                    <span className=\"rentals-item-name\">{item.game_name}</span>\r\n                    {item.child_name && <span className=\"rentals-child-name\">- {item.child_name}</span>}\r\n                    <span className=\"rentals-item-duration\">{item.duration_minutes} د</span>\r\n                    {item.quantity > 1 && <span className=\"rentals-item-quantity\">x{item.quantity}</span>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n\r\n              <div className=\"rentals-rental-time\">\r\n                <Clock size={14} />\r\n                <span>البداية: {formatTime(rental.start_time)}</span>\r\n              </div>\r\n\r\n              {rental.rental_type === 'fixed' && (\r\n                <div className=\"rentals-rental-progress\">\r\n                  <div className=\"rentals-progress-bar\">\r\n                    <div \r\n                      className={`rentals-progress-fill ${isExpired(rental) ? 'expired' : ''}`}\r\n                      style={{ width: `${calculateProgress(rental)}%` }}\r\n                    ></div>\r\n                  </div>\r\n                  <div className=\"rentals-rental-remaining\">\r\n                    <span>المتبقي: {calculateRemainingTime(rental)}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"rentals-rental-actions\">\r\n                <button\r\n                  onClick={() => onViewDetails(rental)}\r\n                  className=\"rentals-btn-action rentals-btn-info\"\r\n                  title=\"تفاصيل\"\r\n                >\r\n                  <Eye size={16} />\r\n                </button>\r\n\r\n                {rental.rental_type === 'open' && (\r\n                  <button\r\n                    onClick={() => onComplete(rental)}\r\n                    className=\"rentals-btn-action rentals-btn-success\"\r\n                    title=\"إنهاء التأجير\"\r\n                  >\r\n                    <Check size={16} />\r\n                  </button>\r\n                )}\r\n\r\n                <button\r\n                  onClick={() => onCancel(rental)}\r\n                  className=\"rentals-btn-action rentals-btn-danger\"\r\n                  title=\"إلغاء\"\r\n                >\r\n                  <X size={16} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون إضافة لعبة للسلة\r\nconst AddGameToCartModal = React.memo(function AddGameToCartModal({\r\n  show,\r\n  onClose,\r\n  games,\r\n  onAddGame\r\n}) {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  const filteredGames = useMemo(() => {\r\n    if (!games?.length) return [];\r\n    \r\n    const availableGames = games.filter(game => game.is_active);\r\n    \r\n    if (!searchTerm) return availableGames;\r\n    \r\n    const term = searchTerm.toLowerCase();\r\n    return availableGames.filter(game =>\r\n      game.name?.toLowerCase().includes(term) ||\r\n      game.category?.toLowerCase().includes(term)\r\n    );\r\n  }, [games, searchTerm]);\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"rentals-modal-overlay\">\r\n      <div className=\"rentals-modal rentals-add-game-modal\">\r\n        <div className=\"rentals-modal-header\">\r\n          <h3>\r\n            <Gamepad2 size={24} />\r\n            إضافة لعبة للسلة\r\n          </h3>\r\n          <button onClick={onClose} className=\"rentals-modal-close\">\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"rentals-modal-body\">\r\n          <div className=\"rentals-search-wrapper\">\r\n            <Search size={18} className=\"rentals-search-icon\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"ابحث عن لعبة...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"rentals-search-input\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"rentals-games-list\">\r\n            {filteredGames.length === 0 ? (\r\n              <div className=\"rentals-empty-state\">\r\n                <Search size={48} />\r\n                <p>لا توجد ألعاب متاحة</p>\r\n              </div>\r\n            ) : (\r\n              filteredGames.map(game => (\r\n                <div\r\n                  key={game.id}\r\n                  className=\"rentals-game-select-item\"\r\n                  onClick={() => {\r\n                    onAddGame(game);\r\n                    onClose();\r\n                  }}\r\n                >\r\n                  <div className=\"rentals-game-select-info\">\r\n                    <h4>{game.name}</h4>\r\n                    <div className=\"rentals-game-price\">\r\n                      {formatCurrency(game.price_per_15min)} / 15 دقيقة\r\n                    </div>\r\n                  </div>\r\n                  <button className=\"rentals-add-btn\">\r\n                    <Plus size={16} />\r\n                  </button>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون تفاصيل التأجير\r\nconst RentalDetailsModal = React.memo(function RentalDetailsModal({\r\n  show,\r\n  onClose,\r\n  rental,\r\n  items\r\n}) {\r\n  if (!show || !rental) return null;\r\n\r\n  const rentalItems = items.filter(item => item.rental_id === rental.id);\r\n\r\n  return (\r\n    <div className=\"rentals-modal-overlay\">\r\n      <div className=\"rentals-modal\">\r\n        <div className=\"rentals-modal-header\">\r\n          <h3>\r\n            <Eye size={24} />\r\n            تفاصيل التأجير #{rental.rental_number}\r\n          </h3>\r\n          <button onClick={onClose} className=\"rentals-modal-close\">\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"rentals-modal-body\">\r\n          <div className=\"rentals-details-section\">\r\n            <h4>معلومات العميل</h4>\r\n            <div className=\"rentals-details-row\">\r\n              <User size={16} />\r\n              <span>{rental.customer_name}</span>\r\n            </div>\r\n            {rental.customer_phone && rental.customer_phone !== '00000000000' && (\r\n              <div className=\"rentals-details-row\">\r\n                <Phone size={16} />\r\n                <span>{rental.customer_phone}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"rentals-details-section\">\r\n            <h4>معلومات التأجير</h4>\r\n            <div className=\"rentals-details-row\">\r\n              <Hash size={16} />\r\n              <span>رقم التأجير: {rental.rental_number}</span>\r\n            </div>\r\n            <div className=\"rentals-details-row\">\r\n              <Clock size={16} />\r\n              <span>وقت البدء: {formatDateTime(rental.start_time)}</span>\r\n            </div>\r\n            {rental.end_time && (\r\n              <div className=\"rentals-details-row\">\r\n                <Clock size={16} />\r\n                <span>وقت الانتهاء: {formatDateTime(rental.end_time)}</span>\r\n              </div>\r\n            )}\r\n            <div className=\"rentals-details-row\">\r\n              <User size={16} />\r\n              <span>بواسطة: {rental.employee_name}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rentals-details-section\">\r\n            <h4>الألعاب ({rentalItems.length})</h4>\r\n            <div className=\"rentals-items-list\">\r\n              {rentalItems.map(item => (\r\n                <div key={item.id} className=\"rentals-item-row\">\r\n                  <div className=\"rentals-item-info\">\r\n                    <Gamepad2 size={14} />\r\n                    <span className=\"rentals-item-name\">{item.game_name}</span>\r\n                    {item.child_name && (\r\n                      <span className=\"rentals-child-name\">({item.child_name})</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"rentals-item-details\">\r\n                    <span>{item.duration_minutes} دقيقة</span>\r\n                    {item.quantity > 1 && <span>x{item.quantity}</span>}\r\n                    <span className=\"rentals-item-price\">{formatCurrency(item.price)}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rentals-details-section\">\r\n            <h4>المعلومات المالية</h4>\r\n            <div className=\"rentals-details-row\">\r\n              <DollarSign size={16} />\r\n              <span>المبلغ الإجمالي: {formatCurrency(rental.total_amount)}</span>\r\n            </div>\r\n            <div className=\"rentals-details-row\">\r\n              <CreditCard size={16} />\r\n              <span>المبلغ المدفوع: {formatCurrency(rental.paid_amount || 0)}</span>\r\n            </div>\r\n            <div className=\"rentals-details-row\">\r\n              <Wallet size={16} />\r\n              <span>طريقة الدفع: {rental.payment_method || 'كاش'}</span>\r\n            </div>\r\n            <div className=\"rentals-details-row\">\r\n              <CheckCircle size={16} />\r\n              <span>حالة الدفع: {rental.payment_status}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {rental.notes && (\r\n            <div className=\"rentals-details-section\">\r\n              <h4>ملاحظات</h4>\r\n              <p className=\"rentals-notes\">{rental.notes}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"rentals-modal-footer\">\r\n          <button onClick={onClose} className=\"rentals-btn rentals-btn-secondary\">\r\n            إغلاق\r\n          </button>\r\n          <button className=\"rentals-btn rentals-btn-outline\">\r\n            <Printer size={16} />\r\n            طباعة\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// مكون إنهاء تأجير مفتوح\r\nconst CompleteOpenRentalModal = React.memo(function CompleteOpenRentalModal({\r\n  show,\r\n  onClose,\r\n  rental,\r\n  items,\r\n  onConfirm\r\n}) {\r\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const rentalItems = useMemo(() => {\r\n    return items.filter(item => item.rental_id === rental?.id);\r\n  }, [rental, items]);\r\n\r\n  const calculateDuration = useCallback(() => {\r\n    if (!rental?.start_time) return 0;\r\n    const start = new Date(rental.start_time);\r\n    const now = new Date();\r\n    return Math.max(15, Math.floor((now - start) / 60000));\r\n  }, [rental]);\r\n\r\n  const calculateTotal = useCallback(() => {\r\n    const minutes = calculateDuration();\r\n    return rentalItems.reduce((total, item) => {\r\n      const units = Math.ceil(minutes / 15);\r\n      return total + (item.price_per_15min * units * (item.quantity || 1));\r\n    }, 0);\r\n  }, [rentalItems, calculateDuration]);\r\n\r\n  const duration = calculateDuration();\r\n  const totalAmount = calculateTotal();\r\n\r\n  const handleConfirm = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onConfirm(rental, {\r\n        payment_method: paymentMethod,\r\n        final_amount: totalAmount,\r\n        actual_minutes: duration\r\n      });\r\n      onClose();\r\n    } catch (error) {\r\n      console.error('خطأ في إنهاء التأجير:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!show || !rental) return null;\r\n\r\n  return (\r\n    <div className=\"rentals-modal-overlay\">\r\n      <div className=\"rentals-modal\">\r\n        <div className=\"rentals-modal-header\">\r\n          <h3>\r\n            <CheckCircle size={24} />\r\n            إنهاء التأجير المفتوح\r\n          </h3>\r\n          <button onClick={onClose} className=\"rentals-modal-close\" disabled={isSubmitting}>\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"rentals-modal-body\">\r\n          <div className=\"rentals-summary-card\">\r\n            <div className=\"rentals-summary-row\">\r\n              <span>العميل:</span>\r\n              <span className=\"rentals-summary-value\">{rental.customer_name}</span>\r\n            </div>\r\n            <div className=\"rentals-summary-row\">\r\n              <span>وقت البدء:</span>\r\n              <span>{formatDateTime(rental.start_time)}</span>\r\n            </div>\r\n            <div className=\"rentals-summary-row\">\r\n              <span>المدة المنقضية:</span>\r\n              <span className=\"rentals-highlight\">{duration} دقيقة</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rentals-items-summary\">\r\n            <h4>الألعاب</h4>\r\n            {rentalItems.map(item => (\r\n              <div key={item.id} className=\"rentals-summary-row\">\r\n                <span>{item.game_name} {item.child_name && `(${item.child_name})`} x{item.quantity || 1}</span>\r\n                <span>{formatCurrency(item.price_per_15min * Math.ceil(duration / 15) * (item.quantity || 1))}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"rentals-total-section\">\r\n            <div className=\"rentals-summary-row total\">\r\n              <span>الإجمالي:</span>\r\n              <span className=\"rentals-total-amount\">{formatCurrency(totalAmount)}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"rentals-form-group\">\r\n            <label>طريقة الدفع:</label>\r\n            <select\r\n              value={paymentMethod}\r\n              onChange={(e) => setPaymentMethod(e.target.value)}\r\n              disabled={isSubmitting}\r\n            >\r\n              <option value=\"كاش\">💵 نقدي</option>\r\n              <option value=\"بطاقة\">💳 بطاقة</option>\r\n              <option value=\"محفظة\">📱 محفظة إلكترونية</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"rentals-modal-footer\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"rentals-btn rentals-btn-secondary\"\r\n            disabled={isSubmitting}\r\n          >\r\n            إلغاء\r\n          </button>\r\n          <button\r\n            onClick={handleConfirm}\r\n            className=\"rentals-btn rentals-btn-success\"\r\n            disabled={isSubmitting}\r\n          >\r\n            {isSubmitting ? (\r\n              <>\r\n                <Loader2 className=\"rentals-spinner\" size={16} />\r\n                جاري المعالجة...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Check size={16} />\r\n                تأكيد الإنهاء\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== المكون الرئيسي ====================\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n  \r\n  const [loading, setLoading] = useState({\r\n    games: false,\r\n    rentals: false,\r\n    shift: false,\r\n    processing: false\r\n  });\r\n  \r\n  const [games, setGames] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  const [shiftSummary, setShiftSummary] = useState(null);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [rentalItems, setRentalItems] = useState([]);\r\n  \r\n  // حالة السلة (Cart)\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    phone: ''\r\n  });\r\n  \r\n  // حالة النوافذ المنبثقة\r\n  const [showAddGameModal, setShowAddGameModal] = useState(false);\r\n  const [showRentalDetailsModal, setShowRentalDetailsModal] = useState(false);\r\n  const [showCompleteOpenModal, setShowCompleteOpenModal] = useState(false);\r\n  const [selectedRental, setSelectedRental] = useState(null);\r\n  \r\n  // حالة البحث والتصفية\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterCategory, setFilterCategory] = useState('all');\r\n  \r\n  const [error, setError] = useState(null);\r\n\r\n  // ==================== دوال API ====================\r\n\r\n  // تحميل الألعاب\r\n  const loadGames = useCallback(async () => {\r\n    if (!user?.branch_id) return;\r\n    \r\n    setLoading(prev => ({ ...prev, games: true }));\r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { branch_id: user.branch_id }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setGames(response.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل الألعاب:', error);\r\n      setError('فشل تحميل الألعاب');\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, games: false }));\r\n    }\r\n  }, [user?.branch_id]);\r\n\r\n  // تحميل الشيفت الحالي\r\n  const loadCurrentShift = useCallback(async () => {\r\n    setLoading(prev => ({ ...prev, shift: true }));\r\n    try {\r\n      const response = await api.get('/shifts/current');\r\n      \r\n      if (response.success && response.data) {\r\n        const shift = response.data;\r\n        // التحقق من أن الشيفت يخص المستخدم الحالي\r\n        if (shift.user_id === user?.id) {\r\n          setCurrentShift(shift);\r\n          // تحميل ملخص الشيفت\r\n          await loadShiftSummary(shift.id);\r\n        } else {\r\n          setCurrentShift(null);\r\n          setShiftSummary(null);\r\n        }\r\n      } else {\r\n        setCurrentShift(null);\r\n        setShiftSummary(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل الشيفت:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  }, [user?.id]);\r\n\r\n  // تحميل ملخص الشيفت\r\n  const loadShiftSummary = useCallback(async (shiftId) => {\r\n    try {\r\n      const response = await api.get(`/shifts/${shiftId}/summary`);\r\n      if (response.success) {\r\n        setShiftSummary(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل ملخص الشيفت:', error);\r\n    }\r\n  }, []);\r\n\r\n  // تحميل التأجيرات النشطة\r\n  const loadActiveRentals = useCallback(async () => {\r\n    if (!currentShift?.id) return;\r\n    \r\n    setLoading(prev => ({ ...prev, rentals: true }));\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: { shift_id: currentShift.id }\r\n      });\r\n      \r\n      if (response.success) {\r\n        const rentals = response.data || [];\r\n        setActiveRentals(rentals);\r\n        \r\n        // تحميل عناصر التأجيرات\r\n        if (rentals.length > 0) {\r\n          const itemsPromises = rentals.map(rental =>\r\n            api.get(`/rental-items`, { params: { rental_id: rental.id } })\r\n          );\r\n          const itemsResponses = await Promise.all(itemsPromises);\r\n          const allItems = itemsResponses.flatMap(res => res.data || []);\r\n          setRentalItems(allItems);\r\n        } else {\r\n          setRentalItems([]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في تحميل التأجيرات:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, rentals: false }));\r\n    }\r\n  }, [currentShift?.id]);\r\n\r\n  // تحديث جميع البيانات\r\n  const refreshAllData = useCallback(async () => {\r\n    await loadCurrentShift();\r\n    if (currentShift?.id) {\r\n      await loadActiveRentals();\r\n      await loadShiftSummary(currentShift.id);\r\n    }\r\n    await loadGames();\r\n  }, [loadCurrentShift, loadActiveRentals, loadShiftSummary, loadGames, currentShift?.id]);\r\n\r\n  // ==================== دوال الشيفت ====================\r\n\r\n  const handleStartShift = useCallback(async () => {\r\n    if (!user?.branch_id) {\r\n      alert('لا يوجد فرع محدد للمستخدم');\r\n      return;\r\n    }\r\n\r\n    setLoading(prev => ({ ...prev, processing: true }));\r\n    try {\r\n      const response = await api.post('/shifts/start', {\r\n        branch_id: user.branch_id,\r\n        opening_cash: 0 // يمكن تعديلها حسب الحاجة\r\n      });\r\n\r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n        await refreshAllData();\r\n        alert('✅ تم فتح الشيفت بنجاح');\r\n      } else {\r\n        alert(`❌ فشل فتح الشيفت: ${response.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في فتح الشيفت:', error);\r\n      alert('حدث خطأ في فتح الشيفت');\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, processing: false }));\r\n    }\r\n  }, [user?.branch_id, refreshAllData]);\r\n\r\n  const handleEndShift = useCallback(async () => {\r\n    if (!currentShift) return;\r\n\r\n    if (activeRentals.length > 0) {\r\n      const confirmed = window.confirm(\r\n        `⚠️ يوجد ${activeRentals.length} تأجير نشط!\\nهل تريد إنهاء الشيفت مع وجود تأجيرات نشطة؟`\r\n      );\r\n      if (!confirmed) return;\r\n    }\r\n\r\n    setLoading(prev => ({ ...prev, processing: true }));\r\n    try {\r\n      const response = await api.post(`/shifts/${currentShift.id}/end`, {\r\n        closing_cash: shiftSummary?.total_revenue || 0,\r\n        total_rentals: shiftSummary?.total_rentals || 0,\r\n        total_revenue: shiftSummary?.total_revenue || 0\r\n      });\r\n\r\n      if (response.success) {\r\n        setCurrentShift(null);\r\n        setShiftSummary(null);\r\n        setActiveRentals([]);\r\n        setRentalItems([]);\r\n        alert('✅ تم إنهاء الشيفت بنجاح');\r\n      } else {\r\n        alert(`❌ فشل إنهاء الشيفت: ${response.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في إنهاء الشيفت:', error);\r\n      alert('حدث خطأ في إنهاء الشيفت');\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, processing: false }));\r\n    }\r\n  }, [currentShift, activeRentals.length, shiftSummary]);\r\n\r\n  // ==================== دوال السلة (Cart) ====================\r\n\r\n  const handleAddToCart = useCallback((game) => {\r\n    if (!currentShift) {\r\n      alert('❌ يجب فتح شيفت أولاً');\r\n      return;\r\n    }\r\n\r\n    setCartItems(prev => [\r\n      ...prev,\r\n      {\r\n        id: Date.now() + Math.random(),\r\n        game_id: game.id,\r\n        game_name: game.name,\r\n        price_per_15min: game.price_per_15min,\r\n        rental_type: 'fixed',\r\n        duration_minutes: 15,\r\n        quantity: 1,\r\n        child_name: ''\r\n      }\r\n    ]);\r\n  }, [currentShift]);\r\n\r\n  const handleUpdateCartItem = useCallback((itemId, updates) => {\r\n    setCartItems(prev =>\r\n      prev.map(item =>\r\n        item.id === itemId ? { ...item, ...updates } : item\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const handleRemoveCartItem = useCallback((itemId) => {\r\n    setCartItems(prev => prev.filter(item => item.id !== itemId));\r\n  }, []);\r\n\r\n  const handleClearCart = useCallback(() => {\r\n    setCartItems([]);\r\n    setCustomerInfo({ name: '', phone: '' });\r\n  }, []);\r\n\r\n  // ==================== دوال التأجير ====================\r\n\r\n  const handleCreateRental = useCallback(async () => {\r\n    if (!currentShift) {\r\n      alert('❌ لا يوجد شيفت نشط');\r\n      return;\r\n    }\r\n\r\n    if (cartItems.length === 0) {\r\n      alert('❌ السلة فارغة');\r\n      return;\r\n    }\r\n\r\n    if (!customerInfo.name?.trim()) {\r\n      alert('❌ اسم العميل مطلوب');\r\n      return;\r\n    }\r\n\r\n    setLoading(prev => ({ ...prev, processing: true }));\r\n    try {\r\n      // إنشاء التأجير الرئيسي\r\n      const rentalResponse = await api.post('/rentals', {\r\n        branch_id: user?.branch_id,\r\n        shift_id: currentShift.id,\r\n        user_id: user?.id,\r\n        customer_name: customerInfo.name.trim(),\r\n        customer_phone: customerInfo.phone || '00000000000',\r\n        total_amount: 0, // سيتم حسابه من العناصر\r\n        paid_amount: 0, // سيتم حسابه من العناصر\r\n        status: 'نشط',\r\n        payment_status: 'pending',\r\n        rental_type: cartItems.every(i => i.rental_type === 'fixed') ? 'fixed' : 'mixed'\r\n      });\r\n\r\n      if (!rentalResponse.success) {\r\n        throw new Error(rentalResponse.message || 'فشل إنشاء التأجير');\r\n      }\r\n\r\n      const rentalId = rentalResponse.data.id;\r\n      const rentalNumber = rentalResponse.data.rental_number;\r\n\r\n      // إنشاء عناصر التأجير\r\n      let totalAmount = 0;\r\n      \r\n      for (const item of cartItems) {\r\n        const units = item.rental_type === 'fixed' ? Math.ceil((item.duration_minutes || 15) / 15) : 0;\r\n        const itemPrice = item.rental_type === 'fixed' \r\n          ? (item.price_per_15min * units * (item.quantity || 1))\r\n          : 0;\r\n        \r\n        totalAmount += itemPrice;\r\n\r\n        await api.post('/rental-items', {\r\n          rental_id: rentalId,\r\n          game_id: item.game_id,\r\n          child_name: item.child_name || null,\r\n          duration_minutes: item.rental_type === 'fixed' ? item.duration_minutes : null,\r\n          quantity: item.quantity || 1,\r\n          price_per_15min: item.price_per_15min,\r\n          price: itemPrice,\r\n          rental_type: item.rental_type\r\n        });\r\n      }\r\n\r\n      // تحديث المبلغ الإجمالي في التأجير\r\n      await api.put(`/rentals/${rentalId}`, {\r\n        total_amount: totalAmount,\r\n        paid_amount: totalAmount // للتأجير الثابت\r\n      });\r\n\r\n      alert(`✅ تم إنشاء التأجير رقم ${rentalNumber} بنجاح`);\r\n      \r\n      // تفريغ السلة وتحديث البيانات\r\n      handleClearCart();\r\n      await loadActiveRentals();\r\n      await loadShiftSummary(currentShift.id);\r\n\r\n    } catch (error) {\r\n      console.error('خطأ في إنشاء التأجير:', error);\r\n      alert(`❌ فشل إنشاء التأجير: ${error.message}`);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, processing: false }));\r\n    }\r\n  }, [currentShift, cartItems, customerInfo, user, handleClearCart, loadActiveRentals, loadShiftSummary]);\r\n\r\n  const handleCompleteOpenRental = useCallback(async (rental, data) => {\r\n    if (!rental) return;\r\n\r\n    setLoading(prev => ({ ...prev, processing: true }));\r\n    try {\r\n      const response = await api.post(`/rentals/${rental.id}/complete`, {\r\n        payment_method: data.payment_method,\r\n        final_amount: data.final_amount,\r\n        actual_minutes: data.actual_minutes,\r\n        end_time: new Date().toISOString()\r\n      });\r\n\r\n      if (response.success) {\r\n        alert(`✅ تم إنهاء التأجير بنجاح\\nالمبلغ: ${formatCurrency(data.final_amount)}`);\r\n        await loadActiveRentals();\r\n        await loadShiftSummary(currentShift?.id);\r\n      } else {\r\n        alert(`❌ فشل إنهاء التأجير: ${response.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في إنهاء التأجير:', error);\r\n      alert('حدث خطأ في إنهاء التأجير');\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, processing: false }));\r\n    }\r\n  }, [currentShift?.id, loadActiveRentals, loadShiftSummary]);\r\n\r\n  const handleCancelRental = useCallback(async (rental) => {\r\n    if (!window.confirm('هل تريد إلغاء هذا التأجير؟')) return;\r\n\r\n    setLoading(prev => ({ ...prev, processing: true }));\r\n    try {\r\n      const response = await api.post(`/rentals/${rental.id}/cancel`, {\r\n        reason: 'تم الإلغاء من قبل المستخدم'\r\n      });\r\n\r\n      if (response.success) {\r\n        alert('✅ تم إلغاء التأجير');\r\n        await loadActiveRentals();\r\n        await loadShiftSummary(currentShift?.id);\r\n      } else {\r\n        alert(`❌ فشل إلغاء التأجير: ${response.message}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('خطأ في إلغاء التأجير:', error);\r\n      alert('حدث خطأ في إلغاء التأجير');\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, processing: false }));\r\n    }\r\n  }, [currentShift?.id, loadActiveRentals, loadShiftSummary]);\r\n\r\n  // ==================== Effects ====================\r\n\r\n  // تحميل البيانات الأولية\r\n  useEffect(() => {\r\n    refreshAllData();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // تحديث البيانات عند تغيير الشيفت\r\n  useEffect(() => {\r\n    if (currentShift?.id) {\r\n      loadActiveRentals();\r\n      loadShiftSummary(currentShift.id);\r\n    }\r\n  }, [currentShift?.id, loadActiveRentals, loadShiftSummary]);\r\n\r\n  // تحديث دوري للتأجيرات النشطة (كل دقيقة)\r\n  useEffect(() => {\r\n    if (!currentShift?.id) return;\r\n\r\n    const interval = setInterval(() => {\r\n      loadActiveRentals();\r\n    }, 60000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [currentShift?.id, loadActiveRentals]);\r\n\r\n  // ==================== Render ====================\r\n\r\n  return (\r\n    <div className=\"rentals-container\">\r\n      <div className=\"rentals-header\">\r\n        <h1>\r\n          <Gamepad2 size={32} />\r\n          نظام إدارة التأجيرات\r\n        </h1>\r\n        <div className=\"rentals-header-actions\">\r\n          {currentShift && (\r\n            <div className=\"rentals-shift-badge\">\r\n              <Zap size={16} />\r\n              <span>الشيفت #{currentShift.id}</span>\r\n            </div>\r\n          )}\r\n          <button\r\n            onClick={refreshAllData}\r\n            className=\"rentals-btn rentals-btn-outline\"\r\n            disabled={loading.processing}\r\n          >\r\n            <RefreshCw size={16} className={loading.processing ? 'rentals-spinner' : ''} />\r\n            تحديث\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <ShiftStats\r\n        currentShift={currentShift}\r\n        onStartShift={handleStartShift}\r\n        onEndShift={handleEndShift}\r\n        shiftSummary={shiftSummary}\r\n        loading={loading}\r\n        error={error}\r\n        onErrorClose={() => setError(null)}\r\n      />\r\n\r\n      <div className=\"rentals-main-content\">\r\n        <div className=\"rentals-left-panel\">\r\n          <GamesGrid\r\n            games={games}\r\n            branchId={user?.branch_id}\r\n            onAddToCart={handleAddToCart}\r\n            loading={loading}\r\n            searchTerm={searchTerm}\r\n            onSearchChange={setSearchTerm}\r\n            filterCategory={filterCategory}\r\n            onFilterChange={setFilterCategory}\r\n          />\r\n\r\n          <ActiveRentalsList\r\n            rentals={activeRentals}\r\n            items={rentalItems}\r\n            loading={loading}\r\n            onComplete={(rental) => {\r\n              setSelectedRental(rental);\r\n              setShowCompleteOpenModal(true);\r\n            }}\r\n            onCancel={handleCancelRental}\r\n            onViewDetails={(rental) => {\r\n              setSelectedRental(rental);\r\n              setShowRentalDetailsModal(true);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"rentals-right-panel\">\r\n          <RentalCart\r\n            items={cartItems}\r\n            onUpdateItem={handleUpdateCartItem}\r\n            onRemoveItem={handleRemoveCartItem}\r\n            onClearCart={handleClearCart}\r\n            customerInfo={customerInfo}\r\n            onCustomerInfoChange={(field, value) => \r\n              setCustomerInfo(prev => ({ ...prev, [field]: value }))\r\n            }\r\n            onSubmit={handleCreateRental}\r\n            isSubmitting={loading.processing}\r\n            games={games}\r\n            onAddGame={() => setShowAddGameModal(true)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <AddGameToCartModal\r\n        show={showAddGameModal}\r\n        onClose={() => setShowAddGameModal(false)}\r\n        games={games}\r\n        onAddGame={handleAddToCart}\r\n      />\r\n\r\n      <RentalDetailsModal\r\n        show={showRentalDetailsModal}\r\n        onClose={() => {\r\n          setShowRentalDetailsModal(false);\r\n          setSelectedRental(null);\r\n        }}\r\n        rental={selectedRental}\r\n        items={rentalItems}\r\n      />\r\n\r\n      <CompleteOpenRentalModal\r\n        show={showCompleteOpenModal}\r\n        onClose={() => {\r\n          setShowCompleteOpenModal(false);\r\n          setSelectedRental(null);\r\n        }}\r\n        rental={selectedRental}\r\n        items={rentalItems}\r\n        onConfirm={handleCompleteOpenRental}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}