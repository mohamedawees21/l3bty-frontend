{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { Search, Download, RefreshCw, Calendar, DollarSign, TrendingUp, BarChart3, FileText, CheckCircle, XCircle, Eye, Printer, Clock, Users, ChevronLeft, ChevronRight, AlertCircle, Check, X, Plus, Minus, Calculator, Lock, Unlock, Edit, Trash2, User, Gamepad2, CreditCard, Calendar as CalendarIcon, Clock as ClockIcon, Phone, Mail, MapPin, Package, Building, Zap, Filter, ShoppingCart, Loader2 } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (!amount && amount !== 0) return '0 Ø¬.Ù…';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst validatePhone = phone => {\n  if (!phone) return false;\n  const cleaned = phone.replace(/\\D/g, '');\n  return cleaned.length === 11 && cleaned.startsWith('01');\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  return Math.round((end - start) / (1000 * 60));\n};\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\nconst GamesGrid = /*#__PURE__*/_s(/*#__PURE__*/React.memo(_c = _s(({\n  games,\n  branchId,\n  onSelectGame,\n  loading\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [availableGames, setAvailableGames] = useState([]);\n  useEffect(() => {\n    if (!branchId || !games) return;\n    console.log(`ðŸŽ® ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n    const branchGames = games.filter(game => {\n      if (!game) return false;\n      const gameBranchId = parseInt(game.branch_id);\n      const currentBranchId = parseInt(branchId);\n      const isSameBranch = gameBranchId === currentBranchId;\n      const isAvailable = game.status === 'Ù…ØªØ§Ø­' || game.status === 'available';\n      const isActive = game.is_active === 1 || game.is_active === true || game.is_active === undefined;\n      return isSameBranch && isAvailable && isActive;\n    });\n    console.log(`ðŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„ØªØµÙÙŠØ©: ${branchGames.length}`);\n    setAvailableGames(branchGames);\n  }, [games, branchId]);\n  const getGameImage = useCallback(game => {\n    if (!game) return '/images/default-game.jpg';\n    const imageMap = {\n      'Ø¯Ø±ÙŠÙØª ÙƒØ§Ø±': '/images/Driftcar.jpg',\n      'Ù‡Ø§ÙØ± Ø¨ÙˆØ±Ø¯': '/images/Hoverboard.jpg',\n      'Ø³ÙƒÙˆØªØ±': '/images/Scooter.jpg',\n      'Ø¹Ø±Ø¨Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\n      'Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Motor.jpg',\n      'Ù‡Ø§Ø±Ù„ÙŠ': '/images/harley.jpg',\n      'Ø³ÙŠØ¬ÙˆØ§ÙŠ': '/images/Segway.jpg',\n      'ÙƒØ±Ø§Ø²ÙŠ ÙƒØ§Ø±': '/images/Ninebot.jpg',\n      'Ø³ÙƒÙŠØª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Skate.jpg',\n      'ØªØ±Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†': '/images/Trampoline.jpg',\n      'Ù…Ø­Ø§ÙƒÙŠ': '/images/Simulator.jpg',\n      'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\n      'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©': '/images/Motor.jpg',\n      'hoverboard': '/images/Hoverboard.jpg',\n      'Ø³ÙƒÙŠØª': '/images/Skate.jpg'\n    };\n\n    // Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©: image_url Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n    if (game.image_url && game.image_url !== 'default-game.jpg' && game.image_url !== '') {\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\n    }\n\n    // Ø§Ù„Ø«Ø§Ù†ÙŠ: external_image_url\n    if (game.external_image_url) {\n      return game.external_image_url;\n    }\n\n    // Ø§Ù„Ø«Ø§Ù„Ø«: Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©\n    const imageName = imageMap[game.name] || '/images/default-game.jpg';\n    return imageName;\n  }, []);\n  const filteredGames = useMemo(() => {\n    if (!availableGames.length) return [];\n    return availableGames.filter(game => {\n      if (!game) return false;\n      const gameName = game.name || '';\n      const gameCategory = game.category || '';\n      const gameDescription = game.description || '';\n      const matchesSearch = gameName.toLowerCase().includes(searchTerm.toLowerCase()) || gameCategory.toLowerCase().includes(searchTerm.toLowerCase()) || gameDescription.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    });\n  }, [availableGames, searchTerm, selectedCategory]);\n  const categories = useMemo(() => {\n    if (!availableGames.length) return ['all'];\n    const cats = new Set(['all']);\n    availableGames.forEach(game => {\n      if (game && game.category) {\n        cats.add(game.category);\n      }\n    });\n    return Array.from(cats);\n  }, [availableGames]);\n  if (!branchId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83C\\uDFEC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639 \\u0644\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"games-grid-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83C\\uDFAE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", availableGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"branch-badge\",\n          children: [\"\\u0627\\u0644\\u0641\\u0631\\u0639 #\", branchId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0627\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSearchTerm(''),\n            className: \"clear-search\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), categories.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            className: \"filter-select\",\n            children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat === 'all' ? 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª' : cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), availableGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83C\\uDFAE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0641\\u0631\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0642\\u0645 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062C\\u062F\\u064A\\u062F\\u0629 \\u0644\\u0644\\u0641\\u0631\\u0639 \\u0645\\u0646 \\u0635\\u0641\\u062D\\u0629 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => window.open('/branches', '_blank'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this) : filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062A\\u0637\\u0627\\u0628\\u0642 \\\"\", searchTerm, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => {\n          setSearchTerm('');\n          setSelectedCategory('all');\n        },\n        children: \"\\u0639\\u0631\\u0636 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: availableGames.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0645\\u062A \\u062A\\u0635\\u0641\\u064A\\u062A\\u0647\\u0627:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: filteredGames.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), selectedCategory !== 'all' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0641\\u0626\\u0629:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: selectedCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-grid\",\n        children: filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-card\",\n          onClick: () => onSelectGame(game),\n          title: `Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© ${game.name} Ù„Ù„ØªØ£Ø¬ÙŠØ±`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getGameImage(game),\n              alt: game.name,\n              className: \"game-image\",\n              loading: \"lazy\",\n              onError: e => {\n                console.warn(`ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ${game.name}`);\n                e.target.src = '/images/default-game.jpg';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-status-badge available\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0645\\u062A\\u0627\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"game-name\",\n              children: game.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 19\n            }, this), game.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"game-description\",\n              children: game.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-category\",\n                children: game.category || 'Ø¹Ø§Ù…'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-price\",\n                children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-id\",\n                children: [\"#\", game.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-price-hour\",\n                children: [formatCurrency(game.price_per_hour || game.price_per_15min * 4), \" / \\u0633\\u0627\\u0639\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"select-game-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-icon\",\n                  children: \"\\u2795\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-text\",\n                  children: \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 17\n          }, this)]\n        }, game.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n}, \"wWPhd4mz4bf99YZdvuFppRiB9WA=\")), \"wWPhd4mz4bf99YZdvuFppRiB9WA=\");\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ ====================\n_c2 = GamesGrid;\nconst MultiRentalModal = /*#__PURE__*/_s2(/*#__PURE__*/React.memo(_c3 = _s2(({\n  show,\n  onClose,\n  selectedGames,\n  onConfirmRental,\n  currentShift\n}) => {\n  _s2();\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: ''\n  });\n  const [rentalItems, setRentalItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState('ÙƒØ§Ø´');\n  const [paymentStatus, setPaymentStatus] = useState('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\n  const [notes, setNotes] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    if (show && selectedGames.length > 0) {\n      const items = selectedGames.map(game => ({\n        id: Date.now() + Math.random(),\n        gameId: game.id,\n        gameName: game.name,\n        gameImage: '/images/default-game.jpg',\n        rentalType: 'fixed',\n        duration: 15,\n        pricePer15min: game.price_per_15min || 100,\n        quantity: 1,\n        notes: ''\n      }));\n      setRentalItems(items);\n    }\n  }, [show, selectedGames]);\n  const updateRentalItem = (id, updates) => {\n    setRentalItems(items => items.map(item => item.id === id ? {\n      ...item,\n      ...updates\n    } : item));\n  };\n  const removeRentalItem = id => {\n    setRentalItems(items => items.filter(item => item.id !== id));\n  };\n  const calculateItemPrice = useCallback(item => {\n    if (item.rentalType === 'open') return 0;\n    const units = Math.ceil(item.duration / 15);\n    return item.pricePer15min * units * item.quantity || 0;\n  }, []);\n  const calculateTotal = useCallback(() => {\n    return rentalItems.reduce((total, item) => {\n      return total + calculateItemPrice(item);\n    }, 0);\n  }, [rentalItems, calculateItemPrice]);\n  const handleSubmit = async () => {\n    if (!customerInfo.name || !customerInfo.phone) {\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');\n      return;\n    }\n    if (!validatePhone(customerInfo.phone)) {\n      alert('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…Ø§Ù‹ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01');\n      return;\n    }\n    if (rentalItems.length === 0) {\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ØªØ£Ø¬ÙŠØ±');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const rentalData = {\n        customerInfo,\n        rentalItems,\n        paymentMethod,\n        paymentStatus,\n        notes,\n        totalAmount: calculateTotal(),\n        shiftId: currentShift === null || currentShift === void 0 ? void 0 : currentShift.id,\n        timestamp: new Date().toISOString()\n      };\n      await onConfirmRental(rentalData);\n\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬\n      setCustomerInfo({\n        name: '',\n        phone: '',\n        email: '',\n        address: ''\n      });\n      setRentalItems([]);\n      setPaymentMethod('ÙƒØ§Ø´');\n      setPaymentStatus('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\n      setNotes('');\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal multi-rental-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"modal-icon\",\n              children: \"\\uD83C\\uDFAF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this), \"\\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\", currentShift && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-badge\",\n              children: [\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-subtitle\",\n            children: [\"\\u0625\\u0636\\u0627\\u0641\\u0629 \", selectedGames.length, \" \\u0644\\u0639\\u0628\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"customer-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.name,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    name: e.target.value\n                  }),\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",\n                  className: \"form-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: customerInfo.phone,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    phone: e.target.value\n                  }),\n                  placeholder: \"01xxxxxxxxx\",\n                  maxLength: 11,\n                  className: \"form-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this), customerInfo.phone && !validatePhone(customerInfo.phone) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: \"\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u063A\\u064A\\u0631 \\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Mail, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: customerInfo.email,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    email: e.target.value\n                  }),\n                  placeholder: \"email@example.com\",\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.address,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    address: e.target.value\n                  }),\n                  placeholder: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\",\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 548,\n              columnNumber: 15\n            }, this), \"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A (\", rentalItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 13\n          }, this), rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-image-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.gameImage,\n                    alt: item.gameName,\n                    className: \"item-image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: item.gameName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-price\",\n                    children: [formatCurrency(item.pricePer15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeRentalItem(item.id),\n                className: \"remove-item-btn\",\n                title: \"\\u0625\\u0632\\u0627\\u0644\\u0629 \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629\",\n                disabled: isSubmitting,\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"options-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"toggle-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'fixed',\n                        duration: 15\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 588,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u062B\\u0627\\u0628\\u062A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'open',\n                        duration: 0\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(Unlock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 597,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 21\n                }, this), item.rentalType === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 605,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"duration-options\",\n                    children: [15, 30, 45, 60, 90, 120].map(minutes => /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `duration-btn ${item.duration === minutes ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        duration: minutes\n                      }),\n                      disabled: isSubmitting,\n                      children: [minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                    }, minutes, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"quantity-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: Math.max(1, item.quantity - 1)\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Minus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 633,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 625,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"quantity-value\",\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 635,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: item.quantity + 1\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 644,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 578,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-notes\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u062E\\u0627\\u0635\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: item.notes,\n                  onChange: e => updateRentalItem(item.id, {\n                    notes: e.target.value\n                  }),\n                  placeholder: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u062E\\u0627\\u0635\\u0629 \\u0628\\u0647\\u0630\\u0647 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629...\",\n                  className: \"notes-input\",\n                  disabled: isSubmitting\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-summary\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-label\",\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-value\",\n                  children: item.rentalType === 'open' ? 'â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' : formatCurrency(calculateItemPrice(item))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 15\n          }, this)), rentalItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-items\",\n            children: [/*#__PURE__*/_jsxDEV(Package, {\n              size: 48\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0641\\u064A \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\u0642\\u0645 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0631\\u0626\\u064A\\u0633\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentMethod,\n                onChange: e => setPaymentMethod(e.target.value),\n                className: \"form-input\",\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0643\\u0627\\u0634\",\n                  children: \"\\uD83D\\uDCB5 \\u0646\\u0642\\u062F\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                  children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629 \\u0627\\u0626\\u062A\\u0645\\u0627\\u0646\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062D\\u0641\\u0638\\u0629\",\n                  children: \"\\uD83D\\uDCF1 \\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062A\\u062D\\u0648\\u064A\\u0644\",\n                  children: \"\\uD83C\\uDFE6 \\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentStatus,\n                onChange: e => setPaymentStatus(e.target.value),\n                className: \"form-input\",\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\",\n                  children: \"\\u23F3 \\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062F\\u0641\\u0648\\u0639\",\n                  children: \"\\u2705 \\u0645\\u062F\\u0641\\u0648\\u0639\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062C\\u0632\\u0626\\u064A\",\n                  children: \"\\uD83D\\uDCB0 \\u0645\\u062F\\u0641\\u0648\\u0639 \\u062C\\u0632\\u0626\\u064A\\u0627\\u064B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062C\\u0627\\u0646\\u064A\",\n                  children: \"\\uD83C\\uDF81 \\u0645\\u062C\\u0627\\u0646\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: notes,\n                onChange: e => setNotes(e.target.value),\n                placeholder: \"\\u0623\\u064A \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 \\u0639\\u0646 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631...\",\n                rows: \"3\",\n                className: \"form-textarea\",\n                disabled: isSubmitting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(Calculator, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 744,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value\",\n                children: rentalItems.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0642\\u0637\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value\",\n                children: rentalItems.reduce((sum, item) => sum + item.quantity, 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 748,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value total-amount\",\n                children: formatCurrency(calculateTotal())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 736,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timestamp\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 768,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatDateTime(new Date().toISOString())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 13\n          }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-label\",\n              children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-value\",\n              children: [\"#\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"btn btn-secondary\",\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 15\n            }, this), \"\\u0625\\u0644\\u063A\\u0627\\u0621\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 780,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"btn btn-primary\",\n            disabled: isSubmitting || rentalItems.length === 0,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"spinner\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0644\\u062C\\u0629...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 19\n              }, this), \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 765,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 457,\n    columnNumber: 5\n  }, this);\n}, \"P+V4/lEhHmm+YD0zcU8I4hA1WUE=\")), \"P+V4/lEhHmm+YD0zcU8I4hA1WUE=\");\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ====================\n_c4 = MultiRentalModal;\nconst ActiveRentalsTable = /*#__PURE__*/_s3(/*#__PURE__*/React.memo(_c5 = _s3(({\n  rentals,\n  onAction,\n  onRefresh,\n  loading\n}) => {\n  _s3();\n  const [countdowns, setCountdowns] = useState({});\n  useEffect(() => {\n    const updateCountdowns = () => {\n      const newCountdowns = {};\n      rentals.forEach(rental => {\n        if (!rental) return;\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n        if (!isOpenTime && rental.rental_type !== 'open') {\n          const endTime = new Date(rental.start_time);\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n          const now = new Date();\n          if (now > endTime) {\n            newCountdowns[rental.id] = 'â° Ø§Ù†ØªÙ‡Ù‰';\n          } else {\n            const diffMs = endTime - now;\n            const minutes = Math.floor(diffMs / 60000);\n            const seconds = Math.floor(diffMs % 60000 / 1000);\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n          }\n        } else {\n          // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­\n          const startTime = new Date(rental.start_time);\n          const now = new Date();\n          const diffMs = now - startTime;\n          const minutes = Math.floor(diffMs / 60000);\n          const seconds = Math.floor(diffMs % 60000 / 1000);\n          newCountdowns[rental.id] = `â³ ${minutes}:${seconds.toString().padStart(2, '0')}`;\n        }\n      });\n      setCountdowns(newCountdowns);\n    };\n    updateCountdowns();\n    const interval = setInterval(updateCountdowns, 1000);\n    return () => clearInterval(interval);\n  }, [rentals]);\n  const getRentalTimeInfo = useCallback(rental => {\n    if (!rental) return {\n      type: '',\n      remaining: ''\n    };\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      return {\n        type: 'â³ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­',\n        remaining: countdowns[rental.id] || 'â³ 0:00'\n      };\n    }\n    const endTime = new Date(rental.start_time);\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n    const now = new Date();\n    if (now > endTime) {\n      return {\n        type: 'â° Ø§Ù†ØªÙ‡Ù‰',\n        remaining: 'â° 0:00'\n      };\n    }\n    return {\n      type: `${rental.duration_minutes} Ø¯Ù‚ÙŠÙ‚Ø©`,\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\n    };\n  }, [countdowns]);\n  const calculateRemainingMinutes = useCallback(rental => {\n    if (!rental) return null;\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) return null;\n    const endTime = new Date(rental.start_time);\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n    const now = new Date();\n    return Math.max(0, Math.floor((endTime - now) / 60000));\n  }, []);\n  const calculateRentalAmount = useCallback(rental => {\n    if (!rental) return formatCurrency(0);\n    if (rental.total_amount && rental.total_amount > 0) {\n      return formatCurrency(rental.total_amount);\n    }\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      const startTime = new Date(rental.start_time);\n      const now = new Date();\n      const minutes = Math.floor((now - startTime) / 60000);\n      const units = Math.ceil(minutes / 15);\n      const pricePer15Min = rental.price_per_15min || 100;\n      return formatCurrency(units * pricePer15Min);\n    }\n    return formatCurrency(rental.total_amount || 0);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 925,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 924,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 923,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", rentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 938,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 935,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onRefresh,\n          className: \"btn btn-sm btn-secondary\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 934,\n      columnNumber: 7\n    }, this), rentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\u23F1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 956,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0627\\u0628\\u062F\\u0623 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F \\u0645\\u0646 \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 957,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 954,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rentals-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 965,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 966,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 967,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 968,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 969,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 964,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rentals.map(rental => {\n              if (!rental) return null;\n              const timeInfo = getRentalTimeInfo(rental);\n              const remainingMinutes = calculateRemainingMinutes(rental);\n              const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: timeInfo.type === 'â° Ø§Ù†ØªÙ‡Ù‰' ? 'expired-rental' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-number\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"#\", rental.rental_number || rental.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 988,\n                    columnNumber: 25\n                  }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-warning\",\n                    children: \"\\u0645\\u0641\\u062A\\u0648\\u062D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 990,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 987,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-cell\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-name\",\n                      children: [/*#__PURE__*/_jsxDEV(User, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 996,\n                        columnNumber: 29\n                      }, this), rental.customer_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 995,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-phone\",\n                      children: [/*#__PURE__*/_jsxDEV(Phone, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1000,\n                        columnNumber: 29\n                      }, this), rental.customer_phone || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 999,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 994,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"game-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1006,\n                    columnNumber: 25\n                  }, this), rental.game_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1005,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: timeInfo.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1009,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"countdown-cell\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1014,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: timeInfo.remaining.startsWith('â°') ? 'expired' : '',\n                      children: timeInfo.remaining\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1015,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1013,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"amount-cell\",\n                  children: calculateRentalAmount(rental)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'pending'}`,\n                    children: rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1026,\n                        columnNumber: 33\n                      }, this), \" \\u0645\\u062F\\u0641\\u0648\\u0639\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1027,\n                        columnNumber: 33\n                      }, this), \" \", rental.payment_status || 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡']\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1024,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1023,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('details', rental),\n                      className: \"action-btn view-btn\",\n                      title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n                      children: /*#__PURE__*/_jsxDEV(Eye, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1038,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1033,\n                      columnNumber: 27\n                    }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('end', rental),\n                      className: \"action-btn end-btn\",\n                      title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                      children: /*#__PURE__*/_jsxDEV(Clock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1047,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1042,\n                      columnNumber: 29\n                    }, this), !isOpenTime && remainingMinutes !== null && remainingMinutes < 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('extend', rental),\n                      className: \"action-btn extend-btn\",\n                      title: \"\\u062A\\u0645\\u062F\\u064A\\u062F \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1058,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1053,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('cancel', rental),\n                      className: \"action-btn cancel-btn\",\n                      title: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                      children: /*#__PURE__*/_jsxDEV(XCircle, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1067,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1062,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1032,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 984,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 962,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 960,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 933,\n    columnNumber: 5\n  }, this);\n}, \"PRjeCVmKaAQHN5nAk8OAJWU7mwo=\")), \"PRjeCVmKaAQHN5nAk8OAJWU7mwo=\");\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ====================\n_c6 = ActiveRentalsTable;\nconst CompletedRentalsTable = /*#__PURE__*/_s4(/*#__PURE__*/React.memo(_c7 = _s4(({\n  rentals,\n  onExport,\n  onPrint,\n  loading\n}) => {\n  _s4();\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\n  const [filteredRentals, setFilteredRentals] = useState([]);\n  useEffect(() => {\n    const filterRentals = () => {\n      if (!rentals || rentals.length === 0) {\n        setFilteredRentals([]);\n        return;\n      }\n      const now = new Date();\n      let filtered = [...rentals];\n      switch (selectedPeriod) {\n        case 'today':\n          {\n            const today = now.toISOString().split('T')[0];\n            filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n            break;\n          }\n        case 'week':\n          {\n            const weekAgo = new Date();\n            weekAgo.setDate(weekAgo.getDate() - 7);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\n            break;\n          }\n        case 'month':\n          {\n            const monthAgo = new Date();\n            monthAgo.setMonth(monthAgo.getMonth() - 1);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\n            break;\n          }\n        default:\n          // \"all\" - no filtering\n          break;\n      }\n      setFilteredRentals(filtered);\n    };\n    filterRentals();\n  }, [rentals, selectedPeriod]);\n  const totalRevenue = useMemo(() => {\n    return filteredRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n  }, [filteredRentals]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"completed-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1135,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"completed-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1148,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", filteredRentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"period-selector\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedPeriod,\n            onChange: e => setSelectedPeriod(e.target.value),\n            className: \"period-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"today\",\n              children: \"\\u0627\\u0644\\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"week\",\n              children: \"\\u0622\\u062E\\u0631 7 \\u0623\\u064A\\u0627\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"month\",\n              children: \"\\u0622\\u062E\\u0631 30 \\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"\\u0627\\u0644\\u0643\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onExport(filteredRentals, selectedPeriod),\n          className: \"btn btn-sm btn-success\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0635\\u062F\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onPrint(filteredRentals, selectedPeriod),\n          className: \"btn btn-sm btn-primary\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 7\n    }, this), filteredRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83D\\uDCED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0645 \\u062A\\u0643\\u062A\\u0645\\u0644 \\u0623\\u064A \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0641\\u064A \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062D\\u062F\\u062F\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1188,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"revenue-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-icon\",\n            children: /*#__PURE__*/_jsxDEV(DollarSign, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-value\",\n              children: formatCurrency(totalRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1202,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-period\",\n              children: [selectedPeriod === 'today' && 'Ù„Ù„ÙŠÙˆÙ…', selectedPeriod === 'week' && 'Ù„Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…', selectedPeriod === 'month' && 'Ù„Ø¢Ø®Ø± 30 ÙŠÙˆÙ…', selectedPeriod === 'all' && 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1196,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1195,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"rentals-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1219,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1221,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1217,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredRentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"#\", rental.rental_number || rental.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1231,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-name\",\n                      children: rental.customer_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1234,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-phone\",\n                      children: rental.customer_phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1235,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1233,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1232,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: rental.game_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1238,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatTime(rental.start_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1239,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatTime(rental.end_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [calculateDuration(rental.start_time, rental.end_time), \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1241,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"amount-cell\",\n                  children: formatCurrency(rental.total_amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1242,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'partial'}`,\n                    children: rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1246,\n                        columnNumber: 33\n                      }, this), \" \\u0645\\u062F\\u0641\\u0648\\u0639\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1247,\n                        columnNumber: 33\n                      }, this), \" \", rental.payment_status]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1244,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1243,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1230,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1228,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1215,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1214,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1145,\n    columnNumber: 5\n  }, this);\n}, \"0KxENZR8Dv3USD/MihnpPE8wuRM=\")), \"0KxENZR8Dv3USD/MihnpPE8wuRM=\");\n\n// ==================== Ù…ÙƒÙˆÙ† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ====================\n_c8 = CompletedRentalsTable;\nconst DashboardStats = /*#__PURE__*/_s5(/*#__PURE__*/React.memo(_c9 = _s5(({\n  stats,\n  currentShift,\n  onStartShift,\n  onEndShift,\n  loading\n}) => {\n  _s5();\n  const shiftTime = useMemo(() => {\n    if (!currentShift || !currentShift.start_time) return '--:--';\n    return formatTime(currentShift.start_time);\n  }, [currentShift]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stats\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card skeleton\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton-loader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1276,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1275,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1272,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-stats\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card primary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.availableGames || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [\"\\u0645\\u0646 \\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \", stats.totalGames || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card success\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Zap, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1300,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.activeRentals || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: \"\\u0642\\u064A\\u062F \\u0627\\u0644\\u062A\\u0634\\u063A\\u064A\\u0644 \\u0627\\u0644\\u0622\\u0646\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card warning\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: formatCurrency(stats.todayRevenue || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [stats.todayRentals || 0, \" \\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card info shift-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Clock, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1322,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: currentShift ? `#${currentShift.id}` : '--'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [\"\\u0628\\u062F\\u0623 \", shiftTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-actions\",\n            children: !currentShift ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onStartShift,\n              className: \"btn btn-sm btn-success\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1333,\n                columnNumber: 19\n              }, this), \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onEndShift,\n              className: \"btn btn-sm btn-warning\",\n              children: [/*#__PURE__*/_jsxDEV(Lock, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1338,\n                columnNumber: 19\n              }, this), \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1337,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1330,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1286,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1285,\n    columnNumber: 5\n  }, this);\n}, \"D36XyDzUsawRo/CfXrROsZabWAU=\")), \"D36XyDzUsawRo/CfXrROsZabWAU=\");\n\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\n_c0 = DashboardStats;\nconst Rentals = () => {\n  _s6();\n  const {\n    user\n  } = useAuth();\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n  const [loading, setLoading] = useState({\n    all: true,\n    games: false,\n    rentals: false,\n    shift: false,\n    stats: false\n  });\n  const [error, setError] = useState(null);\n  const [games, setGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [showRentalModal, setShowRentalModal] = useState(false);\n\n  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n  const [stats, setStats] = useState({\n    availableGames: 0,\n    totalGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n\n  // Refs Ù„Ù„ØªØ­ÙƒÙ…\n  const loadingRef = useRef(false);\n  const lastLoadTimeRef = useRef(0);\n\n  // ==================== Ø¯ÙˆØ§Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====================\n  const loadGames = useCallback(async (force = false) => {\n    if (loading.games && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      games: true\n    }));\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user.branch_id,\n          is_active: 1\n        }\n      });\n      if (response.success && response.data) {\n        setGames(response.data);\n        const availableGames = response.data.filter(g => g.status === 'Ù…ØªØ§Ø­' || g.status === 'available').length;\n        setStats(prev => ({\n          ...prev,\n          availableGames: availableGames,\n          totalGames: response.data.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø©`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        games: false\n      }));\n    }\n  }, [user.branch_id]);\n  const loadActiveRentals = useCallback(async (force = false) => {\n    if (loading.rentals && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      rentals: true\n    }));\n    try {\n      const response = await api.get('/rentals/active');\n      if (response.success && response.data) {\n        setActiveRentals(response.data);\n        setStats(prev => ({\n          ...prev,\n          activeRentals: response.data.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        rentals: false\n      }));\n    }\n  }, []);\n  const loadCurrentShift = useCallback(async (force = false) => {\n    if (loading.shift && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      shift: true\n    }));\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response.success) {\n        if (response.data) {\n          setCurrentShift(response.data);\n          localStorage.setItem('current_shift', JSON.stringify(response.data));\n          console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\n        } else {\n          setCurrentShift(null);\n          localStorage.removeItem('current_shift');\n          console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·');\n        }\n      }\n    } catch (error) {\n      console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error);\n      setCurrentShift(null);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  }, []);\n  const loadStats = useCallback(async (force = false) => {\n    if (loading.stats && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      stats: true\n    }));\n    try {\n      const response = await api.get('/dashboard/stats/simple');\n      if (response.success && response.data) {\n        setStats(prev => ({\n          ...prev,\n          ...response.data\n        }));\n        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stats: false\n      }));\n    }\n  }, []);\n  const loadCompletedRentals = useCallback(async (force = false) => {\n    if (!isManager) return;\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const response = await api.get('/rentals', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'Ù…ÙƒØªÙ…Ù„',\n          start_date: today,\n          limit: 100\n        }\n      });\n      if (response.success && response.data) {\n        setCompletedRentals(response.data);\n        const todayRentals = response.data.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n        const todayRevenue = todayRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n        setStats(prev => ({\n          ...prev,\n          todayRevenue: todayRevenue,\n          todayRentals: todayRentals.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    }\n  }, [user.branch_id, isManager]);\n  const loadAllData = useCallback(async (force = false) => {\n    // Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ±Ø± Ø®Ù„Ø§Ù„ 3 Ø«ÙˆØ§Ù†ÙŠ\n    const now = Date.now();\n    if (now - lastLoadTimeRef.current < 3000 && !force) {\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù…ØªÙƒØ±Ø± Ø¬Ø¯Ø§Ù‹');\n      return;\n    }\n    if (loadingRef.current && !force) {\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹');\n      return;\n    }\n    loadingRef.current = true;\n    lastLoadTimeRef.current = now;\n    setLoading(prev => ({\n      ...prev,\n      all: true\n    }));\n    setError(null);\n    try {\n      console.log('ðŸ”„ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        throw new Error('ÙŠØ¬Ø¨ ØªØ¹ÙŠÙŠÙ† ÙØ±Ø¹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹');\n      }\n\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ\n      await Promise.allSettled([loadGames(true), loadActiveRentals(true), loadCurrentShift(true), loadStats(true)]);\n\n      // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¯ÙŠØ±Ø§Ù‹\n      if (isManager) {\n        await loadCompletedRentals(true);\n      }\n      console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);\n      setError(error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† localStorage\n      try {\n        const savedShift = localStorage.getItem('current_shift');\n        if (savedShift) {\n          setCurrentShift(JSON.parse(savedShift));\n        }\n      } catch (e) {\n        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', e);\n      }\n    } finally {\n      loadingRef.current = false;\n      setLoading(prev => ({\n        ...prev,\n        all: false\n      }));\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id, isManager, loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadCompletedRentals]);\n  const refreshSpecificData = useCallback(async dataType => {\n    switch (dataType) {\n      case 'games':\n        await loadGames(true);\n        break;\n      case 'rentals':\n        await loadActiveRentals(true);\n        break;\n      case 'shift':\n        await loadCurrentShift(true);\n        break;\n      case 'stats':\n        await loadStats(true);\n        break;\n      case 'all':\n      default:\n        await loadAllData(true);\n        break;\n    }\n  }, [loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadAllData]);\n  const startShift = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        shift: true\n      }));\n      const response = await api.post('/shifts/start-clean');\n      if (response.success) {\n        setCurrentShift(response.data);\n        localStorage.setItem('current_shift', JSON.stringify(response.data));\n\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\n        setTimeout(() => {\n          refreshSpecificData('all');\n        }, 1000);\n        alert('ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n      alert('ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'));\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  };\n  const endShift = async () => {\n    if (!currentShift) return;\n    if (!window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠØŸ Ø³ÙŠØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©.')) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        shift: true\n      }));\n      if (currentShift.id) {\n        await api.put(`/shifts/${currentShift.id}/end`, {\n          end_time: new Date().toISOString(),\n          status: 'Ù…Ù†ØªÙ‡ÙŠ'\n        });\n      }\n      setCurrentShift(null);\n      setActiveRentals([]);\n      localStorage.removeItem('current_shift');\n\n      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n      await refreshSpecificData('all');\n      alert('ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\n    } catch (error) {\n      console.error('Error ending shift:', error);\n      alert('ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  };\n\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\n  const handleSelectGame = game => {\n    if (!currentShift) {\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\n      startShift();\n      return;\n    }\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\n    if (!isAlreadySelected) {\n      setSelectedGames([...selectedGames, game]);\n      setShowRentalModal(true);\n    } else {\n      setShowRentalModal(true);\n    }\n  };\n  const handleCreateRental = async rentalData => {\n    if (!currentShift) {\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\n      return;\n    }\n    const {\n      customerInfo,\n      rentalItems,\n      paymentMethod,\n      paymentStatus,\n      notes\n    } = rentalData;\n    try {\n      console.log(`ðŸŽ¯ Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ ${rentalItems.length} ØªØ£Ø¬ÙŠØ±`);\n      const createdRentals = [];\n      let successCount = 0;\n\n      // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªØ³Ù„Ø³Ù„\n      for (const [index, item] of rentalItems.entries()) {\n        try {\n          console.log(`ðŸ”„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}/${rentalItems.length}...`);\n          const rentalPayload = {\n            game_id: item.gameId,\n            customer_name: customerInfo.name,\n            customer_phone: customerInfo.phone,\n            branch_id: user.branch_id,\n            shift_id: currentShift.id,\n            user_id: user.id,\n            employee_name: user.name,\n            rental_type: item.rentalType,\n            duration_minutes: item.rentalType === 'fixed' ? item.duration : 0,\n            total_amount: item.rentalType === 'fixed' ? item.pricePer15min * Math.ceil(item.duration / 15) * item.quantity : 0,\n            payment_method: paymentMethod,\n            payment_status: paymentStatus,\n            notes: `${notes || ''} ${item.notes || ''}`.trim(),\n            quantity: item.quantity,\n            is_open_time: item.rentalType === 'open' ? 1 : 0\n          };\n          const response = await api.post('/rentals', rentalPayload);\n          if (response.success) {\n            createdRentals.push(response.data);\n            successCount++;\n            console.log(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1} Ø¨Ù†Ø¬Ø§Ø­`);\n          } else {\n            console.error(`âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}:`, response.message);\n          }\n        } catch (itemError) {\n          console.error(`ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}:`, itemError);\n        }\n\n        // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n        if (index < rentalItems.length - 1) {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        }\n      }\n      if (successCount > 0) {\n        alert(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${successCount} Ù…Ù† ${rentalItems.length} ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­`);\n        setShowRentalModal(false);\n        setSelectedGames([]);\n\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n        await refreshSpecificData('all');\n      } else {\n        alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n      }\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    }\n  };\n  const handleRentalAction = async (action, rental) => {\n    switch (action) {\n      case 'details':\n        const details = `\n          ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}\n          ---------------------------\n          Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\n          Ø§Ù„Ù‡Ø§ØªÙ: ${rental.customer_phone}\n          Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\n          Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: ${rental.payment_status}\n          Ø§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount)}\n          ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\n          ${rental.end_time ? `ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${formatDateTime(rental.end_time)}` : ''}\n          ${rental.notes ? `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${rental.notes}` : ''}\n        `;\n        alert(details);\n        break;\n      case 'end':\n        try {\n          const confirmed = window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ');\n          if (!confirmed) return;\n          const response = await api.post(`/rentals/${rental.id}/complete`, {\n            payment_method: rental.payment_method || 'ÙƒØ§Ø´'\n          });\n          if (response.success) {\n            alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\n            await refreshSpecificData('rentals');\n          } else {\n            alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n          }\n        } catch (error) {\n          console.error('Error ending rental:', error);\n          alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\n        }\n        break;\n      case 'cancel':\n        if (window.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ`)) {\n          try {\n            const response = await api.post(`/rentals/${rental.id}/cancel`, {\n              refund_amount: rental.total_amount || 0,\n              notes: 'Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¸Ù'\n            });\n            if (response.success) {\n              alert('âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\n              await refreshSpecificData('all');\n            } else {\n              alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n            }\n          } catch (error) {\n            console.error('Error cancelling rental:', error);\n            alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n          }\n        }\n        break;\n      case 'extend':\n        const extendMinutes = prompt('ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙŠØ¯ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ', '15');\n        if (extendMinutes && !isNaN(extendMinutes) && parseInt(extendMinutes) > 0) {\n          try {\n            const response = await api.post(`/rentals/${rental.id}/extend`, {\n              additional_minutes: parseInt(extendMinutes)\n            });\n            if (response.success) {\n              alert(`âœ… ØªÙ… ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${extendMinutes} Ø¯Ù‚ÙŠÙ‚Ø©`);\n              await refreshSpecificData('rentals');\n            }\n          } catch (error) {\n            console.error('Error extending rental:', error);\n            alert('âŒ ÙØ´Ù„ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n          }\n        }\n        break;\n    }\n  };\n  const handleExportCompleted = (rentals, period) => {\n    try {\n      const dataStr = JSON.stringify(rentals, null, 2);\n      const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n      const exportFileDefaultName = `ØªØ£Ø¬ÙŠØ±Ø§Øª_${period}_${new Date().toISOString().split('T')[0]}.json`;\n      const linkElement = document.createElement('a');\n      linkElement.setAttribute('href', dataUri);\n      linkElement.setAttribute('download', exportFileDefaultName);\n      linkElement.click();\n      alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${rentals.length} ØªØ£Ø¬ÙŠØ±`);\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      alert('âŒ ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n  const handlePrintCompleted = (rentals, period) => {\n    try {\n      const printWindow = window.open('', '_blank');\n      const totalRevenue = rentals.reduce((sum, r) => sum + (parseFloat(r.total_amount) || 0), 0);\n      const content = `\n        <html>\n          <head>\n            <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª - ${period}</title>\n            <style>\n              body { \n                font-family: 'Arial', 'Tahoma', sans-serif; \n                direction: rtl; \n                padding: 20px; \n                line-height: 1.6;\n                color: #333;\n              }\n              h1 { \n                text-align: center; \n                color: #2c3e50; \n                margin-bottom: 10px;\n                border-bottom: 2px solid #3498db;\n                padding-bottom: 10px;\n              }\n              .header-info {\n                text-align: center;\n                margin-bottom: 20px;\n                color: #7f8c8d;\n              }\n              table { \n                width: 100%; \n                border-collapse: collapse; \n                margin-top: 20px; \n                font-size: 14px;\n              }\n              th { \n                background-color: #3498db; \n                color: white;\n                padding: 12px 8px;\n                text-align: center;\n                border: 1px solid #2980b9;\n              }\n              td { \n                border: 1px solid #ddd; \n                padding: 10px 8px; \n                text-align: center; \n              }\n              tr:nth-child(even) {\n                background-color: #f9f9f9;\n              }\n              tr:hover {\n                background-color: #f5f5f5;\n              }\n              .total { \n                font-weight: bold; \n                color: #2c3e50; \n                font-size: 16px;\n                margin-top: 20px;\n                padding: 15px;\n                background-color: #ecf0f1;\n                border-radius: 5px;\n                text-align: center;\n              }\n              .print-footer {\n                margin-top: 30px;\n                padding-top: 20px;\n                border-top: 1px solid #ddd;\n                text-align: center;\n                color: #7f8c8d;\n                font-size: 12px;\n              }\n              @media print {\n                body { padding: 0; }\n                .no-print { display: none; }\n                table { font-size: 12px; }\n                .total { page-break-inside: avoid; }\n              }\n            </style>\n          </head>\n          <body>\n            <h1>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h1>\n            <div class=\"header-info\">\n              <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${period === 'today' ? 'Ø§Ù„ÙŠÙˆÙ…' : period === 'week' ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…' : period === 'month' ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…' : 'Ø§Ù„ÙƒÙ„'}</p>\n              <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:</strong> ${rentals.length}</p>\n              <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${new Date().toLocaleDateString('ar-EG')}</p>\n            </div>\n            \n            <table>\n              <thead>\n                <tr>\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${rentals.map(rental => `\n                  <tr>\n                    <td>${rental.rental_number || rental.id}</td>\n                    <td>${rental.customer_name}</td>\n                    <td>${rental.game_name}</td>\n                    <td>${formatTime(rental.start_time)}</td>\n                    <td>${formatTime(rental.end_time)}</td>\n                    <td>${calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\n                    <td>${formatCurrency(rental.total_amount)}</td>\n                    <td>${rental.payment_status}</td>\n                  </tr>\n                `).join('')}\n              </tbody>\n            </table>\n            \n            <div class=\"total\">\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${formatCurrency(totalRevenue)}\n            </div>\n            \n            <div class=\"print-footer\">\n              <p>ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ø¸Ø§Ù… L3BTY Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\n              <p>${new Date().toLocaleString('ar-EG')}</p>\n            </div>\n            \n            <button class=\"no-print\" onclick=\"window.print()\" \n              style=\"\n                margin-top: 20px; \n                padding: 12px 24px; \n                background: #3498db; \n                color: white; \n                border: none; \n                border-radius: 5px;\n                cursor: pointer;\n                font-size: 16px;\n                display: block;\n                margin: 30px auto;\n              \">\n              ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\n            </button>\n            \n            <script>\n              window.onload = function() {\n                // Ø·Ø¨Ø§Ø¹Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©\n                setTimeout(function() {\n                  window.print();\n                }, 1000);\n              };\n            </script>\n          </body>\n        </html>\n      `;\n      printWindow.document.write(content);\n      printWindow.document.close();\n    } catch (error) {\n      console.error('Error printing report:', error);\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±');\n    }\n  };\n\n  // ==================== useEffect ====================\n  useEffect(() => {\n    loadAllData();\n\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\n    let intervalId = null;\n    if (currentShift) {\n      intervalId = setInterval(() => {\n        refreshSpecificData('rentals');\n      }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\n    }\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [currentShift, loadAllData, refreshSpecificData]);\n\n  // ==================== Ø§Ù„ØªØµÙŠÙŠØ± ====================\n  if (loading.all && games.length === 0 && activeRentals.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"spinner large\",\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2052,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2053,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-subtext\",\n        children: \"\\u064A\\u0631\\u062C\\u0649 \\u0627\\u0644\\u0627\\u0646\\u062A\\u0638\\u0627\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2054,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2051,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-icon\",\n          children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2064,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2063,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2066,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2067,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => loadAllData(true),\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2070,\n              columnNumber: 15\n            }, this), \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2069,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"btn btn-secondary\",\n            children: \"\\u21BB \\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0635\\u0641\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2073,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2068,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2062,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2061,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-icon\",\n              children: \"\\uD83C\\uDFAE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2089,\n              columnNumber: 15\n            }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2088,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page-subtitle\",\n            children: (user === null || user === void 0 ? void 0 : user.branch_name) || 'Ø§Ù„Ù†Ø¸Ø§Ù…'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2092,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2087,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-badge\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2098,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-name\",\n                children: (user === null || user === void 0 ? void 0 : user.name) || 'Ù…Ø³ØªØ®Ø¯Ù…'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2100,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-role\",\n                children: isManager ? 'ðŸ‘‘ Ù…Ø¯ÙŠØ±' : 'ðŸ‘· Ù…ÙˆØ¸Ù'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2101,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2099,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2097,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"branch-info\",\n            children: [/*#__PURE__*/_jsxDEV(Building, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"branch-name\",\n              children: (user === null || user === void 0 ? void 0 : user.branch_name) || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2096,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2086,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [selectedGames.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRentalModal(true),\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2119,\n            columnNumber: 15\n          }, this), \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 (\", selectedGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2115,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => refreshSpecificData('all'),\n            className: \"btn btn-secondary\",\n            disabled: loading.all,\n            children: [loading.all ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"spinner\",\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2131,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2133,\n              columnNumber: 17\n            }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0643\\u0644\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2125,\n            columnNumber: 13\n          }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2140,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0634\\u064A\\u0641\\u062A #\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-time\",\n              children: formatTime(currentShift.start_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2085,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStats, {\n      stats: stats,\n      currentShift: currentShift,\n      onStartShift: startShift,\n      onEndShift: endShift,\n      loading: loading.shift || loading.stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2152,\n      columnNumber: 7\n    }, this), !currentShift && !loading.shift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-shift-alert\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-icon\",\n          children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u064A\\u062C\\u0628 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0644\\u0644\\u062A\\u0645\\u0643\\u0646 \\u0645\\u0646 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startShift,\n          className: \"btn btn-success\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2172,\n            columnNumber: 15\n          }, this), \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2163,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2162,\n      columnNumber: 9\n    }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(GamesGrid, {\n        games: games,\n        branchId: user === null || user === void 0 ? void 0 : user.branch_id,\n        onSelectGame: handleSelectGame,\n        loading: loading.games\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2183,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ActiveRentalsTable, {\n        rentals: activeRentals,\n        onAction: handleRentalAction,\n        onRefresh: () => refreshSpecificData('rentals'),\n        loading: loading.rentals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2191,\n        columnNumber: 11\n      }, this), isManager && /*#__PURE__*/_jsxDEV(CompletedRentalsTable, {\n        rentals: completedRentals,\n        onExport: handleExportCompleted,\n        onPrint: handlePrintCompleted,\n        loading: loading.all\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2200,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2181,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MultiRentalModal, {\n      show: showRentalModal,\n      onClose: () => {\n        setShowRentalModal(false);\n        setSelectedGames([]);\n      },\n      selectedGames: selectedGames,\n      currentShift: currentShift,\n      onConfirmRental: handleCreateRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2211,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2083,\n    columnNumber: 5\n  }, this);\n};\n_s6(Rentals, \"AnFKM5WjvcMbd+qXouF6aOxs0iA=\", false, function () {\n  return [useAuth];\n});\n_c1 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"GamesGrid$React.memo\");\n$RefreshReg$(_c2, \"GamesGrid\");\n$RefreshReg$(_c3, \"MultiRentalModal$React.memo\");\n$RefreshReg$(_c4, \"MultiRentalModal\");\n$RefreshReg$(_c5, \"ActiveRentalsTable$React.memo\");\n$RefreshReg$(_c6, \"ActiveRentalsTable\");\n$RefreshReg$(_c7, \"CompletedRentalsTable$React.memo\");\n$RefreshReg$(_c8, \"CompletedRentalsTable\");\n$RefreshReg$(_c9, \"DashboardStats$React.memo\");\n$RefreshReg$(_c0, \"DashboardStats\");\n$RefreshReg$(_c1, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","useRef","Search","Download","RefreshCw","Calendar","DollarSign","TrendingUp","BarChart3","FileText","CheckCircle","XCircle","Eye","Printer","Clock","Users","ChevronLeft","ChevronRight","AlertCircle","Check","X","Plus","Minus","Calculator","Lock","Unlock","Edit","Trash2","User","Gamepad2","CreditCard","CalendarIcon","ClockIcon","Phone","Mail","MapPin","Package","Building","Zap","Filter","ShoppingCart","Loader2","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","validatePhone","phone","cleaned","replace","length","startsWith","calculateDuration","startTime","endTime","start","end","Math","round","GamesGrid","_s","memo","_c","games","branchId","onSelectGame","loading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","availableGames","setAvailableGames","console","log","branchGames","filter","game","gameBranchId","parseInt","branch_id","currentBranchId","isSameBranch","isAvailable","status","isActive","is_active","undefined","getGameImage","imageMap","image_url","external_image_url","imageName","name","filteredGames","gameName","gameCategory","category","gameDescription","description","matchesSearch","toLowerCase","includes","matchesCategory","categories","cats","Set","forEach","add","Array","from","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","type","placeholder","value","onChange","e","target","onClick","map","cat","window","open","title","src","alt","onError","warn","price_per_15min","id","price_per_hour","_c2","MultiRentalModal","_s2","_c3","show","onClose","selectedGames","onConfirmRental","currentShift","customerInfo","setCustomerInfo","email","address","rentalItems","setRentalItems","paymentMethod","setPaymentMethod","paymentStatus","setPaymentStatus","notes","setNotes","isSubmitting","setIsSubmitting","items","now","random","gameId","gameImage","rentalType","duration","pricePer15min","quantity","updateRentalItem","updates","item","removeRentalItem","calculateItemPrice","units","ceil","calculateTotal","reduce","total","handleSubmit","alert","rentalData","totalAmount","shiftId","timestamp","toISOString","error","stopPropagation","required","maxLength","disabled","minutes","max","rows","sum","_c4","ActiveRentalsTable","_s3","_c5","rentals","onAction","onRefresh","countdowns","setCountdowns","updateCountdowns","newCountdowns","rental","isOpenTime","is_open_time","rental_type","start_time","setMinutes","getMinutes","duration_minutes","diffMs","floor","seconds","toString","padStart","interval","setInterval","clearInterval","getRentalTimeInfo","remaining","calculateRemainingMinutes","calculateRentalAmount","total_amount","pricePer15Min","timeInfo","remainingMinutes","rental_number","customer_name","customer_phone","game_name","payment_status","_c6","CompletedRentalsTable","_s4","_c7","onExport","onPrint","selectedPeriod","setSelectedPeriod","filteredRentals","setFilteredRentals","filterRentals","filtered","today","split","r","end_time","weekAgo","setDate","getDate","monthAgo","setMonth","getMonth","totalRevenue","_c8","DashboardStats","_s5","_c9","stats","onStartShift","onEndShift","shiftTime","i","totalGames","activeRentals","todayRevenue","todayRentals","_c0","Rentals","_s6","user","isManager","role","setLoading","all","shift","setError","setGames","setActiveRentals","completedRentals","setCompletedRentals","setCurrentShift","setSelectedGames","showRentalModal","setShowRentalModal","setStats","loadingRef","lastLoadTimeRef","loadGames","force","prev","response","get","params","success","data","g","loadActiveRentals","loadCurrentShift","localStorage","setItem","JSON","stringify","removeItem","loadStats","loadCompletedRentals","start_date","limit","loadAllData","current","Error","Promise","allSettled","message","savedShift","getItem","parse","refreshSpecificData","dataType","startShift","post","setTimeout","endShift","confirm","put","handleSelectGame","isAlreadySelected","some","handleCreateRental","createdRentals","successCount","index","entries","rentalPayload","game_id","shift_id","user_id","employee_name","payment_method","trim","push","itemError","resolve","handleRentalAction","action","details","confirmed","refund_amount","extendMinutes","prompt","isNaN","additional_minutes","handleExportCompleted","period","dataStr","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","handlePrintCompleted","printWindow","content","join","toLocaleString","write","close","intervalId","location","reload","branch_name","_c1","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\r\nimport { \r\n  Search, Download, RefreshCw, Calendar, \r\n  DollarSign, TrendingUp, BarChart3, FileText,\r\n  CheckCircle, XCircle, Eye, Printer,\r\n  Clock, Users, ChevronLeft, ChevronRight, \r\n  AlertCircle, Check, X, Plus, Minus, Calculator,\r\n  Lock, Unlock, Edit, Trash2, User, Gamepad2, CreditCard,\r\n  Calendar as CalendarIcon, Clock as ClockIcon,\r\n  Phone, Mail, MapPin, Package, Building,\r\n  Zap, Filter, ShoppingCart, Loader2\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\nconst formatCurrency = (amount) => {\r\n  if (!amount && amount !== 0) return '0 Ø¬.Ù…';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst validatePhone = (phone) => {\r\n  if (!phone) return false;\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 11 && cleaned.startsWith('01');\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  return Math.round((end - start) / (1000 * 60));\r\n};\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\r\nconst GamesGrid = React.memo(({ games, branchId, onSelectGame, loading }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [availableGames, setAvailableGames] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!branchId || !games) return;\r\n    \r\n    console.log(`ðŸŽ® ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    const branchGames = games.filter(game => {\r\n      if (!game) return false;\r\n      \r\n      const gameBranchId = parseInt(game.branch_id);\r\n      const currentBranchId = parseInt(branchId);\r\n      \r\n      const isSameBranch = gameBranchId === currentBranchId;\r\n      const isAvailable = game.status === 'Ù…ØªØ§Ø­' || game.status === 'available';\r\n      const isActive = game.is_active === 1 || game.is_active === true || game.is_active === undefined;\r\n      \r\n      return isSameBranch && isAvailable && isActive;\r\n    });\r\n    \r\n    console.log(`ðŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„ØªØµÙÙŠØ©: ${branchGames.length}`);\r\n    setAvailableGames(branchGames);\r\n  }, [games, branchId]);\r\n\r\n  const getGameImage = useCallback((game) => {\r\n    if (!game) return '/images/default-game.jpg';\r\n    \r\n    const imageMap = {\r\n      'Ø¯Ø±ÙŠÙØª ÙƒØ§Ø±': '/images/Driftcar.jpg',\r\n      'Ù‡Ø§ÙØ± Ø¨ÙˆØ±Ø¯': '/images/Hoverboard.jpg',\r\n      'Ø³ÙƒÙˆØªØ±': '/images/Scooter.jpg',\r\n      'Ø¹Ø±Ø¨Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\r\n      'Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Motor.jpg',\r\n      'Ù‡Ø§Ø±Ù„ÙŠ': '/images/harley.jpg',\r\n      'Ø³ÙŠØ¬ÙˆØ§ÙŠ': '/images/Segway.jpg',\r\n      'ÙƒØ±Ø§Ø²ÙŠ ÙƒØ§Ø±': '/images/Ninebot.jpg',\r\n      'Ø³ÙƒÙŠØª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Skate.jpg',\r\n      'ØªØ±Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†': '/images/Trampoline.jpg',\r\n      'Ù…Ø­Ø§ÙƒÙŠ': '/images/Simulator.jpg',\r\n      'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\r\n      'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©': '/images/Motor.jpg',\r\n      'hoverboard': '/images/Hoverboard.jpg',\r\n      'Ø³ÙƒÙŠØª': '/images/Skate.jpg'\r\n    };\r\n    \r\n    // Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©: image_url Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n    if (game.image_url && game.image_url !== 'default-game.jpg' && game.image_url !== '') {\r\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\r\n    }\r\n    \r\n    // Ø§Ù„Ø«Ø§Ù†ÙŠ: external_image_url\r\n    if (game.external_image_url) {\r\n      return game.external_image_url;\r\n    }\r\n    \r\n    // Ø§Ù„Ø«Ø§Ù„Ø«: Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©\r\n    const imageName = imageMap[game.name] || '/images/default-game.jpg';\r\n    return imageName;\r\n  }, []);\r\n\r\n  const filteredGames = useMemo(() => {\r\n    if (!availableGames.length) return [];\r\n    \r\n    return availableGames.filter(game => {\r\n      if (!game) return false;\r\n      \r\n      const gameName = game.name || '';\r\n      const gameCategory = game.category || '';\r\n      const gameDescription = game.description || '';\r\n      \r\n      const matchesSearch = gameName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                          gameCategory.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                          gameDescription.toLowerCase().includes(searchTerm.toLowerCase());\r\n      \r\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\r\n      \r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  }, [availableGames, searchTerm, selectedCategory]);\r\n\r\n  const categories = useMemo(() => {\r\n    if (!availableGames.length) return ['all'];\r\n    \r\n    const cats = new Set(['all']);\r\n    availableGames.forEach(game => {\r\n      if (game && game.category) {\r\n        cats.add(game.category);\r\n      }\r\n    });\r\n    return Array.from(cats);\r\n  }, [availableGames]);\r\n\r\n  if (!branchId) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ¬</div>\r\n          <h3>Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ÙØ±Ø¹</h3>\r\n          <p>ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ¯ ÙØ±Ø¹ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"games-grid-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">ðŸŽ®</span>\r\n          Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©\r\n          <span className=\"section-count\">({availableGames.length})</span>\r\n          <span className=\"branch-badge\">Ø§Ù„ÙØ±Ø¹ #{branchId}</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"search-box\">\r\n            <Search size={18} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨Ø©...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            {searchTerm && (\r\n              <button onClick={() => setSearchTerm('')} className=\"clear-search\">\r\n                <X size={16} />\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {categories.length > 1 && (\r\n            <div className=\"filter-controls\">\r\n              <select \r\n                value={selectedCategory}\r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className=\"filter-select\"\r\n              >\r\n                {categories.map(cat => (\r\n                  <option key={cat} value={cat}>\r\n                    {cat === 'all' ? 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª' : cat}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {availableGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸŽ®</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØ±Ø¹</h3>\r\n          <p>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ÙØ±Ø¹ Ù…Ù† ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹</p>\r\n          <div className=\"empty-actions\">\r\n            <button \r\n              className=\"btn btn-primary\"\r\n              onClick={() => window.open('/branches', '_blank')}\r\n            >\r\n              <Plus size={16} />\r\n              Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : filteredGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ”</div>\r\n          <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù„Ø¹Ø§Ø¨</h3>\r\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ ØªØ·Ø§Ø¨Ù‚ \"{searchTerm}\"</p>\r\n          <button \r\n            className=\"btn btn-secondary\"\r\n            onClick={() => {\r\n              setSearchTerm('');\r\n              setSelectedCategory('all');\r\n            }}\r\n          >\r\n            Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"games-stats\">\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:</span>\r\n              <span className=\"stat-value\">{availableGames.length}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">ØªÙ…Øª ØªØµÙÙŠØªÙ‡Ø§:</span>\r\n              <span className=\"stat-value\">{filteredGames.length}</span>\r\n            </div>\r\n            {selectedCategory !== 'all' && (\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Ø§Ù„ÙØ¦Ø©:</span>\r\n                <span className=\"stat-value\">{selectedCategory}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"games-grid\">\r\n            {filteredGames.map(game => (\r\n              <div \r\n                key={game.id} \r\n                className=\"game-card\"\r\n                onClick={() => onSelectGame(game)}\r\n                title={`Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© ${game.name} Ù„Ù„ØªØ£Ø¬ÙŠØ±`}\r\n              >\r\n                <div className=\"game-image-container\">\r\n                  <img \r\n                    src={getGameImage(game)} \r\n                    alt={game.name}\r\n                    className=\"game-image\"\r\n                    loading=\"lazy\"\r\n                    onError={(e) => {\r\n                      console.warn(`ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ${game.name}`);\r\n                      e.target.src = '/images/default-game.jpg';\r\n                    }}\r\n                  />\r\n                  <div className=\"game-status-badge available\">\r\n                    <CheckCircle size={14} />\r\n                    <span>Ù…ØªØ§Ø­</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"game-info\">\r\n                  <h4 className=\"game-name\">{game.name}</h4>\r\n                  {game.description && (\r\n                    <p className=\"game-description\">{game.description}</p>\r\n                  )}\r\n                  \r\n                  <div className=\"game-details\">\r\n                    <span className=\"game-category\">{game.category || 'Ø¹Ø§Ù…'}</span>\r\n                    <span className=\"game-price\">\r\n                      {formatCurrency(game.price_per_15min)} / 15 Ø¯Ù‚ÙŠÙ‚Ø©\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"game-meta\">\r\n                    <span className=\"game-id\">#{game.id}</span>\r\n                    <span className=\"game-price-hour\">\r\n                      {formatCurrency(game.price_per_hour || (game.price_per_15min * 4))} / Ø³Ø§Ø¹Ø©\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"game-actions\">\r\n                    <button className=\"select-game-btn\">\r\n                      <span className=\"btn-icon\">âž•</span>\r\n                      <span className=\"btn-text\">Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªØ£Ø¬ÙŠØ±</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ ====================\r\nconst MultiRentalModal = React.memo(({ \r\n  show, \r\n  onClose, \r\n  selectedGames, \r\n  onConfirmRental, \r\n  currentShift \r\n}) => {\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    phone: '',\r\n    email: '',\r\n    address: ''\r\n  });\r\n  \r\n  const [rentalItems, setRentalItems] = useState([]);\r\n  const [paymentMethod, setPaymentMethod] = useState('ÙƒØ§Ø´');\r\n  const [paymentStatus, setPaymentStatus] = useState('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\r\n  const [notes, setNotes] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (show && selectedGames.length > 0) {\r\n      const items = selectedGames.map(game => ({\r\n        id: Date.now() + Math.random(),\r\n        gameId: game.id,\r\n        gameName: game.name,\r\n        gameImage: '/images/default-game.jpg',\r\n        rentalType: 'fixed',\r\n        duration: 15,\r\n        pricePer15min: game.price_per_15min || 100,\r\n        quantity: 1,\r\n        notes: ''\r\n      }));\r\n      setRentalItems(items);\r\n    }\r\n  }, [show, selectedGames]);\r\n\r\n  const updateRentalItem = (id, updates) => {\r\n    setRentalItems(items => \r\n      items.map(item => \r\n        item.id === id ? { ...item, ...updates } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const removeRentalItem = (id) => {\r\n    setRentalItems(items => items.filter(item => item.id !== id));\r\n  };\r\n\r\n  const calculateItemPrice = useCallback((item) => {\r\n    if (item.rentalType === 'open') return 0;\r\n    const units = Math.ceil(item.duration / 15);\r\n    return (item.pricePer15min * units * item.quantity) || 0;\r\n  }, []);\r\n\r\n  const calculateTotal = useCallback(() => {\r\n    return rentalItems.reduce((total, item) => {\r\n      return total + calculateItemPrice(item);\r\n    }, 0);\r\n  }, [rentalItems, calculateItemPrice]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!customerInfo.name || !customerInfo.phone) {\r\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');\r\n      return;\r\n    }\r\n    \r\n    if (!validatePhone(customerInfo.phone)) {\r\n      alert('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…Ø§Ù‹ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01');\r\n      return;\r\n    }\r\n    \r\n    if (rentalItems.length === 0) {\r\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ØªØ£Ø¬ÙŠØ±');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const rentalData = {\r\n        customerInfo,\r\n        rentalItems,\r\n        paymentMethod,\r\n        paymentStatus,\r\n        notes,\r\n        totalAmount: calculateTotal(),\r\n        shiftId: currentShift?.id,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      await onConfirmRental(rentalData);\r\n      \r\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬\r\n      setCustomerInfo({ name: '', phone: '', email: '', address: '' });\r\n      setRentalItems([]);\r\n      setPaymentMethod('ÙƒØ§Ø´');\r\n      setPaymentStatus('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\r\n      setNotes('');\r\n      \r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal multi-rental-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title\">\r\n            <h2>\r\n              <span className=\"modal-icon\">ðŸŽ¯</span>\r\n              ØªØ£Ø¬ÙŠØ± Ø¬Ø¯ÙŠØ¯\r\n              {currentShift && (\r\n                <span className=\"shift-badge\">Ø§Ù„Ø´ÙŠÙØª #{currentShift.id}</span>\r\n              )}\r\n            </h2>\r\n            <p className=\"modal-subtitle\">Ø¥Ø¶Ø§ÙØ© {selectedGames.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n          </div>\r\n          <button onClick={onClose} className=\"modal-close\">âœ•</button>\r\n        </div>\r\n        \r\n        <div className=\"modal-body\">\r\n          {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ */}\r\n          <div className=\"customer-section\">\r\n            <h3 className=\"section-title\">\r\n              <User size={20} />\r\n              Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„\r\n            </h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <User size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.name}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, name: e.target.value})}\r\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„\"\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Phone size={18} />\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={customerInfo.phone}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, phone: e.target.value})}\r\n                    placeholder=\"01xxxxxxxxx\"\r\n                    maxLength={11}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n                {customerInfo.phone && !validatePhone(customerInfo.phone) && (\r\n                  <span className=\"error-text\">Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­</span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Mail size={18} />\r\n                  <input\r\n                    type=\"email\"\r\n                    value={customerInfo.email}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, email: e.target.value})}\r\n                    placeholder=\"email@example.com\"\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group full-width\">\r\n                <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>\r\n                <div className=\"input-with-icon\">\r\n                  <MapPin size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.address}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, address: e.target.value})}\r\n                    placeholder=\"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„\"\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª */}\r\n          <div className=\"rentals-section\">\r\n            <h3 className=\"section-title\">\r\n              <ShoppingCart size={20} />\r\n              Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ({rentalItems.length})\r\n            </h3>\r\n            \r\n            {rentalItems.map(item => (\r\n              <div key={item.id} className=\"rental-item-card\">\r\n                <div className=\"rental-item-header\">\r\n                  <div className=\"item-info\">\r\n                    <div className=\"item-image-container\">\r\n                      <img src={item.gameImage} alt={item.gameName} className=\"item-image\" />\r\n                    </div>\r\n                    <div className=\"item-details\">\r\n                      <h4>{item.gameName}</h4>\r\n                      <span className=\"item-price\">\r\n                        {formatCurrency(item.pricePer15min)} / 15 Ø¯Ù‚ÙŠÙ‚Ø©\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button \r\n                    onClick={() => removeRentalItem(item.id)}\r\n                    className=\"remove-item-btn\"\r\n                    title=\"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <Trash2 size={18} />\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"rental-item-options\">\r\n                  <div className=\"options-grid\">\r\n                    <div className=\"option-group\">\r\n                      <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±:</label>\r\n                      <div className=\"toggle-buttons\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'fixed', duration: 15 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <ClockIcon size={16} />\r\n                          ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'open', duration: 0 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Unlock size={16} />\r\n                          ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {item.rentalType === 'fixed' && (\r\n                      <div className=\"option-group\">\r\n                        <label>Ø§Ù„Ù…Ø¯Ø©:</label>\r\n                        <div className=\"duration-options\">\r\n                          {[15, 30, 45, 60, 90, 120].map(minutes => (\r\n                            <button\r\n                              key={minutes}\r\n                              type=\"button\"\r\n                              className={`duration-btn ${item.duration === minutes ? 'active' : ''}`}\r\n                              onClick={() => updateRentalItem(item.id, { duration: minutes })}\r\n                              disabled={isSubmitting}\r\n                            >\r\n                              {minutes} Ø¯Ù‚ÙŠÙ‚Ø©\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"option-group\">\r\n                      <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>\r\n                      <div className=\"quantity-control\">\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: Math.max(1, item.quantity - 1) \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Minus size={16} />\r\n                        </button>\r\n                        <span className=\"quantity-value\">{item.quantity}</span>\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: item.quantity + 1 \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Plus size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"item-notes\">\r\n                    <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ©:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={item.notes}\r\n                      onChange={(e) => updateRentalItem(item.id, { notes: e.target.value })}\r\n                      placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø©...\"\r\n                      className=\"notes-input\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"item-summary\">\r\n                    <span className=\"summary-label\">Ø§Ù„Ù…Ø¨Ù„Øº:</span>\r\n                    <span className=\"summary-value\">\r\n                      {item.rentalType === 'open' \r\n                        ? 'â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' \r\n                        : formatCurrency(calculateItemPrice(item))}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {rentalItems.length === 0 && (\r\n              <div className=\"empty-items\">\r\n                <Package size={48} />\r\n                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n                <small>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</small>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© */}\r\n          <div className=\"payment-section\">\r\n            <h3 className=\"section-title\">\r\n              <CreditCard size={20} />\r\n              Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©\r\n            </h3>\r\n            \r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>\r\n                <select \r\n                  value={paymentMethod}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"form-input\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"ÙƒØ§Ø´\">ðŸ’µ Ù†Ù‚Ø¯ÙŠ</option>\r\n                  <option value=\"Ø¨Ø·Ø§Ù‚Ø©\">ðŸ’³ Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†</option>\r\n                  <option value=\"Ù…Ø­ÙØ¸Ø©\">ðŸ“± Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>\r\n                  <option value=\"ØªØ­ÙˆÙŠÙ„\">ðŸ¦ ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹:</label>\r\n                <select \r\n                  value={paymentStatus}\r\n                  onChange={(e) => setPaymentStatus(e.target.value)}\r\n                  className=\"form-input\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡\">â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡</option>\r\n                  <option value=\"Ù…Ø¯ÙÙˆØ¹\">âœ… Ù…Ø¯ÙÙˆØ¹</option>\r\n                  <option value=\"Ø¬Ø²Ø¦ÙŠ\">ðŸ’° Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹</option>\r\n                  <option value=\"Ù…Ø¬Ø§Ù†ÙŠ\">ðŸŽ Ù…Ø¬Ø§Ù†ÙŠ</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group full-width\">\r\n                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>\r\n                <textarea\r\n                  value={notes}\r\n                  onChange={(e) => setNotes(e.target.value)}\r\n                  placeholder=\"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±...\"\r\n                  rows=\"3\"\r\n                  className=\"form-textarea\"\r\n                  disabled={isSubmitting}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */}\r\n          <div className=\"summary-section\">\r\n            <h3 className=\"section-title\">\r\n              <Calculator size={20} />\r\n              Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ\r\n            </h3>\r\n            \r\n            <div className=\"summary-grid\">\r\n              <div className=\"summary-item\">\r\n                <span>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:</span>\r\n                <span className=\"summary-value\">{rentalItems.length}</span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹:</span>\r\n                <span className=\"summary-value\">\r\n                  {rentalItems.reduce((sum, item) => sum + item.quantity, 0)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>\r\n                <span className=\"summary-value total-amount\">\r\n                  {formatCurrency(calculateTotal())}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"modal-footer\">\r\n          <div className=\"footer-info\">\r\n            <div className=\"timestamp\">\r\n              <CalendarIcon size={14} />\r\n              <span>{formatDateTime(new Date().toISOString())}</span>\r\n            </div>\r\n            {currentShift && (\r\n              <div className=\"shift-info\">\r\n                <span className=\"shift-label\">Ø§Ù„Ø´ÙŠÙØª:</span>\r\n                <span className=\"shift-value\">#{currentShift.id}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"footer-actions\">\r\n            <button \r\n              onClick={onClose} \r\n              className=\"btn btn-secondary\"\r\n              disabled={isSubmitting}\r\n            >\r\n              <X size={18} />\r\n              Ø¥Ù„ØºØ§Ø¡\r\n            </button>\r\n            <button \r\n              onClick={handleSubmit} \r\n              className=\"btn btn-primary\"\r\n              disabled={isSubmitting || rentalItems.length === 0}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"spinner\" size={18} />\r\n                  Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Check size={18} />\r\n                  Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ====================\r\nconst ActiveRentalsTable = React.memo(({ rentals, onAction, onRefresh, loading }) => {\r\n  const [countdowns, setCountdowns] = useState({});\r\n\r\n  useEffect(() => {\r\n    const updateCountdowns = () => {\r\n      const newCountdowns = {};\r\n      \r\n      rentals.forEach(rental => {\r\n        if (!rental) return;\r\n        \r\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n        \r\n        if (!isOpenTime && rental.rental_type !== 'open') {\r\n          const endTime = new Date(rental.start_time);\r\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n          const now = new Date();\r\n          \r\n          if (now > endTime) {\r\n            newCountdowns[rental.id] = 'â° Ø§Ù†ØªÙ‡Ù‰';\r\n          } else {\r\n            const diffMs = endTime - now;\r\n            const minutes = Math.floor(diffMs / 60000);\r\n            const seconds = Math.floor((diffMs % 60000) / 1000);\r\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n          }\r\n        } else {\r\n          // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­\r\n          const startTime = new Date(rental.start_time);\r\n          const now = new Date();\r\n          const diffMs = now - startTime;\r\n          const minutes = Math.floor(diffMs / 60000);\r\n          const seconds = Math.floor((diffMs % 60000) / 1000);\r\n          newCountdowns[rental.id] = `â³ ${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n        }\r\n      });\r\n      \r\n      setCountdowns(newCountdowns);\r\n    };\r\n\r\n    updateCountdowns();\r\n    const interval = setInterval(updateCountdowns, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [rentals]);\r\n\r\n  const getRentalTimeInfo = useCallback((rental) => {\r\n    if (!rental) return { type: '', remaining: '' };\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    \r\n    if (isOpenTime) {\r\n      return {\r\n        type: 'â³ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­',\r\n        remaining: countdowns[rental.id] || 'â³ 0:00'\r\n      };\r\n    }\r\n    \r\n    const endTime = new Date(rental.start_time);\r\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n    const now = new Date();\r\n    \r\n    if (now > endTime) {\r\n      return {\r\n        type: 'â° Ø§Ù†ØªÙ‡Ù‰',\r\n        remaining: 'â° 0:00'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      type: `${rental.duration_minutes} Ø¯Ù‚ÙŠÙ‚Ø©`,\r\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\r\n    };\r\n  }, [countdowns]);\r\n\r\n  const calculateRemainingMinutes = useCallback((rental) => {\r\n    if (!rental) return null;\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    if (isOpenTime) return null;\r\n    \r\n    const endTime = new Date(rental.start_time);\r\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n    const now = new Date();\r\n    \r\n    return Math.max(0, Math.floor((endTime - now) / 60000));\r\n  }, []);\r\n\r\n  const calculateRentalAmount = useCallback((rental) => {\r\n    if (!rental) return formatCurrency(0);\r\n    \r\n    if (rental.total_amount && rental.total_amount > 0) {\r\n      return formatCurrency(rental.total_amount);\r\n    }\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    if (isOpenTime) {\r\n      const startTime = new Date(rental.start_time);\r\n      const now = new Date();\r\n      const minutes = Math.floor((now - startTime) / 60000);\r\n      const units = Math.ceil(minutes / 15);\r\n      const pricePer15Min = rental.price_per_15min || 100;\r\n      \r\n      return formatCurrency(units * pricePer15Min);\r\n    }\r\n    \r\n    return formatCurrency(rental.total_amount || 0);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"active-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"active-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">ðŸ”¥</span>\r\n          Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n          <span className=\"section-count\">({rentals.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <button\r\n            onClick={onRefresh}\r\n            className=\"btn btn-sm btn-secondary\"\r\n            disabled={loading}\r\n          >\r\n            <RefreshCw size={16} />\r\n            ØªØ­Ø¯ÙŠØ«\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {rentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">â±ï¸</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©</h3>\r\n          <p>Ø§Ø¨Ø¯Ø£ ØªØ£Ø¬ÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"table-container\">\r\n          <div className=\"table-responsive\">\r\n            <table className=\"rentals-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                  <th>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</th>\r\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                  <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {rentals.map(rental => {\r\n                  if (!rental) return null;\r\n                  \r\n                  const timeInfo = getRentalTimeInfo(rental);\r\n                  const remainingMinutes = calculateRemainingMinutes(rental);\r\n                  const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n                  \r\n                  return (\r\n                    <tr key={rental.id} className={\r\n                      timeInfo.type === 'â° Ø§Ù†ØªÙ‡Ù‰' ? 'expired-rental' : ''\r\n                    }>\r\n                      <td className=\"rental-number\">\r\n                        <strong>#{rental.rental_number || rental.id}</strong>\r\n                        {isOpenTime && (\r\n                          <span className=\"badge badge-warning\">Ù…ÙØªÙˆØ­</span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"customer-cell\">\r\n                          <div className=\"customer-name\">\r\n                            <User size={14} />\r\n                            {rental.customer_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\r\n                          </div>\r\n                          <div className=\"customer-phone\">\r\n                            <Phone size={12} />\r\n                            {rental.customer_phone || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"game-cell\">\r\n                        <Gamepad2 size={14} />\r\n                        {rental.game_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'}\r\n                      </td>\r\n                      <td>\r\n                        {timeInfo.type}\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"countdown-cell\">\r\n                          <Clock size={14} />\r\n                          <span className={timeInfo.remaining.startsWith('â°') ? 'expired' : ''}>\r\n                            {timeInfo.remaining}\r\n                          </span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"amount-cell\">\r\n                        {calculateRentalAmount(rental)}\r\n                      </td>\r\n                      <td>\r\n                        <span className={`payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'pending'}`}>\r\n                          {rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' \r\n                            ? <><CheckCircle size={14} /> Ù…Ø¯ÙÙˆØ¹</>\r\n                            : <><Clock size={14} /> {rental.payment_status || 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡'}</>\r\n                          }\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"action-buttons\">\r\n                          <button\r\n                            onClick={() => onAction('details', rental)}\r\n                            className=\"action-btn view-btn\"\r\n                            title=\"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„\"\r\n                          >\r\n                            <Eye size={16} />\r\n                          </button>\r\n                          \r\n                          {isOpenTime && (\r\n                            <button\r\n                              onClick={() => onAction('end', rental)}\r\n                              className=\"action-btn end-btn\"\r\n                              title=\"Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª\"\r\n                            >\r\n                              <Clock size={16} />\r\n                            </button>\r\n                          )}\r\n                          \r\n                          {!isOpenTime && \r\n                           remainingMinutes !== null && remainingMinutes < 30 && (\r\n                            <button\r\n                              onClick={() => onAction('extend', rental)}\r\n                              className=\"action-btn extend-btn\"\r\n                              title=\"ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª\"\r\n                            >\r\n                              <Plus size={16} />\r\n                            </button>\r\n                          )}\r\n                          \r\n                          <button\r\n                            onClick={() => onAction('cancel', rental)}\r\n                            className=\"action-btn cancel-btn\"\r\n                            title=\"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\"\r\n                          >\r\n                            <XCircle size={16} />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ====================\r\nconst CompletedRentalsTable = React.memo(({ rentals, onExport, onPrint, loading }) => {\r\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\r\n  const [filteredRentals, setFilteredRentals] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const filterRentals = () => {\r\n      if (!rentals || rentals.length === 0) {\r\n        setFilteredRentals([]);\r\n        return;\r\n      }\r\n\r\n      const now = new Date();\r\n      let filtered = [...rentals];\r\n\r\n      switch (selectedPeriod) {\r\n        case 'today': {\r\n          const today = now.toISOString().split('T')[0];\r\n          filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\r\n          break;\r\n        }\r\n        case 'week': {\r\n          const weekAgo = new Date();\r\n          weekAgo.setDate(weekAgo.getDate() - 7);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\r\n          break;\r\n        }\r\n        case 'month': {\r\n          const monthAgo = new Date();\r\n          monthAgo.setMonth(monthAgo.getMonth() - 1);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\r\n          break;\r\n        }\r\n        default:\r\n          // \"all\" - no filtering\r\n          break;\r\n      }\r\n\r\n      setFilteredRentals(filtered);\r\n    };\r\n\r\n    filterRentals();\r\n  }, [rentals, selectedPeriod]);\r\n\r\n  const totalRevenue = useMemo(() => {\r\n    return filteredRentals.reduce((sum, rental) => \r\n      sum + (parseFloat(rental.total_amount) || 0), 0\r\n    );\r\n  }, [filteredRentals]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"completed-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"completed-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">âœ…</span>\r\n          Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n          <span className=\"section-count\">({filteredRentals.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"period-selector\">\r\n            <select\r\n              value={selectedPeriod}\r\n              onChange={(e) => setSelectedPeriod(e.target.value)}\r\n              className=\"period-select\"\r\n            >\r\n              <option value=\"today\">Ø§Ù„ÙŠÙˆÙ…</option>\r\n              <option value=\"week\">Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…</option>\r\n              <option value=\"month\">Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</option>\r\n              <option value=\"all\">Ø§Ù„ÙƒÙ„</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => onExport(filteredRentals, selectedPeriod)}\r\n            className=\"btn btn-sm btn-success\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Download size={16} />\r\n            ØªØµØ¯ÙŠØ±\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => onPrint(filteredRentals, selectedPeriod)}\r\n            className=\"btn btn-sm btn-primary\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Printer size={16} />\r\n            Ø·Ø¨Ø§Ø¹Ø©\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {filteredRentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ“­</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</h3>\r\n          <p>Ù„Ù… ØªÙƒØªÙ…Ù„ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"revenue-summary\">\r\n            <div className=\"summary-card\">\r\n              <div className=\"summary-icon\">\r\n                <DollarSign size={24} />\r\n              </div>\r\n              <div className=\"summary-content\">\r\n                <div className=\"summary-label\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>\r\n                <div className=\"summary-value\">{formatCurrency(totalRevenue)}</div>\r\n                <div className=\"summary-period\">\r\n                  {selectedPeriod === 'today' && 'Ù„Ù„ÙŠÙˆÙ…'}\r\n                  {selectedPeriod === 'week' && 'Ù„Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…'}\r\n                  {selectedPeriod === 'month' && 'Ù„Ø¢Ø®Ø± 30 ÙŠÙˆÙ…'}\r\n                  {selectedPeriod === 'all' && 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"table-container\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"rentals-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                    <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                    <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                    <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\r\n                    <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\r\n                    <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                    <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                    <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredRentals.map(rental => (\r\n                    <tr key={rental.id}>\r\n                      <td>#{rental.rental_number || rental.id}</td>\r\n                      <td>\r\n                        <div className=\"customer-info\">\r\n                          <div className=\"customer-name\">{rental.customer_name}</div>\r\n                          <div className=\"customer-phone\">{rental.customer_phone}</div>\r\n                        </div>\r\n                      </td>\r\n                      <td>{rental.game_name}</td>\r\n                      <td>{formatTime(rental.start_time)}</td>\r\n                      <td>{formatTime(rental.end_time)}</td>\r\n                      <td>{calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\r\n                      <td className=\"amount-cell\">{formatCurrency(rental.total_amount)}</td>\r\n                      <td>\r\n                        <span className={`payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'partial'}`}>\r\n                          {rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' \r\n                            ? <><CheckCircle size={12} /> Ù…Ø¯ÙÙˆØ¹</>\r\n                            : <><AlertCircle size={12} /> {rental.payment_status}</>\r\n                          }\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ====================\r\nconst DashboardStats = React.memo(({ stats, currentShift, onStartShift, onEndShift, loading }) => {\r\n  const shiftTime = useMemo(() => {\r\n    if (!currentShift || !currentShift.start_time) return '--:--';\r\n    return formatTime(currentShift.start_time);\r\n  }, [currentShift]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-stats\">\r\n        <div className=\"stats-grid\">\r\n          {[1, 2, 3, 4].map(i => (\r\n            <div key={i} className=\"stat-card skeleton\">\r\n              <div className=\"skeleton-loader\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-stats\">\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card primary\">\r\n          <div className=\"stat-icon\">\r\n            <Gamepad2 size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.availableGames || 0}</div>\r\n            <div className=\"stat-label\">Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ§Ø­Ø©</div>\r\n            <div className=\"stat-subtext\">Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ {stats.totalGames || 0}</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card success\">\r\n          <div className=\"stat-icon\">\r\n            <Zap size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.activeRentals || 0}</div>\r\n            <div className=\"stat-label\">ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©</div>\r\n            <div className=\"stat-subtext\">Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¢Ù†</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card warning\">\r\n          <div className=\"stat-icon\">\r\n            <DollarSign size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{formatCurrency(stats.todayRevenue || 0)}</div>\r\n            <div className=\"stat-label\">Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…</div>\r\n            <div className=\"stat-subtext\">{stats.todayRentals || 0} ØªØ£Ø¬ÙŠØ±</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card info shift-card\">\r\n          <div className=\"stat-icon\">\r\n            <Clock size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">\r\n              {currentShift ? `#${currentShift.id}` : '--'}\r\n            </div>\r\n            <div className=\"stat-label\">Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ</div>\r\n            <div className=\"stat-subtext\">Ø¨Ø¯Ø£ {shiftTime}</div>\r\n            <div className=\"shift-actions\">\r\n              {!currentShift ? (\r\n                <button onClick={onStartShift} className=\"btn btn-sm btn-success\">\r\n                  <Zap size={14} />\r\n                  Ø¨Ø¯Ø¡ Ø´ÙŠÙØª\r\n                </button>\r\n              ) : (\r\n                <button onClick={onEndShift} className=\"btn btn-sm btn-warning\">\r\n                  <Lock size={14} />\r\n                  Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n\r\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n  const [loading, setLoading] = useState({\r\n    all: true,\r\n    games: false,\r\n    rentals: false,\r\n    shift: false,\r\n    stats: false\r\n  });\r\n  \r\n  const [error, setError] = useState(null);\r\n  const [games, setGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  \r\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©\r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [showRentalModal, setShowRentalModal] = useState(false);\r\n  \r\n  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\r\n  const [stats, setStats] = useState({\r\n    availableGames: 0,\r\n    totalGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n\r\n  // Refs Ù„Ù„ØªØ­ÙƒÙ…\r\n  const loadingRef = useRef(false);\r\n  const lastLoadTimeRef = useRef(0);\r\n\r\n  // ==================== Ø¯ÙˆØ§Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====================\r\n  const loadGames = useCallback(async (force = false) => {\r\n    if (loading.games && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, games: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          is_active: 1\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        setGames(response.data);\r\n        \r\n        const availableGames = response.data.filter(g => \r\n          g.status === 'Ù…ØªØ§Ø­' || g.status === 'available'\r\n        ).length;\r\n        \r\n        setStats(prev => ({\r\n          ...prev,\r\n          availableGames: availableGames,\r\n          totalGames: response.data.length\r\n        }));\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø©`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, games: false }));\r\n    }\r\n  }, [user.branch_id]);\r\n\r\n  const loadActiveRentals = useCallback(async (force = false) => {\r\n    if (loading.rentals && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, rentals: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/rentals/active');\r\n      \r\n      if (response.success && response.data) {\r\n        setActiveRentals(response.data);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          activeRentals: response.data.length\r\n        }));\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, rentals: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadCurrentShift = useCallback(async (force = false) => {\r\n    if (loading.shift && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, shift: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      \r\n      if (response.success) {\r\n        if (response.data) {\r\n          setCurrentShift(response.data);\r\n          localStorage.setItem('current_shift', JSON.stringify(response.data));\r\n          console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\r\n        } else {\r\n          setCurrentShift(null);\r\n          localStorage.removeItem('current_shift');\r\n          console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      setCurrentShift(null);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadStats = useCallback(async (force = false) => {\r\n    if (loading.stats && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, stats: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/dashboard/stats/simple');\r\n      \r\n      if (response.success && response.data) {\r\n        setStats(prev => ({\r\n          ...prev,\r\n          ...response.data\r\n        }));\r\n        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, stats: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadCompletedRentals = useCallback(async (force = false) => {\r\n    if (!isManager) return;\r\n    \r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const response = await api.get('/rentals', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          status: 'Ù…ÙƒØªÙ…Ù„',\r\n          start_date: today,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        setCompletedRentals(response.data);\r\n        \r\n        const todayRentals = response.data.filter(r => \r\n          r.end_time && r.end_time.split('T')[0] === today\r\n        );\r\n        \r\n        const todayRevenue = todayRentals.reduce((sum, rental) => \r\n          sum + (parseFloat(rental.total_amount) || 0), 0\r\n        );\r\n        \r\n        setStats(prev => ({\r\n          ...prev,\r\n          todayRevenue: todayRevenue,\r\n          todayRentals: todayRentals.length\r\n        }));\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    }\r\n  }, [user.branch_id, isManager]);\r\n\r\n  const loadAllData = useCallback(async (force = false) => {\r\n    // Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ±Ø± Ø®Ù„Ø§Ù„ 3 Ø«ÙˆØ§Ù†ÙŠ\r\n    const now = Date.now();\r\n    if (now - lastLoadTimeRef.current < 3000 && !force) {\r\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù…ØªÙƒØ±Ø± Ø¬Ø¯Ø§Ù‹');\r\n      return;\r\n    }\r\n    \r\n    if (loadingRef.current && !force) {\r\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹');\r\n      return;\r\n    }\r\n    \r\n    loadingRef.current = true;\r\n    lastLoadTimeRef.current = now;\r\n    setLoading(prev => ({ ...prev, all: true }));\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log('ðŸ”„ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');\r\n      \r\n      if (!user?.branch_id) {\r\n        throw new Error('ÙŠØ¬Ø¨ ØªØ¹ÙŠÙŠÙ† ÙØ±Ø¹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹');\r\n      }\r\n\r\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ\r\n      await Promise.allSettled([\r\n        loadGames(true),\r\n        loadActiveRentals(true),\r\n        loadCurrentShift(true),\r\n        loadStats(true)\r\n      ]);\r\n\r\n      // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¯ÙŠØ±Ø§Ù‹\r\n      if (isManager) {\r\n        await loadCompletedRentals(true);\r\n      }\r\n      \r\n      console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');\r\n      \r\n    } catch (error) {\r\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);\r\n      setError(error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\r\n      \r\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† localStorage\r\n      try {\r\n        const savedShift = localStorage.getItem('current_shift');\r\n        if (savedShift) {\r\n          setCurrentShift(JSON.parse(savedShift));\r\n        }\r\n      } catch (e) {\r\n        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', e);\r\n      }\r\n    } finally {\r\n      loadingRef.current = false;\r\n      setLoading(prev => ({ ...prev, all: false }));\r\n    }\r\n  }, [user?.branch_id, isManager, loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadCompletedRentals]);\r\n\r\n  const refreshSpecificData = useCallback(async (dataType) => {\r\n    switch(dataType) {\r\n      case 'games':\r\n        await loadGames(true);\r\n        break;\r\n      case 'rentals':\r\n        await loadActiveRentals(true);\r\n        break;\r\n      case 'shift':\r\n        await loadCurrentShift(true);\r\n        break;\r\n      case 'stats':\r\n        await loadStats(true);\r\n        break;\r\n      case 'all':\r\n      default:\r\n        await loadAllData(true);\r\n        break;\r\n    }\r\n  }, [loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadAllData]);\r\n\r\n  const startShift = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, shift: true }));\r\n      \r\n      const response = await api.post('/shifts/start-clean');\r\n      \r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n        localStorage.setItem('current_shift', JSON.stringify(response.data));\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\n        setTimeout(() => {\r\n          refreshSpecificData('all');\r\n        }, 1000);\r\n        \r\n        alert('ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      alert('ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'));\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  };\r\n\r\n  const endShift = async () => {\r\n    if (!currentShift) return;\r\n    \r\n    if (!window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠØŸ Ø³ÙŠØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©.')) return;\r\n    \r\n    try {\r\n      setLoading(prev => ({ ...prev, shift: true }));\r\n      \r\n      if (currentShift.id) {\r\n        await api.put(`/shifts/${currentShift.id}/end`, {\r\n          end_time: new Date().toISOString(),\r\n          status: 'Ù…Ù†ØªÙ‡ÙŠ'\r\n        });\r\n      }\r\n      \r\n      setCurrentShift(null);\r\n      setActiveRentals([]);\r\n      localStorage.removeItem('current_shift');\r\n      \r\n      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n      await refreshSpecificData('all');\r\n      \r\n      alert('ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\r\n      \r\n    } catch (error) {\r\n      console.error('Error ending shift:', error);\r\n      alert('ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  };\r\n\r\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\r\n  const handleSelectGame = (game) => {\r\n    if (!currentShift) {\r\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\r\n      startShift();\r\n      return;\r\n    }\r\n    \r\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\r\n    \r\n    if (!isAlreadySelected) {\r\n      setSelectedGames([...selectedGames, game]);\r\n      setShowRentalModal(true);\r\n    } else {\r\n      setShowRentalModal(true);\r\n    }\r\n  };\r\n\r\n  const handleCreateRental = async (rentalData) => {\r\n    if (!currentShift) {\r\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\r\n      return;\r\n    }\r\n    \r\n    const { customerInfo, rentalItems, paymentMethod, paymentStatus, notes } = rentalData;\r\n    \r\n    try {\r\n      console.log(`ðŸŽ¯ Ø¨Ø¯Ø¡ Ø¥Ù†Ø´Ø§Ø¡ ${rentalItems.length} ØªØ£Ø¬ÙŠØ±`);\r\n      \r\n      const createdRentals = [];\r\n      let successCount = 0;\r\n      \r\n      // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªØ³Ù„Ø³Ù„\r\n      for (const [index, item] of rentalItems.entries()) {\r\n        try {\r\n          console.log(`ðŸ”„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}/${rentalItems.length}...`);\r\n          \r\n          const rentalPayload = {\r\n            game_id: item.gameId,\r\n            customer_name: customerInfo.name,\r\n            customer_phone: customerInfo.phone,\r\n            branch_id: user.branch_id,\r\n            shift_id: currentShift.id,\r\n            user_id: user.id,\r\n            employee_name: user.name,\r\n            rental_type: item.rentalType,\r\n            duration_minutes: item.rentalType === 'fixed' ? item.duration : 0,\r\n            total_amount: item.rentalType === 'fixed' ? \r\n              (item.pricePer15min * Math.ceil(item.duration / 15) * item.quantity) : 0,\r\n            payment_method: paymentMethod,\r\n            payment_status: paymentStatus,\r\n            notes: `${notes || ''} ${item.notes || ''}`.trim(),\r\n            quantity: item.quantity,\r\n            is_open_time: item.rentalType === 'open' ? 1 : 0\r\n          };\r\n          \r\n          const response = await api.post('/rentals', rentalPayload);\r\n          \r\n          if (response.success) {\r\n            createdRentals.push(response.data);\r\n            successCount++;\r\n            console.log(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1} Ø¨Ù†Ø¬Ø§Ø­`);\r\n          } else {\r\n            console.error(`âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}:`, response.message);\r\n          }\r\n          \r\n        } catch (itemError) {\r\n          console.error(`ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${index + 1}:`, itemError);\r\n        }\r\n        \r\n        // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª\r\n        if (index < rentalItems.length - 1) {\r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n        }\r\n      }\r\n      \r\n      if (successCount > 0) {\r\n        alert(`âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${successCount} Ù…Ù† ${rentalItems.length} ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­`);\r\n        setShowRentalModal(false);\r\n        setSelectedGames([]);\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n        await refreshSpecificData('all');\r\n      } else {\r\n        alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\r\n    }\r\n  };\r\n\r\n  const handleRentalAction = async (action, rental) => {\r\n    switch(action) {\r\n      case 'details':\r\n        const details = `\r\n          ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}\r\n          ---------------------------\r\n          Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\r\n          Ø§Ù„Ù‡Ø§ØªÙ: ${rental.customer_phone}\r\n          Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\r\n          Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: ${rental.payment_status}\r\n          Ø§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount)}\r\n          ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\r\n          ${rental.end_time ? `ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${formatDateTime(rental.end_time)}` : ''}\r\n          ${rental.notes ? `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${rental.notes}` : ''}\r\n        `;\r\n        alert(details);\r\n        break;\r\n        \r\n      case 'end':\r\n        try {\r\n          const confirmed = window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ');\r\n          if (!confirmed) return;\r\n          \r\n          const response = await api.post(`/rentals/${rental.id}/complete`, {\r\n            payment_method: rental.payment_method || 'ÙƒØ§Ø´'\r\n          });\r\n          \r\n          if (response.success) {\r\n            alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\r\n            await refreshSpecificData('rentals');\r\n          } else {\r\n            alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error ending rental:', error);\r\n          alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\r\n        }\r\n        break;\r\n          \r\n      case 'cancel':\r\n        if (window.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ`)) {\r\n          try {\r\n            const response = await api.post(`/rentals/${rental.id}/cancel`, {\r\n              refund_amount: rental.total_amount || 0,\r\n              notes: 'Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¸Ù'\r\n            });\r\n            \r\n            if (response.success) {\r\n              alert('âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\r\n              await refreshSpecificData('all');\r\n            } else {\r\n              alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n            }\r\n          } catch (error) {\r\n            console.error('Error cancelling rental:', error);\r\n            alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        }\r\n        break;\r\n        \r\n      case 'extend':\r\n        const extendMinutes = prompt('ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙŠØ¯ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ', '15');\r\n        if (extendMinutes && !isNaN(extendMinutes) && parseInt(extendMinutes) > 0) {\r\n          try {\r\n            const response = await api.post(`/rentals/${rental.id}/extend`, {\r\n              additional_minutes: parseInt(extendMinutes)\r\n            });\r\n            \r\n            if (response.success) {\r\n              alert(`âœ… ØªÙ… ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${extendMinutes} Ø¯Ù‚ÙŠÙ‚Ø©`);\r\n              await refreshSpecificData('rentals');\r\n            }\r\n          } catch (error) {\r\n            console.error('Error extending rental:', error);\r\n            alert('âŒ ÙØ´Ù„ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleExportCompleted = (rentals, period) => {\r\n    try {\r\n      const dataStr = JSON.stringify(rentals, null, 2);\r\n      const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n      \r\n      const exportFileDefaultName = `ØªØ£Ø¬ÙŠØ±Ø§Øª_${period}_${new Date().toISOString().split('T')[0]}.json`;\r\n      \r\n      const linkElement = document.createElement('a');\r\n      linkElement.setAttribute('href', dataUri);\r\n      linkElement.setAttribute('download', exportFileDefaultName);\r\n      linkElement.click();\r\n      \r\n      alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${rentals.length} ØªØ£Ø¬ÙŠØ±`);\r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      alert('âŒ ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\r\n    }\r\n  };\r\n\r\n  const handlePrintCompleted = (rentals, period) => {\r\n    try {\r\n      const printWindow = window.open('', '_blank');\r\n      const totalRevenue = rentals.reduce((sum, r) => sum + (parseFloat(r.total_amount) || 0), 0);\r\n      \r\n      const content = `\r\n        <html>\r\n          <head>\r\n            <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª - ${period}</title>\r\n            <style>\r\n              body { \r\n                font-family: 'Arial', 'Tahoma', sans-serif; \r\n                direction: rtl; \r\n                padding: 20px; \r\n                line-height: 1.6;\r\n                color: #333;\r\n              }\r\n              h1 { \r\n                text-align: center; \r\n                color: #2c3e50; \r\n                margin-bottom: 10px;\r\n                border-bottom: 2px solid #3498db;\r\n                padding-bottom: 10px;\r\n              }\r\n              .header-info {\r\n                text-align: center;\r\n                margin-bottom: 20px;\r\n                color: #7f8c8d;\r\n              }\r\n              table { \r\n                width: 100%; \r\n                border-collapse: collapse; \r\n                margin-top: 20px; \r\n                font-size: 14px;\r\n              }\r\n              th { \r\n                background-color: #3498db; \r\n                color: white;\r\n                padding: 12px 8px;\r\n                text-align: center;\r\n                border: 1px solid #2980b9;\r\n              }\r\n              td { \r\n                border: 1px solid #ddd; \r\n                padding: 10px 8px; \r\n                text-align: center; \r\n              }\r\n              tr:nth-child(even) {\r\n                background-color: #f9f9f9;\r\n              }\r\n              tr:hover {\r\n                background-color: #f5f5f5;\r\n              }\r\n              .total { \r\n                font-weight: bold; \r\n                color: #2c3e50; \r\n                font-size: 16px;\r\n                margin-top: 20px;\r\n                padding: 15px;\r\n                background-color: #ecf0f1;\r\n                border-radius: 5px;\r\n                text-align: center;\r\n              }\r\n              .print-footer {\r\n                margin-top: 30px;\r\n                padding-top: 20px;\r\n                border-top: 1px solid #ddd;\r\n                text-align: center;\r\n                color: #7f8c8d;\r\n                font-size: 12px;\r\n              }\r\n              @media print {\r\n                body { padding: 0; }\r\n                .no-print { display: none; }\r\n                table { font-size: 12px; }\r\n                .total { page-break-inside: avoid; }\r\n              }\r\n            </style>\r\n          </head>\r\n          <body>\r\n            <h1>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h1>\r\n            <div class=\"header-info\">\r\n              <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${period === 'today' ? 'Ø§Ù„ÙŠÙˆÙ…' : \r\n                 period === 'week' ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…' : \r\n                 period === 'month' ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…' : 'Ø§Ù„ÙƒÙ„'}</p>\r\n              <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:</strong> ${rentals.length}</p>\r\n              <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${new Date().toLocaleDateString('ar-EG')}</p>\r\n            </div>\r\n            \r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\r\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\r\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rentals.map(rental => `\r\n                  <tr>\r\n                    <td>${rental.rental_number || rental.id}</td>\r\n                    <td>${rental.customer_name}</td>\r\n                    <td>${rental.game_name}</td>\r\n                    <td>${formatTime(rental.start_time)}</td>\r\n                    <td>${formatTime(rental.end_time)}</td>\r\n                    <td>${calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\r\n                    <td>${formatCurrency(rental.total_amount)}</td>\r\n                    <td>${rental.payment_status}</td>\r\n                  </tr>\r\n                `).join('')}\r\n              </tbody>\r\n            </table>\r\n            \r\n            <div class=\"total\">\r\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${formatCurrency(totalRevenue)}\r\n            </div>\r\n            \r\n            <div class=\"print-footer\">\r\n              <p>ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ø¸Ø§Ù… L3BTY Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n              <p>${new Date().toLocaleString('ar-EG')}</p>\r\n            </div>\r\n            \r\n            <button class=\"no-print\" onclick=\"window.print()\" \r\n              style=\"\r\n                margin-top: 20px; \r\n                padding: 12px 24px; \r\n                background: #3498db; \r\n                color: white; \r\n                border: none; \r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                font-size: 16px;\r\n                display: block;\r\n                margin: 30px auto;\r\n              \">\r\n              ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\r\n            </button>\r\n            \r\n            <script>\r\n              window.onload = function() {\r\n                // Ø·Ø¨Ø§Ø¹Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©\r\n                setTimeout(function() {\r\n                  window.print();\r\n                }, 1000);\r\n              };\r\n            </script>\r\n          </body>\r\n        </html>\r\n      `;\r\n      \r\n      printWindow.document.write(content);\r\n      printWindow.document.close();\r\n      \r\n    } catch (error) {\r\n      console.error('Error printing report:', error);\r\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±');\r\n    }\r\n  };\r\n\r\n  // ==================== useEffect ====================\r\n  useEffect(() => {\r\n    loadAllData();\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\r\n    let intervalId = null;\r\n    \r\n    if (currentShift) {\r\n      intervalId = setInterval(() => {\r\n        refreshSpecificData('rentals');\r\n      }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\r\n    }\r\n    \r\n    return () => {\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n      }\r\n    };\r\n  }, [currentShift, loadAllData, refreshSpecificData]);\r\n\r\n  // ==================== Ø§Ù„ØªØµÙŠÙŠØ± ====================\r\n  if (loading.all && games.length === 0 && activeRentals.length === 0) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <Loader2 className=\"spinner large\" size={48} />\r\n        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…...</p>\r\n        <p className=\"loading-subtext\">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <div className=\"error-content\">\r\n          <div className=\"error-icon\">\r\n            <AlertCircle size={48} />\r\n          </div>\r\n          <h2>Ø­Ø¯Ø« Ø®Ø·Ø£</h2>\r\n          <p className=\"error-message\">{error}</p>\r\n          <div className=\"error-actions\">\r\n            <button onClick={() => loadAllData(true)} className=\"btn btn-primary\">\r\n              <RefreshCw size={18} />\r\n              Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©\r\n            </button>\r\n            <button onClick={() => window.location.reload()} className=\"btn btn-secondary\">\r\n              â†» ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-page\">\r\n      {/* Ø§Ù„Ø±Ø£Ø³ */}\r\n      <header className=\"page-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-title\">\r\n            <h1 className=\"page-title\">\r\n              <span className=\"title-icon\">ðŸŽ®</span>\r\n              Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n            </h1>\r\n            <div className=\"page-subtitle\">\r\n              {user?.branch_name || 'Ø§Ù„Ù†Ø¸Ø§Ù…'}\r\n            </div>\r\n          </div>\r\n          <div className=\"user-info\">\r\n            <div className=\"user-badge\">\r\n              <User size={18} />\r\n              <div className=\"user-details\">\r\n                <span className=\"user-name\">{user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}</span>\r\n                <span className=\"user-role\">\r\n                  {isManager ? 'ðŸ‘‘ Ù…Ø¯ÙŠØ±' : 'ðŸ‘· Ù…ÙˆØ¸Ù'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"branch-info\">\r\n              <Building size={16} />\r\n              <span className=\"branch-name\">{user?.branch_name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"header-actions\">\r\n          {selectedGames.length > 0 && (\r\n            <button \r\n              onClick={() => setShowRentalModal(true)}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              <ShoppingCart size={18} />\r\n              Ø¨Ø¯Ø¡ ØªØ£Ø¬ÙŠØ± ({selectedGames.length})\r\n            </button>\r\n          )}\r\n          \r\n          <div className=\"action-buttons\">\r\n            <button \r\n              onClick={() => refreshSpecificData('all')}\r\n              className=\"btn btn-secondary\"\r\n              disabled={loading.all}\r\n            >\r\n              {loading.all ? (\r\n                <Loader2 className=\"spinner\" size={18} />\r\n              ) : (\r\n                <RefreshCw size={18} />\r\n              )}\r\n              ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„\r\n            </button>\r\n            \r\n            {currentShift && (\r\n              <div className=\"shift-indicator\">\r\n                <Clock size={16} />\r\n                <span>Ø´ÙŠÙØª #{currentShift.id}</span>\r\n                <span className=\"shift-time\">\r\n                  {formatTime(currentShift.start_time)}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */}\r\n      <DashboardStats \r\n        stats={stats}\r\n        currentShift={currentShift}\r\n        onStartShift={startShift}\r\n        onEndShift={endShift}\r\n        loading={loading.shift || loading.stats}\r\n      />\r\n      \r\n      {/* Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø´ÙŠÙØª */}\r\n      {!currentShift && !loading.shift && (\r\n        <div className=\"no-shift-alert\">\r\n          <div className=\"alert-content\">\r\n            <div className=\"alert-icon\">\r\n              <AlertCircle size={24} />\r\n            </div>\r\n            <div className=\"alert-text\">\r\n              <h3>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·</h3>\r\n              <p>ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØªÙ…ÙƒÙ† Ù…Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª</p>\r\n            </div>\r\n            <button onClick={startShift} className=\"btn btn-success\">\r\n              <Zap size={18} />\r\n              Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */}\r\n      {currentShift && (\r\n        <div className=\"main-content\">\r\n          {/* Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø© */}\r\n          <GamesGrid \r\n            games={games}\r\n            branchId={user?.branch_id}\r\n            onSelectGame={handleSelectGame}\r\n            loading={loading.games}\r\n          />\r\n          \r\n          {/* Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© */}\r\n          <ActiveRentalsTable \r\n            rentals={activeRentals}\r\n            onAction={handleRentalAction}\r\n            onRefresh={() => refreshSpecificData('rentals')}\r\n            loading={loading.rentals}\r\n          />\r\n          \r\n          {/* Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·) */}\r\n          {isManager && (\r\n            <CompletedRentalsTable \r\n              rentals={completedRentals}\r\n              onExport={handleExportCompleted}\r\n              onPrint={handlePrintCompleted}\r\n              loading={loading.all}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ */}\r\n      <MultiRentalModal \r\n        show={showRentalModal}\r\n        onClose={() => {\r\n          setShowRentalModal(false);\r\n          setSelectedGames([]);\r\n        }}\r\n        selectedGames={selectedGames}\r\n        currentShift={currentShift}\r\n        onConfirmRental={handleCreateRental}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}