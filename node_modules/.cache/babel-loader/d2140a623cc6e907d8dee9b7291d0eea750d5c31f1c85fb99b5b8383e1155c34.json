{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\context\\\\RentalContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context/RentalContext.jsx\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { useAuth } from './AuthContext';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentalContext = /*#__PURE__*/createContext();\nexport const useRental = () => {\n  _s();\n  return useContext(RentalContext);\n};\n_s(useRental, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const RentalProvider = ({\n  children\n}) => {\n  _s2();\n  const {\n    user\n  } = useAuth();\n  const [branchGames, setBranchGames] = useState([]);\n  const [branch, setBranch] = useState(null);\n  const loadBranchGames = async () => {\n    if (!(user !== null && user !== void 0 && user.branch_id)) return;\n    try {\n      const response = await api.get(`/api/branches/${user.branch_id}/games`);\n      if (response.success) {\n        setBranchGames(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading branch games:', error);\n    }\n  };\n  const loadBranchData = async () => {\n    if (!(user !== null && user !== void 0 && user.branch_id)) return;\n    try {\n      const response = await api.get(`/api/branches/${user.branch_id}`);\n      if (response.success) {\n        setBranch(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading branch data:', error);\n    }\n  };\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.branch_id) {\n      loadBranchData();\n      loadBranchGames();\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n  return /*#__PURE__*/_jsxDEV(RentalContext.Provider, {\n    value: {\n      branchGames,\n      branch,\n      loadBranchGames,\n      loadBranchData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s2(RentalProvider, \"7DFT91ldNhBtiwhaz8D/xpo5pqs=\", false, function () {\n  return [useAuth];\n});\n_c = RentalProvider;\nvar _c;\n$RefreshReg$(_c, \"RentalProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useAuth","api","jsxDEV","_jsxDEV","RentalContext","useRental","_s","RentalProvider","children","_s2","user","branchGames","setBranchGames","branch","setBranch","loadBranchGames","branch_id","response","get","success","data","error","console","loadBranchData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/context/RentalContext.jsx"],"sourcesContent":["// src/context/RentalContext.jsx\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport api from '../services/api';\r\n\r\nconst RentalContext = createContext();\r\n\r\nexport const useRental = () => useContext(RentalContext);\r\n\r\nexport const RentalProvider = ({ children }) => {\r\n  const { user } = useAuth();\r\n  const [branchGames, setBranchGames] = useState([]);\r\n  const [branch, setBranch] = useState(null);\r\n  \r\n  const loadBranchGames = async () => {\r\n    if (!user?.branch_id) return;\r\n    \r\n    try {\r\n      const response = await api.get(`/api/branches/${user.branch_id}/games`);\r\n      if (response.success) {\r\n        setBranchGames(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading branch games:', error);\r\n    }\r\n  };\r\n  \r\n  const loadBranchData = async () => {\r\n    if (!user?.branch_id) return;\r\n    \r\n    try {\r\n      const response = await api.get(`/api/branches/${user.branch_id}`);\r\n      if (response.success) {\r\n        setBranch(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading branch data:', error);\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (user?.branch_id) {\r\n      loadBranchData();\r\n      loadBranchGames();\r\n    }\r\n  }, [user?.branch_id]);\r\n  \r\n  return (\r\n    <RentalContext.Provider value={{\r\n      branchGames,\r\n      branch,\r\n      loadBranchGames,\r\n      loadBranchData\r\n    }}>\r\n      {children}\r\n    </RentalContext.Provider>\r\n  );\r\n};"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,OAAO,QAAQ,eAAe;AACvC,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,aAAa,gBAAGR,aAAa,CAAC,CAAC;AAErC,OAAO,MAAMS,SAAS,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMT,UAAU,CAACO,aAAa,CAAC;AAAA;AAACE,EAAA,CAA5CD,SAAS;AAEtB,OAAO,MAAME,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC9C,MAAM;IAAEC;EAAK,CAAC,GAAGV,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACe,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAMiB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,EAACL,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEM,SAAS,GAAE;IAEtB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAG,CAAC,iBAAiBR,IAAI,CAACM,SAAS,QAAQ,CAAC;MACvE,IAAIC,QAAQ,CAACE,OAAO,EAAE;QACpBP,cAAc,CAACK,QAAQ,CAACG,IAAI,CAAC;MAC/B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD;EACF,CAAC;EAED,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI,EAACb,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEM,SAAS,GAAE;IAEtB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,GAAG,CAAC,iBAAiBR,IAAI,CAACM,SAAS,EAAE,CAAC;MACjE,IAAIC,QAAQ,CAACE,OAAO,EAAE;QACpBL,SAAS,CAACG,QAAQ,CAACG,IAAI,CAAC;MAC1B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD;EACF,CAAC;EAEDtB,SAAS,CAAC,MAAM;IACd,IAAIW,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEM,SAAS,EAAE;MACnBO,cAAc,CAAC,CAAC;MAChBR,eAAe,CAAC,CAAC;IACnB;EACF,CAAC,EAAE,CAACL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,SAAS,CAAC,CAAC;EAErB,oBACEb,OAAA,CAACC,aAAa,CAACoB,QAAQ;IAACC,KAAK,EAAE;MAC7Bd,WAAW;MACXE,MAAM;MACNE,eAAe;MACfQ;IACF,CAAE;IAAAf,QAAA,EACCA;EAAQ;IAAAkB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAE7B,CAAC;AAACpB,GAAA,CAhDWF,cAAc;EAAA,QACRP,OAAO;AAAA;AAAA8B,EAAA,GADbvB,cAAc;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}