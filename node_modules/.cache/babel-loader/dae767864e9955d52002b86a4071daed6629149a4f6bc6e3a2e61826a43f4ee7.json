{"ast":null,"code":"import api from './api';\nconst authService = {\n  // ================= AUTH =================\n\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\n  login: async (email, password) => {\n    try {\n      const response = await api.login(email, password);\n      if (response.success) {\n        var _response$user;\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠:', (_response$user = response.user) === null || _response$user === void 0 ? void 0 : _response$user.name);\n      } else {\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.message);\n      }\n      return response;\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\n      };\n    }\n  },\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\n  logout: () => {\n    console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    delete api.defaults.headers.common['Authorization'];\n  },\n  // ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  },\n  getToken: () => localStorage.getItem('token'),\n  isAuthenticated: () => {\n    return !!(localStorage.getItem('token') && localStorage.getItem('user'));\n  },\n  hasRole: role => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) === role;\n  },\n  hasAnyRole: roles => {\n    const user = authService.getCurrentUser();\n    return roles.includes(user === null || user === void 0 ? void 0 : user.role);\n  },\n  updateUserData: userData => {\n    try {\n      const currentUser = authService.getCurrentUser();\n      const updatedUser = {\n        ...currentUser,\n        ...userData\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      return updatedUser;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  },\n  // ================= BRANCHES =================\n\n  // ÿ¨ŸÑÿ® ÿßŸÑŸÅÿ±Ÿàÿπ\n  getBranches: async () => {\n    try {\n      const res = await api.get('/branches');\n      return res.data;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÅÿ±Ÿàÿπ:', error);\n      throw error;\n    }\n  },\n  // ÿ•ÿ∂ÿßŸÅÿ© ŸÅÿ±ÿπ\n  createBranch: async branchData => {\n    try {\n      const res = await api.post('/branches', branchData);\n      return res.data;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÅÿ±ÿπ:', error);\n      throw error;\n    }\n  },\n  // ÿ™ÿ≠ÿØŸäÿ´ ŸÅÿ±ÿπ\n  updateBranch: async (id, branchData) => {\n    try {\n      const res = await api.put(`/branches/${id}`, branchData);\n      return res.data;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÅÿ±ÿπ:', error);\n      throw error;\n    }\n  },\n  // ÿ≠ÿ∞ŸÅ ŸÅÿ±ÿπ\n  deleteBranch: async id => {\n    try {\n      const res = await api.delete(`/branches/${id}`);\n      return res.data;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', error);\n      throw error;\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","response","success","_response$user","console","log","user","name","message","error","logout","localStorage","removeItem","defaults","headers","common","getCurrentUser","userStr","getItem","JSON","parse","getToken","isAuthenticated","hasRole","role","hasAnyRole","roles","includes","updateUserData","userData","currentUser","updatedUser","setItem","stringify","getBranches","res","get","data","createBranch","branchData","post","updateBranch","id","put","deleteBranch","delete"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst authService = {\r\n  // ================= AUTH =================\r\n\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\r\n  login: async (email, password) => {\r\n    try {\r\n      const response = await api.login(email, password);\r\n\r\n      if (response.success) {\r\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠:', response.user?.name);\r\n      } else {\r\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.message);\r\n      }\r\n\r\n      return response;\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ',\r\n      };\r\n    }\r\n  },\r\n\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\r\n  logout: () => {\r\n    console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    delete api.defaults.headers.common['Authorization'];\r\n  },\r\n\r\n  // ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      return userStr ? JSON.parse(userStr) : null;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  getToken: () => localStorage.getItem('token'),\r\n\r\n  isAuthenticated: () => {\r\n    return !!(localStorage.getItem('token') && localStorage.getItem('user'));\r\n  },\r\n\r\n  hasRole: (role) => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role === role;\r\n  },\r\n\r\n  hasAnyRole: (roles) => {\r\n    const user = authService.getCurrentUser();\r\n    return roles.includes(user?.role);\r\n  },\r\n\r\n  updateUserData: (userData) => {\r\n    try {\r\n      const currentUser = authService.getCurrentUser();\r\n      const updatedUser = { ...currentUser, ...userData };\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      return updatedUser;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // ================= BRANCHES =================\r\n\r\n  // ÿ¨ŸÑÿ® ÿßŸÑŸÅÿ±Ÿàÿπ\r\n  getBranches: async () => {\r\n    try {\r\n      const res = await api.get('/branches');\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÅÿ±Ÿàÿπ:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // ÿ•ÿ∂ÿßŸÅÿ© ŸÅÿ±ÿπ\r\n  createBranch: async (branchData) => {\r\n    try {\r\n      const res = await api.post('/branches', branchData);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÅÿ±ÿπ:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // ÿ™ÿ≠ÿØŸäÿ´ ŸÅÿ±ÿπ\r\n  updateBranch: async (id, branchData) => {\r\n    try {\r\n      const res = await api.put(`/branches/${id}`, branchData);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÅÿ±ÿπ:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // ÿ≠ÿ∞ŸÅ ŸÅÿ±ÿπ\r\n  deleteBranch: async (id) => {\r\n    try {\r\n      const res = await api.delete(`/branches/${id}`);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', error);\r\n      throw error;\r\n    }\r\n  },\r\n};\r\n\r\nexport default authService;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}