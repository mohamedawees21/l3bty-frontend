{"ast":null,"code":"// frontend/src/services/authService.js\nconst authService = {\n  getCurrentUser: () => {\n    const user = localStorage.getItem('user');\n    return user ? JSON.parse(user) : null;\n  },\n  getUserRole: () => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) || 'guest';\n  },\n  hasPermission: requiredRole => {\n    var _roleHierarchy$userRo;\n    const userRole = authService.getUserRole();\n    const roleHierarchy = {\n      'admin': ['admin', 'manager', 'employee'],\n      'manager': ['manager', 'employee'],\n      'employee': ['employee']\n    };\n    return ((_roleHierarchy$userRo = roleHierarchy[userRole]) === null || _roleHierarchy$userRo === void 0 ? void 0 : _roleHierarchy$userRo.includes(requiredRole)) || false;\n  },\n  // إدارة الفروع\n  getBranches: async () => {\n    try {\n      const response = await api.get('/branches');\n      return response.data;\n    } catch (error) {\n      console.error('Error loading branches:', error);\n      return {\n        success: false,\n        message: 'تعذر تحميل الفروع'\n      };\n    }\n  },\n  createBranch: async branchData => {\n    try {\n      const response = await api.post('/branches', branchData);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating branch:', error);\n      return {\n        success: false,\n        message: 'تعذر إنشاء الفرع'\n      };\n    }\n  },\n  updateBranch: async (id, branchData) => {\n    try {\n      const response = await api.put(`/branches/${id}`, branchData);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating branch:', error);\n      return {\n        success: false,\n        message: 'تعذر تحديث الفرع'\n      };\n    }\n  },\n  deleteBranch: async id => {\n    try {\n      const response = await api.delete(`/branches/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error deleting branch:', error);\n      return {\n        success: false,\n        message: 'تعذر حذف الفرع'\n      };\n    }\n  },\n  // إدارة الألعاب\n  getGames: async () => {\n    try {\n      const response = await api.get('/games');\n      return response.data;\n    } catch (error) {\n      console.error('Error loading games:', error);\n      return {\n        success: false,\n        message: 'تعذر تحميل الألعاب'\n      };\n    }\n  },\n  createGame: async gameData => {\n    try {\n      const response = await api.post('/games', gameData);\n      return response.data;\n    } catch (error) {\n      console.error('Error creating game:', error);\n      return {\n        success: false,\n        message: 'تعذر إنشاء اللعبة'\n      };\n    }\n  },\n  updateGame: async (id, gameData) => {\n    try {\n      const response = await api.put(`/games/${id}`, gameData);\n      return response.data;\n    } catch (error) {\n      console.error('Error updating game:', error);\n      return {\n        success: false,\n        message: 'تعذر تحديث اللعبة'\n      };\n    }\n  },\n  deleteGame: async id => {\n    try {\n      const response = await api.delete(`/games/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error deleting game:', error);\n      return {\n        success: false,\n        message: 'تعذر حذف اللعبة'\n      };\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["authService","getCurrentUser","user","localStorage","getItem","JSON","parse","getUserRole","role","hasPermission","requiredRole","_roleHierarchy$userRo","userRole","roleHierarchy","includes","getBranches","response","api","get","data","error","console","success","message","createBranch","branchData","post","updateBranch","id","put","deleteBranch","delete","getGames","createGame","gameData","updateGame","deleteGame"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["// frontend/src/services/authService.js\r\nconst authService = {\r\n  getCurrentUser: () => {\r\n    const user = localStorage.getItem('user');\r\n    return user ? JSON.parse(user) : null;\r\n  },\r\n\r\n  getUserRole: () => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role || 'guest';\r\n  },\r\n\r\n  hasPermission: (requiredRole) => {\r\n    const userRole = authService.getUserRole();\r\n    const roleHierarchy = {\r\n      'admin': ['admin', 'manager', 'employee'],\r\n      'manager': ['manager', 'employee'],\r\n      'employee': ['employee']\r\n    };\r\n    \r\n    return roleHierarchy[userRole]?.includes(requiredRole) || false;\r\n  },\r\n\r\n  // إدارة الفروع\r\n  getBranches: async () => {\r\n    try {\r\n      const response = await api.get('/branches');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error loading branches:', error);\r\n      return { success: false, message: 'تعذر تحميل الفروع' };\r\n    }\r\n  },\r\n\r\n  createBranch: async (branchData) => {\r\n    try {\r\n      const response = await api.post('/branches', branchData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error creating branch:', error);\r\n      return { success: false, message: 'تعذر إنشاء الفرع' };\r\n    }\r\n  },\r\n\r\n  updateBranch: async (id, branchData) => {\r\n    try {\r\n      const response = await api.put(`/branches/${id}`, branchData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error updating branch:', error);\r\n      return { success: false, message: 'تعذر تحديث الفرع' };\r\n    }\r\n  },\r\n\r\n  deleteBranch: async (id) => {\r\n    try {\r\n      const response = await api.delete(`/branches/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error deleting branch:', error);\r\n      return { success: false, message: 'تعذر حذف الفرع' };\r\n    }\r\n  },\r\n\r\n  // إدارة الألعاب\r\n  getGames: async () => {\r\n    try {\r\n      const response = await api.get('/games');\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error loading games:', error);\r\n      return { success: false, message: 'تعذر تحميل الألعاب' };\r\n    }\r\n  },\r\n\r\n  createGame: async (gameData) => {\r\n    try {\r\n      const response = await api.post('/games', gameData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error creating game:', error);\r\n      return { success: false, message: 'تعذر إنشاء اللعبة' };\r\n    }\r\n  },\r\n\r\n  updateGame: async (id, gameData) => {\r\n    try {\r\n      const response = await api.put(`/games/${id}`, gameData);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error updating game:', error);\r\n      return { success: false, message: 'تعذر تحديث اللعبة' };\r\n    }\r\n  },\r\n\r\n  deleteGame: async (id) => {\r\n    try {\r\n      const response = await api.delete(`/games/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error deleting game:', error);\r\n      return { success: false, message: 'تعذر حذف اللعبة' };\r\n    }\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}