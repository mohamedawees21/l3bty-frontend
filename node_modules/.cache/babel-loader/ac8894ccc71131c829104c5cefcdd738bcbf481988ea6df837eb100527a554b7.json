{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/employee/Rentals.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Rentals = () => {\n  _s();\n  var _currentShift$total_r;\n  const {\n    user\n  } = useAuth();\n  const [loading, setLoading] = useState(true);\n  const [currentShift, setCurrentShift] = useState(null);\n  const [shiftStats, setShiftStats] = useState(null);\n\n  // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ŸÑÿπÿßÿ®\n  const [availableGames, setAvailableGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n\n  // ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖÿ™ÿπÿØÿØ\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [quantities, setQuantities] = useState({});\n  const [showRentalForm, setShowRentalForm] = useState(false);\n\n  // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨\n  const [customerName, setCustomerName] = useState('');\n  const [customerPhone, setCustomerPhone] = useState('');\n  const [customerNotes, setCustomerNotes] = useState('');\n  const [durationType, setDurationType] = useState('fixed');\n  const [selectedDuration, setSelectedDuration] = useState(60);\n  const [paymentMethod, setPaymentMethod] = useState('cash');\n  const [discount, setDiscount] = useState(0);\n  const timersRef = useRef({});\n\n  // ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™\n  useEffect(() => {\n    if (user) {\n      initializeShift();\n      const interval = setInterval(() => {\n        if (currentShift) {\n          loadData();\n        }\n      }, 30000);\n      return () => {\n        clearInterval(interval);\n        Object.values(timersRef.current).forEach(timer => clearInterval(timer));\n      };\n    }\n  }, [user, currentShift]);\n\n  // ==================== SHIFT MANAGEMENT ====================\n\n  const initializeShift = async () => {\n    try {\n      console.log('üîÑ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');\n      console.log('üë§ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', {\n        id: user === null || user === void 0 ? void 0 : user.id,\n        name: user === null || user === void 0 ? void 0 : user.name,\n        branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n        branch_name: user === null || user === void 0 ? void 0 : user.branch_name\n      });\n\n      // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÜÿ¥ÿ∑\n      const response = await api.get('/shifts/active');\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿÆÿßÿØŸÖ:', {\n        status: response.status,\n        data: response.data\n      });\n\n      // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\n      if (response.data && response.data.success) {\n        if (response.data.data && response.data.data.id) {\n          console.log('‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', response.data.data.id);\n\n          // ‚ùå**ÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∂ÿßŸÅŸä**: ÿ™ÿ£ŸÉÿØ ÿ£ŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™ ŸäŸÜÿ™ŸÖŸä ŸÑŸÑŸÅÿ±ÿπ ÿßŸÑÿµÿ≠Ÿäÿ≠\n          if (response.data.data.branch_id === (user === null || user === void 0 ? void 0 : user.branch_id)) {\n            setCurrentShift(response.data.data);\n            await loadShiftStats(response.data.data.id);\n            await loadData();\n          } else {\n            console.warn('‚ö†Ô∏è ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÑÿß ŸäŸÜÿ™ŸÖŸä ŸÑŸÑŸÅÿ±ÿπ ÿßŸÑÿ≠ÿßŸÑŸä:', {\n              shift_branch: response.data.data.branch_id,\n              user_branch: user === null || user === void 0 ? void 0 : user.branch_id\n            });\n            setCurrentShift(null);\n          }\n        } else {\n          console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n          setCurrentShift(null);\n        }\n      } else {\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ£Ÿà ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ∫Ÿäÿ± ŸÜÿßÿ¨ÿ≠ÿ©');\n        setCurrentShift(null);\n      }\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3;\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      console.error('üîç ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿÆÿ∑ÿ£:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      setCurrentShift(null);\n\n      // ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ ŸÖŸàÿ¨Ÿáÿ©\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        showNotification('error', 'ÿßŸÜÿ™Ÿáÿ™ ÿ¨ŸÑÿ≥ÿ™ŸÉ. Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ');\n      } else if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 404) {\n        showNotification('info', 'ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ≠ÿßŸÑŸäÿßŸã');\n      } else {\n        showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadShiftStats = async shiftId => {\n    try {\n      const response = await api.get(`/shifts/${shiftId}/stats`);\n      if (response.data && response.data.success) {\n        setShiftStats(response.data.data);\n      } else if (response.data && response.data.top_games) {\n        // ÿ•ÿ∞ÿß ŸÉÿßŸÜÿ™ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ£ÿ™Ÿä ŸÖÿ®ÿßÿ¥ÿ±ÿ©\n        setShiftStats(response.data);\n      }\n    } catch (error) {\n      console.error('Error loading shift stats:', error);\n    }\n  };\n\n  // ÿØÿßŸÑÿ© ŸÑÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ\n  const startNewShift = async () => {\n    try {\n      console.log('üöÄ ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ...');\n      const response = await api.post('/shifts/start');\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response.data);\n\n      // ÿßŸÑÿ™ÿπÿßŸÖŸÑ ŸÖÿπ ŸÖÿÆÿ™ŸÑŸÅ ÿ£ÿ¥ŸÉÿßŸÑ ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©\n      if (response.data && response.data.id) {\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 1: ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ£ÿ™Ÿä ŸÖÿ®ÿßÿ¥ÿ±ÿ©\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data.id);\n        setCurrentShift(response.data);\n        await loadShiftStats(response.data.id);\n        await loadData();\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\n        return;\n      }\n      if (response.data && response.data.data && response.data.data.id) {\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 2: ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿ≠ŸÇŸÑ data\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data.data.id);\n        setCurrentShift(response.data.data);\n        await loadShiftStats(response.data.data.id);\n        await loadData();\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\n        return;\n      }\n      if (response.data && response.data.success) {\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 3: ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÖŸÜÿ∏ŸÖÿ©\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\n        showNotification('success', response.data.message || 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™\n        await initializeShift();\n        return;\n      }\n\n      // ÿ£Ÿä ÿ≠ÿßŸÑÿ© ÿ£ÿÆÿ±Ÿâ\n      console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠ (ÿ≠ÿßŸÑÿ© ÿπÿßŸÖÿ©)');\n      showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\n      await initializeShift();\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      let errorMessage = 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™';\n      if (error.response) {\n        if (error.response.data && error.response.data.message) {\n          errorMessage = error.response.data.message;\n        } else if (error.response.status === 400) {\n          errorMessage = 'ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ®ÿßŸÑŸÅÿπŸÑ';\n        } else if (error.response.status === 401) {\n          errorMessage = 'ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠ ÿ®ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™';\n        }\n      }\n      showNotification('error', errorMessage);\n    }\n  };\n\n  // ÿØÿßŸÑÿ© ŸÑÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™\n  const endCurrentShift = async () => {\n    if (!currentShift) return;\n    if (!window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿü ÿ≥Ÿäÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™.')) {\n      return;\n    }\n    try {\n      const response = await api.post(`/shifts/${currentShift.id}/end`);\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response.data);\n      if (response.data && response.data.success) {\n        showNotification('success', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\n        setCurrentShift(null);\n        setShiftStats(null);\n        setAvailableGames([]);\n        setActiveRentals([]);\n      } else {\n        showNotification('success', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\n        setCurrentShift(null);\n        setShiftStats(null);\n        setAvailableGames([]);\n        setActiveRentals([]);\n      }\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\n    }\n  };\n\n  // ==================== LOAD DATA ====================\n\n  const loadData = async () => {\n    try {\n      console.log('üì• ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ...');\n\n      // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸÇÿ∑ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\n      if (currentShift) {\n        console.log('üìä ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÜÿ¥ÿ∑...');\n        await Promise.all([loadAvailableGames(), loadActiveRentals(), loadShiftStats(currentShift.id)]);\n      } else {\n        console.log('‚è∏Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ - ÿ™ÿÆÿ∑Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n      }\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n    }\n  };\n  const loadAvailableGames = async () => {\n    try {\n      console.log('üéÆ ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©...');\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'ŸÖÿ™ÿßÿ≠'\n        }\n      });\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ®:', response.data);\n      if (response.data && response.data.success) {\n        setAvailableGames(response.data.data);\n      } else if (response.data && Array.isArray(response.data)) {\n        setAvailableGames(response.data);\n      } else {\n        console.warn('‚ö†Ô∏è ÿ™ŸÜÿ≥ŸäŸÇ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ');\n        setAvailableGames([]);\n      }\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ®:', error);\n      setAvailableGames([]);\n    }\n  };\n  const loadActiveRentals = async () => {\n    try {\n      console.log('‚è±Ô∏è ÿ¨ŸÑÿ® ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©...');\n      const response = await api.get('/rentals', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'ŸÜÿ¥ÿ∑',\n          shift_id: currentShift === null || currentShift === void 0 ? void 0 : currentShift.id\n        }\n      });\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:', response.data);\n      let rentalsData = [];\n      if (response.data && response.data.success && Array.isArray(response.data.data)) {\n        rentalsData = response.data.data;\n      } else if (response.data && Array.isArray(response.data)) {\n        rentalsData = response.data;\n      }\n      console.log(`‚úÖ ÿ™ŸÖ ÿ¨ŸÑÿ® ${rentalsData.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÜÿ¥ÿ∑`);\n      setActiveRentals(rentalsData);\n\n      // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑŸÖÿ§ŸÇÿ™ÿßÿ™ ÿßŸÑŸÇÿØŸäŸÖÿ©\n      Object.values(timersRef.current).forEach(timer => clearInterval(timer));\n      timersRef.current = {};\n\n      // ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ§ŸÇÿ™ÿßÿ™ ÿ¨ÿØŸäÿØÿ© ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™\n      rentalsData.forEach(rental => {\n        startTimerForRental(rental);\n      });\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:', error);\n      setActiveRentals([]);\n    }\n  };\n  const startTimerForRental = rental => {\n    if (!rental.expected_end_time || rental.duration_minutes === 0) return;\n    const endTime = new Date(rental.expected_end_time);\n    const now = new Date();\n    const timeLeft = endTime - now;\n    if (timeLeft <= 0) {\n      completeExpiredRental(rental.id);\n      return;\n    }\n    const timerId = setInterval(() => {\n      const now = new Date();\n      const timeLeft = endTime - now;\n      if (timeLeft <= 0) {\n        clearInterval(timersRef.current[rental.id]);\n        delete timersRef.current[rental.id];\n        completeExpiredRental(rental.id);\n      }\n    }, 60000);\n    timersRef.current[rental.id] = timerId;\n  };\n\n  // ==================== MULTI-GAME RENTAL ====================\n\n  const addGameToRental = game => {\n    const existingIndex = selectedGames.findIndex(g => g.id === game.id);\n    if (existingIndex === -1) {\n      // ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ© ÿ¨ÿØŸäÿØÿ©\n      const maxQuantity = Math.min(game.quantity || 1, 5);\n      setSelectedGames([...selectedGames, {\n        ...game,\n        rentalId: Date.now()\n      }]);\n      setQuantities({\n        ...quantities,\n        [game.id]: 1\n      });\n    } else {\n      // ÿ≤ŸäÿßÿØÿ© ŸÉŸÖŸäÿ© ŸÑÿπÿ®ÿ© ŸÖŸàÿ¨ŸàÿØÿ©\n      const currentQuantity = quantities[game.id] || 1;\n      const maxQuantity = Math.min(game.quantity || 1, 5);\n      if (currentQuantity < maxQuantity) {\n        setQuantities({\n          ...quantities,\n          [game.id]: currentQuantity + 1\n        });\n      }\n    }\n\n    // ŸÅÿ™ÿ≠ ŸÜŸÖŸàÿ∞ÿ¨ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸÖŸÅÿ™Ÿàÿ≠ÿßŸã\n    if (!showRentalForm) {\n      setShowRentalForm(true);\n    }\n  };\n  const removeGameFromRental = gameId => {\n    const currentQuantity = quantities[gameId] || 1;\n    if (currentQuantity > 1) {\n      setQuantities({\n        ...quantities,\n        [gameId]: currentQuantity - 1\n      });\n    } else {\n      setSelectedGames(selectedGames.filter(game => game.id !== gameId));\n      const newQuantities = {\n        ...quantities\n      };\n      delete newQuantities[gameId];\n      setQuantities(newQuantities);\n    }\n  };\n  const calculateTotalPrice = () => {\n    let total = 0;\n    selectedGames.forEach(game => {\n      const quantity = quantities[game.id] || 1;\n      let gamePrice = 0;\n      if (selectedDuration >= 60) {\n        gamePrice = (game.price_per_hour || 0) * (selectedDuration / 60);\n      } else {\n        const quarters = Math.ceil(selectedDuration / 15);\n        gamePrice = (game.price_per_15min || 0) * quarters;\n      }\n      total += gamePrice * quantity;\n    });\n    return total * (1 - discount / 100);\n  };\n  const handleStartMultiRental = async () => {\n    if (!validateForm()) return;\n    if (!currentShift) {\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\n      return;\n    }\n    try {\n      const rentalGames = selectedGames.map(game => ({\n        game_id: game.id,\n        quantity: quantities[game.id] || 1,\n        duration_minutes: selectedDuration\n      }));\n      const rentalData = {\n        games: rentalGames,\n        customer_name: customerName.trim(),\n        customer_phone: customerPhone.trim(),\n        shift_id: currentShift.id,\n        payment_method: paymentMethod,\n        notes: customerNotes,\n        discount: discount\n      };\n      const response = await api.post('/rentals/multi', rentalData);\n      if (response.data.success) {\n        showNotification('success', response.data.message);\n\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\n        await loadAvailableGames();\n        await loadActiveRentals();\n        await loadShiftStats(currentShift.id);\n\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨\n        resetForm();\n        setShowRentalForm(false);\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      showNotification('error', ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n    }\n  };\n\n  // ==================== RENTAL OPERATIONS ====================\n\n  const completeExpiredRental = async rentalId => {\n    try {\n      const response = await api.put(`/rentals/${rentalId}/complete`);\n      if (response.data.success) {\n        console.log(`Rental ${rentalId} completed automatically`);\n        await loadActiveRentals();\n        await loadAvailableGames();\n        if (currentShift) {\n          await loadShiftStats(currentShift.id);\n        }\n      }\n    } catch (error) {\n      console.error('Error completing rental:', error);\n    }\n  };\n  const handleEndRental = async rentalId => {\n    try {\n      const rental = activeRentals.find(r => r.id === rentalId);\n      if (!rental) return;\n      if (rental.duration_minutes === 0) {\n        const finalAmount = prompt('ÿ£ÿØÿÆŸÑ ÿßŸÑÿ≥ÿπÿ± ÿßŸÑŸÜŸáÿßÿ¶Ÿä:', rental.total_amount);\n        if (!finalAmount || isNaN(finalAmount)) {\n          showNotification('error', 'ÿßŸÑÿ≥ÿπÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠');\n          return;\n        }\n        await api.put(`/rentals/${rentalId}/complete`, {\n          final_amount: parseFloat(finalAmount)\n        });\n      } else {\n        if (!window.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± #${rental.rental_number}ÿü`)) return;\n        await api.put(`/rentals/${rentalId}/complete`);\n      }\n      showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠`);\n      await loadActiveRentals();\n      await loadAvailableGames();\n      if (currentShift) {\n        await loadShiftStats(currentShift.id);\n      }\n    } catch (error) {\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\n    }\n  };\n\n  // ==================== HELPER FUNCTIONS ====================\n\n  const validateForm = () => {\n    if (!customerName.trim()) {\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ');\n      return false;\n    }\n    if (!customerPhone.trim()) {\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ');\n      return false;\n    }\n    if (!/^01[0-9]{9}$/.test(customerPhone)) {\n      showNotification('error', 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠');\n      return false;\n    }\n    if (selectedGames.length === 0) {\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßÿÆÿ™Ÿäÿßÿ± ŸÑÿπÿ®ÿ© Ÿàÿßÿ≠ÿØÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ');\n      return false;\n    }\n    return true;\n  };\n  const resetForm = () => {\n    setCustomerName('');\n    setCustomerPhone('');\n    setCustomerNotes('');\n    setSelectedGames([]);\n    setQuantities({});\n    setDurationType('fixed');\n    setSelectedDuration(60);\n    setPaymentMethod('cash');\n    setDiscount(0);\n  };\n  const showNotification = (type, message) => {\n    const types = {\n      error: '‚ùå',\n      success: '‚úÖ',\n      warning: '‚ö†Ô∏è',\n      info: '‚ÑπÔ∏è'\n    };\n    alert(`${types[type]} ${message}`);\n  };\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 0\n    }).format(amount || 0);\n  };\n  const formatDuration = minutes => {\n    if (!minutes || minutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\n    if (minutes < 60) return `${minutes} ÿØŸÇŸäŸÇÿ©`;\n    const hours = Math.floor(minutes / 60);\n    const remaining = minutes % 60;\n    return `${hours} ÿ≥ÿßÿπÿ© ${remaining > 0 ? remaining + ' ÿØŸÇŸäŸÇÿ©' : ''}`;\n  };\n  const calculateTimeRemaining = rental => {\n    if (!rental.expected_end_time) return null;\n    const endTime = new Date(rental.expected_end_time);\n    const now = new Date();\n    const diff = endTime - now;\n    if (diff <= 0) return {\n      expired: true,\n      text: 'ÿßŸÜÿ™ŸáŸâ'\n    };\n    const minutes = Math.floor(diff / 60000);\n    if (minutes < 60) return {\n      expired: false,\n      text: `${minutes} ÿØŸÇŸäŸÇÿ©`\n    };\n    const hours = Math.floor(minutes / 60);\n    const remaining = minutes % 60;\n    return {\n      expired: false,\n      text: `${hours} ÿ≥ÿßÿπÿ© ${remaining} ÿØŸÇŸäŸÇÿ©`\n    };\n  };\n\n  // üîß **ÿØÿßŸÑÿ© ÿ¨ÿØŸäÿØÿ© ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©**\n  const checkDatabaseForActiveShift = async () => {\n    try {\n      showNotification('info', 'üîç ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©...');\n\n      // ÿ•ÿ∂ÿßŸÅÿ© ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ŸÖÿ®ÿßÿ¥ÿ± ŸÑŸÑÿ™ÿ≠ŸÇŸÇ\n      const response = await api.get('/shifts/active');\n      console.log('üîç ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', response.data);\n      if (response.data && response.data.success) {\n        if (response.data.data) {\n          showNotification('success', `‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ (ID: ${response.data.data.id})`);\n        } else {\n          showNotification('info', '‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n        }\n      } else {\n        showNotification('info', '‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\n      }\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\n      showNotification('error', '‚ùå ŸÅÿ¥ŸÑ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 611,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 609,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shift-section\",\n      children: currentShift ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"active-shift\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shift-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u23F1\\uFE0F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637 - \\u0642\\u0627\\u0639\\u062F\\u0629 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-id\",\n              children: [\"ID: #\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-branch\",\n              children: [\"\\u0627\\u0644\\u0641\\u0631\\u0639: \", currentShift.branch_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-start\",\n              children: [\"\\u0628\\u062F\\u0623:\\xA0\", new Date(currentShift.start_time).toLocaleString(\"ar-EG\", {\n                weekday: \"long\",\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\",\n                hour: \"2-digit\",\n                minute: \"2-digit\"\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 625,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shift-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-info-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDC64 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: currentShift.employee_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83C\\uDFEC \\u0627\\u0644\\u0641\\u0631\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: currentShift.branch_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCCA \\u0639\\u062F\\u062F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_currentShift$total_r = currentShift.total_rentals) !== null && _currentShift$total_r !== void 0 ? _currentShift$total_r : 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\uD83D\\uDCCC \\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"status-active\",\n                children: \"\\u0646\\u0634\\u0637\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 5\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-shift\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-shift-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"üì≠ ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ ŸÑŸÑÿ®ÿØÿ° ŸÅŸä ÿ®Ÿäÿπ Ÿàÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ£ŸÑÿπÿßÿ®\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-db-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"db-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"‚úÖ ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: `ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÑŸÑŸÅÿ±ÿπ \"${(user === null || user === void 0 ? void 0 : user.branch_name) || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"}\"`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"db-info-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"üè¨ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÅÿ±ÿπ:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0641\\u0631\\u0639: \", (user === null || user === void 0 ? void 0 : user.branch_name) || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u0645\\u0639\\u0631\\u0641 \\u0627\\u0644\\u0641\\u0631\\u0639: \", (user === null || user === void 0 ? void 0 : user.branch_id) || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641: \", (user === null || user === void 0 ? void 0 : user.name) || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-start-shift\",\n              onClick: startNewShift,\n              children: \"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0641\\u064A \\u0642\\u0627\\u0639\\u062F\\u0629 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-check-shift\",\n              onClick: async () => {\n                showNotification(\"info\", \"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...\");\n                await initializeShift();\n              },\n              children: \"\\uD83D\\uDD04 \\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0642\\u0642 \\u0645\\u0646 \\u0642\\u0627\\u0639\\u062F\\u0629 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-db-check\",\n              onClick: () => checkDatabaseForActiveShift(user === null || user === void 0 ? void 0 : user.branch_id),\n              children: \"\\uD83D\\uDD0D \\u0641\\u062D\\u0635 \\u0642\\u0627\\u0639\\u062F\\u0629 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0645\\u0628\\u0627\\u0634\\u0631\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-tips\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"üí° ŸÜÿµÿßÿ¶ÿ≠:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 728,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u062A\\u0623\\u0643\\u062F \\u0645\\u0646 \\u0623\\u0646\\u0643 \\u0641\\u064A \\u0627\\u0644\\u0641\\u0631\\u0639 \\u0627\\u0644\\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u062A\\u062D\\u0642\\u0642 \\u0645\\u0646 \\u0627\\u062A\\u0635\\u0627\\u0644 \\u0642\\u0627\\u0639\\u062F\\u0629 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 731,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u0625\\u0630\\u0627 \\u0643\\u0646\\u062A \\u0645\\u062F\\u064A\\u0631 \\u0646\\u0638\\u0627\\u0645\\u060C \\u062A\\u062D\\u0642\\u0642 \\u0645\\u0646 \\u062C\\u062F\\u0648\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\\u0627\\u062A \\u0645\\u0628\\u0627\\u0634\\u0631\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 727,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\uD83C\\uDFAE \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629 (\", availableGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-games-info\",\n          children: selectedGames.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-start-rental\",\n            onClick: () => setShowRentalForm(true),\n            children: [\"\\uD83D\\uDE80 \\u062A\\u0623\\u062C\\u064A\\u0631 (\", selectedGames.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-grid\",\n        children: availableGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-image\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `/images/${game.image_url || 'default-game.jpg'}`,\n              alt: game.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 761,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-status\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'available' : 'rented'}`,\n                children: game.status === 'ŸÖÿ™ÿßÿ≠' ? '‚úÖ ŸÖÿ™ÿßÿ≠' : '‚è±Ô∏è ŸÖÿ§ÿ¨ÿ±ÿ©'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: game.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"game-category\",\n              children: game.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-pricing\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0633\\u0627\\u0639\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(game.price_per_hour)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0631\\u0628\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(game.price_per_15min)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 783,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-quantity\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629: \", game.quantity || 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 788,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-add-to-rental\",\n              onClick: () => addGameToRental(game),\n              disabled: !currentShift,\n              children: \"+ \\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this)]\n        }, game.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-rentals-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\u23F1\\uFE0F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629 (\", activeRentals.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 806,\n        columnNumber: 9\n      }, this), activeRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDCED \\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629 \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 809,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-grid\",\n        children: activeRentals.map(rental => {\n          const timeRemaining = calculateTimeRemaining(rental);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"\\uD83D\\uDCCB \\u062A\\u0623\\u062C\\u064A\\u0631 #\", rental.rental_number]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"customer-name\",\n                children: [\"\\uD83D\\uDC64 \", rental.customer_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 821,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 819,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 826,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: rental.game_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 827,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: rental.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 831,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 834,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value\",\n                  children: formatDuration(rental.duration_minutes)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 833,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 838,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"value amount\",\n                  children: formatCurrency(rental.total_amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 837,\n                columnNumber: 21\n              }, this), timeRemaining && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"\\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `value ${timeRemaining.expired ? 'expired' : ''}`,\n                  children: timeRemaining.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 842,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-end-rental\",\n                onClick: () => handleEndRental(rental.id),\n                children: \"\\u2705 \\u0625\\u0646\\u0647\\u0627\\u0621\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-extend\",\n                children: \"\\u23F0 \\u062A\\u0645\\u062F\\u064A\\u062F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-details\",\n                children: \"\\uD83D\\uDCCB \\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 859,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 19\n            }, this)]\n          }, rental.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 818,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 805,\n      columnNumber: 7\n    }, this), showRentalForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal rental-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDE80 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => {\n              setShowRentalForm(false);\n              resetForm();\n            },\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 874,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 872,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDC64 \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 891,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerName,\n                  onChange: e => setCustomerName(e.target.value),\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 890,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: customerPhone,\n                  onChange: e => setCustomerPhone(e.target.value),\n                  placeholder: \"01xxxxxxxxx\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 899,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 910,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: customerNotes,\n                onChange: e => setCustomerNotes(e.target.value),\n                placeholder: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629...\",\n                rows: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 911,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 887,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"\\uD83C\\uDFAE \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062E\\u062A\\u0627\\u0631\\u0629 (\", selectedGames.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 922,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-games-list\",\n              children: selectedGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"selected-game-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"game-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"game-image-small\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: `/images/${game.image_url || 'default-game.jpg'}`,\n                      alt: game.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 928,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 927,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: game.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 934,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: game.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 935,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"price\",\n                      children: [formatCurrency(game.price_per_hour), \"/\\u0633\\u0627\\u0639\\u0629\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 936,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 933,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 926,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"game-quantity-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"quantity-btn\",\n                    onClick: () => removeGameFromRental(game.id),\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 940,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"quantity\",\n                    children: quantities[game.id] || 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 946,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"quantity-btn\",\n                    onClick: () => addGameToRental(game),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 939,\n                  columnNumber: 23\n                }, this)]\n              }, game.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 925,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 923,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 921,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u23F1\\uFE0F \\u0645\\u062F\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 961,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"duration-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"duration-option\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: durationType === 'fixed',\n                  onChange: () => setDurationType('fixed')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 964,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0645\\u062F\\u0629 \\u062B\\u0627\\u0628\\u062A\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 969,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 963,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"duration-option\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: durationType === 'open',\n                  onChange: () => setDurationType('open')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 977,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 962,\n              columnNumber: 17\n            }, this), durationType === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fixed-duration\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedDuration,\n                onChange: e => setSelectedDuration(parseInt(e.target.value)),\n                className: \"duration-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"15\",\n                  children: \"15 \\u062F\\u0642\\u064A\\u0642\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 988,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"30\",\n                  children: \"30 \\u062F\\u0642\\u064A\\u0642\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 989,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"45\",\n                  children: \"45 \\u062F\\u0642\\u064A\\u0642\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 990,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"60\",\n                  children: \"1 \\u0633\\u0627\\u0639\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 991,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"120\",\n                  children: \"2 \\u0633\\u0627\\u0639\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 992,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"180\",\n                  children: \"3 \\u0633\\u0627\\u0639\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 993,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"240\",\n                  children: \"4 \\u0633\\u0627\\u0639\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 994,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 983,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 19\n            }, this), durationType === 'open' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"open-duration-notice\",\n              children: \"\\u23F3 \\u0627\\u0644\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D - \\u0633\\u064A\\u062A\\u0645 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0627\\u0644\\u0633\\u0639\\u0631 \\u0639\\u0646\\u062F \\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 960,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCB0 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1008,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pricing-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1011,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatCurrency(calculateTotalPrice())\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1012,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1010,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"discount-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0644\\u062E\\u0635\\u0645:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1016,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"discount-options\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `discount-btn ${discount === 0 ? 'active' : ''}`,\n                    onClick: () => setDiscount(0),\n                    children: \"\\u0628\\u062F\\u0648\\u0646\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `discount-btn ${discount === 10 ? 'active' : ''}`,\n                    onClick: () => setDiscount(10),\n                    children: \"10%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1024,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `discount-btn ${discount === 20 ? 'active' : ''}`,\n                    onClick: () => setDiscount(20),\n                    children: \"20%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1030,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1015,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-methods\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1040,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"payment-options\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      checked: paymentMethod === 'cash',\n                      onChange: () => setPaymentMethod('cash')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1043,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\uD83D\\uDCB5 \\u0643\\u0627\\u0634\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1048,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1042,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      checked: paymentMethod === 'card',\n                      onChange: () => setPaymentMethod('card')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1051,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1056,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1050,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      checked: paymentMethod === 'vodafone_cash',\n                      onChange: () => setPaymentMethod('vodafone_cash')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1059,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\uD83D\\uDCF1 \\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1064,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1058,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1041,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1039,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1009,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-start\",\n              onClick: handleStartMultiRental,\n              disabled: !validateForm() || selectedGames.length === 0,\n              children: \"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-cancel\",\n              onClick: () => {\n                setShowRentalForm(false);\n                resetForm();\n              },\n              children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1080,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1072,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 885,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 870,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 617,\n    columnNumber: 5\n  }, this);\n};\n_s(Rentals, \"zuZP27mgAdxCAW/bM/k7sZgM2LQ=\", false, function () {\n  return [useAuth];\n});\n_c = Rentals;\nexport default Rentals;\nvar _c;\n$RefreshReg$(_c, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useAuth","api","jsxDEV","_jsxDEV","Rentals","_s","_currentShift$total_r","user","loading","setLoading","currentShift","setCurrentShift","shiftStats","setShiftStats","availableGames","setAvailableGames","activeRentals","setActiveRentals","selectedGames","setSelectedGames","quantities","setQuantities","showRentalForm","setShowRentalForm","customerName","setCustomerName","customerPhone","setCustomerPhone","customerNotes","setCustomerNotes","durationType","setDurationType","selectedDuration","setSelectedDuration","paymentMethod","setPaymentMethod","discount","setDiscount","timersRef","initializeShift","interval","setInterval","loadData","clearInterval","Object","values","current","forEach","timer","console","log","id","name","branch_id","branch_name","response","get","status","data","success","loadShiftStats","warn","shift_branch","user_branch","error","_error$response","_error$response2","_error$response3","message","showNotification","shiftId","top_games","startNewShift","post","errorMessage","endCurrentShift","window","confirm","Promise","all","loadAvailableGames","loadActiveRentals","params","Array","isArray","shift_id","rentalsData","length","rental","startTimerForRental","expected_end_time","duration_minutes","endTime","Date","now","timeLeft","completeExpiredRental","timerId","addGameToRental","game","existingIndex","findIndex","g","maxQuantity","Math","min","quantity","rentalId","currentQuantity","removeGameFromRental","gameId","filter","newQuantities","calculateTotalPrice","total","gamePrice","price_per_hour","quarters","ceil","price_per_15min","handleStartMultiRental","validateForm","rentalGames","map","game_id","rentalData","games","customer_name","trim","customer_phone","payment_method","notes","resetForm","_error$response4","_error$response4$data","put","handleEndRental","find","r","finalAmount","prompt","total_amount","isNaN","final_amount","parseFloat","rental_number","test","type","types","warning","info","alert","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDuration","minutes","hours","floor","remaining","calculateTimeRemaining","diff","expired","text","checkDatabaseForActiveShift","className","children","fileName","_jsxFileName","lineNumber","columnNumber","start_time","toLocaleString","weekday","year","month","day","hour","minute","employee_name","total_rentals","onClick","src","image_url","alt","category","disabled","timeRemaining","game_name","value","onChange","e","target","placeholder","rows","checked","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["\r\n\r\n// frontend/src/pages/employee/Rentals.jsx\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  const [shiftStats, setShiftStats] = useState(null);\r\n  \r\n  // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ŸÑÿπÿßÿ®\r\n  const [availableGames, setAvailableGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  \r\n  // ÿ™ÿ£ÿ¨Ÿäÿ± ŸÖÿ™ÿπÿØÿØ\r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [quantities, setQuantities] = useState({});\r\n  const [showRentalForm, setShowRentalForm] = useState(false);\r\n  \r\n  // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨\r\n  const [customerName, setCustomerName] = useState('');\r\n  const [customerPhone, setCustomerPhone] = useState('');\r\n  const [customerNotes, setCustomerNotes] = useState('');\r\n  const [durationType, setDurationType] = useState('fixed');\r\n  const [selectedDuration, setSelectedDuration] = useState(60);\r\n  const [paymentMethod, setPaymentMethod] = useState('cash');\r\n  const [discount, setDiscount] = useState(0);\r\n  \r\n  const timersRef = useRef({});\r\n\r\n  // ÿ™ÿ£ÿ´Ÿäÿ±ÿßÿ™\r\n  useEffect(() => {\r\n    if (user) {\r\n      initializeShift();\r\n      \r\n      const interval = setInterval(() => {\r\n        if (currentShift) {\r\n          loadData();\r\n        }\r\n      }, 30000);\r\n      \r\n      return () => {\r\n        clearInterval(interval);\r\n        Object.values(timersRef.current).forEach(timer => clearInterval(timer));\r\n      };\r\n    }\r\n  }, [user, currentShift]);\r\n\r\n  // ==================== SHIFT MANAGEMENT ====================\r\n\r\nconst initializeShift = async () => {\r\n  try {\r\n    console.log('üîÑ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...');\r\n    console.log('üë§ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', {\r\n      id: user?.id,\r\n      name: user?.name,\r\n      branch_id: user?.branch_id,\r\n      branch_name: user?.branch_name\r\n    });\r\n    \r\n    // ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÜÿ¥ÿ∑\r\n    const response = await api.get('/shifts/active');\r\n    \r\n    console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿÆÿßÿØŸÖ:', {\r\n      status: response.status,\r\n      data: response.data\r\n    });\r\n    \r\n    // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Ÿàÿ¨ŸàÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\r\n    if (response.data && response.data.success) {\r\n      if (response.data.data && response.data.data.id) {\r\n        console.log('‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', response.data.data.id);\r\n        \r\n        // ‚ùå**ÿ™ÿ≠ŸÇŸÇ ÿ•ÿ∂ÿßŸÅŸä**: ÿ™ÿ£ŸÉÿØ ÿ£ŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™ ŸäŸÜÿ™ŸÖŸä ŸÑŸÑŸÅÿ±ÿπ ÿßŸÑÿµÿ≠Ÿäÿ≠\r\n        if (response.data.data.branch_id === user?.branch_id) {\r\n          setCurrentShift(response.data.data);\r\n          await loadShiftStats(response.data.data.id);\r\n          await loadData();\r\n        } else {\r\n          console.warn('‚ö†Ô∏è ÿßŸÑÿ¥ŸäŸÅÿ™ ŸÑÿß ŸäŸÜÿ™ŸÖŸä ŸÑŸÑŸÅÿ±ÿπ ÿßŸÑÿ≠ÿßŸÑŸä:', {\r\n            shift_branch: response.data.data.branch_id,\r\n            user_branch: user?.branch_id\r\n          });\r\n          setCurrentShift(null);\r\n        }\r\n      } else {\r\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\r\n        setCurrentShift(null);\r\n      }\r\n    } else {\r\n      console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ£Ÿà ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ∫Ÿäÿ± ŸÜÿßÿ¨ÿ≠ÿ©');\r\n      setCurrentShift(null);\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n    console.error('üîç ÿ™ŸÅÿßÿµŸäŸÑ ÿßŸÑÿÆÿ∑ÿ£:', error.response?.data || error.message);\r\n    \r\n    setCurrentShift(null);\r\n    \r\n    // ÿ±ÿ≥ÿßŸÑÿ© ÿÆÿ∑ÿ£ ŸÖŸàÿ¨Ÿáÿ©\r\n    if (error.response?.status === 401) {\r\n      showNotification('error', 'ÿßŸÜÿ™Ÿáÿ™ ÿ¨ŸÑÿ≥ÿ™ŸÉ. Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ');\r\n    } else if (error.response?.status === 404) {\r\n      showNotification('info', 'ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ≠ÿßŸÑŸäÿßŸã');\r\n    } else {\r\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ');\r\n    }\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  const loadShiftStats = async (shiftId) => {\r\n    try {\r\n      const response = await api.get(`/shifts/${shiftId}/stats`);\r\n      \r\n      if (response.data && response.data.success) {\r\n        setShiftStats(response.data.data);\r\n      } else if (response.data && response.data.top_games) {\r\n        // ÿ•ÿ∞ÿß ŸÉÿßŸÜÿ™ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ£ÿ™Ÿä ŸÖÿ®ÿßÿ¥ÿ±ÿ©\r\n        setShiftStats(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading shift stats:', error);\r\n    }\r\n  };\r\n\r\n  // ÿØÿßŸÑÿ© ŸÑÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ\r\n  const startNewShift = async () => {\r\n    try {\r\n      console.log('üöÄ ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ...');\r\n      \r\n      const response = await api.post('/shifts/start');\r\n      \r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response.data);\r\n      \r\n      // ÿßŸÑÿ™ÿπÿßŸÖŸÑ ŸÖÿπ ŸÖÿÆÿ™ŸÑŸÅ ÿ£ÿ¥ŸÉÿßŸÑ ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©\r\n      if (response.data && response.data.id) {\r\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 1: ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿ™ÿ£ÿ™Ÿä ŸÖÿ®ÿßÿ¥ÿ±ÿ©\r\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data.id);\r\n        setCurrentShift(response.data);\r\n        await loadShiftStats(response.data.id);\r\n        await loadData();\r\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\r\n        return;\r\n      }\r\n      \r\n      if (response.data && response.data.data && response.data.data.id) {\r\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 2: ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸä ÿ≠ŸÇŸÑ data\r\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠:', response.data.data.id);\r\n        setCurrentShift(response.data.data);\r\n        await loadShiftStats(response.data.data.id);\r\n        await loadData();\r\n        showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\r\n        return;\r\n      }\r\n      \r\n      if (response.data && response.data.success) {\r\n        // ÿßŸÑÿ≠ÿßŸÑÿ© 3: ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÖŸÜÿ∏ŸÖÿ©\r\n        console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\r\n        showNotification('success', response.data.message || 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\r\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™\r\n        await initializeShift();\r\n        return;\r\n      }\r\n      \r\n      // ÿ£Ÿä ÿ≠ÿßŸÑÿ© ÿ£ÿÆÿ±Ÿâ\r\n      console.log('‚úÖ ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠ (ÿ≠ÿßŸÑÿ© ÿπÿßŸÖÿ©)');\r\n      showNotification('success', 'ÿ™ŸÖ ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠');\r\n      await initializeShift();\r\n      \r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n      \r\n      let errorMessage = 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ¥ŸäŸÅÿ™';\r\n      \r\n      if (error.response) {\r\n        if (error.response.data && error.response.data.message) {\r\n          errorMessage = error.response.data.message;\r\n        } else if (error.response.status === 400) {\r\n          errorMessage = 'ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ÿ®ÿßŸÑŸÅÿπŸÑ';\r\n        } else if (error.response.status === 401) {\r\n          errorMessage = 'ÿ∫Ÿäÿ± ŸÖÿµÿ±ÿ≠ ÿ®ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™';\r\n        }\r\n      }\r\n      \r\n      showNotification('error', errorMessage);\r\n    }\r\n  };\r\n\r\n  // ÿØÿßŸÑÿ© ŸÑÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™\r\n  const endCurrentShift = async () => {\r\n    if (!currentShift) return;\r\n    \r\n    if (!window.confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑÿ≠ÿßŸÑŸäÿü ÿ≥Ÿäÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™.')) {\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await api.post(`/shifts/${currentShift.id}/end`);\r\n      \r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', response.data);\r\n      \r\n      if (response.data && response.data.success) {\r\n        showNotification('success', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!');\r\n        setCurrentShift(null);\r\n        setShiftStats(null);\r\n        setAvailableGames([]);\r\n        setActiveRentals([]);\r\n      } else {\r\n        showNotification('success', 'ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\r\n        setCurrentShift(null);\r\n        setShiftStats(null);\r\n        setAvailableGames([]);\r\n        setActiveRentals([]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™:', error);\r\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ¥ŸäŸÅÿ™');\r\n    }\r\n  };\r\n\r\n  // ==================== LOAD DATA ====================\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      console.log('üì• ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÜÿ∏ÿßŸÖ...');\r\n      \r\n      // ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÅŸÇÿ∑ ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸáŸÜÿßŸÉ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑\r\n      if (currentShift) {\r\n        console.log('üìä ÿ¨ŸÑÿ® ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÜÿ¥ÿ∑...');\r\n        await Promise.all([\r\n          loadAvailableGames(),\r\n          loadActiveRentals(),\r\n          loadShiftStats(currentShift.id)\r\n        ]);\r\n      } else {\r\n        console.log('‚è∏Ô∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ - ÿ™ÿÆÿ∑Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\r\n      showNotification('error', 'ŸÅÿ¥ŸÑ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ÿπÿ∂ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\r\n    }\r\n  };\r\n\r\n  const loadAvailableGames = async () => {\r\n    try {\r\n      console.log('üéÆ ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©...');\r\n      \r\n      const response = await api.get('/games', {\r\n        params: {\r\n          branch_id: user.branch_id,\r\n          status: 'ŸÖÿ™ÿßÿ≠'\r\n        }\r\n      });\r\n      \r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ®:', response.data);\r\n      \r\n      if (response.data && response.data.success) {\r\n        setAvailableGames(response.data.data);\r\n      } else if (response.data && Array.isArray(response.data)) {\r\n        setAvailableGames(response.data);\r\n      } else {\r\n        console.warn('‚ö†Ô∏è ÿ™ŸÜÿ≥ŸäŸÇ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ');\r\n        setAvailableGames([]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ£ŸÑÿπÿßÿ®:', error);\r\n      setAvailableGames([]);\r\n    }\r\n  };\r\n\r\n  const loadActiveRentals = async () => {\r\n    try {\r\n      console.log('‚è±Ô∏è ÿ¨ŸÑÿ® ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ©...');\r\n      \r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          branch_id: user.branch_id,\r\n          status: 'ŸÜÿ¥ÿ∑',\r\n          shift_id: currentShift?.id\r\n        }\r\n      });\r\n      \r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:', response.data);\r\n      \r\n      let rentalsData = [];\r\n      \r\n      if (response.data && response.data.success && Array.isArray(response.data.data)) {\r\n        rentalsData = response.data.data;\r\n      } else if (response.data && Array.isArray(response.data)) {\r\n        rentalsData = response.data;\r\n      }\r\n      \r\n      console.log(`‚úÖ ÿ™ŸÖ ÿ¨ŸÑÿ® ${rentalsData.length} ÿ™ÿ£ÿ¨Ÿäÿ± ŸÜÿ¥ÿ∑`);\r\n      setActiveRentals(rentalsData);\r\n      \r\n      // ÿ™ŸÜÿ∏ŸäŸÅ ÿßŸÑŸÖÿ§ŸÇÿ™ÿßÿ™ ÿßŸÑŸÇÿØŸäŸÖÿ©\r\n      Object.values(timersRef.current).forEach(timer => clearInterval(timer));\r\n      timersRef.current = {};\r\n      \r\n      // ÿ•ŸÜÿ¥ÿßÿ° ŸÖÿ§ŸÇÿ™ÿßÿ™ ÿ¨ÿØŸäÿØÿ© ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™\r\n      rentalsData.forEach(rental => {\r\n        startTimerForRental(rental);\r\n      });\r\n      \r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:', error);\r\n      setActiveRentals([]);\r\n    }\r\n  };\r\n\r\n  const startTimerForRental = (rental) => {\r\n    if (!rental.expected_end_time || rental.duration_minutes === 0) return;\r\n    \r\n    const endTime = new Date(rental.expected_end_time);\r\n    const now = new Date();\r\n    const timeLeft = endTime - now;\r\n    \r\n    if (timeLeft <= 0) {\r\n      completeExpiredRental(rental.id);\r\n      return;\r\n    }\r\n    \r\n    const timerId = setInterval(() => {\r\n      const now = new Date();\r\n      const timeLeft = endTime - now;\r\n      \r\n      if (timeLeft <= 0) {\r\n        clearInterval(timersRef.current[rental.id]);\r\n        delete timersRef.current[rental.id];\r\n        completeExpiredRental(rental.id);\r\n      }\r\n    }, 60000);\r\n    \r\n    timersRef.current[rental.id] = timerId;\r\n  };\r\n\r\n  // ==================== MULTI-GAME RENTAL ====================\r\n\r\n  const addGameToRental = (game) => {\r\n    const existingIndex = selectedGames.findIndex(g => g.id === game.id);\r\n    \r\n    if (existingIndex === -1) {\r\n      // ÿ•ÿ∂ÿßŸÅÿ© ŸÑÿπÿ®ÿ© ÿ¨ÿØŸäÿØÿ©\r\n      const maxQuantity = Math.min(game.quantity || 1, 5);\r\n      setSelectedGames([...selectedGames, { ...game, rentalId: Date.now() }]);\r\n      setQuantities({ ...quantities, [game.id]: 1 });\r\n    } else {\r\n      // ÿ≤ŸäÿßÿØÿ© ŸÉŸÖŸäÿ© ŸÑÿπÿ®ÿ© ŸÖŸàÿ¨ŸàÿØÿ©\r\n      const currentQuantity = quantities[game.id] || 1;\r\n      const maxQuantity = Math.min(game.quantity || 1, 5);\r\n      \r\n      if (currentQuantity < maxQuantity) {\r\n        setQuantities({ ...quantities, [game.id]: currentQuantity + 1 });\r\n      }\r\n    }\r\n    \r\n    // ŸÅÿ™ÿ≠ ŸÜŸÖŸàÿ∞ÿ¨ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ™ŸÑŸÇÿßÿ¶ŸäÿßŸã ÿ•ÿ∞ÿß ŸÑŸÖ ŸäŸÉŸÜ ŸÖŸÅÿ™Ÿàÿ≠ÿßŸã\r\n    if (!showRentalForm) {\r\n      setShowRentalForm(true);\r\n    }\r\n  };\r\n\r\n  const removeGameFromRental = (gameId) => {\r\n    const currentQuantity = quantities[gameId] || 1;\r\n    \r\n    if (currentQuantity > 1) {\r\n      setQuantities({ ...quantities, [gameId]: currentQuantity - 1 });\r\n    } else {\r\n      setSelectedGames(selectedGames.filter(game => game.id !== gameId));\r\n      const newQuantities = { ...quantities };\r\n      delete newQuantities[gameId];\r\n      setQuantities(newQuantities);\r\n    }\r\n  };\r\n\r\n  const calculateTotalPrice = () => {\r\n    let total = 0;\r\n    \r\n    selectedGames.forEach(game => {\r\n      const quantity = quantities[game.id] || 1;\r\n      let gamePrice = 0;\r\n      \r\n      if (selectedDuration >= 60) {\r\n        gamePrice = (game.price_per_hour || 0) * (selectedDuration / 60);\r\n      } else {\r\n        const quarters = Math.ceil(selectedDuration / 15);\r\n        gamePrice = (game.price_per_15min || 0) * quarters;\r\n      }\r\n      \r\n      total += gamePrice * quantity;\r\n    });\r\n    \r\n    return total * (1 - discount / 100);\r\n  };\r\n\r\n  const handleStartMultiRental = async () => {\r\n    if (!validateForm()) return;\r\n    if (!currentShift) {\r\n      showNotification('error', 'Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ£ŸàŸÑÿßŸã');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const rentalGames = selectedGames.map(game => ({\r\n        game_id: game.id,\r\n        quantity: quantities[game.id] || 1,\r\n        duration_minutes: selectedDuration\r\n      }));\r\n      \r\n      const rentalData = {\r\n        games: rentalGames,\r\n        customer_name: customerName.trim(),\r\n        customer_phone: customerPhone.trim(),\r\n        shift_id: currentShift.id,\r\n        payment_method: paymentMethod,\r\n        notes: customerNotes,\r\n        discount: discount\r\n      };\r\n      \r\n      const response = await api.post('/rentals/multi', rentalData);\r\n      \r\n      if (response.data.success) {\r\n        showNotification('success', response.data.message);\r\n        \r\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\r\n        await loadAvailableGames();\r\n        await loadActiveRentals();\r\n        await loadShiftStats(currentShift.id);\r\n        \r\n        // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÜŸÖŸàÿ∞ÿ¨\r\n        resetForm();\r\n        setShowRentalForm(false);\r\n      }\r\n    } catch (error) {\r\n      showNotification('error', error.response?.data?.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n    }\r\n  };\r\n\r\n  // ==================== RENTAL OPERATIONS ====================\r\n\r\n  const completeExpiredRental = async (rentalId) => {\r\n    try {\r\n      const response = await api.put(`/rentals/${rentalId}/complete`);\r\n      if (response.data.success) {\r\n        console.log(`Rental ${rentalId} completed automatically`);\r\n        await loadActiveRentals();\r\n        await loadAvailableGames();\r\n        if (currentShift) {\r\n          await loadShiftStats(currentShift.id);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error completing rental:', error);\r\n    }\r\n  };\r\n\r\n  const handleEndRental = async (rentalId) => {\r\n    try {\r\n      const rental = activeRentals.find(r => r.id === rentalId);\r\n      if (!rental) return;\r\n      \r\n      if (rental.duration_minutes === 0) {\r\n        const finalAmount = prompt('ÿ£ÿØÿÆŸÑ ÿßŸÑÿ≥ÿπÿ± ÿßŸÑŸÜŸáÿßÿ¶Ÿä:', rental.total_amount);\r\n        if (!finalAmount || isNaN(finalAmount)) {\r\n          showNotification('error', 'ÿßŸÑÿ≥ÿπÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠');\r\n          return;\r\n        }\r\n        \r\n        await api.put(`/rentals/${rentalId}/complete`, {\r\n          final_amount: parseFloat(finalAmount)\r\n        });\r\n      } else {\r\n        if (!window.confirm(`ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ•ŸÜŸáÿßÿ° ÿ™ÿ£ÿ¨Ÿäÿ± #${rental.rental_number}ÿü`)) return;\r\n        \r\n        await api.put(`/rentals/${rentalId}/complete`);\r\n      }\r\n      \r\n      showNotification('success', `ÿ™ŸÖ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± ÿ®ŸÜÿ¨ÿßÿ≠`);\r\n      await loadActiveRentals();\r\n      await loadAvailableGames();\r\n      if (currentShift) {\r\n        await loadShiftStats(currentShift.id);\r\n      }\r\n    } catch (error) {\r\n      showNotification('error', 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±');\r\n    }\r\n  };\r\n\r\n  // ==================== HELPER FUNCTIONS ====================\r\n\r\n  const validateForm = () => {\r\n    if (!customerName.trim()) {\r\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ');\r\n      return false;\r\n    }\r\n    \r\n    if (!customerPhone.trim()) {\r\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ');\r\n      return false;\r\n    }\r\n    \r\n    if (!/^01[0-9]{9}$/.test(customerPhone)) {\r\n      showNotification('error', 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠');\r\n      return false;\r\n    }\r\n    \r\n    if (selectedGames.length === 0) {\r\n      showNotification('error', 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿßÿÆÿ™Ÿäÿßÿ± ŸÑÿπÿ®ÿ© Ÿàÿßÿ≠ÿØÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ');\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setCustomerName('');\r\n    setCustomerPhone('');\r\n    setCustomerNotes('');\r\n    setSelectedGames([]);\r\n    setQuantities({});\r\n    setDurationType('fixed');\r\n    setSelectedDuration(60);\r\n    setPaymentMethod('cash');\r\n    setDiscount(0);\r\n  };\r\n\r\n  const showNotification = (type, message) => {\r\n    const types = {\r\n      error: '‚ùå',\r\n      success: '‚úÖ',\r\n      warning: '‚ö†Ô∏è',\r\n      info: '‚ÑπÔ∏è'\r\n    };\r\n    alert(`${types[type]} ${message}`);\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0\r\n    }).format(amount || 0);\r\n  };\r\n\r\n  const formatDuration = (minutes) => {\r\n    if (!minutes || minutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\r\n    if (minutes < 60) return `${minutes} ÿØŸÇŸäŸÇÿ©`;\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    const remaining = minutes % 60;\r\n    return `${hours} ÿ≥ÿßÿπÿ© ${remaining > 0 ? remaining + ' ÿØŸÇŸäŸÇÿ©' : ''}`;\r\n  };\r\n\r\n  const calculateTimeRemaining = (rental) => {\r\n    if (!rental.expected_end_time) return null;\r\n    \r\n    const endTime = new Date(rental.expected_end_time);\r\n    const now = new Date();\r\n    const diff = endTime - now;\r\n    \r\n    if (diff <= 0) return { expired: true, text: 'ÿßŸÜÿ™ŸáŸâ' };\r\n    \r\n    const minutes = Math.floor(diff / 60000);\r\n    if (minutes < 60) return { expired: false, text: `${minutes} ÿØŸÇŸäŸÇÿ©` };\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    const remaining = minutes % 60;\r\n    return { expired: false, text: `${hours} ÿ≥ÿßÿπÿ© ${remaining} ÿØŸÇŸäŸÇÿ©` };\r\n  };\r\n\r\n  // üîß **ÿØÿßŸÑÿ© ÿ¨ÿØŸäÿØÿ© ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©**\r\n  const checkDatabaseForActiveShift = async () => {\r\n    try {\r\n      showNotification('info', 'üîç ÿ¨ÿßÿ±Ÿä ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©...');\r\n      \r\n      // ÿ•ÿ∂ÿßŸÅÿ© ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ŸÖÿ®ÿßÿ¥ÿ± ŸÑŸÑÿ™ÿ≠ŸÇŸÇ\r\n      const response = await api.get('/shifts/active');\r\n      \r\n      console.log('üîç ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', response.data);\r\n      \r\n      if (response.data && response.data.success) {\r\n        if (response.data.data) {\r\n          showNotification('success', `‚úÖ ÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ (ID: ${response.data.data.id})`);\r\n        } else {\r\n          showNotification('info', '‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\r\n        }\r\n      } else {\r\n        showNotification('info', '‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑');\r\n      }\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:', error);\r\n      showNotification('error', '‚ùå ŸÅÿ¥ŸÑ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™');\r\n    }\r\n  };\r\n  \r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner\"></div>\r\n        <p>ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-page\">\r\n      {/* üîß ŸÇÿ≥ŸÖ ÿ•ÿØÿßÿ±ÿ© ÿßŸÑÿ¥ŸäŸÅÿ™ */}\r\n      <div className=\"shift-section\">\r\n  {currentShift ? (\r\n    <div className=\"active-shift\">\r\n      <div className=\"shift-header\">\r\n        <h2>‚è±Ô∏è ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ - ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</h2>\r\n\r\n        <div className=\"shift-details\">\r\n          <span className=\"shift-id\">\r\n            ID: #{currentShift.id}\r\n          </span>\r\n\r\n          <span className=\"shift-branch\">\r\n            ÿßŸÑŸÅÿ±ÿπ: {currentShift.branch_name}\r\n          </span>\r\n\r\n          <span className=\"shift-start\">\r\n            ÿ®ÿØÿ£:&nbsp;\r\n            {new Date(currentShift.start_time).toLocaleString(\"ar-EG\", {\r\n              weekday: \"long\",\r\n              year: \"numeric\",\r\n              month: \"long\",\r\n              day: \"numeric\",\r\n              hour: \"2-digit\",\r\n              minute: \"2-digit\",\r\n            })}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ¥ŸäŸÅÿ™ ÿßŸÑŸÜÿ¥ÿ∑ */}\r\n      <div className=\"shift-body\">\r\n        <div className=\"shift-info-grid\">\r\n          <div className=\"info-item\">\r\n            <strong>üë§ ÿßŸÑŸÖŸàÿ∏ŸÅ:</strong>\r\n            <span>{currentShift.employee_name}</span>\r\n          </div>\r\n\r\n          <div className=\"info-item\">\r\n            <strong>üè¨ ÿßŸÑŸÅÿ±ÿπ:</strong>\r\n            <span>{currentShift.branch_name}</span>\r\n          </div>\r\n\r\n          <div className=\"info-item\">\r\n            <strong>üìä ÿπÿØÿØ ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™:</strong>\r\n            <span>{currentShift.total_rentals ?? 0}</span>\r\n          </div>\r\n\r\n          <div className=\"info-item\">\r\n            <strong>üìå ÿßŸÑÿ≠ÿßŸÑÿ©:</strong>\r\n            <span className=\"status-active\">ŸÜÿ¥ÿ∑</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"no-shift\">\r\n      <div className=\"no-shift-content\">\r\n        <h3>{\"üì≠ ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\"}</h3>\r\n        <p>{\"Ÿäÿ¨ÿ® ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ ŸÑŸÑÿ®ÿØÿ° ŸÅŸä ÿ®Ÿäÿπ Ÿàÿ™ÿ£ÿ¨Ÿäÿ± ÿßŸÑÿ£ŸÑÿπÿßÿ®\"}</p>\r\n\r\n        <div className=\"shift-db-info\">\r\n          <div className=\"db-info-item\">\r\n            <strong>{\"‚úÖ ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™:\"}</strong>\r\n            <p>\r\n              {\r\n                `ŸÑŸÖ Ÿäÿ™ŸÖ ÿßŸÑÿπÿ´Ÿàÿ± ÿπŸÑŸâ ÿ¥ŸäŸÅÿ™ ŸÜÿ¥ÿ∑ ŸÑŸÑŸÅÿ±ÿπ \"${\r\n                  user?.branch_name || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"\r\n                }\"`\r\n              }\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"db-info-item\">\r\n            <strong>{\"üè¨ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÅÿ±ÿπ:\"}</strong>\r\n            <ul>\r\n              <li>ÿßÿ≥ŸÖ ÿßŸÑŸÅÿ±ÿπ: {user?.branch_name || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"}</li>\r\n              <li>ŸÖÿπÿ±ŸÅ ÿßŸÑŸÅÿ±ÿπ: {user?.branch_id || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"}</li>\r\n              <li>ÿßŸÑŸÖŸàÿ∏ŸÅ: {user?.name || \"ÿ∫Ÿäÿ± ŸÖÿ≠ÿØÿØ\"}</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"shift-buttons\">\r\n          <button\r\n            className=\"btn-start-shift\"\r\n            onClick={startNewShift}\r\n          >\r\n            üöÄ ÿ®ÿØÿ° ÿ¥ŸäŸÅÿ™ ÿ¨ÿØŸäÿØ ŸÅŸä ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\r\n          </button>\r\n\r\n          <button\r\n            className=\"btn-check-shift\"\r\n            onClick={async () => {\r\n              showNotification(\"info\", \"ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™...\");\r\n              await initializeShift();\r\n            }}\r\n          >\r\n            üîÑ ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™\r\n          </button>\r\n\r\n          <button\r\n            className=\"btn-db-check\"\r\n            onClick={() => checkDatabaseForActiveShift(user?.branch_id)}\r\n          >\r\n            üîç ŸÅÿ≠ÿµ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"shift-tips\">\r\n          <h4>{\"üí° ŸÜÿµÿßÿ¶ÿ≠:\"}</h4>\r\n          <ul>\r\n            <li>ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ£ŸÜŸÉ ŸÅŸä ÿßŸÑŸÅÿ±ÿπ ÿßŸÑÿµÿ≠Ÿäÿ≠</li>\r\n            <li>ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßÿ™ÿµÿßŸÑ ŸÇÿßÿπÿØÿ© ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</li>\r\n            <li>ÿ•ÿ∞ÿß ŸÉŸÜÿ™ ŸÖÿØŸäÿ± ŸÜÿ∏ÿßŸÖÿå ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ¨ÿØŸàŸÑ ÿßŸÑÿ¥ŸäŸÅÿ™ÿßÿ™ ŸÖÿ®ÿßÿ¥ÿ±ÿ©</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )}\r\n</div>\r\n\r\n\r\n      {/* üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© */}\r\n      <div className=\"games-section\">\r\n        <div className=\"section-header\">\r\n          <h2>üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿ™ÿßÿ≠ÿ© ({availableGames.length})</h2>\r\n          <div className=\"selected-games-info\">\r\n            {selectedGames.length > 0 && (\r\n              <button \r\n                className=\"btn-start-rental\"\r\n                onClick={() => setShowRentalForm(true)}\r\n              >\r\n                üöÄ ÿ™ÿ£ÿ¨Ÿäÿ± ({selectedGames.length})\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"games-grid\">\r\n          {availableGames.map(game => (\r\n            <div key={game.id} className=\"game-card\">\r\n              <div className=\"game-image\">\r\n                <img \r\n                  src={`/images/${game.image_url || 'default-game.jpg'}`}\r\n                  alt={game.name}\r\n                />\r\n                <div className=\"game-status\">\r\n                  <span className={`status-badge ${game.status === 'ŸÖÿ™ÿßÿ≠' ? 'available' : 'rented'}`}>\r\n                    {game.status === 'ŸÖÿ™ÿßÿ≠' ? '‚úÖ ŸÖÿ™ÿßÿ≠' : '‚è±Ô∏è ŸÖÿ§ÿ¨ÿ±ÿ©'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"game-info\">\r\n                <h3>{game.name}</h3>\r\n                <p className=\"game-category\">{game.category}</p>\r\n                \r\n                <div className=\"game-pricing\">\r\n                  <div className=\"price-item\">\r\n                    <span>ÿ≥ÿπÿ± ÿßŸÑÿ≥ÿßÿπÿ©:</span>\r\n                    <span>{formatCurrency(game.price_per_hour)}</span>\r\n                  </div>\r\n                  <div className=\"price-item\">\r\n                    <span>ÿ≥ÿπÿ± ÿßŸÑÿ±ÿ®ÿπ:</span>\r\n                    <span>{formatCurrency(game.price_per_15min)}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"game-quantity\">\r\n                  <span>ÿßŸÑŸÉŸÖŸäÿ© ÿßŸÑŸÖÿ™ÿßÿ≠ÿ©: {game.quantity || 1}</span>\r\n                </div>\r\n                \r\n                <button \r\n                  className=\"btn-add-to-rental\"\r\n                  onClick={() => addGameToRental(game)}\r\n                  disabled={!currentShift}\r\n                >\r\n                  + ÿ•ÿ∂ÿßŸÅÿ© ŸÑŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ‚è±Ô∏è ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ© */}\r\n      <div className=\"active-rentals-section\">\r\n        <h2>‚è±Ô∏è ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ÿßŸÑŸÜÿ¥ÿ∑ÿ© ({activeRentals.length})</h2>\r\n        \r\n        {activeRentals.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <p>üì≠ ŸÑÿß ÿ™Ÿàÿ¨ÿØ ÿ™ÿ£ÿ¨Ÿäÿ±ÿßÿ™ ŸÜÿ¥ÿ∑ÿ© ÿ≠ÿßŸÑŸäÿßŸã</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"rentals-grid\">\r\n            {activeRentals.map(rental => {\r\n              const timeRemaining = calculateTimeRemaining(rental);\r\n              \r\n              return (\r\n                <div key={rental.id} className=\"rental-card\">\r\n                  <div className=\"rental-header\">\r\n                    <h3>üìã ÿ™ÿ£ÿ¨Ÿäÿ± #{rental.rental_number}</h3>\r\n                    <span className=\"customer-name\">üë§ {rental.customer_name}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"rental-info\">\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">ÿßŸÑŸÑÿπÿ®ÿ©:</span>\r\n                      <span className=\"value\">{rental.game_name}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">ÿßŸÑŸÉŸÖŸäÿ©:</span>\r\n                      <span className=\"value\">{rental.quantity}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">ÿßŸÑŸÖÿØÿ©:</span>\r\n                      <span className=\"value\">{formatDuration(rental.duration_minutes)}</span>\r\n                    </div>\r\n                    <div className=\"info-row\">\r\n                      <span className=\"label\">ÿßŸÑŸÖÿ®ŸÑÿ∫:</span>\r\n                      <span className=\"value amount\">{formatCurrency(rental.total_amount)}</span>\r\n                    </div>\r\n                    {timeRemaining && (\r\n                      <div className=\"info-row\">\r\n                        <span className=\"label\">ÿßŸÑŸÖÿ™ÿ®ŸÇŸä:</span>\r\n                        <span className={`value ${timeRemaining.expired ? 'expired' : ''}`}>\r\n                          {timeRemaining.text}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"rental-actions\">\r\n                    <button \r\n                      className=\"btn-end-rental\"\r\n                      onClick={() => handleEndRental(rental.id)}\r\n                    >\r\n                      ‚úÖ ÿ•ŸÜŸáÿßÿ°\r\n                    </button>\r\n                    <button className=\"btn-extend\">‚è∞ ÿ™ŸÖÿØŸäÿØ</button>\r\n                    <button className=\"btn-details\">üìã ÿ™ŸÅÿßÿµŸäŸÑ</button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* üöÄ ŸÜÿßŸÅÿ∞ÿ© ÿ™ÿ£ÿ¨Ÿäÿ± ÿ¨ÿØŸäÿØÿ© */}\r\n      {showRentalForm && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal rental-modal\">\r\n            <div className=\"modal-header\">\r\n              <h2>üöÄ ÿ™ÿ£ÿ¨Ÿäÿ± ÿ¨ÿØŸäÿØ</h2>\r\n              <button \r\n                className=\"close-btn\"\r\n                onClick={() => {\r\n                  setShowRentalForm(false);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                ‚úï\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-body\">\r\n              {/* üë§ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ */}\r\n              <div className=\"form-section\">\r\n                <h3>üë§ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ</h3>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group\">\r\n                    <label>ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ *</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={customerName}\r\n                      onChange={(e) => setCustomerName(e.target.value)}\r\n                      placeholder=\"ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑÿπŸÖŸäŸÑ\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label>ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ *</label>\r\n                    <input\r\n                      type=\"tel\"\r\n                      value={customerPhone}\r\n                      onChange={(e) => setCustomerPhone(e.target.value)}\r\n                      placeholder=\"01xxxxxxxxx\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label>ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™</label>\r\n                  <textarea\r\n                    value={customerNotes}\r\n                    onChange={(e) => setCustomerNotes(e.target.value)}\r\n                    placeholder=\"ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™ ÿ•ÿ∂ÿßŸÅŸäÿ©...\"\r\n                    rows=\"2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              {/* üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© */}\r\n              <div className=\"form-section\">\r\n                <h3>üéÆ ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ({selectedGames.length})</h3>\r\n                <div className=\"selected-games-list\">\r\n                  {selectedGames.map(game => (\r\n                    <div key={game.id} className=\"selected-game-item\">\r\n                      <div className=\"game-details\">\r\n                        <div className=\"game-image-small\">\r\n                          <img \r\n                            src={`/images/${game.image_url || 'default-game.jpg'}`}\r\n                            alt={game.name}\r\n                          />\r\n                        </div>\r\n                        <div>\r\n                          <h4>{game.name}</h4>\r\n                          <p>{game.category}</p>\r\n                          <p className=\"price\">{formatCurrency(game.price_per_hour)}/ÿ≥ÿßÿπÿ©</p>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"game-quantity-control\">\r\n                        <button \r\n                          className=\"quantity-btn\"\r\n                          onClick={() => removeGameFromRental(game.id)}\r\n                        >\r\n                          -\r\n                        </button>\r\n                        <span className=\"quantity\">{quantities[game.id] || 1}</span>\r\n                        <button \r\n                          className=\"quantity-btn\"\r\n                          onClick={() => addGameToRental(game)}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* ‚è±Ô∏è ŸÖÿØÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ± */}\r\n              <div className=\"form-section\">\r\n                <h3>‚è±Ô∏è ŸÖÿØÿ© ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±</h3>\r\n                <div className=\"duration-options\">\r\n                  <label className=\"duration-option\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      checked={durationType === 'fixed'}\r\n                      onChange={() => setDurationType('fixed')}\r\n                    />\r\n                    <span>ŸÖÿØÿ© ÿ´ÿßÿ®ÿ™ÿ©</span>\r\n                  </label>\r\n                  <label className=\"duration-option\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      checked={durationType === 'open'}\r\n                      onChange={() => setDurationType('open')}\r\n                    />\r\n                    <span>ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠</span>\r\n                  </label>\r\n                </div>\r\n                \r\n                {durationType === 'fixed' && (\r\n                  <div className=\"fixed-duration\">\r\n                    <select\r\n                      value={selectedDuration}\r\n                      onChange={(e) => setSelectedDuration(parseInt(e.target.value))}\r\n                      className=\"duration-select\"\r\n                    >\r\n                      <option value=\"15\">15 ÿØŸÇŸäŸÇÿ©</option>\r\n                      <option value=\"30\">30 ÿØŸÇŸäŸÇÿ©</option>\r\n                      <option value=\"45\">45 ÿØŸÇŸäŸÇÿ©</option>\r\n                      <option value=\"60\">1 ÿ≥ÿßÿπÿ©</option>\r\n                      <option value=\"120\">2 ÿ≥ÿßÿπÿ©</option>\r\n                      <option value=\"180\">3 ÿ≥ÿßÿπÿ©</option>\r\n                      <option value=\"240\">4 ÿ≥ÿßÿπÿ©</option>\r\n                    </select>\r\n                  </div>\r\n                )}\r\n                \r\n                {durationType === 'open' && (\r\n                  <div className=\"open-duration-notice\">\r\n                    ‚è≥ ÿßŸÑŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠ - ÿ≥Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑÿ≥ÿπÿ± ÿπŸÜÿØ ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {/* üí∞ ÿßŸÑÿÆÿµŸÖ ŸàÿßŸÑÿØŸÅÿπ */}\r\n              <div className=\"form-section\">\r\n                <h3>üí∞ ÿßŸÑÿØŸÅÿπ</h3>\r\n                <div className=\"pricing-summary\">\r\n                  <div className=\"price-item\">\r\n                    <span>ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä:</span>\r\n                    <span>{formatCurrency(calculateTotalPrice())}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"discount-section\">\r\n                    <label>ÿßŸÑÿÆÿµŸÖ:</label>\r\n                    <div className=\"discount-options\">\r\n                      <button \r\n                        className={`discount-btn ${discount === 0 ? 'active' : ''}`}\r\n                        onClick={() => setDiscount(0)}\r\n                      >\r\n                        ÿ®ÿØŸàŸÜ\r\n                      </button>\r\n                      <button \r\n                        className={`discount-btn ${discount === 10 ? 'active' : ''}`}\r\n                        onClick={() => setDiscount(10)}\r\n                      >\r\n                        10%\r\n                      </button>\r\n                      <button \r\n                        className={`discount-btn ${discount === 20 ? 'active' : ''}`}\r\n                        onClick={() => setDiscount(20)}\r\n                      >\r\n                        20%\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"payment-methods\">\r\n                    <label>ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿØŸÅÿπ:</label>\r\n                    <div className=\"payment-options\">\r\n                      <label>\r\n                        <input\r\n                          type=\"radio\"\r\n                          checked={paymentMethod === 'cash'}\r\n                          onChange={() => setPaymentMethod('cash')}\r\n                        />\r\n                        <span>üíµ ŸÉÿßÿ¥</span>\r\n                      </label>\r\n                      <label>\r\n                        <input\r\n                          type=\"radio\"\r\n                          checked={paymentMethod === 'card'}\r\n                          onChange={() => setPaymentMethod('card')}\r\n                        />\r\n                        <span>üí≥ ÿ®ÿ∑ÿßŸÇÿ©</span>\r\n                      </label>\r\n                      <label>\r\n                        <input\r\n                          type=\"radio\"\r\n                          checked={paymentMethod === 'vodafone_cash'}\r\n                          onChange={() => setPaymentMethod('vodafone_cash')}\r\n                        />\r\n                        <span>üì± ŸÅŸàÿØÿßŸÅŸàŸÜ ŸÉÿßÿ¥</span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* üîò ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ */}\r\n              <div className=\"modal-actions\">\r\n                <button \r\n                  className=\"btn-start\"\r\n                  onClick={handleStartMultiRental}\r\n                  disabled={!validateForm() || selectedGames.length === 0}\r\n                >\r\n                  üöÄ ÿ®ÿØÿ° ÿßŸÑÿ™ÿ£ÿ¨Ÿäÿ±\r\n                </button>\r\n                <button \r\n                  className=\"btn-cancel\"\r\n                  onClick={() => {\r\n                    setShowRentalForm(false);\r\n                    resetForm();\r\n                  }}\r\n                >\r\n                  ÿ•ŸÑÿ∫ÿßÿ°\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}