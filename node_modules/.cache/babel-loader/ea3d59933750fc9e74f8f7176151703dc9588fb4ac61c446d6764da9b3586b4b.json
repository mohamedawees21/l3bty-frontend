{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== نظام الإشعارات ====================\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationSystem = ({\n  type,\n  message\n}) => {\n  _s();\n  const [visible, setVisible] = useState(true);\n  useEffect(() => {\n    const timer = setTimeout(() => setVisible(false), 5000);\n    return () => clearTimeout(timer);\n  }, []);\n  if (!visible) return null;\n  const colors = {\n    success: 'bg-green-500 border-green-600',\n    error: 'bg-red-500 border-red-600',\n    warning: 'bg-yellow-500 border-yellow-600',\n    info: 'bg-blue-500 border-blue-600'\n  };\n  const icons = {\n    success: '✅',\n    error: '❌',\n    warning: '⚠️',\n    info: 'ℹ️'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `notification ${colors[type]}`,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"notification-icon\",\n      children: icons[type]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"notification-message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setVisible(false),\n      className: \"notification-close\",\n      children: \"\\u2715\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== دوال مساعدة ====================\n_s(NotificationSystem, \"+l2LUTlfMHnsWfc+O34BMiR0NHk=\");\n_c = NotificationSystem;\nconst formatCurrency = amount => {\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst validatePhone = phone => /^01[0-9]{9}$/.test(phone);\nconst calculateDuration = (start, end) => {\n  if (!start) return 0;\n  const startTime = new Date(start);\n  const endTime = end ? new Date(end) : new Date();\n  return Math.floor((endTime - startTime) / (1000 * 60));\n};\n\n// ==================== مكون قائمة الألعاب ====================\nconst GamesGrid = ({\n  games,\n  branchId,\n  onSelectGame\n}) => {\n  _s2();\n  const getGameImage = game => {\n    const imageMap = {\n      'دريفت كار': '/images/Driftcar.jpg',\n      'هافر بورد': '/images/Hoverboard.jpg',\n      'سكوتر': '/images/Scooter.jpg',\n      'عربة كهربائية': '/images/Car.jpg',\n      'موتوسيكل كهربائي': '/images/Motor.jpg',\n      'هارلي': '/images/harley.jpg',\n      'سيجواي': '/images/Segway.jpg',\n      'كرازي كار': '/images/Ninebot.jpg',\n      'سكيت كهربائي': '/images/Skate.jpg',\n      'ترامبولين': '/images/Trampoline.jpg',\n      'محاكي': '/images/Simulator.jpg'\n    };\n    return imageMap[game.name] || '/images/default-game.jpg';\n  };\n  const filteredGames = useMemo(() => {\n    return games.filter(game => game.branch_id === parseInt(branchId) && game.is_active === 1);\n  }, [games, branchId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"games-grid-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83C\\uDFAE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", filteredGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid\",\n      children: filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-card\",\n        onClick: () => onSelectGame(game),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-image-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getGameImage(game),\n            alt: game.name,\n            className: \"game-image\",\n            onError: e => e.target.src = '/images/default-game.jpg'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-status-badge available\",\n            children: \"\\u0645\\u062A\\u0627\\u062D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"game-name\",\n            children: game.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"game-category\",\n              children: game.category || 'عام'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"game-price\",\n              children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"select-game-btn\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-icon\",\n              children: \"\\u2795\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"btn-text\",\n              children: \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this)]\n      }, game.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون تأجير متعدد ====================\n_s2(GamesGrid, \"2WjW8j1A8Pa/PVDpfFQEtiXyUC0=\");\n_c2 = GamesGrid;\nconst MultiRentalModal = ({\n  show,\n  onClose,\n  selectedGames,\n  onConfirmRental\n}) => {\n  _s3();\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: '',\n    notes: ''\n  });\n  const [rentalItems, setRentalItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\n  useEffect(() => {\n    if (show && selectedGames.length > 0) {\n      const items = selectedGames.map(game => ({\n        id: game.id,\n        gameId: game.id,\n        gameName: game.name,\n        gameImage: game.image_url,\n        rentalType: 'fixed',\n        // 'fixed' أو 'open'\n        duration: 15,\n        pricePer15min: game.price_per_15min || 100,\n        quantity: 1,\n        notes: ''\n      }));\n      setRentalItems(items);\n    }\n  }, [show, selectedGames]);\n  const updateRentalItem = (id, updates) => {\n    setRentalItems(items => items.map(item => item.id === id ? {\n      ...item,\n      ...updates\n    } : item));\n  };\n  const removeRentalItem = id => {\n    setRentalItems(items => items.filter(item => item.id !== id));\n  };\n  const calculateItemPrice = item => {\n    if (item.rentalType === 'open') return 0;\n    const units = Math.ceil(item.duration / 15);\n    return item.pricePer15min * units * item.quantity;\n  };\n  const calculateTotal = () => {\n    return rentalItems.reduce((total, item) => {\n      return total + calculateItemPrice(item);\n    }, 0);\n  };\n  const handleSubmit = () => {\n    if (!customerInfo.name || !customerInfo.phone) {\n      alert('يرجى إدخال اسم العميل ورقم الهاتف');\n      return;\n    }\n    if (!validatePhone(customerInfo.phone)) {\n      alert('رقم الهاتف غير صحيح. يجب أن يكون 11 رقماً ويبدأ بـ 01');\n      return;\n    }\n    if (rentalItems.length === 0) {\n      alert('يرجى إضافة ألعاب للتأجير');\n      return;\n    }\n    const rentalData = {\n      customerInfo,\n      rentalItems,\n      paymentMethod,\n      totalAmount: calculateTotal(),\n      timestamp: new Date().toISOString()\n    };\n    onConfirmRental(rentalData);\n  };\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal multi-rental-modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83C\\uDFAF \\u062A\\u0623\\u062C\\u064A\\u0631 \\u0645\\u062A\\u0639\\u062F\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"customer-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"\\uD83D\\uDC64 \\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: customerInfo.name,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  name: e.target.value\n                }),\n                placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                value: customerInfo.phone,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  phone: e.target.value\n                }),\n                placeholder: \"01xxxxxxxxx\",\n                maxLength: 11\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this), customerInfo.phone && !validatePhone(customerInfo.phone) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: \"\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u063A\\u064A\\u0631 \\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: customerInfo.notes,\n                onChange: e => setCustomerInfo({\n                  ...customerInfo,\n                  notes: e.target.value\n                }),\n                placeholder: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629...\",\n                rows: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [\"\\uD83D\\uDCCB \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A (\", rentalItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.gameImage,\n                  alt: item.gameName,\n                  className: \"item-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: item.gameName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-price\",\n                    children: [formatCurrency(item.pricePer15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeRentalItem(item.id),\n                className: \"remove-item-btn\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"toggle-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`,\n                    onClick: () => updateRentalItem(item.id, {\n                      rentalType: 'fixed',\n                      duration: 15\n                    }),\n                    children: \"\\u23F0 \\u0648\\u0642\\u062A \\u062B\\u0627\\u0628\\u062A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`,\n                    onClick: () => updateRentalItem(item.id, {\n                      rentalType: 'open',\n                      duration: 0\n                    }),\n                    children: \"\\u23F3 \\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this), item.rentalType === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"duration-options\",\n                  children: [15, 30, 45, 60, 90, 120].map(minutes => /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `duration-btn ${item.duration === minutes ? 'active' : ''}`,\n                    onClick: () => updateRentalItem(item.id, {\n                      duration: minutes\n                    }),\n                    children: [minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                  }, minutes, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"quantity-control\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => updateRentalItem(item.id, {\n                      quantity: Math.max(1, item.quantity - 1)\n                    }),\n                    className: \"quantity-btn\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"quantity-value\",\n                    children: item.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => updateRentalItem(item.id, {\n                      quantity: item.quantity + 1\n                    }),\n                    className: \"quantity-btn\",\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-summary\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-label\",\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-value\",\n                  children: item.rentalType === 'open' ? '⏳ عند الإنهاء' : formatCurrency(calculateItemPrice(item))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: \"\\uD83D\\uDCB0 \\u0627\\u0644\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rentalItems.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0642\\u0637\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rentalItems.reduce((sum, item) => sum + item.quantity, 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentMethod,\n                onChange: e => setPaymentMethod(e.target.value),\n                className: \"payment-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0643\\u0627\\u0634\",\n                  children: \"\\uD83D\\uDCB5 \\u0643\\u0627\\u0634\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                  children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634\",\n                  children: \"\\uD83D\\uDCF1 \\u0641\\u0648\\u062F\\u0627\\u0641\\u0648\\u0646 \\u0643\\u0627\\u0634\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639 \\u0627\\u0644\\u0622\\u0646:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-amount\",\n                children: formatCurrency(calculateTotal())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), rentalItems.some(item => item.rentalType === 'open') && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"open-time-notice\",\n            children: [\"\\u26A0\\uFE0F \\u064A\\u0648\\u062C\\u062F \", rentalItems.filter(item => item.rentalType === 'open').length, \" \\u0644\\u0639\\u0628\\u0629 \\u0628\\u0627\\u0644\\u062F\\u0641\\u0639 \\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"btn btn-secondary\",\n          children: \"\\u0625\\u0644\\u063A\\u0627\\u0621\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"btn btn-primary\",\n          children: \"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون التأجيرات النشطة ====================\n_s3(MultiRentalModal, \"3KJwSs3bu1zxhPYkPfi1IAD5djY=\");\n_c3 = MultiRentalModal;\nconst ActiveRentalsTable = ({\n  rentals,\n  onAction\n}) => {\n  const handleAction = (action, rental) => {\n    switch (action) {\n      case 'details':\n        // عرض التفاصيل\n        break;\n      case 'end':\n        onAction('endRental', rental);\n        break;\n      case 'cancel':\n        if (window.confirm(`هل تريد إلغاء تأجير ${rental.rental_number}؟`)) {\n          onAction('cancelRental', rental);\n        }\n        break;\n      case 'change':\n        onAction('changeGame', rental);\n        break;\n    }\n  };\n  const getRemainingTime = rental => {\n    if (rental.is_open_time) return '⏳ وقت مفتوح';\n    const endTime = new Date(rental.start_time);\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n    const now = new Date();\n    if (now > endTime) return '⏰ انتهى';\n    const diffMs = endTime - now;\n    const minutes = Math.floor(diffMs / 60000);\n    const seconds = Math.floor(diffMs % 60000 / 1000);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", rentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"rentals-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0646\\u0642\\u0636\\u064A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"rental-number\",\n              children: [\"#\", rental.rental_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"customer-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-name\",\n                  children: rental.customer_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-phone\",\n                  children: rental.customer_phone\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"game-cell\",\n              children: rental.game_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `time-cell ${getRemainingTime(rental) === '⏰ انتهى' ? 'expired' : ''}`,\n                children: getRemainingTime(rental)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: rental.is_open_time ? '⏳ مفتوح' : `${rental.duration_minutes} دقيقة`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`,\n                children: rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⏳ عند الإنهاء'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAction('details', rental),\n                  className: \"action-btn view-btn\",\n                  title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n                  children: \"\\uD83D\\uDC41\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this), rental.is_open_time && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAction('end', rental),\n                  className: \"action-btn end-btn\",\n                  title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                  children: \"\\u23F9\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 23\n                }, this), !rental.is_open_time && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAction('change', rental),\n                  className: \"action-btn change-btn\",\n                  title: \"\\u062A\\u063A\\u064A\\u064A\\u0631 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\",\n                  children: \"\\uD83D\\uDD04\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAction('cancel', rental),\n                  className: \"action-btn cancel-btn\",\n                  title: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                  children: \"\\u274C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 17\n            }, this)]\n          }, rental.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 476,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون التأجيرات المكتملة ====================\n_c4 = ActiveRentalsTable;\nconst CompletedRentalsTable = ({\n  rentals,\n  isManager\n}) => {\n  if (!isManager) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"completed-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", rentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"rentals-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 595,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\"#\", rental.rental_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: rental.customer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: rental.game_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDateTime(rental.start_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDateTime(rental.end_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [rental.duration_minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatCurrency(rental.total_amount)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`,\n                children: rental.payment_status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 17\n            }, this)]\n          }, rental.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 577,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== مكون لوحة التحكم ====================\n_c5 = CompletedRentalsTable;\nconst DashboardStats = ({\n  stats,\n  currentShift,\n  onStartShift,\n  onEndShift\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-stats\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83C\\uDFAE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.availableGames || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.activeRentals || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 637,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\uD83D\\uDCB0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: formatCurrency(stats.todayRevenue || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 645,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card shift-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: \"\\u23F1\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: currentShift ? `#${currentShift.id}` : 'لا يوجد'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-actions\",\n            children: !currentShift ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onStartShift,\n              className: \"btn btn-sm btn-success\",\n              children: \"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onEndShift,\n              className: \"btn btn-sm btn-warning\",\n              children: \"\\uD83C\\uDFC1 \\u0625\\u0646\\u0647\\u0627\\u0621 \\u0634\\u064A\\u0641\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 627,\n    columnNumber: 5\n  }, this);\n};\n\n// ==================== المكون الرئيسي ====================\n_c6 = DashboardStats;\nconst Rentals = () => {\n  _s4();\n  const {\n    user\n  } = useAuth();\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n  const isEmployee = (user === null || user === void 0 ? void 0 : user.role) === 'employee';\n\n  // الحالات الرئيسية\n  const [loading, setLoading] = useState(true);\n  const [games, setGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n\n  // الحالات للواجهة\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [showRentalModal, setShowRentalModal] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n\n  // الإحصائيات\n  const [stats, setStats] = useState({\n    availableGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n\n  // ==================== دوال جلب البيانات ====================\n  const loadGames = async () => {\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user.branch_id,\n          is_active: 1\n        }\n      });\n      if (response.success) {\n        setGames(response.data || []);\n        setStats(prev => {\n          var _response$data;\n          return {\n            ...prev,\n            availableGames: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0\n          };\n        });\n      }\n    } catch (error) {\n      console.error('Error loading games:', error);\n    }\n  };\n  const loadActiveRentals = async () => {\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          branch_id: user.branch_id\n        }\n      });\n      if (response.success) {\n        setActiveRentals(response.data || []);\n        setStats(prev => {\n          var _response$data2;\n          return {\n            ...prev,\n            activeRentals: ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) || 0\n          };\n        });\n      }\n    } catch (error) {\n      console.error('Error loading active rentals:', error);\n    }\n  };\n  const loadCompletedRentals = async () => {\n    if (!isManager) return;\n    try {\n      const response = await api.get('/rentals/completed', {\n        params: {\n          branch_id: user.branch_id,\n          shift_id: currentShift === null || currentShift === void 0 ? void 0 : currentShift.id,\n          limit: 100\n        }\n      });\n      if (response.success) {\n        setCompletedRentals(response.data || []);\n      }\n    } catch (error) {\n      console.error('Error loading completed rentals:', error);\n    }\n  };\n  const loadCurrentShift = async () => {\n    try {\n      const response = await api.get('/shifts/active');\n      if (response.success && response.data) {\n        setCurrentShift(response.data);\n\n        // جلب الإيرادات اليومية\n        const today = new Date().toISOString().split('T')[0];\n        const revenueResponse = await api.get('/rentals', {\n          params: {\n            branch_id: user.branch_id,\n            status: 'مكتمل',\n            start_date: today,\n            end_date: today\n          }\n        });\n        if (revenueResponse.success) {\n          const todayRevenue = (revenueResponse.data || []).reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\n          setStats(prev => {\n            var _revenueResponse$data;\n            return {\n              ...prev,\n              todayRevenue,\n              todayRentals: ((_revenueResponse$data = revenueResponse.data) === null || _revenueResponse$data === void 0 ? void 0 : _revenueResponse$data.length) || 0\n            };\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error loading shift:', error);\n    }\n  };\n\n  // جلب جميع البيانات\n  const loadAllData = async () => {\n    setLoading(true);\n    try {\n      await Promise.all([loadGames(), loadActiveRentals(), loadCurrentShift()]);\n      if (currentShift) {\n        await loadCompletedRentals();\n      }\n    } catch (error) {\n      console.error('Error loading all data:', error);\n      addNotification('error', 'حدث خطأ في تحميل البيانات');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ==================== دوال إدارة الشيفت ====================\n  const startShift = async () => {\n    try {\n      const response = await api.post('/shifts/start-clean');\n      if (response.success) {\n        setCurrentShift(response.data);\n        addNotification('success', `تم بدء شيفت جديد #${response.data.id}`);\n        await loadAllData();\n      }\n    } catch (error) {\n      console.error('Error starting shift:', error);\n      addNotification('error', 'فشل بدء الشيفت');\n    }\n  };\n  const endShift = async () => {\n    if (!currentShift) return;\n    if (!window.confirm('هل تريد إنهاء الشيفت الحالي؟')) return;\n    try {\n      const response = await api.post(`/shifts/${currentShift.id}/end`);\n      if (response.success) {\n        setCurrentShift(null);\n        setActiveRentals([]);\n        addNotification('success', 'تم إنهاء الشيفت بنجاح');\n        await loadAllData();\n      }\n    } catch (error) {\n      console.error('Error ending shift:', error);\n      addNotification('error', 'فشل إنهاء الشيفت');\n    }\n  };\n\n  // ==================== دوال إدارة التأجيرات ====================\n  const handleSelectGame = game => {\n    if (!currentShift) {\n      addNotification('warning', 'يجب بدء شيفت أولاً');\n      return;\n    }\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\n    if (!isAlreadySelected) {\n      setSelectedGames([...selectedGames, game]);\n      addNotification('success', `تمت إضافة ${game.name} للتأجير`);\n    }\n    setShowRentalModal(true);\n  };\n  const handleCreateRental = async rentalData => {\n    try {\n      const {\n        customerInfo,\n        rentalItems,\n        paymentMethod,\n        totalAmount\n      } = rentalData;\n\n      // إنشاء كل تأجير على حدة\n      const results = [];\n      for (const item of rentalItems) {\n        const rentalPayload = {\n          customer_name: customerInfo.name,\n          customer_phone: customerInfo.phone,\n          game_id: item.gameId,\n          branch_id: user.branch_id,\n          shift_id: currentShift.id,\n          duration_minutes: item.rentalType === 'fixed' ? item.duration : 0,\n          total_amount: item.rentalType === 'fixed' ? item.pricePer15min * Math.ceil(item.duration / 15) * item.quantity : 0,\n          payment_method: paymentMethod,\n          payment_status: item.rentalType === 'fixed' ? 'مدفوع' : 'عند الإنهاء',\n          start_time: new Date().toISOString(),\n          status: 'نشط',\n          notes: `${customerInfo.notes} ${item.notes}`.trim()\n        };\n        const response = await api.post('/rentals/simple', rentalPayload);\n        results.push(response);\n      }\n\n      // تحديث الواجهة\n      if (results.every(r => r.success)) {\n        addNotification('success', `تم إنشاء ${rentalItems.length} تأجير بنجاح`);\n        setShowRentalModal(false);\n        setSelectedGames([]);\n        await loadAllData();\n      } else {\n        addNotification('error', 'حدث خطأ في بعض التأجيرات');\n      }\n    } catch (error) {\n      console.error('Error creating rental:', error);\n      addNotification('error', 'حدث خطأ في إنشاء التأجير');\n    }\n  };\n  const handleEndRental = async rental => {\n    try {\n      const response = await api.put(`/rentals/${rental.id}/complete`, {\n        payment_method: 'كاش'\n      });\n      if (response.success) {\n        addNotification('success', 'تم إنهاء التأجير بنجاح');\n        await loadAllData();\n      }\n    } catch (error) {\n      console.error('Error ending rental:', error);\n      addNotification('error', 'فشل إنهاء التأجير');\n    }\n  };\n  const handleCancelRental = async rental => {\n    try {\n      const response = await api.put(`/rentals/${rental.id}/cancel`, {\n        refund_amount: rental.total_amount || 0,\n        reason: 'إلغاء من قبل الموظف'\n      });\n      if (response.success) {\n        addNotification('success', 'تم إلغاء التأجير بنجاح');\n        await loadAllData();\n      }\n    } catch (error) {\n      console.error('Error cancelling rental:', error);\n      addNotification('error', 'فشل إلغاء التأجير');\n    }\n  };\n\n  // ==================== نظام الإشعارات ====================\n  const addNotification = (type, message) => {\n    const id = Date.now();\n    setNotifications(prev => [...prev, {\n      id,\n      type,\n      message\n    }]);\n    setTimeout(() => {\n      setNotifications(prev => prev.filter(n => n.id !== id));\n    }, 5000);\n  };\n\n  // ==================== useEffect ====================\n  useEffect(() => {\n    loadAllData();\n\n    // تحديث دوري كل دقيقة\n    const interval = setInterval(() => {\n      loadActiveRentals();\n    }, 60000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // ==================== التصيير ====================\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 973,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 974,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 972,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notifications-container\",\n      children: notifications.map(notification => /*#__PURE__*/_jsxDEV(NotificationSystem, {\n        ...notification\n      }, notification.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 984,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 982,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title-icon\",\n            children: \"\\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 13\n          }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 991,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 996,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-role\",\n            children: isManager ? '👑 مدير' : '👷 موظف'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 997,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"branch-name\",\n            children: user === null || user === void 0 ? void 0 : user.branch_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 995,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 990,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [selectedGames.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRentalModal(true),\n          className: \"btn btn-primary\",\n          children: [\"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 (\", selectedGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadAllData,\n          className: \"btn btn-secondary\",\n          children: \"\\uD83D\\uDD04 \\u062A\\u062D\\u062F\\u064A\\u062B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1014,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 989,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStats, {\n      stats: stats,\n      currentShift: currentShift,\n      onStartShift: startShift,\n      onEndShift: endShift\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 7\n    }, this), !currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-shift-alert\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"alert-icon\",\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1035,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u064A\\u062C\\u0628 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0644\\u0644\\u062A\\u0645\\u0643\\u0646 \\u0645\\u0646 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1038,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startShift,\n          className: \"btn btn-success\",\n          children: \"\\uD83D\\uDE80 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1040,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1033,\n      columnNumber: 9\n    }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(GamesGrid, {\n        games: games,\n        branchId: user.branch_id,\n        onSelectGame: handleSelectGame\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ActiveRentalsTable, {\n        rentals: activeRentals,\n        onAction: (action, rental) => {\n          switch (action) {\n            case 'endRental':\n              handleEndRental(rental);\n              break;\n            case 'cancelRental':\n              handleCancelRental(rental);\n              break;\n            case 'changeGame':\n              // تنفيذ تغيير اللعبة\n              break;\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CompletedRentalsTable, {\n        rentals: completedRentals,\n        isManager: isManager\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1049,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MultiRentalModal, {\n      show: showRentalModal,\n      onClose: () => {\n        setShowRentalModal(false);\n        if (selectedGames.length === 0) {\n          setSelectedGames([]);\n        }\n      },\n      selectedGames: selectedGames,\n      onConfirmRental: handleCreateRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1084,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 980,\n    columnNumber: 5\n  }, this);\n};\n_s4(Rentals, \"5x2GG0N01VMXYQ/b/bs2baEcfSc=\", false, function () {\n  return [useAuth];\n});\n_c7 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"NotificationSystem\");\n$RefreshReg$(_c2, \"GamesGrid\");\n$RefreshReg$(_c3, \"MultiRentalModal\");\n$RefreshReg$(_c4, \"ActiveRentalsTable\");\n$RefreshReg$(_c5, \"CompletedRentalsTable\");\n$RefreshReg$(_c6, \"DashboardStats\");\n$RefreshReg$(_c7, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useMemo","useAuth","api","jsxDEV","_jsxDEV","NotificationSystem","type","message","_s","visible","setVisible","timer","setTimeout","clearTimeout","colors","success","error","warning","info","icons","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","validatePhone","phone","test","calculateDuration","start","end","startTime","endTime","Math","floor","GamesGrid","games","branchId","onSelectGame","_s2","getGameImage","game","imageMap","name","filteredGames","filter","branch_id","parseInt","is_active","length","map","src","alt","onError","e","target","category","price_per_15min","id","_c2","MultiRentalModal","show","onClose","selectedGames","onConfirmRental","_s3","customerInfo","setCustomerInfo","notes","rentalItems","setRentalItems","paymentMethod","setPaymentMethod","items","gameId","gameName","gameImage","image_url","rentalType","duration","pricePer15min","quantity","updateRentalItem","updates","item","removeRentalItem","calculateItemPrice","units","ceil","calculateTotal","reduce","total","handleSubmit","alert","rentalData","totalAmount","timestamp","toISOString","value","onChange","placeholder","maxLength","rows","minutes","max","sum","some","_c3","ActiveRentalsTable","rentals","onAction","handleAction","action","rental","window","confirm","rental_number","getRemainingTime","is_open_time","start_time","setMinutes","getMinutes","duration_minutes","now","diffMs","seconds","toString","padStart","customer_name","customer_phone","game_name","payment_status","title","_c4","CompletedRentalsTable","isManager","end_time","total_amount","_c5","DashboardStats","stats","currentShift","onStartShift","onEndShift","availableGames","activeRentals","todayRevenue","_c6","Rentals","_s4","user","role","isEmployee","loading","setLoading","setGames","setActiveRentals","completedRentals","setCompletedRentals","setCurrentShift","setSelectedGames","showRentalModal","setShowRentalModal","notifications","setNotifications","setStats","todayRentals","loadGames","response","get","params","data","prev","_response$data","console","loadActiveRentals","_response$data2","loadCompletedRentals","shift_id","limit","loadCurrentShift","today","split","revenueResponse","status","start_date","end_date","_revenueResponse$data","loadAllData","Promise","all","addNotification","startShift","post","endShift","handleSelectGame","isAlreadySelected","g","handleCreateRental","results","rentalPayload","game_id","payment_method","trim","push","every","r","handleEndRental","put","handleCancelRental","refund_amount","reason","n","interval","setInterval","clearInterval","notification","branch_name","_c7","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== نظام الإشعارات ====================\r\nconst NotificationSystem = ({ type, message }) => {\r\n  const [visible, setVisible] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setVisible(false), 5000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  if (!visible) return null;\r\n\r\n  const colors = {\r\n    success: 'bg-green-500 border-green-600',\r\n    error: 'bg-red-500 border-red-600',\r\n    warning: 'bg-yellow-500 border-yellow-600',\r\n    info: 'bg-blue-500 border-blue-600'\r\n  };\r\n\r\n  const icons = {\r\n    success: '✅',\r\n    error: '❌',\r\n    warning: '⚠️',\r\n    info: 'ℹ️'\r\n  };\r\n\r\n  return (\r\n    <div className={`notification ${colors[type]}`}>\r\n      <span className=\"notification-icon\">{icons[type]}</span>\r\n      <span className=\"notification-message\">{message}</span>\r\n      <button onClick={() => setVisible(false)} className=\"notification-close\">✕</button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== دوال مساعدة ====================\r\nconst formatCurrency = (amount) => {\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst validatePhone = (phone) => /^01[0-9]{9}$/.test(phone);\r\n\r\nconst calculateDuration = (start, end) => {\r\n  if (!start) return 0;\r\n  const startTime = new Date(start);\r\n  const endTime = end ? new Date(end) : new Date();\r\n  return Math.floor((endTime - startTime) / (1000 * 60));\r\n};\r\n\r\n// ==================== مكون قائمة الألعاب ====================\r\nconst GamesGrid = ({ games, branchId, onSelectGame }) => {\r\n  const getGameImage = (game) => {\r\n    const imageMap = {\r\n      'دريفت كار': '/images/Driftcar.jpg',\r\n      'هافر بورد': '/images/Hoverboard.jpg',\r\n      'سكوتر': '/images/Scooter.jpg',\r\n      'عربة كهربائية': '/images/Car.jpg',\r\n      'موتوسيكل كهربائي': '/images/Motor.jpg',\r\n      'هارلي': '/images/harley.jpg',\r\n      'سيجواي': '/images/Segway.jpg',\r\n      'كرازي كار': '/images/Ninebot.jpg',\r\n      'سكيت كهربائي': '/images/Skate.jpg',\r\n      'ترامبولين': '/images/Trampoline.jpg',\r\n      'محاكي': '/images/Simulator.jpg'\r\n    };\r\n    return imageMap[game.name] || '/images/default-game.jpg';\r\n  };\r\n\r\n  const filteredGames = useMemo(() => {\r\n    return games.filter(game => \r\n      game.branch_id === parseInt(branchId) && \r\n      game.is_active === 1\r\n    );\r\n  }, [games, branchId]);\r\n\r\n  return (\r\n    <div className=\"games-grid-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">🎮</span>\r\n          الألعاب المتاحة\r\n          <span className=\"section-count\">({filteredGames.length})</span>\r\n        </h3>\r\n      </div>\r\n      \r\n      <div className=\"games-grid\">\r\n        {filteredGames.map(game => (\r\n          <div \r\n            key={game.id} \r\n            className=\"game-card\"\r\n            onClick={() => onSelectGame(game)}\r\n          >\r\n            <div className=\"game-image-container\">\r\n              <img \r\n                src={getGameImage(game)} \r\n                alt={game.name}\r\n                className=\"game-image\"\r\n                onError={(e) => e.target.src = '/images/default-game.jpg'}\r\n              />\r\n              <div className=\"game-status-badge available\">\r\n                متاح\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"game-info\">\r\n              <h4 className=\"game-name\">{game.name}</h4>\r\n              <div className=\"game-details\">\r\n                <span className=\"game-category\">{game.category || 'عام'}</span>\r\n                <span className=\"game-price\">\r\n                  {formatCurrency(game.price_per_15min)} / 15 دقيقة\r\n                </span>\r\n              </div>\r\n              \r\n              <button className=\"select-game-btn\">\r\n                <span className=\"btn-icon\">➕</span>\r\n                <span className=\"btn-text\">إضافة للتأجير</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون تأجير متعدد ====================\r\nconst MultiRentalModal = ({ show, onClose, selectedGames, onConfirmRental }) => {\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    phone: '',\r\n    notes: ''\r\n  });\r\n  \r\n  const [rentalItems, setRentalItems] = useState([]);\r\n  const [paymentMethod, setPaymentMethod] = useState('كاش');\r\n  \r\n  useEffect(() => {\r\n    if (show && selectedGames.length > 0) {\r\n      const items = selectedGames.map(game => ({\r\n        id: game.id,\r\n        gameId: game.id,\r\n        gameName: game.name,\r\n        gameImage: game.image_url,\r\n        rentalType: 'fixed', // 'fixed' أو 'open'\r\n        duration: 15,\r\n        pricePer15min: game.price_per_15min || 100,\r\n        quantity: 1,\r\n        notes: ''\r\n      }));\r\n      setRentalItems(items);\r\n    }\r\n  }, [show, selectedGames]);\r\n\r\n  const updateRentalItem = (id, updates) => {\r\n    setRentalItems(items => \r\n      items.map(item => \r\n        item.id === id ? { ...item, ...updates } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const removeRentalItem = (id) => {\r\n    setRentalItems(items => items.filter(item => item.id !== id));\r\n  };\r\n\r\n  const calculateItemPrice = (item) => {\r\n    if (item.rentalType === 'open') return 0;\r\n    const units = Math.ceil(item.duration / 15);\r\n    return item.pricePer15min * units * item.quantity;\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return rentalItems.reduce((total, item) => {\r\n      return total + calculateItemPrice(item);\r\n    }, 0);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (!customerInfo.name || !customerInfo.phone) {\r\n      alert('يرجى إدخال اسم العميل ورقم الهاتف');\r\n      return;\r\n    }\r\n    \r\n    if (!validatePhone(customerInfo.phone)) {\r\n      alert('رقم الهاتف غير صحيح. يجب أن يكون 11 رقماً ويبدأ بـ 01');\r\n      return;\r\n    }\r\n    \r\n    if (rentalItems.length === 0) {\r\n      alert('يرجى إضافة ألعاب للتأجير');\r\n      return;\r\n    }\r\n\r\n    const rentalData = {\r\n      customerInfo,\r\n      rentalItems,\r\n      paymentMethod,\r\n      totalAmount: calculateTotal(),\r\n      timestamp: new Date().toISOString()\r\n    };\r\n\r\n    onConfirmRental(rentalData);\r\n  };\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal multi-rental-modal\">\r\n        <div className=\"modal-header\">\r\n          <h2>🎯 تأجير متعدد</h2>\r\n          <button onClick={onClose} className=\"modal-close\">✕</button>\r\n        </div>\r\n        \r\n        <div className=\"modal-body\">\r\n          {/* معلومات العميل */}\r\n          <div className=\"customer-section\">\r\n            <h3 className=\"section-title\">👤 معلومات العميل</h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>الاسم الكامل *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={customerInfo.name}\r\n                  onChange={(e) => setCustomerInfo({...customerInfo, name: e.target.value})}\r\n                  placeholder=\"أدخل اسم العميل\"\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>رقم الهاتف *</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={customerInfo.phone}\r\n                  onChange={(e) => setCustomerInfo({...customerInfo, phone: e.target.value})}\r\n                  placeholder=\"01xxxxxxxxx\"\r\n                  maxLength={11}\r\n                />\r\n                {customerInfo.phone && !validatePhone(customerInfo.phone) && (\r\n                  <span className=\"error-text\">رقم هاتف غير صحيح</span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group full-width\">\r\n                <label>ملاحظات (اختياري)</label>\r\n                <textarea\r\n                  value={customerInfo.notes}\r\n                  onChange={(e) => setCustomerInfo({...customerInfo, notes: e.target.value})}\r\n                  placeholder=\"ملاحظات إضافية...\"\r\n                  rows=\"2\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* قائمة التأجيرات */}\r\n          <div className=\"rentals-section\">\r\n            <h3 className=\"section-title\">📋 قائمة التأجيرات ({rentalItems.length})</h3>\r\n            \r\n            {rentalItems.map(item => (\r\n              <div key={item.id} className=\"rental-item-card\">\r\n                <div className=\"rental-item-header\">\r\n                  <div className=\"item-info\">\r\n                    <img src={item.gameImage} alt={item.gameName} className=\"item-image\" />\r\n                    <div className=\"item-details\">\r\n                      <h4>{item.gameName}</h4>\r\n                      <span className=\"item-price\">\r\n                        {formatCurrency(item.pricePer15min)} / 15 دقيقة\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button \r\n                    onClick={() => removeRentalItem(item.id)}\r\n                    className=\"remove-item-btn\"\r\n                  >\r\n                    🗑️\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"rental-item-options\">\r\n                  {/* نوع التأجير */}\r\n                  <div className=\"option-group\">\r\n                    <label>نوع التأجير:</label>\r\n                    <div className=\"toggle-buttons\">\r\n                      <button\r\n                        className={`toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`}\r\n                        onClick={() => updateRentalItem(item.id, { rentalType: 'fixed', duration: 15 })}\r\n                      >\r\n                        ⏰ وقت ثابت\r\n                      </button>\r\n                      <button\r\n                        className={`toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`}\r\n                        onClick={() => updateRentalItem(item.id, { rentalType: 'open', duration: 0 })}\r\n                      >\r\n                        ⏳ وقت مفتوح\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* المدة (للتأجير الثابت) */}\r\n                  {item.rentalType === 'fixed' && (\r\n                    <div className=\"option-group\">\r\n                      <label>المدة:</label>\r\n                      <div className=\"duration-options\">\r\n                        {[15, 30, 45, 60, 90, 120].map(minutes => (\r\n                          <button\r\n                            key={minutes}\r\n                            className={`duration-btn ${item.duration === minutes ? 'active' : ''}`}\r\n                            onClick={() => updateRentalItem(item.id, { duration: minutes })}\r\n                          >\r\n                            {minutes} دقيقة\r\n                          </button>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* الكمية */}\r\n                  <div className=\"option-group\">\r\n                    <label>الكمية:</label>\r\n                    <div className=\"quantity-control\">\r\n                      <button \r\n                        onClick={() => updateRentalItem(item.id, { \r\n                          quantity: Math.max(1, item.quantity - 1) \r\n                        })}\r\n                        className=\"quantity-btn\"\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <span className=\"quantity-value\">{item.quantity}</span>\r\n                      <button \r\n                        onClick={() => updateRentalItem(item.id, { \r\n                          quantity: item.quantity + 1 \r\n                        })}\r\n                        className=\"quantity-btn\"\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  {/* الملخص */}\r\n                  <div className=\"item-summary\">\r\n                    <span className=\"summary-label\">المبلغ:</span>\r\n                    <span className=\"summary-value\">\r\n                      {item.rentalType === 'open' \r\n                        ? '⏳ عند الإنهاء' \r\n                        : formatCurrency(calculateItemPrice(item))}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* الملخص النهائي */}\r\n          <div className=\"summary-section\">\r\n            <h3 className=\"section-title\">💰 الملخص النهائي</h3>\r\n            \r\n            <div className=\"summary-grid\">\r\n              <div className=\"summary-item\">\r\n                <span>عدد الألعاب:</span>\r\n                <span>{rentalItems.length}</span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>إجمالي القطع:</span>\r\n                <span>{rentalItems.reduce((sum, item) => sum + item.quantity, 0)}</span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>طريقة الدفع:</span>\r\n                <select \r\n                  value={paymentMethod}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"payment-select\"\r\n                >\r\n                  <option value=\"كاش\">💵 كاش</option>\r\n                  <option value=\"بطاقة\">💳 بطاقة</option>\r\n                  <option value=\"فودافون كاش\">📱 فودافون كاش</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"summary-item total\">\r\n                <span>المبلغ المدفوع الآن:</span>\r\n                <span className=\"total-amount\">{formatCurrency(calculateTotal())}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            {rentalItems.some(item => item.rentalType === 'open') && (\r\n              <div className=\"open-time-notice\">\r\n                ⚠️ يوجد {rentalItems.filter(item => item.rentalType === 'open').length} لعبة بالدفع عند الإنهاء\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"modal-footer\">\r\n          <button onClick={onClose} className=\"btn btn-secondary\">\r\n            إلغاء\r\n          </button>\r\n          <button onClick={handleSubmit} className=\"btn btn-primary\">\r\n            🚀 بدء التأجير\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون التأجيرات النشطة ====================\r\nconst ActiveRentalsTable = ({ rentals, onAction }) => {\r\n  const handleAction = (action, rental) => {\r\n    switch(action) {\r\n      case 'details':\r\n        // عرض التفاصيل\r\n        break;\r\n      case 'end':\r\n        onAction('endRental', rental);\r\n        break;\r\n      case 'cancel':\r\n        if (window.confirm(`هل تريد إلغاء تأجير ${rental.rental_number}؟`)) {\r\n          onAction('cancelRental', rental);\r\n        }\r\n        break;\r\n      case 'change':\r\n        onAction('changeGame', rental);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const getRemainingTime = (rental) => {\r\n    if (rental.is_open_time) return '⏳ وقت مفتوح';\r\n    \r\n    const endTime = new Date(rental.start_time);\r\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n    const now = new Date();\r\n    \r\n    if (now > endTime) return '⏰ انتهى';\r\n    \r\n    const diffMs = endTime - now;\r\n    const minutes = Math.floor(diffMs / 60000);\r\n    const seconds = Math.floor((diffMs % 60000) / 1000);\r\n    \r\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"active-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">🔥</span>\r\n          التأجيرات النشطة\r\n          <span className=\"section-count\">({rentals.length})</span>\r\n        </h3>\r\n      </div>\r\n      \r\n      <div className=\"table-container\">\r\n        <table className=\"rentals-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>رقم التأجير</th>\r\n              <th>العميل</th>\r\n              <th>اللعبة</th>\r\n              <th>الوقت المنقضي</th>\r\n              <th>المدة</th>\r\n              <th>حالة الدفع</th>\r\n              <th>الإجراءات</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rentals.map(rental => (\r\n              <tr key={rental.id}>\r\n                <td className=\"rental-number\">#{rental.rental_number}</td>\r\n                <td>\r\n                  <div className=\"customer-cell\">\r\n                    <div className=\"customer-name\">{rental.customer_name}</div>\r\n                    <div className=\"customer-phone\">{rental.customer_phone}</div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"game-cell\">{rental.game_name}</td>\r\n                <td>\r\n                  <div className={`time-cell ${getRemainingTime(rental) === '⏰ انتهى' ? 'expired' : ''}`}>\r\n                    {getRemainingTime(rental)}\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  {rental.is_open_time \r\n                    ? '⏳ مفتوح' \r\n                    : `${rental.duration_minutes} دقيقة`}\r\n                </td>\r\n                <td>\r\n                  <span className={`payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`}>\r\n                    {rental.payment_status === 'مدفوع' ? '✅ مدفوع' : '⏳ عند الإنهاء'}\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                  <div className=\"action-buttons\">\r\n                    <button \r\n                      onClick={() => handleAction('details', rental)}\r\n                      className=\"action-btn view-btn\"\r\n                      title=\"عرض التفاصيل\"\r\n                    >\r\n                      👁️\r\n                    </button>\r\n                    \r\n                    {rental.is_open_time && (\r\n                      <button \r\n                        onClick={() => handleAction('end', rental)}\r\n                        className=\"action-btn end-btn\"\r\n                        title=\"إنهاء الوقت\"\r\n                      >\r\n                        ⏹️\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {!rental.is_open_time && (\r\n                      <button \r\n                        onClick={() => handleAction('change', rental)}\r\n                        className=\"action-btn change-btn\"\r\n                        title=\"تغيير اللعبة\"\r\n                      >\r\n                        🔄\r\n                      </button>\r\n                    )}\r\n                    \r\n                    <button \r\n                      onClick={() => handleAction('cancel', rental)}\r\n                      className=\"action-btn cancel-btn\"\r\n                      title=\"إلغاء التأجير\"\r\n                    >\r\n                      ❌\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون التأجيرات المكتملة ====================\r\nconst CompletedRentalsTable = ({ rentals, isManager }) => {\r\n  if (!isManager) return null;\r\n\r\n  return (\r\n    <div className=\"completed-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">✅</span>\r\n          التأجيرات المكتملة\r\n          <span className=\"section-count\">({rentals.length})</span>\r\n        </h3>\r\n      </div>\r\n      \r\n      <div className=\"table-container\">\r\n        <table className=\"rentals-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>رقم التأجير</th>\r\n              <th>العميل</th>\r\n              <th>اللعبة</th>\r\n              <th>وقت البدء</th>\r\n              <th>وقت الانتهاء</th>\r\n              <th>المدة</th>\r\n              <th>المبلغ</th>\r\n              <th>حالة الدفع</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rentals.map(rental => (\r\n              <tr key={rental.id}>\r\n                <td>#{rental.rental_number}</td>\r\n                <td>{rental.customer_name}</td>\r\n                <td>{rental.game_name}</td>\r\n                <td>{formatDateTime(rental.start_time)}</td>\r\n                <td>{formatDateTime(rental.end_time)}</td>\r\n                <td>{rental.duration_minutes} دقيقة</td>\r\n                <td>{formatCurrency(rental.total_amount)}</td>\r\n                <td>\r\n                  <span className={`payment-status ${rental.payment_status === 'مدفوع' ? 'paid' : 'pending'}`}>\r\n                    {rental.payment_status}\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== مكون لوحة التحكم ====================\r\nconst DashboardStats = ({ stats, currentShift, onStartShift, onEndShift }) => {\r\n  return (\r\n    <div className=\"dashboard-stats\">\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🎮</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.availableGames || 0}</div>\r\n            <div className=\"stat-label\">ألعاب متاحة</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🔥</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.activeRentals || 0}</div>\r\n            <div className=\"stat-label\">تأجيرات نشطة</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">💰</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{formatCurrency(stats.todayRevenue || 0)}</div>\r\n            <div className=\"stat-label\">إيراد اليوم</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card shift-card\">\r\n          <div className=\"stat-icon\">⏱️</div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">\r\n              {currentShift ? `#${currentShift.id}` : 'لا يوجد'}\r\n            </div>\r\n            <div className=\"stat-label\">الشيفت الحالي</div>\r\n            <div className=\"shift-actions\">\r\n              {!currentShift ? (\r\n                <button onClick={onStartShift} className=\"btn btn-sm btn-success\">\r\n                  🚀 بدء شيفت\r\n                </button>\r\n              ) : (\r\n                <button onClick={onEndShift} className=\"btn btn-sm btn-warning\">\r\n                  🏁 إنهاء شيفت\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ==================== المكون الرئيسي ====================\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n  const isEmployee = user?.role === 'employee';\r\n\r\n  // الحالات الرئيسية\r\n  const [loading, setLoading] = useState(true);\r\n  const [games, setGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  \r\n  // الحالات للواجهة\r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [showRentalModal, setShowRentalModal] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  \r\n  // الإحصائيات\r\n  const [stats, setStats] = useState({\r\n    availableGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n\r\n  // ==================== دوال جلب البيانات ====================\r\n  const loadGames = async () => {\r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { branch_id: user.branch_id, is_active: 1 }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setGames(response.data || []);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          availableGames: response.data?.length || 0\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading games:', error);\r\n    }\r\n  };\r\n\r\n  const loadActiveRentals = async () => {\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: { branch_id: user.branch_id }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setActiveRentals(response.data || []);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          activeRentals: response.data?.length || 0\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading active rentals:', error);\r\n    }\r\n  };\r\n\r\n  const loadCompletedRentals = async () => {\r\n    if (!isManager) return;\r\n    \r\n    try {\r\n      const response = await api.get('/rentals/completed', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          shift_id: currentShift?.id,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        setCompletedRentals(response.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading completed rentals:', error);\r\n    }\r\n  };\r\n\r\n  const loadCurrentShift = async () => {\r\n    try {\r\n      const response = await api.get('/shifts/active');\r\n      \r\n      if (response.success && response.data) {\r\n        setCurrentShift(response.data);\r\n        \r\n        // جلب الإيرادات اليومية\r\n        const today = new Date().toISOString().split('T')[0];\r\n        const revenueResponse = await api.get('/rentals', {\r\n          params: {\r\n            branch_id: user.branch_id,\r\n            status: 'مكتمل',\r\n            start_date: today,\r\n            end_date: today\r\n          }\r\n        });\r\n        \r\n        if (revenueResponse.success) {\r\n          const todayRevenue = (revenueResponse.data || []).reduce(\r\n            (sum, rental) => sum + (rental.total_amount || 0), 0\r\n          );\r\n          \r\n          setStats(prev => ({\r\n            ...prev,\r\n            todayRevenue,\r\n            todayRentals: revenueResponse.data?.length || 0\r\n          }));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading shift:', error);\r\n    }\r\n  };\r\n\r\n  // جلب جميع البيانات\r\n  const loadAllData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await Promise.all([\r\n        loadGames(),\r\n        loadActiveRentals(),\r\n        loadCurrentShift()\r\n      ]);\r\n      \r\n      if (currentShift) {\r\n        await loadCompletedRentals();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading all data:', error);\r\n      addNotification('error', 'حدث خطأ في تحميل البيانات');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ==================== دوال إدارة الشيفت ====================\r\n  const startShift = async () => {\r\n    try {\r\n      const response = await api.post('/shifts/start-clean');\r\n      \r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n        addNotification('success', `تم بدء شيفت جديد #${response.data.id}`);\r\n        await loadAllData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error starting shift:', error);\r\n      addNotification('error', 'فشل بدء الشيفت');\r\n    }\r\n  };\r\n\r\n  const endShift = async () => {\r\n    if (!currentShift) return;\r\n    \r\n    if (!window.confirm('هل تريد إنهاء الشيفت الحالي؟')) return;\r\n    \r\n    try {\r\n      const response = await api.post(`/shifts/${currentShift.id}/end`);\r\n      \r\n      if (response.success) {\r\n        setCurrentShift(null);\r\n        setActiveRentals([]);\r\n        addNotification('success', 'تم إنهاء الشيفت بنجاح');\r\n        await loadAllData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error ending shift:', error);\r\n      addNotification('error', 'فشل إنهاء الشيفت');\r\n    }\r\n  };\r\n\r\n  // ==================== دوال إدارة التأجيرات ====================\r\n  const handleSelectGame = (game) => {\r\n    if (!currentShift) {\r\n      addNotification('warning', 'يجب بدء شيفت أولاً');\r\n      return;\r\n    }\r\n    \r\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\r\n    \r\n    if (!isAlreadySelected) {\r\n      setSelectedGames([...selectedGames, game]);\r\n      addNotification('success', `تمت إضافة ${game.name} للتأجير`);\r\n    }\r\n    \r\n    setShowRentalModal(true);\r\n  };\r\n\r\n  const handleCreateRental = async (rentalData) => {\r\n    try {\r\n      const { customerInfo, rentalItems, paymentMethod, totalAmount } = rentalData;\r\n      \r\n      // إنشاء كل تأجير على حدة\r\n      const results = [];\r\n      \r\n      for (const item of rentalItems) {\r\n        const rentalPayload = {\r\n          customer_name: customerInfo.name,\r\n          customer_phone: customerInfo.phone,\r\n          game_id: item.gameId,\r\n          branch_id: user.branch_id,\r\n          shift_id: currentShift.id,\r\n          duration_minutes: item.rentalType === 'fixed' ? item.duration : 0,\r\n          total_amount: item.rentalType === 'fixed' ? \r\n            (item.pricePer15min * Math.ceil(item.duration / 15) * item.quantity) : 0,\r\n          payment_method: paymentMethod,\r\n          payment_status: item.rentalType === 'fixed' ? 'مدفوع' : 'عند الإنهاء',\r\n          start_time: new Date().toISOString(),\r\n          status: 'نشط',\r\n          notes: `${customerInfo.notes} ${item.notes}`.trim()\r\n        };\r\n        \r\n        const response = await api.post('/rentals/simple', rentalPayload);\r\n        results.push(response);\r\n      }\r\n      \r\n      // تحديث الواجهة\r\n      if (results.every(r => r.success)) {\r\n        addNotification('success', `تم إنشاء ${rentalItems.length} تأجير بنجاح`);\r\n        setShowRentalModal(false);\r\n        setSelectedGames([]);\r\n        await loadAllData();\r\n      } else {\r\n        addNotification('error', 'حدث خطأ في بعض التأجيرات');\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('Error creating rental:', error);\r\n      addNotification('error', 'حدث خطأ في إنشاء التأجير');\r\n    }\r\n  };\r\n\r\n  const handleEndRental = async (rental) => {\r\n    try {\r\n      const response = await api.put(`/rentals/${rental.id}/complete`, {\r\n        payment_method: 'كاش'\r\n      });\r\n      \r\n      if (response.success) {\r\n        addNotification('success', 'تم إنهاء التأجير بنجاح');\r\n        await loadAllData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error ending rental:', error);\r\n      addNotification('error', 'فشل إنهاء التأجير');\r\n    }\r\n  };\r\n\r\n  const handleCancelRental = async (rental) => {\r\n    try {\r\n      const response = await api.put(`/rentals/${rental.id}/cancel`, {\r\n        refund_amount: rental.total_amount || 0,\r\n        reason: 'إلغاء من قبل الموظف'\r\n      });\r\n      \r\n      if (response.success) {\r\n        addNotification('success', 'تم إلغاء التأجير بنجاح');\r\n        await loadAllData();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cancelling rental:', error);\r\n      addNotification('error', 'فشل إلغاء التأجير');\r\n    }\r\n  };\r\n\r\n  // ==================== نظام الإشعارات ====================\r\n  const addNotification = (type, message) => {\r\n    const id = Date.now();\r\n    setNotifications(prev => [...prev, { id, type, message }]);\r\n    \r\n    setTimeout(() => {\r\n      setNotifications(prev => prev.filter(n => n.id !== id));\r\n    }, 5000);\r\n  };\r\n\r\n  // ==================== useEffect ====================\r\n  useEffect(() => {\r\n    loadAllData();\r\n    \r\n    // تحديث دوري كل دقيقة\r\n    const interval = setInterval(() => {\r\n      loadActiveRentals();\r\n    }, 60000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // ==================== التصيير ====================\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner\"></div>\r\n        <p>جاري تحميل النظام...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-page\">\r\n      {/* الإشعارات */}\r\n      <div className=\"notifications-container\">\r\n        {notifications.map(notification => (\r\n          <NotificationSystem key={notification.id} {...notification} />\r\n        ))}\r\n      </div>\r\n      \r\n      {/* الرأس */}\r\n      <header className=\"page-header\">\r\n        <div className=\"header-content\">\r\n          <h1 className=\"page-title\">\r\n            <span className=\"title-icon\">🎮</span>\r\n            نظام إدارة التأجيرات\r\n          </h1>\r\n          <div className=\"user-info\">\r\n            <span className=\"user-name\">{user?.name}</span>\r\n            <span className=\"user-role\">\r\n              {isManager ? '👑 مدير' : '👷 موظف'}\r\n            </span>\r\n            <span className=\"branch-name\">{user?.branch_name}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"header-actions\">\r\n          {selectedGames.length > 0 && (\r\n            <button \r\n              onClick={() => setShowRentalModal(true)}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              🚀 بدء تأجير ({selectedGames.length})\r\n            </button>\r\n          )}\r\n          \r\n          <button \r\n            onClick={loadAllData}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            🔄 تحديث\r\n          </button>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* لوحة التحكم */}\r\n      <DashboardStats \r\n        stats={stats}\r\n        currentShift={currentShift}\r\n        onStartShift={startShift}\r\n        onEndShift={endShift}\r\n      />\r\n      \r\n      {/* الرسالة عند عدم وجود شيفت */}\r\n      {!currentShift && (\r\n        <div className=\"no-shift-alert\">\r\n          <div className=\"alert-content\">\r\n            <span className=\"alert-icon\">⚠️</span>\r\n            <div className=\"alert-text\">\r\n              <h3>لا يوجد شيفت نشط</h3>\r\n              <p>يجب بدء شيفت جديد للتمكن من إدارة التأجيرات</p>\r\n            </div>\r\n            <button onClick={startShift} className=\"btn btn-success\">\r\n              🚀 بدء شيفت جديد\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* المحتوى الرئيسي */}\r\n      {currentShift && (\r\n        <div className=\"main-content\">\r\n          {/* الألعاب المتاحة */}\r\n          <GamesGrid \r\n            games={games}\r\n            branchId={user.branch_id}\r\n            onSelectGame={handleSelectGame}\r\n          />\r\n          \r\n          {/* التأجيرات النشطة */}\r\n          <ActiveRentalsTable \r\n            rentals={activeRentals}\r\n            onAction={(action, rental) => {\r\n              switch(action) {\r\n                case 'endRental':\r\n                  handleEndRental(rental);\r\n                  break;\r\n                case 'cancelRental':\r\n                  handleCancelRental(rental);\r\n                  break;\r\n                case 'changeGame':\r\n                  // تنفيذ تغيير اللعبة\r\n                  break;\r\n              }\r\n            }}\r\n          />\r\n          \r\n          {/* التأجيرات المكتملة (للمدير فقط) */}\r\n          <CompletedRentalsTable \r\n            rentals={completedRentals}\r\n            isManager={isManager}\r\n          />\r\n        </div>\r\n      )}\r\n      \r\n      {/* نافذة التأجير المتعدد */}\r\n      <MultiRentalModal \r\n        show={showRentalModal}\r\n        onClose={() => {\r\n          setShowRentalModal(false);\r\n          if (selectedGames.length === 0) {\r\n            setSelectedGames([]);\r\n          }\r\n        }}\r\n        selectedGames={selectedGames}\r\n        onConfirmRental={handleCreateRental}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}