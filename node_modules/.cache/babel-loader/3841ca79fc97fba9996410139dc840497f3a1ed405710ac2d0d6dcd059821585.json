{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\n\n// ==================== ØªÙ‡ÙŠØ¦Ø© axios ====================\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'ar'\n  },\n  withCredentials: true\n});\n\n// ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ± ====================\nconst IS_DEVELOPMENT = process.env.NODE_ENV === 'development';\n\n// ==================== Interceptors ====================\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·\n  if (IS_DEVELOPMENT) {\n    var _config$method;\n    console.log('ğŸŒ API Request:', {\n      method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n      url: config.url,\n      params: config.params,\n      data: config.data\n    });\n  }\n  return config;\n}, error => {\n  console.error('âŒ Request Interceptor Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  if (IS_DEVELOPMENT) {\n    console.log('âœ… API Response:', {\n      url: response.config.url,\n      status: response.status,\n      data: response.data\n    });\n  }\n\n  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©\n  return response.data;\n}, async error => {\n  var _error$response3, _error$response4, _error$response5, _error$response5$data, _error$response6, _error$response6$data, _error$response7;\n  const originalRequest = error.config;\n  if (IS_DEVELOPMENT) {\n    var _error$config, _error$response, _error$response2;\n    console.error('âŒ API Error:', {\n      url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n      status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n      message: error.message,\n      response: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n    });\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 401 (ØºÙŠØ± Ù…ØµØ±Ø­) ÙˆÙ„Ù… ÙŠØªÙ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø¨Ø¹Ø¯\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401 && !originalRequest._retry) {\n    originalRequest._retry = true;\n    try {\n      // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†\n      const refreshToken = localStorage.getItem('refreshToken');\n      if (refreshToken) {\n        const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {\n          refreshToken\n        });\n        const {\n          token,\n          refreshToken: newRefreshToken\n        } = response.data;\n        if (token) {\n          localStorage.setItem('token', token);\n          localStorage.setItem('refreshToken', newRefreshToken || refreshToken);\n\n          // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯\n          originalRequest.headers.Authorization = `Bearer ${token}`;\n          return api(originalRequest);\n        }\n      }\n    } catch (refreshError) {\n      console.error('âŒ ÙØ´Ù„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†:', refreshError);\n      // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\n      api.logout();\n    }\n  }\n\n  // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø®Ø·Ø£ Ø¨Ø´ÙƒÙ„ Ù…Ù†Ø¸Ù…\n  return Promise.reject({\n    success: false,\n    status: (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status,\n    message: ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\n    errors: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.errors,\n    data: (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data\n  });\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\napi.setToken = (token, refreshToken = null) => {\n  if (token) {\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    localStorage.setItem('token', token);\n    if (refreshToken) {\n      localStorage.setItem('refreshToken', refreshToken);\n    }\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n    localStorage.removeItem('refreshToken');\n  }\n};\napi.removeToken = () => {\n  delete api.defaults.headers.common['Authorization'];\n  localStorage.removeItem('token');\n  localStorage.removeItem('refreshToken');\n  localStorage.removeItem('user');\n  localStorage.removeItem('lastLogin');\n};\napi.getToken = () => {\n  return localStorage.getItem('token');\n};\napi.getUser = () => {\n  const userStr = localStorage.getItem('user');\n  return userStr ? JSON.parse(userStr) : null;\n};\napi.setUser = user => {\n  localStorage.setItem('user', JSON.stringify(user));\n};\napi.checkAuth = () => {\n  const token = localStorage.getItem('token');\n  const user = api.getUser();\n  return {\n    isAuthenticated: !!token && !!user,\n    token: token,\n    user: user\n  };\n};\napi.hasPermission = requiredRole => {\n  const user = api.getUser();\n  if (!user) return false;\n  const roleHierarchy = {\n    'admin': 3,\n    'branch_manager': 2,\n    'employee': 1\n  };\n  const userLevel = roleHierarchy[user.role] || 0;\n  const requiredLevel = roleHierarchy[requiredRole] || 0;\n  return userLevel >= requiredLevel;\n};\n\n// ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© ====================\nconst handleApiError = (error, customMessage = '') => {\n  console.error('âŒ API Error:', error);\n  let message = customMessage;\n  let status = error.status || 0;\n  if (!message) {\n    var _error$message, _error$message2;\n    if (status === 401) {\n      message = 'ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';\n      api.logout(false);\n    } else if (status === 403) {\n      message = 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡';\n    } else if (status === 404) {\n      message = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨';\n    } else if (status === 500) {\n      message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹';\n    } else if ((_error$message = error.message) !== null && _error$message !== void 0 && _error$message.includes('Network Error')) {\n      message = 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';\n    } else if ((_error$message2 = error.message) !== null && _error$message2 !== void 0 && _error$message2.includes('timeout')) {\n      message = 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';\n    } else {\n      message = error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹';\n    }\n  }\n  return {\n    success: false,\n    status: status,\n    message: message,\n    error: error\n  };\n};\nconst safeApiCall = async (apiCall, customMessage = '') => {\n  try {\n    const response = await apiCall();\n    if (response.success === false) {\n      return {\n        success: false,\n        message: response.message || customMessage || 'ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',\n        data: response.data,\n        status: response.status\n      };\n    }\n    return {\n      success: true,\n      data: response.data || response,\n      message: response.message || 'ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­',\n      status: 200\n    };\n  } catch (error) {\n    return handleApiError(error, customMessage);\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\n\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\napi.login = async (email, password) => {\n  return safeApiCall(async () => {\n    const response = await api.post('/auth/login', {\n      email,\n      password\n    });\n    if (response.success && response.token) {\n      api.setToken(response.token, response.refreshToken);\n      api.setUser(response.user);\n      localStorage.setItem('lastLogin', new Date().toISOString());\n    }\n    return response;\n  }, 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');\n};\napi.logout = async (redirect = true) => {\n  try {\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\n  } finally {\n    api.removeToken();\n    if (redirect) {\n      setTimeout(() => {\n        window.location.href = '/login';\n      }, 100);\n    }\n  }\n};\napi.getProfile = async () => {\n  return safeApiCall(() => api.get('/auth/profile'), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');\n};\napi.updateProfile = async profileData => {\n  return safeApiCall(() => api.put('/auth/profile', profileData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');\n};\napi.changePassword = async (currentPassword, newPassword) => {\n  return safeApiCall(() => api.put('/auth/change-password', {\n    currentPassword,\n    newPassword\n  }), 'ØªØ¹Ø°Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');\n};\n\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\napi.getBranches = async (params = {}) => {\n  return safeApiCall(() => api.get('/branches', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹');\n};\napi.getBranch = async id => {\n  return safeApiCall(() => api.get(`/branches/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹');\n};\napi.createBranch = async branchData => {\n  return safeApiCall(() => api.post('/branches', branchData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹');\n};\napi.updateBranch = async (id, branchData) => {\n  return safeApiCall(() => api.put(`/branches/${id}`, branchData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹');\n};\napi.deleteBranch = async id => {\n  return safeApiCall(() => api.delete(`/branches/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹');\n};\napi.getBranchGames = async (branchId, params = {}) => {\n  return safeApiCall(() => api.get(`/branches/${branchId}/games`, {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹');\n};\n\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\napi.getGames = async (params = {}) => {\n  return safeApiCall(() => api.get('/games', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨');\n};\napi.getGame = async id => {\n  return safeApiCall(() => api.get(`/games/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©');\n};\napi.createGame = async gameData => {\n  return safeApiCall(() => api.post('/games', gameData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©');\n};\napi.updateGame = async (id, gameData) => {\n  return safeApiCall(() => api.put(`/games/${id}`, gameData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©');\n};\napi.deleteGame = async id => {\n  return safeApiCall(() => api.delete(`/games/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©');\n};\napi.getAvailableGames = async (params = {}) => {\n  return safeApiCall(() => api.get('/games/available', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©');\n};\napi.getRentedGames = async (params = {}) => {\n  return safeApiCall(() => api.get('/games/rented', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©');\n};\n\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\napi.getShifts = async (params = {}) => {\n  return safeApiCall(() => api.get('/shifts', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª');\n};\napi.getShift = async id => {\n  return safeApiCall(() => api.get(`/shifts/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´ÙŠÙØª');\n};\napi.startShift = async () => {\n  return safeApiCall(() => api.post('/shifts/start'), 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª');\n};\napi.endShift = async (id, data = {}) => {\n  return safeApiCall(() => api.post(`/shifts/${id}/end`, data), 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª');\n};\napi.getActiveShift = async () => {\n  return safeApiCall(() => api.get('/shifts/active'), 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·');\n};\napi.updateShift = async (id, data) => {\n  return safeApiCall(() => api.put(`/shifts/${id}`, data), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª');\n};\n\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRentals = async (params = {}) => {\n  return safeApiCall(() => api.get('/rentals', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\n};\napi.getRental = async id => {\n  return safeApiCall(() => api.get(`/rentals/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n};\napi.createRental = async rentalData => {\n  return safeApiCall(() => api.post('/rentals', rentalData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n};\napi.updateRental = async (id, rentalData) => {\n  return safeApiCall(() => api.put(`/rentals/${id}`, rentalData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n};\napi.completeRental = async (id, data = {}) => {\n  return safeApiCall(() => api.put(`/rentals/${id}/complete`, data), 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n};\napi.cancelRental = async (id, data = {}) => {\n  return safeApiCall(() => api.put(`/rentals/${id}/cancel`, data), 'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n};\napi.getActiveRentals = async (params = {}) => {\n  return safeApiCall(() => api.get('/rentals/active', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\n};\napi.getCompletedRentals = async (params = {}) => {\n  return safeApiCall(() => api.get('/rentals/completed', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©');\n};\n\n// 6. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù…Ø­Ù…ÙŠØ© Ø¨Ø§Ù„Ø¥Ø°Ù†)\napi.getUsers = async (params = {}) => {\n  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø°Ù† Ù‚Ø¨Ù„ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n    };\n  }\n  return safeApiCall(() => api.get('/users', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†');\n};\napi.getUser = async id => {\n  const user = api.getUser();\n\n  // ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø±Ø¤ÙŠØ© Ù…Ù„ÙÙ‡ Ø§Ù„Ø´Ø®ØµÙŠ ÙÙ‚Ø·ØŒ Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† admin\n  if (user.role !== 'admin' && user.id !== parseInt(id)) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n  return safeApiCall(() => api.get(`/users/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n};\napi.createUser = async userData => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n    };\n  }\n  return safeApiCall(() => api.post('/users', userData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n};\napi.updateUser = async (id, userData) => {\n  const currentUser = api.getUser();\n\n  // ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ù…Ù„ÙÙ‡ Ø§Ù„Ø´Ø®ØµÙŠ ÙÙ‚Ø·ØŒ Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† admin\n  if (currentUser.role !== 'admin' && currentUser.id !== parseInt(id)) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n  return safeApiCall(() => api.put(`/users/${id}`, userData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n};\napi.deleteUser = async id => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n    };\n  }\n  return safeApiCall(() => api.delete(`/users/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\n};\napi.getEmployees = async (params = {}) => {\n  return safeApiCall(() => api.get('/users/employees', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†');\n};\n\n// 7. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\napi.getCustomers = async (params = {}) => {\n  return safeApiCall(() => api.get('/customers', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡');\n};\napi.getCustomer = async id => {\n  return safeApiCall(() => api.get(`/customers/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„');\n};\napi.createCustomer = async customerData => {\n  return safeApiCall(() => api.post('/customers', customerData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„');\n};\napi.updateCustomer = async (id, customerData) => {\n  return safeApiCall(() => api.put(`/customers/${id}`, customerData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„');\n};\napi.searchCustomers = async searchTerm => {\n  return safeApiCall(() => api.get('/customers/search', {\n    params: {\n      q: searchTerm\n    }\n  }), 'ØªØ¹Ø°Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡');\n};\n\n// 8. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±\napi.getDashboardStats = async (params = {}) => {\n  return safeApiCall(() => api.get('/dashboard/stats', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');\n};\napi.getMonthlyStats = async (month, year) => {\n  return safeApiCall(() => api.get('/stats/monthly', {\n    params: {\n      month,\n      year\n    }\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©');\n};\napi.getBranchStats = async (branchId, period = 'daily') => {\n  return safeApiCall(() => api.get(`/branches/${branchId}/stats/${period}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±Ø¹');\n};\napi.getTopGames = async (params = {}) => {\n  return safeApiCall(() => api.get('/analytics/top-games', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨');\n};\napi.getTopCustomers = async (params = {}) => {\n  return safeApiCall(() => api.get('/analytics/top-customers', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡');\n};\napi.getRevenueReport = async (params = {}) => {\n  return safeApiCall(() => api.get('/reports/revenue', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª');\n};\n\n// 9. Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª\napi.getActivities = async (params = {}) => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©'\n    };\n  }\n  return safeApiCall(() => api.get('/activities', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©');\n};\n\n// 10. Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„\napi.healthCheck = async () => {\n  return safeApiCall(() => api.get('/health'), 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');\n};\napi.checkConnection = async () => {\n  try {\n    const response = await axios.get(`${API_BASE_URL.replace('/api', '')}/health`, {\n      timeout: 5000\n    });\n    return {\n      success: true,\n      data: response.data,\n      message: 'âœ… Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­'\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      error: error.message\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù…ØªÙ‚Ø¯Ù…Ø© ====================\n\n// Ø¯Ø§Ù„Ø© Ù„ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹\napi.processPayment = async (rentalId, paymentData) => {\n  return safeApiCall(() => api.post(`/rentals/${rentalId}/payment`, paymentData), 'ØªØ¹Ø°Ø± Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹');\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\napi.importData = async (type, data) => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\n    };\n  }\n  return safeApiCall(() => api.post(`/data/import/${type}`, data), 'ØªØ¹Ø°Ø± Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n};\n\n// Ø¯Ø§Ù„Ø© Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\napi.exportData = async (type, params = {}) => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\n    };\n  }\n  return safeApiCall(() => api.get(`/data/export/${type}`, {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ\napi.createBackup = async () => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©'\n    };\n  }\n  return safeApiCall(() => api.post('/backup/create'), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©\napi.restoreBackup = async backupId => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©'\n    };\n  }\n  return safeApiCall(() => api.post(`/backup/restore/${backupId}`), 'ØªØ¹Ø°Ø± Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ù„ÙØ§Øª ====================\napi.uploadFile = async (file, entityType, entityId = null) => {\n  const formData = new FormData();\n  formData.append('file', file);\n  formData.append('entity_type', entityType);\n  if (entityId) {\n    formData.append('entity_id', entityId);\n  }\n  return safeApiCall(() => api.post('/files/upload', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  }), 'ØªØ¹Ø°Ø± Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù');\n};\napi.getFile = async fileId => {\n  return safeApiCall(() => api.get(`/files/${fileId}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù');\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ====================\napi.getNotifications = async (params = {}) => {\n  return safeApiCall(() => api.get('/notifications', {\n    params\n  }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª');\n};\napi.markNotificationAsRead = async notificationId => {\n  return safeApiCall(() => api.put(`/notifications/${notificationId}/read`), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±');\n};\napi.markAllNotificationsAsRead = async () => {\n  return safeApiCall(() => api.put('/notifications/read-all'), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª');\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ====================\napi.getSettings = async () => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'\n    };\n  }\n  return safeApiCall(() => api.get('/settings'), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');\n};\napi.updateSettings = async settings => {\n  if (!api.hasPermission('admin')) {\n    return {\n      success: false,\n      status: 403,\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'\n    };\n  }\n  return safeApiCall(() => api.put('/settings', settings), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ ====================\n\n// Ø¯Ø§Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©\napi.quickRental = async (gameId, customerName, customerPhone) => {\n  return safeApiCall(() => api.post('/rentals/quick', {\n    game_id: gameId,\n    customer_name: customerName,\n    customer_phone: customerPhone\n  }), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹');\n};\napi.quickCustomer = async (name, phone) => {\n  return safeApiCall(() => api.post('/customers/quick', {\n    name,\n    phone\n  }), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹');\n};\n\n// Ø¯Ø§Ù„Ø© Ù„ÙØ­Øµ Ø§Ù„ØªÙˆÙƒÙ† ÙˆØªØ­Ø¯ÙŠØ«Ù‡ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±\napi.validateAndRefreshToken = async () => {\n  const auth = api.checkAuth();\n  if (!auth.isAuthenticated) {\n    return {\n      success: false,\n      message: 'Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n    };\n  }\n  try {\n    const response = await api.get('/auth/validate');\n    return {\n      success: true,\n      data: response\n    };\n  } catch (error) {\n    if (error.status === 401) {\n      // Ø§Ù„ØªÙˆÙƒÙ† Ù…Ù†ØªÙ‡ÙŠØŒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯\n      try {\n        var _refreshResponse$data;\n        const refreshToken = localStorage.getItem('refreshToken');\n        if (!refreshToken) {\n          api.logout(false);\n          return {\n            success: false,\n            message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰'\n          };\n        }\n        const refreshResponse = await axios.post(`${API_BASE_URL}/auth/refresh`, {\n          refreshToken\n        });\n        if ((_refreshResponse$data = refreshResponse.data) !== null && _refreshResponse$data !== void 0 && _refreshResponse$data.token) {\n          api.setToken(refreshResponse.data.token, refreshResponse.data.refreshToken);\n          return {\n            success: true,\n            message: 'ØªÙ… ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©'\n          };\n        }\n      } catch (refreshError) {\n        console.error('âŒ ÙØ´Ù„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†:', refreshError);\n        api.logout(false);\n        return {\n          success: false,\n          message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰'\n        };\n      }\n    }\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ====================\n\n// Ø¯Ø§Ù„Ø© Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„\napi.startConnectionMonitor = () => {\n  if (api._connectionMonitor) {\n    clearInterval(api._connectionMonitor);\n  }\n  api._connectionMonitor = setInterval(async () => {\n    try {\n      await api.healthCheck();\n      api._lastConnectionSuccess = Date.now();\n    } catch (error) {\n      console.warn('âš ï¸ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');\n      api._lastConnectionFailure = Date.now();\n    }\n  }, 60000); // ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©\n};\napi.stopConnectionMonitor = () => {\n  if (api._connectionMonitor) {\n    clearInterval(api._connectionMonitor);\n    api._connectionMonitor = null;\n  }\n};\napi.isConnected = () => {\n  return api._lastConnectionFailure ? Date.now() - api._lastConnectionFailure > 30000 : true;\n};\n\n// ==================== Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ====================\napi.systemCheck = async () => {\n  const checks = [];\n\n  // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…\n  checks.push({\n    name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n    check: async () => {\n      const result = await api.checkConnection();\n      return result.success;\n    }\n  });\n\n  // 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\n  checks.push({\n    name: 'Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…',\n    check: () => {\n      const auth = api.checkAuth();\n      return auth.isAuthenticated;\n    }\n  });\n\n  // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n  checks.push({\n    name: 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',\n    check: async () => {\n      try {\n        const response = await api.healthCheck();\n        return response.success;\n      } catch (error) {\n        return false;\n      }\n    }\n  });\n\n  // ØªÙ†ÙÙŠØ° Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ù‚Ù‚Ø§Øª\n  const results = [];\n  for (const check of checks) {\n    try {\n      const passed = await check.check();\n      results.push({\n        name: check.name,\n        success: passed,\n        message: passed ? 'âœ… ÙŠØ¹Ù…Ù„' : 'âŒ ÙØ´Ù„'\n      });\n    } catch (error) {\n      results.push({\n        name: check.name,\n        success: false,\n        message: `âŒ Ø®Ø·Ø£: ${error.message}`\n      });\n    }\n  }\n  const allPassed = results.every(r => r.success);\n  return {\n    success: allPassed,\n    results: results,\n    message: allPassed ? 'âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : 'âš ï¸ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…'\n  };\n};\n\n// ==================== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ====================\n\n// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ† Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\nconst initializeAuth = () => {\n  const auth = api.checkAuth();\n  if (auth.isAuthenticated) {\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n    api.validateAndRefreshToken().then(result => {\n      if (!result.success && result.message.includes('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©')) {\n        console.log('âš ï¸ ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ…');\n        api.removeToken();\n      }\n    });\n  }\n\n  // Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„\n  if (IS_DEVELOPMENT) {\n    api.startConnectionMonitor();\n  }\n};\n\n// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù\ninitializeAuth();\n\n// ==================== Ø¯Ø§Ù„Ø© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø© ====================\napi.normalizeUrl = url => {\n  if (!url) return url;\n\n  // Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\n  const baseUrlWithoutApi = API_BASE_URL.replace(/\\/api$/, '');\n  let normalized = url;\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ /api ÙˆÙƒØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ /api\n  if (normalized.startsWith('/api') && API_BASE_URL.endsWith('/api')) {\n    normalized = normalized.replace(/^\\/api/, '');\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ //ØŒ Ø¥Ø²Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©\n  normalized = normalized.replace(/^\\/\\//, '/');\n\n  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\n  if (normalized.startsWith('http') && normalized.includes(baseUrlWithoutApi)) {\n    normalized = normalized.replace(baseUrlWithoutApi, '');\n  }\n\n  // Ø¥Ø¶Ø§ÙØ© / ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\n  if (!normalized.startsWith('/')) {\n    normalized = '/' + normalized;\n  }\n  return normalized;\n};\n\n// ==================== ØªØµØ¯ÙŠØ± API ====================\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","timeout","headers","withCredentials","IS_DEVELOPMENT","NODE_ENV","interceptors","request","use","config","token","localStorage","getItem","Authorization","_config$method","method","toUpperCase","url","params","data","error","Promise","reject","response","status","_error$response3","_error$response4","_error$response5","_error$response5$data","_error$response6","_error$response6$data","_error$response7","originalRequest","_error$config","_error$response","_error$response2","message","_retry","refreshToken","post","newRefreshToken","setItem","refreshError","logout","success","errors","setToken","defaults","common","removeItem","removeToken","getToken","getUser","userStr","JSON","parse","setUser","user","stringify","checkAuth","isAuthenticated","hasPermission","requiredRole","roleHierarchy","userLevel","role","requiredLevel","handleApiError","customMessage","_error$message","_error$message2","includes","safeApiCall","apiCall","login","email","password","Date","toISOString","redirect","setTimeout","window","location","href","getProfile","get","updateProfile","profileData","put","changePassword","currentPassword","newPassword","getBranches","getBranch","id","createBranch","branchData","updateBranch","deleteBranch","delete","getBranchGames","branchId","getGames","getGame","createGame","gameData","updateGame","deleteGame","getAvailableGames","getRentedGames","getShifts","getShift","startShift","endShift","getActiveShift","updateShift","getRentals","getRental","createRental","rentalData","updateRental","completeRental","cancelRental","getActiveRentals","getCompletedRentals","getUsers","parseInt","createUser","userData","updateUser","currentUser","deleteUser","getEmployees","getCustomers","getCustomer","createCustomer","customerData","updateCustomer","searchCustomers","searchTerm","q","getDashboardStats","getMonthlyStats","month","year","getBranchStats","period","getTopGames","getTopCustomers","getRevenueReport","getActivities","healthCheck","checkConnection","replace","processPayment","rentalId","paymentData","importData","type","exportData","createBackup","restoreBackup","backupId","uploadFile","file","entityType","entityId","formData","FormData","append","getFile","fileId","getNotifications","markNotificationAsRead","notificationId","markAllNotificationsAsRead","getSettings","updateSettings","settings","quickRental","gameId","customerName","customerPhone","game_id","customer_name","customer_phone","quickCustomer","name","phone","validateAndRefreshToken","auth","_refreshResponse$data","refreshResponse","startConnectionMonitor","_connectionMonitor","clearInterval","setInterval","_lastConnectionSuccess","now","warn","_lastConnectionFailure","stopConnectionMonitor","isConnected","systemCheck","checks","push","check","result","results","passed","allPassed","every","r","initializeAuth","then","normalizeUrl","baseUrlWithoutApi","normalized","startsWith","endsWith"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\r\n\r\n// ==================== ØªÙ‡ÙŠØ¦Ø© axios ====================\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Language': 'ar'\r\n  },\r\n  withCredentials: true\r\n});\r\n\r\n// ==================== Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·ÙˆÙŠØ± ====================\r\nconst IS_DEVELOPMENT = process.env.NODE_ENV === 'development';\r\n\r\n// ==================== Interceptors ====================\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·\r\n    if (IS_DEVELOPMENT) {\r\n      console.log('ğŸŒ API Request:', {\r\n        method: config.method?.toUpperCase(),\r\n        url: config.url,\r\n        params: config.params,\r\n        data: config.data\r\n      });\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Request Interceptor Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    if (IS_DEVELOPMENT) {\r\n      console.log('âœ… API Response:', {\r\n        url: response.config.url,\r\n        status: response.status,\r\n        data: response.data\r\n      });\r\n    }\r\n    \r\n    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n    return response.data;\r\n  },\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n    \r\n    if (IS_DEVELOPMENT) {\r\n      console.error('âŒ API Error:', {\r\n        url: error.config?.url,\r\n        status: error.response?.status,\r\n        message: error.message,\r\n        response: error.response?.data\r\n      });\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 401 (ØºÙŠØ± Ù…ØµØ±Ø­) ÙˆÙ„Ù… ÙŠØªÙ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø¨Ø¹Ø¯\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n      \r\n      try {\r\n        // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (refreshToken) {\r\n          const response = await axios.post(`${API_BASE_URL}/auth/refresh`, {\r\n            refreshToken\r\n          });\r\n          \r\n          const { token, refreshToken: newRefreshToken } = response.data;\r\n          \r\n          if (token) {\r\n            localStorage.setItem('token', token);\r\n            localStorage.setItem('refreshToken', newRefreshToken || refreshToken);\r\n            \r\n            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯\r\n            originalRequest.headers.Authorization = `Bearer ${token}`;\r\n            return api(originalRequest);\r\n          }\r\n        }\r\n      } catch (refreshError) {\r\n        console.error('âŒ ÙØ´Ù„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†:', refreshError);\r\n        // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ØŒ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬\r\n        api.logout();\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø®Ø·Ø£ Ø¨Ø´ÙƒÙ„ Ù…Ù†Ø¸Ù…\r\n    return Promise.reject({\r\n      success: false,\r\n      status: error.response?.status,\r\n      message: error.response?.data?.message || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\r\n      errors: error.response?.data?.errors,\r\n      data: error.response?.data\r\n    });\r\n  }\r\n);\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\napi.setToken = (token, refreshToken = null) => {\r\n  if (token) {\r\n    api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n    localStorage.setItem('token', token);\r\n    \r\n    if (refreshToken) {\r\n      localStorage.setItem('refreshToken', refreshToken);\r\n    }\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('refreshToken');\r\n  }\r\n};\r\n\r\napi.removeToken = () => {\r\n  delete api.defaults.headers.common['Authorization'];\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('refreshToken');\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('lastLogin');\r\n};\r\n\r\napi.getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\napi.getUser = () => {\r\n  const userStr = localStorage.getItem('user');\r\n  return userStr ? JSON.parse(userStr) : null;\r\n};\r\n\r\napi.setUser = (user) => {\r\n  localStorage.setItem('user', JSON.stringify(user));\r\n};\r\n\r\napi.checkAuth = () => {\r\n  const token = localStorage.getItem('token');\r\n  const user = api.getUser();\r\n  \r\n  return {\r\n    isAuthenticated: !!token && !!user,\r\n    token: token,\r\n    user: user\r\n  };\r\n};\r\n\r\napi.hasPermission = (requiredRole) => {\r\n  const user = api.getUser();\r\n  if (!user) return false;\r\n  \r\n  const roleHierarchy = {\r\n    'admin': 3,\r\n    'branch_manager': 2,\r\n    'employee': 1\r\n  };\r\n  \r\n  const userLevel = roleHierarchy[user.role] || 0;\r\n  const requiredLevel = roleHierarchy[requiredRole] || 0;\r\n  \r\n  return userLevel >= requiredLevel;\r\n};\r\n\r\n// ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© ====================\r\nconst handleApiError = (error, customMessage = '') => {\r\n  console.error('âŒ API Error:', error);\r\n  \r\n  let message = customMessage;\r\n  let status = error.status || 0;\r\n  \r\n  if (!message) {\r\n    if (status === 401) {\r\n      message = 'ØºÙŠØ± Ù…ØµØ±Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';\r\n      api.logout(false);\r\n    } else if (status === 403) {\r\n      message = 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡';\r\n    } else if (status === 404) {\r\n      message = 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ±Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨';\r\n    } else if (status === 500) {\r\n      message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹';\r\n    } else if (error.message?.includes('Network Error')) {\r\n      message = 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª';\r\n    } else if (error.message?.includes('timeout')) {\r\n      message = 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';\r\n    } else {\r\n      message = error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹';\r\n    }\r\n  }\r\n  \r\n  return {\r\n    success: false,\r\n    status: status,\r\n    message: message,\r\n    error: error\r\n  };\r\n};\r\n\r\nconst safeApiCall = async (apiCall, customMessage = '') => {\r\n  try {\r\n    const response = await apiCall();\r\n    \r\n    if (response.success === false) {\r\n      return {\r\n        success: false,\r\n        message: response.message || customMessage || 'ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',\r\n        data: response.data,\r\n        status: response.status\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: response.data || response,\r\n      message: response.message || 'ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­',\r\n      status: 200\r\n    };\r\n  } catch (error) {\r\n    return handleApiError(error, customMessage);\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\r\n\r\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\napi.login = async (email, password) => {\r\n  return safeApiCall(async () => {\r\n    const response = await api.post('/auth/login', { email, password });\r\n    \r\n    if (response.success && response.token) {\r\n      api.setToken(response.token, response.refreshToken);\r\n      api.setUser(response.user);\r\n      localStorage.setItem('lastLogin', new Date().toISOString());\r\n    }\r\n    \r\n    return response;\r\n  }, 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');\r\n};\r\n\r\napi.logout = async (redirect = true) => {\r\n  try {\r\n    await api.post('/auth/logout');\r\n  } catch (error) {\r\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\r\n  } finally {\r\n    api.removeToken();\r\n    \r\n    if (redirect) {\r\n      setTimeout(() => {\r\n        window.location.href = '/login';\r\n      }, 100);\r\n    }\r\n  }\r\n};\r\n\r\napi.getProfile = async () => {\r\n  return safeApiCall(() => api.get('/auth/profile'), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');\r\n};\r\n\r\napi.updateProfile = async (profileData) => {\r\n  return safeApiCall(() => api.put('/auth/profile', profileData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ');\r\n};\r\n\r\napi.changePassword = async (currentPassword, newPassword) => {\r\n  return safeApiCall(() => \r\n    api.put('/auth/change-password', { currentPassword, newPassword }),\r\n    'ØªØ¹Ø°Ø± ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±'\r\n  );\r\n};\r\n\r\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getBranches = async (params = {}) => {\r\n  return safeApiCall(() => api.get('/branches', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹');\r\n};\r\n\r\napi.getBranch = async (id) => {\r\n  return safeApiCall(() => api.get(`/branches/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹');\r\n};\r\n\r\napi.createBranch = async (branchData) => {\r\n  return safeApiCall(() => api.post('/branches', branchData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹');\r\n};\r\n\r\napi.updateBranch = async (id, branchData) => {\r\n  return safeApiCall(() => api.put(`/branches/${id}`, branchData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹');\r\n};\r\n\r\napi.deleteBranch = async (id) => {\r\n  return safeApiCall(() => api.delete(`/branches/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹');\r\n};\r\n\r\napi.getBranchGames = async (branchId, params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get(`/branches/${branchId}/games`, { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹'\r\n  );\r\n};\r\n\r\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\napi.getGames = async (params = {}) => {\r\n  return safeApiCall(() => api.get('/games', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨');\r\n};\r\n\r\napi.getGame = async (id) => {\r\n  return safeApiCall(() => api.get(`/games/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©');\r\n};\r\n\r\napi.createGame = async (gameData) => {\r\n  return safeApiCall(() => api.post('/games', gameData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©');\r\n};\r\n\r\napi.updateGame = async (id, gameData) => {\r\n  return safeApiCall(() => api.put(`/games/${id}`, gameData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©');\r\n};\r\n\r\napi.deleteGame = async (id) => {\r\n  return safeApiCall(() => api.delete(`/games/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©');\r\n};\r\n\r\napi.getAvailableGames = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/games/available', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©'\r\n  );\r\n};\r\n\r\napi.getRentedGames = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/games/rented', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©'\r\n  );\r\n};\r\n\r\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\r\napi.getShifts = async (params = {}) => {\r\n  return safeApiCall(() => api.get('/shifts', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª');\r\n};\r\n\r\napi.getShift = async (id) => {\r\n  return safeApiCall(() => api.get(`/shifts/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´ÙŠÙØª');\r\n};\r\n\r\napi.startShift = async () => {\r\n  return safeApiCall(() => api.post('/shifts/start'), 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª');\r\n};\r\n\r\napi.endShift = async (id, data = {}) => {\r\n  return safeApiCall(() => api.post(`/shifts/${id}/end`, data), 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª');\r\n};\r\n\r\napi.getActiveShift = async () => {\r\n  return safeApiCall(() => api.get('/shifts/active'), 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·');\r\n};\r\n\r\napi.updateShift = async (id, data) => {\r\n  return safeApiCall(() => api.put(`/shifts/${id}`, data), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª');\r\n};\r\n\r\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRentals = async (params = {}) => {\r\n  return safeApiCall(() => api.get('/rentals', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\r\n};\r\n\r\napi.getRental = async (id) => {\r\n  return safeApiCall(() => api.get(`/rentals/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n};\r\n\r\napi.createRental = async (rentalData) => {\r\n  return safeApiCall(() => api.post('/rentals', rentalData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n};\r\n\r\napi.updateRental = async (id, rentalData) => {\r\n  return safeApiCall(() => api.put(`/rentals/${id}`, rentalData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n};\r\n\r\napi.completeRental = async (id, data = {}) => {\r\n  return safeApiCall(() => \r\n    api.put(`/rentals/${id}/complete`, data), \r\n    'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n  );\r\n};\r\n\r\napi.cancelRental = async (id, data = {}) => {\r\n  return safeApiCall(() => \r\n    api.put(`/rentals/${id}/cancel`, data), \r\n    'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n  );\r\n};\r\n\r\napi.getActiveRentals = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/rentals/active', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\r\n  );\r\n};\r\n\r\napi.getCompletedRentals = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/rentals/completed', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n  );\r\n};\r\n\r\n// 6. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù…Ø­Ù…ÙŠØ© Ø¨Ø§Ù„Ø¥Ø°Ù†)\r\napi.getUsers = async (params = {}) => {\r\n  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø°Ù† Ù‚Ø¨Ù„ Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.get('/users', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†');\r\n};\r\n\r\napi.getUser = async (id) => {\r\n  const user = api.getUser();\r\n  \r\n  // ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø±Ø¤ÙŠØ© Ù…Ù„ÙÙ‡ Ø§Ù„Ø´Ø®ØµÙŠ ÙÙ‚Ø·ØŒ Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† admin\r\n  if (user.role !== 'admin' && user.id !== parseInt(id)) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.get(`/users/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\r\n};\r\n\r\napi.createUser = async (userData) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.post('/users', userData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\r\n};\r\n\r\napi.updateUser = async (id, userData) => {\r\n  const currentUser = api.getUser();\r\n  \r\n  // ÙŠØ³Ù…Ø­ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨ØªØ­Ø¯ÙŠØ« Ù…Ù„ÙÙ‡ Ø§Ù„Ø´Ø®ØµÙŠ ÙÙ‚Ø·ØŒ Ø¥Ù„Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† admin\r\n  if (currentUser.role !== 'admin' && currentUser.id !== parseInt(id)) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.put(`/users/${id}`, userData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\r\n};\r\n\r\napi.deleteUser = async (id) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.delete(`/users/${id}`), 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');\r\n};\r\n\r\napi.getEmployees = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/users/employees', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†'\r\n  );\r\n};\r\n\r\n// 7. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\r\napi.getCustomers = async (params = {}) => {\r\n  return safeApiCall(() => api.get('/customers', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡');\r\n};\r\n\r\napi.getCustomer = async (id) => {\r\n  return safeApiCall(() => api.get(`/customers/${id}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„');\r\n};\r\n\r\napi.createCustomer = async (customerData) => {\r\n  return safeApiCall(() => api.post('/customers', customerData), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„');\r\n};\r\n\r\napi.updateCustomer = async (id, customerData) => {\r\n  return safeApiCall(() => api.put(`/customers/${id}`, customerData), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„');\r\n};\r\n\r\napi.searchCustomers = async (searchTerm) => {\r\n  return safeApiCall(() => \r\n    api.get('/customers/search', { params: { q: searchTerm } }), \r\n    'ØªØ¹Ø°Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'\r\n  );\r\n};\r\n\r\n// 8. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±\r\napi.getDashboardStats = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/dashboard/stats', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…'\r\n  );\r\n};\r\n\r\napi.getMonthlyStats = async (month, year) => {\r\n  return safeApiCall(() => \r\n    api.get('/stats/monthly', { params: { month, year } }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ©'\r\n  );\r\n};\r\n\r\napi.getBranchStats = async (branchId, period = 'daily') => {\r\n  return safeApiCall(() => \r\n    api.get(`/branches/${branchId}/stats/${period}`), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±Ø¹'\r\n  );\r\n};\r\n\r\napi.getTopGames = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/analytics/top-games', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n  );\r\n};\r\n\r\napi.getTopCustomers = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/analytics/top-customers', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'\r\n  );\r\n};\r\n\r\napi.getRevenueReport = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/reports/revenue', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª'\r\n  );\r\n};\r\n\r\n// 9. Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„Ø³Ø¬Ù„Ø§Øª\r\napi.getActivities = async (params = {}) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.get('/activities', { params }), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©');\r\n};\r\n\r\n// 10. Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„ØªÙˆØ§ØµÙ„\r\napi.healthCheck = async () => {\r\n  return safeApiCall(() => api.get('/health'), 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');\r\n};\r\n\r\napi.checkConnection = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL.replace('/api', '')}/health`, {\r\n      timeout: 5000\r\n    });\r\n    \r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'âœ… Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­'\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù…ØªÙ‚Ø¯Ù…Ø© ====================\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¯ÙØ¹\r\napi.processPayment = async (rentalId, paymentData) => {\r\n  return safeApiCall(() => \r\n    api.post(`/rentals/${rentalId}/payment`, paymentData), \r\n    'ØªØ¹Ø°Ø± Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹'\r\n  );\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\napi.importData = async (type, data) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => \r\n    api.post(`/data/import/${type}`, data), \r\n    'ØªØ¹Ø°Ø± Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n  );\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\napi.exportData = async (type, params = {}) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => \r\n    api.get(`/data/export/${type}`, { params }), \r\n    'ØªØ¹Ø°Ø± ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n  );\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ\r\napi.createBackup = async () => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.post('/backup/create'), 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©\r\napi.restoreBackup = async (backupId) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => \r\n    api.post(`/backup/restore/${backupId}`), \r\n    'ØªØ¹Ø°Ø± Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©'\r\n  );\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ù„ÙØ§Øª ====================\r\napi.uploadFile = async (file, entityType, entityId = null) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  formData.append('entity_type', entityType);\r\n  \r\n  if (entityId) {\r\n    formData.append('entity_id', entityId);\r\n  }\r\n  \r\n  return safeApiCall(() => \r\n    api.post('/files/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }), \r\n    'ØªØ¹Ø°Ø± Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù'\r\n  );\r\n};\r\n\r\napi.getFile = async (fileId) => {\r\n  return safeApiCall(() => api.get(`/files/${fileId}`), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù');\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ====================\r\napi.getNotifications = async (params = {}) => {\r\n  return safeApiCall(() => \r\n    api.get('/notifications', { params }), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª'\r\n  );\r\n};\r\n\r\napi.markNotificationAsRead = async (notificationId) => {\r\n  return safeApiCall(() => \r\n    api.put(`/notifications/${notificationId}/read`), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±'\r\n  );\r\n};\r\n\r\napi.markAllNotificationsAsRead = async () => {\r\n  return safeApiCall(() => \r\n    api.put('/notifications/read-all'), \r\n    'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª'\r\n  );\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ====================\r\napi.getSettings = async () => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.get('/settings'), 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');\r\n};\r\n\r\napi.updateSettings = async (settings) => {\r\n  if (!api.hasPermission('admin')) {\r\n    return {\r\n      success: false,\r\n      status: 403,\r\n      message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª'\r\n    };\r\n  }\r\n  \r\n  return safeApiCall(() => api.put('/settings', settings), 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙÙˆØ±ÙŠ ====================\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©\r\napi.quickRental = async (gameId, customerName, customerPhone) => {\r\n  return safeApiCall(() => \r\n    api.post('/rentals/quick', {\r\n      game_id: gameId,\r\n      customer_name: customerName,\r\n      customer_phone: customerPhone\r\n    }), \r\n    'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø³Ø±ÙŠØ¹'\r\n  );\r\n};\r\n\r\napi.quickCustomer = async (name, phone) => {\r\n  return safeApiCall(() => \r\n    api.post('/customers/quick', {\r\n      name,\r\n      phone\r\n    }), \r\n    'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹'\r\n  );\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„ÙØ­Øµ Ø§Ù„ØªÙˆÙƒÙ† ÙˆØªØ­Ø¯ÙŠØ«Ù‡ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±\r\napi.validateAndRefreshToken = async () => {\r\n  const auth = api.checkAuth();\r\n  \r\n  if (!auth.isAuthenticated) {\r\n    return { success: false, message: 'Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„' };\r\n  }\r\n  \r\n  try {\r\n    const response = await api.get('/auth/validate');\r\n    return { success: true, data: response };\r\n  } catch (error) {\r\n    if (error.status === 401) {\r\n      // Ø§Ù„ØªÙˆÙƒÙ† Ù…Ù†ØªÙ‡ÙŠØŒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯\r\n      try {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n        if (!refreshToken) {\r\n          api.logout(false);\r\n          return { success: false, message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰' };\r\n        }\r\n        \r\n        const refreshResponse = await axios.post(`${API_BASE_URL}/auth/refresh`, {\r\n          refreshToken\r\n        });\r\n        \r\n        if (refreshResponse.data?.token) {\r\n          api.setToken(refreshResponse.data.token, refreshResponse.data.refreshToken);\r\n          return { success: true, message: 'ØªÙ… ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¬Ù„Ø³Ø©' };\r\n        }\r\n      } catch (refreshError) {\r\n        console.error('âŒ ÙØ´Ù„ ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙˆÙƒÙ†:', refreshError);\r\n        api.logout(false);\r\n        return { success: false, message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©. ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰' };\r\n      }\r\n    }\r\n    \r\n    return { success: false, message: error.message };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù„Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ====================\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„\r\napi.startConnectionMonitor = () => {\r\n  if (api._connectionMonitor) {\r\n    clearInterval(api._connectionMonitor);\r\n  }\r\n  \r\n  api._connectionMonitor = setInterval(async () => {\r\n    try {\r\n      await api.healthCheck();\r\n      api._lastConnectionSuccess = Date.now();\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');\r\n      api._lastConnectionFailure = Date.now();\r\n    }\r\n  }, 60000); // ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©\r\n};\r\n\r\napi.stopConnectionMonitor = () => {\r\n  if (api._connectionMonitor) {\r\n    clearInterval(api._connectionMonitor);\r\n    api._connectionMonitor = null;\r\n  }\r\n};\r\n\r\napi.isConnected = () => {\r\n  return api._lastConnectionFailure \r\n    ? (Date.now() - api._lastConnectionFailure) > 30000\r\n    : true;\r\n};\r\n\r\n// ==================== Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ====================\r\napi.systemCheck = async () => {\r\n  const checks = [];\r\n  \r\n  // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…\r\n  checks.push({\r\n    name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n    check: async () => {\r\n      const result = await api.checkConnection();\r\n      return result.success;\r\n    }\r\n  });\r\n  \r\n  // 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\r\n  checks.push({\r\n    name: 'Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…',\r\n    check: () => {\r\n      const auth = api.checkAuth();\r\n      return auth.isAuthenticated;\r\n    }\r\n  });\r\n  \r\n  // 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n  checks.push({\r\n    name: 'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',\r\n    check: async () => {\r\n      try {\r\n        const response = await api.healthCheck();\r\n        return response.success;\r\n      } catch (error) {\r\n        return false;\r\n      }\r\n    }\r\n  });\r\n  \r\n  // ØªÙ†ÙÙŠØ° Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ù‚Ù‚Ø§Øª\r\n  const results = [];\r\n  for (const check of checks) {\r\n    try {\r\n      const passed = await check.check();\r\n      results.push({\r\n        name: check.name,\r\n        success: passed,\r\n        message: passed ? 'âœ… ÙŠØ¹Ù…Ù„' : 'âŒ ÙØ´Ù„'\r\n      });\r\n    } catch (error) {\r\n      results.push({\r\n        name: check.name,\r\n        success: false,\r\n        message: `âŒ Ø®Ø·Ø£: ${error.message}`\r\n      });\r\n    }\r\n  }\r\n  \r\n  const allPassed = results.every(r => r.success);\r\n  \r\n  return {\r\n    success: allPassed,\r\n    results: results,\r\n    message: allPassed ? 'âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : 'âš ï¸ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…'\r\n  };\r\n};\r\n\r\n// ==================== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ====================\r\n\r\n// Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ† Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚\r\nconst initializeAuth = () => {\r\n  const auth = api.checkAuth();\r\n  \r\n  if (auth.isAuthenticated) {\r\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆÙƒÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\r\n    api.validateAndRefreshToken().then(result => {\r\n      if (!result.success && result.message.includes('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬Ù„Ø³Ø©')) {\r\n        console.log('âš ï¸ ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ…');\r\n        api.removeToken();\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Ø¨Ø¯Ø¡ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø§ØªØµØ§Ù„\r\n  if (IS_DEVELOPMENT) {\r\n    api.startConnectionMonitor();\r\n  }\r\n};\r\n\r\n// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù\r\ninitializeAuth();\r\n\r\n// ==================== Ø¯Ø§Ù„Ø© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø© ====================\r\napi.normalizeUrl = (url) => {\r\n  if (!url) return url;\r\n  \r\n  // Ø¥Ø²Ø§Ù„Ø© /api Ø§Ù„Ù…ÙƒØ±Ø±Ø©\r\n  const baseUrlWithoutApi = API_BASE_URL.replace(/\\/api$/, '');\r\n  let normalized = url;\r\n  \r\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ /api ÙˆÙƒØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ /api\r\n  if (normalized.startsWith('/api') && API_BASE_URL.endsWith('/api')) {\r\n    normalized = normalized.replace(/^\\/api/, '');\r\n  }\r\n  \r\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³Ø§Ø± ÙŠØ¨Ø¯Ø£ Ø¨Ù€ //ØŒ Ø¥Ø²Ø§Ù„Ø© ÙˆØ§Ø­Ø¯Ø©\r\n  normalized = normalized.replace(/^\\/\\//, '/');\r\n  \r\n  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø·Ù„Ù‚Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\r\n  if (normalized.startsWith('http') && normalized.includes(baseUrlWithoutApi)) {\r\n    normalized = normalized.replace(baseUrlWithoutApi, '');\r\n  }\r\n  \r\n  // Ø¥Ø¶Ø§ÙØ© / ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n  if (!normalized.startsWith('/')) {\r\n    normalized = '/' + normalized;\r\n  }\r\n  \r\n  return normalized;\r\n};\r\n\r\n// ==================== ØªØµØ¯ÙŠØ± API ====================\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}