{"ast":null,"code":"import axios from 'axios';\n\n// âœ… Ø¯Ø§Ù„Ø© Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ngrok\nconst detectEnvironment = () => {\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\n\n  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ ngrok\n  if (env === 'ngrok' || apiUrl.includes('ngrok')) {\n    console.log('ğŸ”— ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¨ÙŠØ¦Ø© ngrok - Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\n  }\n  return {\n    env,\n    apiUrl\n  };\n};\n\n// âœ… ØªØµØ­ÙŠØ­ URL Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ø¯Ø¹Ù… ngrok\nconst {\n  env,\n  apiUrl\n} = detectEnvironment();\nconst API_BASE_URL = apiUrl;\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\n\n// âœ… Ø¥Ù†Ø´Ø§Ø¡ axios instance Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'ar'\n  }\n});\n\n// ÙÙŠ api.js - ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n    console.log('ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ù…Ø¹ ØªÙˆÙƒÙ†:', token.substring(0, 15) + '...');\n  }\n  return config;\n}, error => Promise.reject(error));\napi.interceptors.response.use(response => {\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\n  if (process.env.NODE_ENV === 'development') {\n    console.log('âœ… API Response:', {\n      url: response.config.url,\n      status: response.status,\n      success: true\n    });\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ data Ù…Ø¨Ø§Ø´Ø±Ø©\n  if (response.data && typeof response.data === 'object') {\n    return response.data;\n  }\n  return {\n    success: true,\n    status: response.status,\n    data: response.data,\n    message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\n  };\n}, error => {\n  var _error$config, _error$response, _error$response2, _error$response3, _error$response4, _error$response4$data, _error$response5;\n  console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: error.message,\n    environment: env\n  });\n\n  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§ØµØ© Ù„Ø¨ÙŠØ¦Ø© ngrok\n  if (env === 'ngrok' && error.message.includes('Network Error')) {\n    console.warn('âš ï¸ Ø®Ø·Ø£ Ø´Ø¨ÙƒØ© ÙÙŠ Ø¨ÙŠØ¦Ø© ngrok - Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\n    return {\n      success: false,\n      status: 0,\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¹Ù†ÙˆØ§Ù† ngrok ØµØ­ÙŠØ­ ÙˆØ£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\n      ngrokError: true\n    };\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500\n  if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 500) {\n    return {\n      success: false,\n      status: 500,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n\n  // Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰\n  return {\n    success: false,\n    status: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) || 0,\n    message: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\n    data: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data\n  };\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\napi.setToken = token => {\n  if (token) {\n    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ØªÙˆÙƒÙ† Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¹Ù†Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ†\n    let cleanToken = token;\n    if (token.startsWith('Bearer ')) {\n      cleanToken = token.substring(7);\n    }\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\n    localStorage.setItem('token', cleanToken);\n    console.log('âœ… ØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­');\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n    console.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙˆÙƒÙ†');\n  }\n};\napi.checkAuthStatus = () => {\n  const token = localStorage.getItem('token');\n  const user = localStorage.getItem('user');\n  return {\n    isAuthenticated: !!token,\n    token: token,\n    user: user ? JSON.parse(user) : null\n  };\n};\napi.getEnvironmentInfo = () => {\n  return {\n    environment: env,\n    apiUrl: API_BASE_URL,\n    isNgrok: env === 'ngrok' || API_BASE_URL.includes('ngrok'),\n    nodeEnv: process.env.NODE_ENV\n  };\n};\napi.fixUrl = url => {\n  if (url && url.startsWith('/api/')) {\n    console.warn(`âš ï¸ ØªØµØ­ÙŠØ­ URL: ${url} -> ${url.substring(4)}`);\n    return url.substring(4);\n  }\n  return url;\n};\n\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\napi.validateToken = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      return {\n        valid: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ†'\n      };\n    }\n\n    // ğŸ” ÙÙƒ Ø§Ù„ØªÙˆÙƒÙ† (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)\n    const parts = token.split('_');\n    if (parts.length < 2) {\n      return {\n        valid: false,\n        message: 'ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­'\n      };\n    }\n    const userId = parseInt(parts[1]);\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\n    const response = await api.get('/auth/profile');\n    if (response.success) {\n      return {\n        valid: true,\n        user: response.data,\n        userId: userId\n      };\n    } else {\n      return {\n        valid: false,\n        message: response.message\n      };\n    }\n  } catch (error) {\n    console.error('âŒ Token validation error:', error);\n    return {\n      valid: false,\n      message: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø£ÙƒØ«Ø± Ù‚ÙˆØ© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\napi.safeRequest = async (endpoint, options = {}) => {\n  try {\n    console.log(`ğŸ”„ [SAFE REQUEST] Calling: ${endpoint}`);\n    const response = await api({\n      url: endpoint,\n      method: options.method || 'GET',\n      data: options.data,\n      params: options.params,\n      timeout: options.timeout || 10000,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        ...options.headers\n      }\n    });\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±\n    if (response.status === 500) {\n      console.warn(`âš ï¸ Server returned 500 for ${endpoint}`);\n\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\n      return {\n        success: false,\n        status: 500,\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        data: null,\n        retry: true\n      };\n    }\n    return response;\n  } catch (error) {\n    var _error$response6, _error$response7, _error$response8;\n    console.error(`ğŸ”¥ [SAFE REQUEST ERROR] ${endpoint}:`, {\n      message: error.message,\n      code: error.code,\n      status: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status\n    });\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ø­Ø¯Ø¯Ø©\n    if (error.code === 'ECONNREFUSED') {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 5000',\n        status: 0,\n        data: null\n      };\n    }\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',\n        status: 0,\n        data: null\n      };\n    }\n    if (((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.status) === 500) {\n      return {\n        success: false,\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ',\n        status: 500,\n        data: null,\n        error: error.response.data\n      };\n    }\n    return {\n      success: false,\n      message: error.message || 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„',\n      status: ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.status) || 0,\n      data: null\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡\napi.loadGamesSmart = async branchId => {\n  try {\n    console.log(`ğŸ® [API] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø°ÙƒØ§Ø¡`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }];\n    return {\n      success: true,\n      data: defaultGames,\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      fromCache: true\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ [API] Ø®Ø·Ø£ ÙÙŠ loadGamesSmart:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\napi.startShift = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\n    const response = await api.post('/shifts/start');\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error.message);\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const altResponse = await api.post('/shifts/start-simple');\n      return altResponse;\n    } catch (altError) {\n      return {\n        success: false,\n        message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + error.message\n      };\n    }\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getCurrentShift = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ');\n    const response = await api.get('/shifts/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error.message);\n    return {\n      success: true,\n      data: null,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø·Ù„Ø¨Ø§Øª\napi.safeRequest = async (endpoint, options = {}) => {\n  try {\n    console.log(`ğŸ”„ [SAFE] ${options.method || 'GET'} ${endpoint}`);\n    const response = await api({\n      url: endpoint,\n      method: options.method || 'GET',\n      data: options.data,\n      params: options.params\n    });\n    return response;\n  } catch (error) {\n    var _error$response9;\n    console.error(`âŒ [SAFE] Ø®Ø·Ø£ ÙÙŠ ${endpoint}:`, error.message);\n    return {\n      success: false,\n      message: error.message,\n      status: ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status) || 500\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\n\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\napi.login = async (email, password) => {\n  try {\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\n    const response = await api.post('/auth/login', {\n      email,\n      password\n    });\n    const data = response;\n    if (data.success && data.token) {\n      api.setToken(data.token);\n      if (data.user) {\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastLogin', new Date().toISOString());\n      }\n      return {\n        success: true,\n        data: data\n      };\n    } else {\n      return {\n        success: false,\n        message: data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n      };\n    }\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n    if (error.status === 401) {\n      return {\n        success: false,\n        message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.logout = async (redirect = true) => {\n  try {\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\n  } finally {\n    api.setToken(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastLogin');\n    localStorage.removeItem('refreshToken');\n    if (redirect) {\n      window.location.href = '/login';\n    }\n  }\n};\napi.getProfile = async () => {\n  try {\n    const response = await api.get('/auth/profile');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\n    };\n  }\n};\n\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\napi.getBranches = async (params = {}) => {\n  try {\n    console.log('ğŸ¬ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹...');\n    const response = await api.get('/branches', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹',\n      data: []\n    };\n  }\n};\napi.getBranchById = async branchId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.warn(`âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©`);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1,\n        total_games: 0,\n        total_employees: 1,\n        active_rentals: 0,\n        created_at: new Date().toISOString()\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø´Ø§Ù…Ù„Ø©\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1,\n        total_games: 0,\n        total_employees: 1,\n        active_rentals: 0,\n        created_at: new Date().toISOString()\n      },\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)',\n      fromCache: true\n    };\n  }\n};\napi.createBranch = async branchData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯:', branchData);\n    const response = await api.post('/branches', branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.updateBranch = async (id, branchData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹ ${id}:`, branchData);\n    const response = await api.put(`/branches/${id}`, branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.deleteBranch = async (id, permanent = false) => {\n  try {\n    const url = `/branches/${id}${permanent ? '?permanent=true' : ''}`;\n    const response = await api.delete(url);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.getBranchGames = async branchId => {\n  try {\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}/games`);\n    return response;\n  } catch (error) {\n    var _error$response0;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\n      data: [],\n      status: ((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.status) || 500\n    };\n  }\n};\n\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\napi.getGames = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø·Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\n\n    // âŒ Ø¥Ø²Ø§Ù„Ø© ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ statusØŒ Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    const requestParams = {\n      ...params\n    };\n    delete requestParams.status; // Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\n\n    const response = await api.get('/games', {\n      params: requestParams,\n      timeout: 15000\n    });\n    console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', response.success ? 'Ù†Ø§Ø¬Ø­' : 'ÙØ§Ø´Ù„');\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        data: []\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ\napi.loadGamesSmart = async branchId => {\n  try {\n    console.log(`ğŸ® [SMART LOAD] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ...`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    try {\n      const response = await api.getAllBranchGames(branchId);\n      if (response.success && response.data && response.data.length > 0) {\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n\n        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¶Ù…Ø§Ù† Ø£Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ù‡Ø§ \"Ù…ØªØ§Ø­Ø©\" ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶\n        const gamesWithFixedStatus = response.data.map(game => ({\n          ...game,\n          status: 'Ù…ØªØ§Ø­' // âŒ ÙØ±Ø¶ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…ØªØ§Ø­Ø©\n        }));\n        return {\n          success: true,\n          data: gamesWithFixedStatus,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­',\n          count: gamesWithFixedStatus.length\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\n    const localGamesKey = `branch_${branchId}_games`;\n    const savedGames = localStorage.getItem(localGamesKey);\n    if (savedGames) {\n      const games = JSON.parse(savedGames);\n      console.log(`ğŸ“± ØªÙ… ØªØ­Ù…ÙŠÙ„ ${games.length} Ù„Ø¹Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\n      return {\n        success: true,\n        data: games,\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\n        fromCache: true,\n        count: games.length\n      };\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }];\n    return {\n      success: true,\n      data: defaultGames,\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      fromCache: true,\n      count: defaultGames.length\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      count: 0\n    };\n  }\n};\napi.getGamesSeparated = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©...');\n    const response = await api.get('/games/separated', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  }\n};\napi.getGamesSmart = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡...');\n    const response = await api.get('/games', {\n      params\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    if (params.branch_id) {\n      console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©...');\n      const branchGames = await api.get(`/branches/${params.branch_id}/games`);\n      if (branchGames.success) {\n        return {\n          success: true,\n          data: branchGames.data || [],\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„ÙØ±Ø¹'\n        };\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }];\n    return {\n      success: true,\n      data: defaultGames.filter(g => !params.branch_id || g.branch_id == params.branch_id),\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n    };\n  }\n};\napi.getAllBranchGames = async branchId => {\n  try {\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n\n    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† ØªØµÙÙŠØ© Ø¨Ø­Ø§Ù„Ø©)\n    const response = await api.get('/games', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\napi.getAvailableGames = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±)...');\n\n    // Ø§Ù„Ø¢Ù† Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¯ÙˆÙ† ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©\n    const response = await api.get('/games', {\n      params\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  }\n};\napi.getRentedGames = async (params = {}) => {\n  try {\n    const response = await api.get('/games/rented', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©'\n    };\n  }\n};\napi.createGame = async gameData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©:', gameData);\n    const response = await api.post('/games', gameData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\napi.updateGame = async (id, gameData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id}:`, gameData);\n    const response = await api.put(`/games/${id}`, gameData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© Ø°ÙƒÙŠØ©\napi.updateGameSmart = async (id, gameData) => {\n  try {\n    console.log(`ğŸ® [SMART UPDATE] ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ`);\n    const endpoints = [`/games/${id}`,\n    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    `/games/update/${id}`,\n    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    `/games/${id}/update` // Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø®Ø±Ù‰\n    ];\n    const token = api.checkAuthStatus().token;\n    for (const endpoint of endpoints) {\n      try {\n        console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© ${endpoint}`);\n        const response = await fetch(`http://localhost:5000/api${endpoint}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gameData)\n        });\n        if (response.ok) {\n          const result = await response.json();\n          console.log(`âœ… Ù†Ø¬Ø­Øª Ø¹Ø¨Ø± ${endpoint}:`, result);\n          return result;\n        }\n        console.log(`âš ï¸ ${endpoint} Ø¹Ø§Ø¯ Ø¨Ù€ ${response.status}`);\n      } catch (error) {\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint}:`, error.message);\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠ\n    console.log('ğŸ’¾ ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹');\n    const localUpdate = {\n      id: id,\n      data: gameData,\n      timestamp: new Date().toISOString(),\n      local: true\n    };\n\n    // Ø­ÙØ¸ ÙÙŠ localStorage\n    const localUpdates = JSON.parse(localStorage.getItem('game_updates') || '[]');\n    localUpdates.push(localUpdate);\n    localStorage.setItem('game_updates', JSON.stringify(localUpdates));\n    return {\n      success: true,\n      message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\n      local: true\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\n    };\n  }\n};\napi.deleteGame = async (id, permanent = false) => {\n  try {\n    const url = `/games/${id}${permanent ? '?permanent=true' : ''}`;\n    const response = await api.delete(url);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\n\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\napi.getActiveShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\n    const response = await api.get('/shifts/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n      data: null\n    };\n  }\n};\napi.getActiveShiftOld = async () => {\n  try {\n    const response = await api.get('/shifts/active');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\n      data: null\n    };\n  }\n};\n\n// ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© getActiveShiftSafe\napi.getActiveShiftSafe = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: API Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response && response.success) {\n        console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­');\n        return {\n          success: true,\n          data: response.data,\n          exists: !!response.data\n        };\n      }\n      return {\n        success: true,\n        data: null,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·',\n        exists: false\n      };\n    } catch (apiError) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† API:', apiError.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù…Ù† localStorage\n    try {\n      const savedShift = localStorage.getItem('current_shift');\n      if (savedShift) {\n        const shiftData = JSON.parse(savedShift);\n        console.log('âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ');\n        return {\n          success: true,\n          data: shiftData,\n          exists: true,\n          fromCache: true\n        };\n      }\n    } catch (cacheError) {\n      console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\n    }\n    return {\n      success: true,\n      data: null,\n      exists: false,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ getActiveShiftSafe:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\napi.getShifts = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª...');\n    const response = await api.get('/shifts', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\napi.getShiftsSafe = async (params = {}) => {\n  try {\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†');\n    const response = await api.get('/shifts', {\n      params: {\n        ...params,\n        limit: params.limit || 10,\n        order_by: params.order_by || 'start_time',\n        order_direction: params.order_direction || 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\n    if (process.env.NODE_ENV === 'development') {\n      return {\n        success: true,\n        data: [{\n          id: 1,\n          start_time: new Date().toISOString(),\n          employee_name: 'Ù…ÙˆØ¸Ù ØªØ¬Ø±ÙŠØ¨ÙŠ',\n          employee_id: 1,\n          branch_id: params.branch_id || 1,\n          status: 'Ù…Ù†ØªÙ‡ÙŠ',\n          duration_minutes: 120,\n          total_revenue: 1000,\n          total_rentals: 5\n        }],\n        count: 1\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\napi.startShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\n    const response = await api.post('/shifts/start');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.startShiftSafe = async () => {\n  try {\n    console.log('ğŸ”„ [SAFE START SHIFT] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: start (Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: /shifts/start');\n    try {\n      const response = await api.post('/shifts/start', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 Ù…Ø¹ /shifts/start');\n        return response;\n      }\n    } catch (error1) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: start-simple\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: /shifts/start-simple');\n    try {\n      const response = await api.post('/shifts/start-simple', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 Ù…Ø¹ start-simple');\n        return response;\n      }\n    } catch (error2) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: start-clean\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: /shifts/start-clean');\n    try {\n      const response = await api.post('/shifts/start-clean', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 Ù…Ø¹ start-clean');\n        return response;\n      }\n    } catch (error3) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\n    }\n\n    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª\n    console.log('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù†:\\n1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…\\n2. Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\\n3. ØªÙˆÙØ± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      attempts: 3,\n      suggestion: 'Ø¬Ø±Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShiftSafe:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message,\n      suggestion: 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ\napi.startCleanShift = async () => {\n  try {\n    console.log('ğŸ§¹ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ...');\n    const response = await api.post('/shifts/start-clean');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ'\n    };\n  }\n};\n\n// 5. ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\napi.startShiftEnhanced = async () => {\n  try {\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù…Ø¹Ø²Ø²...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\n    const response = await api.post('/shifts/start');\n    if (response.success) {\n      console.log(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\n      return response;\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    return await api.startShiftSafe();\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\n\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.endShiftWithRentals = async (shiftId, endData = {}) => {\n  try {\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId} Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...`);\n    const response = await api.put(`/shifts/${shiftId}/end`, {\n      ...endData,\n      end_time: new Date().toISOString()\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\napi.endShiftSmart = async (shiftId, endData = {}) => {\n  try {\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª ${shiftId} Ø¨Ø°ÙƒØ§Ø¡...`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n    try {\n      const response = await api.put(`/shifts/${shiftId}/end`, {\n        ...endData,\n        end_time: new Date().toISOString()\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n    try {\n      const updateResponse = await api.updateShift(shiftId, {\n        status: 'Ù…Ù†ØªÙ‡ÙŠ',\n        end_time: new Date().toISOString(),\n        notes: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ)'\n      });\n      if (updateResponse.success) {\n        return {\n          success: true,\n          message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­ (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          data: updateResponse.data\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',\n      shiftId: shiftId\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\n      error: error.message\n    };\n  }\n};\napi.updateShift = async (shiftId, data) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª #${shiftId}`);\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\n    const response = await api.put(`/shifts/${shiftId}/end`, data);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.getShiftRevenueDetails = async shiftId => {\n  try {\n    console.log(`ğŸ’° Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/shifts/${shiftId}/revenue-details`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯',\n      data: {}\n    };\n  }\n};\napi.getShiftEmployees = async shiftId => {\n  try {\n    console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\n    try {\n      const response = await api.get(`/shifts/${shiftId}/employees`);\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©\n    try {\n      const response = await api.get('/shifts/current-employees', {\n        params: {\n          shift_id: shiftId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\n    }\n\n    // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\napi.checkUserShift = async () => {\n  try {\n    console.log('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…\n    const response = await api.get('/shifts/check-active');\n    if (response.success) {\n      return {\n        success: true,\n        hasActiveShift: response.has_active_shift || false,\n        shift: response.data,\n        message: response.message\n      };\n    }\n    return {\n      success: false,\n      hasActiveShift: false,\n      shift: null,\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´ÙŠÙØª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      hasActiveShift: false,\n      shift: null,\n      message: error.message\n    };\n  }\n};\n\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRentals = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\n    const response = await api.get('/rentals', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      data: []\n    };\n  }\n};\napi.getAllRentals = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\n    const response = await api.get('/rentals', {\n      params: {\n        ...params,\n        limit: params.limit || 50,\n        order_by: params.order_by || 'start_time',\n        order_direction: params.order_direction || 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      data: []\n    };\n  }\n};\napi.getActiveRentals = async (branchId = null) => {\n  try {\n    console.log('â±ï¸ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\n    try {\n      const params = {};\n      if (branchId) {\n        params.branch_id = branchId;\n      }\n      const response = await api.get('/rentals/active', {\n        params\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ\n    try {\n      const localRentals = JSON.parse(localStorage.getItem('active_rentals') || '[]');\n      console.log(`ğŸ“± Ø¬Ù„Ø¨ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\n      return {\n        success: true,\n        data: localRentals,\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\n        fromCache: true\n      };\n    } catch (cacheError) {\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\n      data: []\n    };\n  }\n};\napi.getActiveRentalsForShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get('/rentals/active-for-shift', {\n      params: {\n        shift_id: shiftId,\n        branch_id: branchId\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getRentalById = async rentalId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.get(`/rentals/${rentalId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      data: null\n    };\n  }\n};\napi.getShiftRentals = async shiftId => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/shifts/${shiftId}/rentals`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getCompletedRentals = async (params = {}) => {\n  try {\n    const response = await api.get('/rentals/completed', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©',\n      data: []\n    };\n  }\n};\napi.getCompletedRentalsByShift = async shiftId => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\napi.getCompletedRentalsSmart = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n    try {\n      const response = await api.get('/rentals/completed-only', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-only:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-by-shift:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØµÙÙŠØ© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId,\n          status: 'Ù…ÙƒØªÙ…Ù„'\n        }\n      });\n      if (response.success) {\n        var _response$data;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ±Ø©:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ù„ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n    try {\n      const allResponse = await api.get('/rentals', {\n        params: {\n          branch_id: branchId,\n          limit: 200\n        }\n      });\n      if (allResponse.success && allResponse.data) {\n        const completedRentals = allResponse.data.filter(rental => (rental.status === 'Ù…ÙƒØªÙ…Ù„' || rental.status === 'completed') && rental.shift_id === parseInt(shiftId));\n        return {\n          success: true,\n          data: completedRentals,\n          count: completedRentals.length,\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      data: [],\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  }\n};\napi.getCurrentShiftCompletedRentals = async () => {\n  try {\n    console.log('ğŸ¯ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n    const response = await api.get('/rentals/current-shift-completed');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\n\n// Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª\napi.getCurrentShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: /shifts/current\n    try {\n      const response = await api.get('/shifts/current');\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/current:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: /shifts/simple\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/simple:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: /shifts/active\n    try {\n      const response = await api.get('/shifts/active');\n      return response;\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/active:', error.message);\n    }\n    return {\n      success: true,\n      data: null,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.getShiftRentalsSmart = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ¤– Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©**\n    try {\n      // Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ '/rentals/active-for-shift' ÙˆÙ„ÙŠØ³ '/api/rentals/active-for-shift'\n      const response = await api.get('/rentals/active-for-shift', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active-for-shift`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active-for-shift:', error.message);\n    }\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© rentals Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ ÙÙ„ØªØ±Ø©**\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId,\n          status: 'Ù†Ø´Ø·'\n        }\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals:', error.message);\n    }\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© active Ù…Ø¹ ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ©**\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        // ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø­Ø³Ø¨ shiftId\n        const filteredRentals = response.data.filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n        console.log(`âœ… ØªÙ… ÙÙ„ØªØ±Ø© ${filteredRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active`);\n        return {\n          success: true,\n          data: filteredRentals,\n          count: filteredRentals.length,\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    console.log('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ø´ÙŠÙØª',\n      count: 0\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getRentalsByStatus = async (status, params = {}) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`);\n    const response = await api.get('/rentals', {\n      params: {\n        ...params,\n        status\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}:`, error);\n    return {\n      success: false,\n      message: `ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`,\n      data: []\n    };\n  }\n};\napi.getRentalsByDate = async (startDate, endDate, params = {}) => {\n  try {\n    console.log(`ğŸ“… Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† ${startDate} Ø¥Ù„Ù‰ ${endDate}`);\n    const response = await api.get('/rentals/all', {\n      params: {\n        ...params,\n        start_date: startDate,\n        end_date: endDate\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®',\n      data: []\n    };\n  }\n};\napi.checkFixedTimeRental = async rentalId => {\n  try {\n    console.log(`ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£Ø¬ÙŠØ± ${rentalId}...`);\n\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\n    const response = await api.post('/rentals/check-fixed-time', {\n      rental_id: rentalId\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\napi.getExpiredRentals = async () => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©...');\n\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\n    const response = await api.get('/rentals/expired');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.checkAllRentals = async () => {\n  try {\n    console.log('ğŸ” Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\n\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©\n    const expiredResponse = await api.getExpiredRentals();\n\n    // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\n    const processResponse = await api.processCompletedRentals();\n    return {\n      success: true,\n      expired: expiredResponse,\n      processed: processResponse,\n      message: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      error: error.message\n    };\n  }\n};\n\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·\napi.createSimpleRental = async rentalData => {\n  try {\n    console.log('ğŸ¯ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·:', rentalData);\n    const response = await api.post('/rentals/simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone,\n      duration_minutes: rentalData.duration_minutes || 15\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\napi.createOpenTimeRental = async rentalData => {\n  try {\n    console.log('ğŸ•’ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\n    const response = await api.post('/rentals/open-time-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.createSmartRental = async rentalData => {\n  try {\n    console.log('ğŸ¤– Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\n    const response = await api.post('/rentals/smart-create', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000',\n      rental_type: rentalData.rental_type || 'fixed'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\napi.completeRental = async (rentalId, paymentData = {}) => {\n  try {\n    console.log(`âœ… Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´',\n      actual_end_time: new Date().toISOString(),\n      early_end: paymentData.early_end || false,\n      refund_amount: paymentData.refund_amount || 0\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// âŒ Ø¥Ø²Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø¯Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.cancelRental = async (rentalId, refundAmount, reason = '') => {\n  try {\n    console.log(`âŒ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.put(`/rentals/${rentalId}/cancel`, {\n      refund_amount: refundAmount,\n      reason: reason\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// 4. Ø¯Ø§Ù„Ø© ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.extendRental = async (rentalId, additionalMinutes = 15) => {\n  try {\n    console.log(`â±ï¸ ØªÙ…Ø¯ÙŠØ¯ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/extend`, {\n      additional_minutes: additionalMinutes\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©\napi.updateRental = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© PUT\n    try {\n      const response = await api.put(`/rentals/${rentalId}`, rentalData);\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 (PUT)');\n        return response;\n      }\n    } catch (error1) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© POST\n    try {\n      const response = await api.post(`/rentals/${rentalId}/update`, rentalData);\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 (POST /update)');\n        return response;\n      }\n    } catch (error2) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n    try {\n      const response = await api.post(`/rentals/update-simple`, {\n        rental_id: rentalId,\n        ...rentalData\n      });\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 (update-simple)');\n        return response;\n      }\n    } catch (error3) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    console.error('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„Øª');\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ø¹Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª',\n      rentalId: rentalId,\n      attempts: 3\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ [FATAL] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø¨Ø³Ø·\napi.updateRentalSimple = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… POST Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† PUT\n    const response = await api.post(`/rentals/${rentalId}`, {\n      _method: 'PUT',\n      ...rentalData\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\napi.deleteRental = async rentalId => {\n  try {\n    console.log(`ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rentalId}`);\n    const response = await api.delete(`/rentals/${rentalId}/cancel`);\n    if (response.success) {\n      return {\n        success: true,\n        message: 'ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n      };\n    }\n  } catch (error) {\n    console.error('Error deleting rental:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// 6. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\napi.getCustomers = async (search = '') => {\n  try {\n    var _response$data2;\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡...');\n    const params = search ? {\n      search\n    } : {};\n    const response = await api.get('/customers', {\n      params\n    });\n    console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) || 0} Ø¹Ù…ÙŠÙ„`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\n      data: []\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ====================\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\napi.completeOpenRental = async (rentalId, paymentData = {}) => {\n  try {\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete-open`, {\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\n    return {\n      success: true,\n      data: {\n        id: rentalId,\n        final_amount: paymentData.final_amount || 0,\n        actual_minutes: paymentData.actual_minutes || 15,\n        processed_locally: true\n      },\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)'\n    };\n  }\n};\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\napi.completeFixedRental = async rentalId => {\n  try {\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete-fixed`);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\n    return {\n      success: true,\n      data: {\n        id: rentalId,\n        processed_locally: true\n      },\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n    };\n  }\n};\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± (Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©)\napi.completeRental = async (rentalId, data = {}) => {\n  try {\n    console.log(`âœ… [API] Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\n      payment_method: data.payment_method || 'ÙƒØ§Ø´',\n      final_amount: data.final_amount,\n      auto_complete: data.auto_complete || false\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n    return {\n      success: false,\n      message: error.message || 'ÙØ´Ù„ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ (ÙŠØ¯Ø¹Ù… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª ÙˆØ§Ù„Ù…ÙØªÙˆØ­)\napi.createSmartRental = async rentalData => {\n  try {\n    console.log('ğŸ¤– [API] Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\n    const response = await api.post('/rentals/smart-create', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000',\n      rental_type: rentalData.rental_type || 'fixed'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ Ø¨Ø³ÙŠØ·\napi.createOpenTimeRental = async rentalData => {\n  try {\n    console.log('ğŸ•’ [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\n    const response = await api.post('/rentals/open-time-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª Ø¨Ø³ÙŠØ·\napi.createFixedRental = async rentalData => {\n  try {\n    console.log('â° [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª:', rentalData);\n    const response = await api.post('/rentals/ultra-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª'\n    };\n  }\n};\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    if (!shiftId || !branchId) {\n      return {\n        success: true,\n        data: [],\n        count: 0\n      };\n    }\n\n    // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø£ÙˆÙ„Ø§Ù‹\n    try {\n      const response = await api.get('/rentals/active-simple', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-simple:', error.message);\n    }\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const response = await api.get('/rentals/active-for-shift', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-for-shift:', error.message);\n    }\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        // ÙÙ„ØªØ±Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\n        const filteredData = (response.data || []).filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n        return {\n          success: true,\n          data: filteredData,\n          count: filteredData.length\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active:', error.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\napi.processCompletedRentals = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n    const response = await api.post('/rentals/process-completed');\n    return response;\n  } catch (error) {\n    console.warn('âš ï¸ [API] ÙØ´Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n    return {\n      success: true,\n      data: {\n        processed_count: 0,\n        processed_rentals: []\n      },\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø©'\n    };\n  }\n};\n\n// Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¨ÙƒØ±\napi.cancelEarlyRental = async (rentalId, data = {}) => {\n  try {\n    console.log(`âŒ [API] Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/cancel-early`, {\n      reason: data.reason || 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…ÙˆØ¸Ù',\n      refund_amount: data.refund_amount || 0\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±:', error.message);\n    return {\n      success: false,\n      message: error.message || 'ÙØ´Ù„ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±'\n    };\n  }\n};\n\n// ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ±\napi.updateRental = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\n    const response = await api.put(`/rentals/${rentalId}`, rentalData);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const altResponse = await api.post(`/rentals/${rentalId}/update`, rentalData);\n      return altResponse;\n    } catch (altError) {\n      console.error('âŒ [API] ÙØ´Ù„Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ø£ÙŠØ¶Ø§Ù‹:', altError.message);\n      return {\n        success: false,\n        message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\n      };\n    }\n  }\n};\n\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ ØªØ£Ø¬ÙŠØ±\napi.getRentalById = async rentalId => {\n  try {\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.get(`/rentals/${rentalId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\napi.getCompletedRentalsForShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“Š [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get('/rentals/completed-only', {\n      params: {\n        shift_id: shiftId,\n        branch_id: branchId\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// ÙÙŠ api.js - Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ¯ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    if (!shiftId || !branchId) {\n      console.log('âš ï¸ shiftId Ø£Ùˆ branchId ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\n      return {\n        success: true,\n        data: [],\n        count: 0\n      };\n    }\n\n    // âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙØ¹Ù„Ø§Ù‹\n    const endpoints = [{\n      url: `/rentals/active-by-shift/${shiftId}`,\n      params: {\n        branch_id: branchId\n      }\n    }, {\n      url: '/rentals/active',\n      params: {\n        branch_id: branchId\n      }\n    }, {\n      url: '/rentals',\n      params: {\n        branch_id: branchId,\n        status: 'Ù†Ø´Ø·'\n      }\n    }];\n\n    // ØªØ¬Ø±Ø¨Ø© ÙƒÙ„ Ù…Ø³Ø§Ø±\n    for (const endpoint of endpoints) {\n      try {\n        console.log(`ğŸ“¡ Ù…Ø­Ø§ÙˆÙ„Ø©: ${endpoint.url}`);\n        const response = await api.get(endpoint.url, {\n          params: endpoint.params\n        });\n        if (response.success) {\n          // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\n          let allRentals = [];\n          if (Array.isArray(response.data)) {\n            allRentals = response.data;\n          } else if (response.data && Array.isArray(response.data.data)) {\n            allRentals = response.data.data;\n          } else if (response.data && Array.isArray(response.data.rentals)) {\n            allRentals = response.data.rentals;\n          }\n          console.log(`âœ… ${endpoint.url} - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª: ${allRentals.length}`);\n\n          // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ shift_id\n          const shiftRentals = allRentals.filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n          console.log(`ğŸ“Š Ù„Ù„Ø´ÙŠÙØª ${shiftId}: ${shiftRentals.length} ØªØ£Ø¬ÙŠØ±`);\n\n          // âœ… Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØªØŒ Ù†Ø¹ÙŠØ¯Ù‡Ø§ ÙÙˆØ±Ø§Ù‹\n          if (shiftRentals.length > 0) {\n            console.log(`ğŸ‰ ÙˆØ¬Ø¯Ù†Ø§ ${shiftRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù„Ø´ÙŠÙØª ${shiftId} Ø¹Ø¨Ø± ${endpoint.url}`);\n\n            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n            const processedRentals = shiftRentals.map(rental => ({\n              ...rental,\n              rental_type: rental.rental_type || (rental.is_open_time === 1 ? 'open' : 'fixed'),\n              time_type_display: rental.rental_type === 'open' || rental.is_open_time === 1 ? 'Ù…ÙØªÙˆØ­' : 'Ø«Ø§Ø¨Øª',\n              game_name: rental.game_name || rental.game_name_full || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©',\n              customer_phone: rental.customer_phone || '00000000000',\n              price_per_15min: rental.price_per_15min || rental.game_price || 100\n            }));\n            return {\n              success: true,\n              data: processedRentals,\n              count: processedRentals.length,\n              fromEndpoint: endpoint.url\n            };\n          }\n        }\n      } catch (error) {\n        console.log(`âš ï¸ ÙØ´Ù„Øª ${endpoint.url}: ${error.message}`);\n      }\n    }\n\n    // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø¹Ø¯ ØªØ¬Ø±Ø¨Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\n    console.log(`â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ (Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„)\napi.createTestRental = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ§ª Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.post('/rentals/simple', {\n      game_id: 1,\n      // Ø§ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø±Ù‚Ù… 1 Ù…ÙˆØ¬ÙˆØ¯Ø©\n      customer_name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ',\n      customer_phone: '01000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ:', error);\n    return {\n      success: false\n    };\n  }\n};\n\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ ØªØ£Ø¬ÙŠØ±Ø§ØªÙ‡ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©\napi.getCurrentShiftWithRentals = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\n\n    // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹\n    const shiftResponse = await api.get('/shifts/current');\n    if (!shiftResponse.success || !shiftResponse.data) {\n      return {\n        success: true,\n        hasShift: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n      };\n    }\n    const shift = shiftResponse.data;\n\n    // 2. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\n    const rentalsResponse = await api.getActiveRentalsForCurrentShift(shift.id, shift.branch_id);\n    return {\n      success: true,\n      hasShift: true,\n      shift: shift,\n      rentals: rentalsResponse.data || [],\n      rentalsCount: rentalsResponse.count || 0,\n      message: `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ ${rentalsResponse.count || 0} ØªØ£Ø¬ÙŠØ±`\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      hasShift: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\n    };\n  }\n};\n// ==================== USERS MANAGEMENT ====================\n\n// Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\napi.getUsers = async (params = {}) => {\n  try {\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...');\n    const response = await api.get('/users', {\n      params\n    });\n    if (response.success) {\n      var _response$data3;\n      console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.length) || 0} Ù…Ø³ØªØ®Ø¯Ù…`);\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || 0\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\n      data: []\n    };\n  } catch (error) {\n    var _error$response1;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:', error);\n    if (((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.status) === 403) {\n      return {\n        success: false,\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯\napi.createUser = async userData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯:', {\n      name: userData.name,\n      email: userData.email,\n      role: userData.role\n    });\n    const response = await api.post('/users', userData);\n    if (response.success) {\n      console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response10;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    if (((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : _error$response10.status) === 400) {\n      var _error$response$data;\n      return {\n        success: false,\n        message: ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\n\n// ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªØ®Ø¯Ù…\napi.updateUser = async (id, userData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, userData);\n    const response = await api.put(`/users/${id}`, userData);\n    if (response.success) {\n      console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response11, _error$response11$dat;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      message: ((_error$response11 = error.response) === null || _error$response11 === void 0 ? void 0 : (_error$response11$dat = _error$response11.data) === null || _error$response11$dat === void 0 ? void 0 : _error$response11$dat.message) || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…\napi.deleteUser = async (id, permanent = false) => {\n  try {\n    console.log(`ğŸ—‘ï¸ ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.delete(`/users/${id}?permanent=${permanent}`);\n    if (response.success) {\n      console.log(`âœ… ØªÙ… ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­`);\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response12, _error$response12$dat;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      message: ((_error$response12 = error.response) === null || _error$response12 === void 0 ? void 0 : (_error$response12$dat = _error$response12.data) === null || _error$response12$dat === void 0 ? void 0 : _error$response12$dat.message) || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ====================\n\napi.getSimpleStats = async () => {\n  try {\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©...');\n    const response = await api.get('/dashboard/stats/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\n      data: {\n        availableGames: 0,\n        totalGames: 0,\n        todayRevenue: 0,\n        todayRentals: 0,\n        activeRentals: 0\n      }\n    };\n  }\n};\napi.getManagerStats = async () => {\n  try {\n    console.log('ğŸ‘‘ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±...');\n    const response = await api.get('/dashboard/stats/manager');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±'\n    };\n  }\n};\napi.getDashboardAllStats = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const [branchesStats, todayStats] = await Promise.allSettled([api.getBranchesStatsEnhanced(), api.getTodayStatsEnhanced()]);\n    const result = {\n      success: true,\n      data: {}\n    };\n    if (branchesStats.status === 'fulfilled' && branchesStats.value.success) {\n      result.data.branchRevenues = branchesStats.value.data.branchRevenues || [];\n      result.data.completedRentalsByBranch = branchesStats.value.data.completedRentalsByBranch || [];\n      result.data.totalBranches = branchesStats.value.data.totalBranches || 0;\n    } else {\n      result.data.branchRevenues = [];\n      result.data.completedRentalsByBranch = [];\n      result.data.totalBranches = 0;\n    }\n    if (todayStats.status === 'fulfilled' && todayStats.value.success) {\n      result.data.todayRevenue = todayStats.value.data.revenue || 0;\n      result.data.todayRentals = todayStats.value.data.rentals || 0;\n    } else {\n      result.data.todayRevenue = 0;\n      result.data.todayRentals = 0;\n    }\n    result.data.generatedAt = new Date().toISOString();\n    result.data.today = today;\n    return result;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',\n      data: {\n        branchRevenues: [],\n        completedRentalsByBranch: [],\n        todayRevenue: 0,\n        todayRentals: 0,\n        generatedAt: new Date().toISOString(),\n        today: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\napi.getBranchesStatsEnhanced = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const branchesResponse = await api.getBranches();\n    if (!branchesResponse.success || !Array.isArray(branchesResponse.data)) {\n      return {\n        success: true,\n        data: {\n          branchRevenues: [],\n          completedRentalsByBranch: [],\n          totalBranches: 0\n        }\n      };\n    }\n    const branches = branchesResponse.data;\n    const branchStats = [];\n    for (const branch of branches.slice(0, 5)) {\n      try {\n        const rentalsResponse = await api.get('/rentals', {\n          params: {\n            branch_id: branch.id,\n            status: 'Ù…ÙƒØªÙ…Ù„',\n            start_date: today,\n            end_date: today,\n            limit: 50\n          }\n        });\n        let revenue = 0;\n        let completedCount = 0;\n        if (rentalsResponse.success && Array.isArray(rentalsResponse.data)) {\n          revenue = rentalsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\n          completedCount = rentalsResponse.data.length;\n        }\n        branchStats.push({\n          branchId: branch.id,\n          branchName: branch.name || `ÙØ±Ø¹ ${branch.id}`,\n          revenue: revenue,\n          completedCount: completedCount\n        });\n      } catch (error) {\n        continue;\n      }\n    }\n    return {\n      success: true,\n      data: {\n        branchRevenues: branchStats.map(stat => ({\n          branchId: stat.branchId,\n          branchName: stat.branchName,\n          revenue: stat.revenue\n        })),\n        completedRentalsByBranch: branchStats.map(stat => ({\n          branchId: stat.branchId,\n          branchName: stat.branchName,\n          count: stat.completedCount\n        })),\n        totalBranches: branchStats.length\n      }\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: {\n        branchRevenues: [],\n        completedRentalsByBranch: [],\n        totalBranches: 0\n      }\n    };\n  }\n};\napi.getTodayStatsEnhanced = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const statsResponse = await api.get('/rentals', {\n      params: {\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today\n      }\n    });\n    if (statsResponse.success && Array.isArray(statsResponse.data)) {\n      const revenue = statsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\n      const rentals = statsResponse.data.length;\n      return {\n        success: true,\n        data: {\n          revenue: revenue,\n          rentals: rentals,\n          date: today\n        }\n      };\n    }\n    return {\n      success: true,\n      data: {\n        revenue: 0,\n        rentals: 0,\n        date: today\n      }\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: {\n        revenue: 0,\n        rentals: 0,\n        date: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\nexport const getCurrentShiftDetails = async branchId => {\n  try {\n    const response = await axios.get('/shifts/current-details', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching shift details:', error);\n    throw error;\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nexport const refreshDashboardData = async branchId => {\n  try {\n    const response = await axios.post('/dashboard/refresh', {\n      branch_id: branchId\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error refreshing dashboard:', error);\n    throw error;\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªØµØ­ÙŠØ­ ====================\n\n// 9. ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„ØµØ­Ø©\napi.healthCheck = async () => {\n  try {\n    console.log('ğŸ¥ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ø®Ø§Ø¯Ù…...');\n    const response = await api.get('/health');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØµØ­Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.testConnection = async () => {\n  try {\n    var _response$data4;\n    console.log('ğŸ”— Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ API...');\n    const response = await api.get('/health');\n    return {\n      success: ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.success) || true,\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\n    };\n  }\n};\napi.testToken = async () => {\n  try {\n    const status = api.checkAuthStatus();\n    if (!status.isAuthenticated) {\n      return {\n        success: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ† Ù…Ø³Ø¬Ù„',\n        status: status\n      };\n    }\n    const response = await api.get('/auth/profile');\n    return {\n      success: true,\n      message: 'âœ… Ø§Ù„ØªÙˆÙƒÙ† ØµØ§Ù„Ø­ ÙˆÙŠØ¹Ù…Ù„',\n      profile: response,\n      status: status\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ Ø§Ù„ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­: ' + error.message,\n      status: api.checkAuthStatus()\n    };\n  }\n};\napi.testCreateBranch = async branchData => {\n  try {\n    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', branchData);\n    const response = await api.post('/test/create-branch', branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹',\n      error: error.message\n    };\n  }\n};\napi.testAllEndpoints = async () => {\n  const endpoints = ['/auth/login', '/branches', '/games', '/shifts/simple', '/rentals', '/customers', '/health', '/users', '/dashboard/stats/simple'];\n  const results = [];\n  for (const endpoint of endpoints) {\n    try {\n      console.log(`ğŸ” Ø§Ø®ØªØ¨Ø§Ø±: ${endpoint}`);\n      const response = await api.get(endpoint);\n      results.push({\n        endpoint,\n        success: response.success || false,\n        status: 'âœ…'\n      });\n    } catch (error) {\n      results.push({\n        endpoint,\n        success: false,\n        status: 'âŒ',\n        error: error.message\n      });\n    }\n  }\n  return {\n    success: true,\n    message: 'ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·',\n    results\n  };\n};\n\n// 4. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠØ©\napi.checkSystemHealth = async () => {\n  try {\n    var _authStatus$user, _authStatus$user2;\n    console.log('ğŸ¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø°ÙƒØ§Ø¡...');\n    const checks = [];\n\n    // 1. Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…\n    try {\n      const health = await api.healthCheck();\n      checks.push({\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        status: health.success ? 'success' : 'error',\n        message: health.success ? 'âœ… Ù…ØªØµÙ„' : 'âŒ ØºÙŠØ± Ù…ØªØµÙ„'\n      });\n    } catch (error) {\n      checks.push({\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        status: 'error',\n        message: 'âŒ ' + error.message\n      });\n    }\n\n    // 2. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\n    const authStatus = api.checkAuthStatus();\n    checks.push({\n      name: 'Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©',\n      status: authStatus.isAuthenticated ? 'success' : 'warning',\n      message: authStatus.isAuthenticated ? `âœ… Ù…ØµØ§Ø¯Ù‚ (${((_authStatus$user = authStatus.user) === null || _authStatus$user === void 0 ? void 0 : _authStatus$user.name) || 'Ù…Ø³ØªØ®Ø¯Ù…'})` : 'âš ï¸ ØºÙŠØ± Ù…ØµØ§Ø¯Ù‚'\n    });\n\n    // 3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    if (authStatus.isAuthenticated && (_authStatus$user2 = authStatus.user) !== null && _authStatus$user2 !== void 0 && _authStatus$user2.branch_id) {\n      try {\n        const branch = await api.getBranchById(authStatus.user.branch_id);\n        checks.push({\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n          status: branch.success ? 'success' : 'warning',\n          message: branch.success ? `âœ… ${branch.data.name}` : 'âš ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n        });\n      } catch (error) {\n        checks.push({\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n          status: 'warning',\n          message: 'âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n        });\n      }\n    }\n\n    // 4. Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\n    try {\n      const shift = await api.getActiveShift();\n      checks.push({\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n        status: shift.data ? 'success' : 'info',\n        message: shift.data ? `âœ… Ø´ÙŠÙØª #${shift.data.id}` : 'â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n      });\n    } catch (error) {\n      checks.push({\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n        status: 'warning',\n        message: 'âš ï¸ ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚'\n      });\n    }\n    const allSuccess = checks.every(c => c.status === 'success' || c.status === 'info');\n    const hasErrors = checks.some(c => c.status === 'error');\n    return {\n      success: !hasErrors,\n      checks: checks,\n      summary: {\n        total: checks.length,\n        success: checks.filter(c => c.status === 'success').length,\n        warning: checks.filter(c => c.status === 'warning').length,\n        error: checks.filter(c => c.status === 'error').length,\n        info: checks.filter(c => c.status === 'info').length\n      },\n      message: allSuccess ? 'âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : hasErrors ? 'âŒ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…' : 'âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\n    return {\n      success: false,\n      checks: [],\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',\n      error: error.message\n    };\n  }\n};\n\n// ==================== Ù†Ù‚Ø§Ø· API Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\n\n// ÙÙŠ api.js - ØªØµØ­ÙŠØ­ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\nexport const processCompletedRentals = async () => {\n  try {\n    console.log('ğŸ”„ Ø·Ù„Ø¨ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… this.post Ø¥Ø°Ø§ ÙƒÙ†Øª ÙÙŠ ÙƒØ§Ø¦Ù† api\n    const response = await axios.post('/rentals/process-completed', {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', response.data);\n    return {\n      success: true,\n      data: response.data,\n      message: 'ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ù†Ø¬Ø§Ø­'\n    };\n  } catch (error) {\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠ\n    return {\n      success: true,\n      data: {\n        processed_count: 0,\n        processed_rentals: []\n      },\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„ÙŠØ§Ù‹'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€Dashboard\nexport const getDashboardData = async branchId => {\n  try {\n    const response = await axios.get('/dashboard/live-data', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching dashboard data:', error);\n    throw error;\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ====================\n\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©)\napi.getBranch = async branchId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹\napi.getBranchShifts = async (branchId, params = {}) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get('/shifts', {\n      params: {\n        branch_id: branchId,\n        ...params\n      }\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || 0\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}:`, error.message);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø¨Ø¯ÙŠÙ„Ø©)\napi.createGameUnbreakable = async gameData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©):', gameData);\n    const response = await api.post('/games/create-unbreakable', gameData);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data,\n        message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error.message);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getCurrentUser = () => {\n  try {\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      return JSON.parse(userStr);\n    }\n    return null;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\n    return null;\n  }\n};\n\n// ==================== USERS MANAGEMENT - Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© ====================\n\n// âœ… ØªØ¹Ø·ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…\napi.deactivateUser = async id => {\n  try {\n    console.log(`ğŸŸ¡ [API] ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.post(`/users/${id}/deactivate`);\n    if (response.success) {\n      console.log(`âœ… [API] ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response13, _error$response14, _error$response14$dat;\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\n    if (((_error$response13 = error.response) === null || _error$response13 === void 0 ? void 0 : _error$response13.status) === 404) {\n      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†Ù‚Ø·Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n      return api.updateUser(id, {\n        is_active: false\n      });\n    }\n    return {\n      success: false,\n      message: ((_error$response14 = error.response) === null || _error$response14 === void 0 ? void 0 : (_error$response14$dat = _error$response14.data) === null || _error$response14$dat === void 0 ? void 0 : _error$response14$dat.message) || 'ØªØ¹Ø°Ø± ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// âœ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ù…Ø³ØªØ®Ø¯Ù…\napi.activateUser = async id => {\n  try {\n    console.log(`ğŸŸ¢ [API] Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.post(`/users/${id}/activate`);\n    if (response.success) {\n      console.log(`âœ… [API] ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response15, _error$response16, _error$response16$dat;\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\n    if (((_error$response15 = error.response) === null || _error$response15 === void 0 ? void 0 : _error$response15.status) === 404) {\n      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†Ù‚Ø·Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n      return api.updateUser(id, {\n        is_active: true\n      });\n    }\n    return {\n      success: false,\n      message: ((_error$response16 = error.response) === null || _error$response16 === void 0 ? void 0 : (_error$response16$dat = _error$response16.data) === null || _error$response16$dat === void 0 ? void 0 : _error$response16$dat.message) || 'ØªØ¹Ø°Ø± Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// âœ… ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„)\napi.toggleUserStatus = async id => {\n  try {\n    console.log(`ğŸ”„ [API] ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.post(`/users/${id}/toggle`);\n    if (response.success) {\n      console.log(`âœ… [API] ØªÙ… ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response17, _error$response17$dat;\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ù…Ø®ØµØµØ©ØŒ Ø§Ø³ØªØ®Ø¯Ù… updateUser Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹\n    try {\n      // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù…Ø¹Ø±ÙØ© Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø­Ø§Ù„ÙŠØ©\n      const userResponse = await api.getUser(id);\n      if (userResponse.success && userResponse.data) {\n        const currentStatus = userResponse.data.is_active;\n        // Ø¹ÙƒØ³ Ø§Ù„Ø­Ø§Ù„Ø©\n        return api.updateUser(id, {\n          is_active: !currentStatus\n        });\n      }\n    } catch (userError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', userError.message);\n    }\n    return {\n      success: false,\n      message: ((_error$response17 = error.response) === null || _error$response17 === void 0 ? void 0 : (_error$response17$dat = _error$response17.data) === null || _error$response17$dat === void 0 ? void 0 : _error$response17$dat.message) || 'ØªØ¹Ø°Ø± ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// âœ… Ø¬Ù„Ø¨ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø¯Ø¯ (ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø©)\napi.getUser = async id => {\n  try {\n    console.log(`ğŸ‘¤ [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.get(`/users/${id}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response18, _error$response18$dat;\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\n    return {\n      success: false,\n      message: ((_error$response18 = error.response) === null || _error$response18 === void 0 ? void 0 : (_error$response18$dat = _error$response18.data) === null || _error$response18$dat === void 0 ? void 0 : _error$response18$dat.message) || 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\napi.getCompletedRentalsForShift = async (shiftId, date) => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId} ÙÙŠ ØªØ§Ø±ÙŠØ® ${date}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          status: 'Ù…ÙƒØªÙ…Ù„',\n          start_date: date,\n          end_date: date,\n          limit: 100\n        }\n      });\n      if (response.success) {\n        var _response$data5;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„\n    try {\n      const response = await api.get('/rentals/completed-by-shift', {\n        params: {\n          shift_id: shiftId,\n          date: date\n        }\n      });\n      if (response.success) {\n        var _response$data6;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : _response$data6.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙˆØªØµÙÙŠØªÙ‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          limit: 200\n        }\n      });\n      if (response.success && response.data) {\n        const filtered = response.data.filter(rental => {\n          var _rental$start_time;\n          return rental.shift_id == shiftId && rental.status === 'Ù…ÙƒØªÙ…Ù„' && ((_rental$start_time = rental.start_time) === null || _rental$start_time === void 0 ? void 0 : _rental$start_time.startsWith(date));\n        });\n        return {\n          success: true,\n          data: filtered,\n          count: filtered.length,\n          fromCache: true\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…\napi.getTodayStats = async branchId => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n    const today = new Date().toISOString().split('T')[0];\n    const response = await api.get('/rentals', {\n      params: {\n        branch_id: branchId,\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today\n      }\n    });\n    if (response.success && response.data) {\n      const revenue = response.data.reduce((sum, rental) => sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0), 0);\n      return {\n        success: true,\n        data: {\n          rentals: response.data,\n          count: response.data.length,\n          revenue: revenue,\n          date: today\n        }\n      };\n    }\n    return {\n      success: true,\n      data: {\n        rentals: [],\n        count: 0,\n        revenue: 0,\n        date: today\n      }\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…:', error);\n    return {\n      success: false,\n      data: {\n        rentals: [],\n        count: 0,\n        revenue: 0,\n        date: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…\napi.getCompletedRentalsToday = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const response = await api.get('/rentals', {\n      params: {\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today,\n        limit: 100\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n\n// ==================== ADMIN DASHBOARD ENDPOINTS ====================\n\n// ÙÙŠ Ù…Ù„Ù api.js - Ø§Ø³ØªØ¨Ø¯Ù„ Ø¯Ø§Ù„Ø© getAllActiveRentals Ø¨Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯\n\napi.getAllActiveRentals = async () => {\n  try {\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\n    const response = await api.get('/admin/rentals/active-all-branches');\n    if (response.success) {\n      // ØªØµÙÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„Ù„ØªØ£ÙƒØ¯\n      const data = response.data || [];\n\n      // âœ… Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø­Ø§Ù„Ø© 'Ù†Ø´Ø·' ÙÙ‚Ø·\n      const activeRentals = data.filter(rental => {\n        var _rental$status, _rental$status$toLowe;\n        const status = ((_rental$status = rental.status) === null || _rental$status === void 0 ? void 0 : (_rental$status$toLowe = _rental$status.toLowerCase) === null || _rental$status$toLowe === void 0 ? void 0 : _rental$status$toLowe.call(_rental$status)) || '';\n        return status === 'Ù†Ø´Ø·' || status === 'active';\n      });\n      console.log(`ğŸ“Š [API] Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${data.length}, Ø§Ù„Ù†Ø´Ø· ÙÙ‚Ø·: ${activeRentals.length}`);\n      return {\n        success: true,\n        data: activeRentals,\n        count: activeRentals.length,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAllActiveRentals:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const altResponse = await api.get('/rentals/active', {\n        params: {\n          limit: 100\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        // ØªØµÙÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ£ÙƒØ¯\n        const activeOnly = altResponse.data.filter(rental => {\n          var _rental$status2, _rental$status2$toLow;\n          const status = ((_rental$status2 = rental.status) === null || _rental$status2 === void 0 ? void 0 : (_rental$status2$toLow = _rental$status2.toLowerCase) === null || _rental$status2$toLow === void 0 ? void 0 : _rental$status2$toLow.call(_rental$status2)) || '';\n          return status === 'Ù†Ø´Ø·' || status === 'active';\n        });\n        return {\n          success: true,\n          data: activeOnly,\n          count: activeOnly.length,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\n    };\n  }\n};\n\n// 2. Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\napi.getTodayCompletedRentalsAllBranches = async () => {\n  try {\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\n    const response = await api.get('/admin/rentals/completed-today-all-branches');\n    if (response.success) {\n      var _response$data7;\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || ((_response$data7 = response.data) === null || _response$data7 === void 0 ? void 0 : _response$data7.length) || 0,\n        date: response.date,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getTodayCompletedRentalsAllBranches:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/completed\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/completed');\n      const altResponse = await api.get('/rentals/completed', {\n        params: {\n          start_date: today,\n          end_date: today,\n          limit: 100\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        return {\n          success: true,\n          data: altResponse.data,\n          count: altResponse.data.length,\n          date: today,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      date: new Date().toISOString().split('T')[0],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…'\n    };\n  }\n};\n\n// 3. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\napi.getRecentRentalsAllBranches = async (limit = 50) => {\n  try {\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¢Ø®Ø± ${limit} ØªØ£Ø¬ÙŠØ± ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹`);\n    const response = await api.get('/admin/rentals/recent-all-branches', {\n      params: {\n        limit\n      }\n    });\n    if (response.success) {\n      var _response$data8;\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || ((_response$data8 = response.data) === null || _response$data8 === void 0 ? void 0 : _response$data8.length) || 0,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getRecentRentalsAllBranches:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals\n    try {\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals');\n      const altResponse = await api.get('/rentals', {\n        params: {\n          limit: limit,\n          order_by: 'start_time',\n          order_direction: 'DESC'\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        return {\n          success: true,\n          data: altResponse.data,\n          count: altResponse.data.length,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  }\n};\n\n// 4. Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ø¹ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª)\napi.getBranchById = async branchId => {\n  try {\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù†Ù‚Ø·Ø© branches/by-id\n    try {\n      const response = await api.get(`/branches/by-id/${branchId}`);\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data\n        };\n      }\n    } catch (error) {\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/by-id/${branchId}:`, error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù†Ù‚Ø·Ø© branches/:id\n    try {\n      const response = await api.get(`/branches/${branchId}`);\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data\n        };\n      }\n    } catch (error) {\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/${branchId}:`, error.message);\n    }\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.log(`ğŸ“¦ [API] Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\n        contact_phone: '01000000000',\n        opening_time: '09:00',\n        closing_time: '22:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ getBranchById:`, error.message);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\n        contact_phone: '01000000000',\n        opening_time: '09:00',\n        closing_time: '22:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  }\n};\n\n// 5. Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±\napi.getAdminDashboardStats = async () => {\n  try {\n    console.log('ğŸ“Š [API] Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±');\n\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ù‚Ø§Ø· Ù…ØªØ¹Ø¯Ø¯Ø©\n    const [branchesRes, activeRentalsRes, todayCompletedRes, recentRes] = await Promise.allSettled([api.getBranches(), api.getAllActiveRentals(), api.getTodayCompletedRentalsAllBranches(), api.getRecentRentalsAllBranches(10)]);\n    const stats = {\n      totalBranches: 0,\n      totalActiveRentals: 0,\n      todayCompletedRentals: 0,\n      todayRevenue: 0,\n      recentRentals: []\n    };\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙØ±ÙˆØ¹\n    if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\n      var _branchesRes$value$da;\n      stats.totalBranches = ((_branchesRes$value$da = branchesRes.value.data) === null || _branchesRes$value$da === void 0 ? void 0 : _branchesRes$value$da.length) || 0;\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\n    if (activeRentalsRes.status === 'fulfilled' && activeRentalsRes.value.success) {\n      stats.totalActiveRentals = activeRentalsRes.value.count || 0;\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\n    if (todayCompletedRes.status === 'fulfilled' && todayCompletedRes.value.success) {\n      stats.todayCompletedRentals = todayCompletedRes.value.count || 0;\n\n      // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…\n      if (todayCompletedRes.value.data) {\n        stats.todayRevenue = todayCompletedRes.value.data.reduce((sum, rental) => {\n          return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\n        }, 0);\n      }\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\n    if (recentRes.status === 'fulfilled' && recentRes.value.success) {\n      stats.recentRentals = recentRes.value.data || [];\n    }\n    return {\n      success: true,\n      data: stats\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAdminDashboardStats:', error.message);\n    return {\n      success: false,\n      data: {\n        totalBranches: 0,\n        totalActiveRentals: 0,\n        todayCompletedRentals: 0,\n        todayRevenue: 0,\n        recentRentals: []\n      }\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRecentRentals = async (limit = 30) => {\n  try {\n    const response = await api.get('/rentals', {\n      params: {\n        limit: limit,\n        order_by: 'start_time',\n        order_direction: 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\n\nconst savedToken = localStorage.getItem('token');\nif (savedToken) {\n  api.setToken(savedToken);\n}\nexport default api;","map":{"version":3,"names":["axios","detectEnvironment","env","process","REACT_APP_ENVIRONMENT","apiUrl","REACT_APP_API_URL","console","log","includes","API_BASE_URL","api","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","substring","error","Promise","reject","response","NODE_ENV","url","status","success","data","message","_error$config","_error$response","_error$response2","_error$response3","_error$response4","_error$response4$data","_error$response5","environment","warn","ngrokError","setToken","cleanToken","startsWith","defaults","common","setItem","removeItem","checkAuthStatus","user","isAuthenticated","JSON","parse","getEnvironmentInfo","isNgrok","nodeEnv","fixUrl","validateToken","valid","parts","split","length","userId","parseInt","get","safeRequest","endpoint","options","method","params","retry","_error$response6","_error$response7","_error$response8","code","loadGamesSmart","branchId","branch_id","defaultGames","id","name","category","price_per_15min","fromCache","startShift","post","altResponse","altError","getCurrentShift","_error$response9","login","email","password","stringify","Date","toISOString","logout","redirect","window","location","href","getProfile","getBranches","getBranchById","city","contact_phone","opening_time","closing_time","is_active","total_games","total_employees","active_rentals","created_at","createBranch","branchData","updateBranch","put","deleteBranch","permanent","delete","getBranchGames","_error$response0","getGames","requestParams","stats","getAllBranchGames","gamesWithFixedStatus","map","game","count","localGamesKey","savedGames","games","getGamesSeparated","getGamesSmart","branchGames","filter","g","getAvailableGames","getRentedGames","createGame","gameData","updateGame","updateGameSmart","endpoints","fetch","body","ok","result","json","localUpdate","timestamp","local","localUpdates","push","deleteGame","getActiveShift","getActiveShiftOld","getActiveShiftSafe","exists","apiError","savedShift","shiftData","cacheError","getShifts","getShiftsSafe","limit","order_by","order_direction","start_time","employee_name","employee_id","duration_minutes","total_revenue","total_rentals","startShiftSafe","error1","error2","error3","attempts","suggestion","startCleanShift","startShiftEnhanced","endShiftWithRentals","shiftId","endData","end_time","endShiftSmart","updateResponse","updateShift","notes","getShiftRevenueDetails","getShiftEmployees","shift_id","checkUserShift","hasActiveShift","has_active_shift","shift","getRentals","getAllRentals","getActiveRentals","localRentals","getActiveRentalsForShift","getRentalById","rentalId","getShiftRentals","getCompletedRentals","getCompletedRentalsByShift","getCompletedRentalsSmart","_response$data","allResponse","completedRentals","rental","getCurrentShiftCompletedRentals","getShiftRentalsSmart","filteredRentals","getRentalsByStatus","getRentalsByDate","startDate","endDate","start_date","end_date","checkFixedTimeRental","rental_id","getExpiredRentals","checkAllRentals","expiredResponse","processResponse","processCompletedRentals","expired","processed","createSimpleRental","rentalData","game_id","customer_name","customer_phone","createOpenTimeRental","createSmartRental","rental_type","completeRental","paymentData","payment_method","actual_end_time","early_end","refund_amount","cancelRental","refundAmount","reason","extendRental","additionalMinutes","additional_minutes","updateRental","updateRentalSimple","_method","deleteRental","getCustomers","search","_response$data2","completeOpenRental","final_amount","actual_minutes","processed_locally","completeFixedRental","auto_complete","createFixedRental","getActiveRentalsForCurrentShift","filteredData","processed_count","processed_rentals","cancelEarlyRental","getCompletedRentalsForShift","allRentals","Array","isArray","rentals","shiftRentals","processedRentals","is_open_time","time_type_display","game_name","game_name_full","game_price","fromEndpoint","createTestRental","getCurrentShiftWithRentals","shiftResponse","hasShift","rentalsResponse","rentalsCount","getUsers","_response$data3","_error$response1","createUser","userData","role","_error$response10","_error$response$data","updateUser","_error$response11","_error$response11$dat","deleteUser","_error$response12","_error$response12$dat","getSimpleStats","availableGames","totalGames","todayRevenue","todayRentals","activeRentals","getManagerStats","getDashboardAllStats","today","branchesStats","todayStats","allSettled","getBranchesStatsEnhanced","getTodayStatsEnhanced","value","branchRevenues","completedRentalsByBranch","totalBranches","revenue","generatedAt","branchesResponse","branches","branchStats","branch","slice","completedCount","reduce","sum","total_amount","branchName","stat","statsResponse","date","getCurrentShiftDetails","refreshDashboardData","healthCheck","testConnection","_response$data4","testToken","profile","testCreateBranch","testAllEndpoints","results","checkSystemHealth","_authStatus$user","_authStatus$user2","checks","health","authStatus","allSuccess","every","c","hasErrors","some","summary","total","warning","info","getDashboardData","getBranch","getBranchShifts","createGameUnbreakable","getCurrentUser","userStr","deactivateUser","_error$response13","_error$response14","_error$response14$dat","activateUser","_error$response15","_error$response16","_error$response16$dat","toggleUserStatus","_error$response17","_error$response17$dat","userResponse","getUser","currentStatus","userError","_error$response18","_error$response18$dat","_response$data5","_response$data6","filtered","_rental$start_time","getTodayStats","parseFloat","getCompletedRentalsToday","getAllActiveRentals","_rental$status","_rental$status$toLowe","toLowerCase","call","activeOnly","_rental$status2","_rental$status2$toLow","getTodayCompletedRentalsAllBranches","_response$data7","getRecentRentalsAllBranches","_response$data8","getAdminDashboardStats","branchesRes","activeRentalsRes","todayCompletedRes","recentRes","totalActiveRentals","todayCompletedRentals","recentRentals","_branchesRes$value$da","getRecentRentals","savedToken"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// âœ… Ø¯Ø§Ù„Ø© Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ngrok\r\nconst detectEnvironment = () => {\r\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\r\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n  \r\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\r\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\r\n  \r\n  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ ngrok\r\n  if (env === 'ngrok' || apiUrl.includes('ngrok')) {\r\n    console.log('ğŸ”— ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¨ÙŠØ¦Ø© ngrok - Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\r\n  }\r\n  \r\n  return { env, apiUrl };\r\n};\r\n\r\n// âœ… ØªØµØ­ÙŠØ­ URL Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ø¯Ø¹Ù… ngrok\r\nconst { env, apiUrl } = detectEnvironment();\r\nconst API_BASE_URL = apiUrl;\r\n\r\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\r\n\r\n// âœ… Ø¥Ù†Ø´Ø§Ø¡ axios instance Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Language': 'ar'\r\n  }\r\n});\r\n\r\n// ÙÙŠ api.js - ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n      console.log('ğŸ“¤ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ù…Ø¹ ØªÙˆÙƒÙ†:', token.substring(0, 15) + '...');\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('âœ… API Response:', {\r\n        url: response.config.url,\r\n        status: response.status,\r\n        success: true\r\n      });\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ data Ù…Ø¨Ø§Ø´Ø±Ø©\r\n    if (response.data && typeof response.data === 'object') {\r\n      return response.data;\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      status: response.status,\r\n      data: response.data,\r\n      message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\r\n      url: error.config?.url,\r\n      status: error.response?.status,\r\n      message: error.message,\r\n      environment: env\r\n    });\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§ØµØ© Ù„Ø¨ÙŠØ¦Ø© ngrok\r\n    if (env === 'ngrok' && error.message.includes('Network Error')) {\r\n      console.warn('âš ï¸ Ø®Ø·Ø£ Ø´Ø¨ÙƒØ© ÙÙŠ Ø¨ÙŠØ¦Ø© ngrok - Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\r\n      return {\r\n        success: false,\r\n        status: 0,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¹Ù†ÙˆØ§Ù† ngrok ØµØ­ÙŠØ­ ÙˆØ£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\r\n        ngrokError: true\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500\r\n    if (error.response?.status === 500) {\r\n      return {\r\n        success: false,\r\n        status: 500,\r\n        message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n    \r\n    // Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰\r\n    return {\r\n      success: false,\r\n      status: error.response?.status || 0,\r\n      message: error.response?.data?.message || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\r\n      data: error.response?.data\r\n    };\r\n  }\r\n);\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\napi.setToken = (token) => {\r\n  if (token) {\r\n    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ØªÙˆÙƒÙ† Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¹Ù†Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ†\r\n    let cleanToken = token;\r\n    if (token.startsWith('Bearer ')) {\r\n      cleanToken = token.substring(7);\r\n    }\r\n    \r\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\r\n    localStorage.setItem('token', cleanToken);\r\n    console.log('âœ… ØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­');\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n    console.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙˆÙƒÙ†');\r\n  }\r\n};\r\n\r\napi.checkAuthStatus = () => {\r\n  const token = localStorage.getItem('token');\r\n  const user = localStorage.getItem('user');\r\n  \r\n  return {\r\n    isAuthenticated: !!token,\r\n    token: token,\r\n    user: user ? JSON.parse(user) : null\r\n  };\r\n};\r\n\r\napi.getEnvironmentInfo = () => {\r\n  return {\r\n    environment: env,\r\n    apiUrl: API_BASE_URL,\r\n    isNgrok: env === 'ngrok' || API_BASE_URL.includes('ngrok'),\r\n    nodeEnv: process.env.NODE_ENV\r\n  };\r\n};\r\n\r\napi.fixUrl = (url) => {\r\n  if (url && url.startsWith('/api/')) {\r\n    console.warn(`âš ï¸ ØªØµØ­ÙŠØ­ URL: ${url} -> ${url.substring(4)}`);\r\n    return url.substring(4);\r\n  }\r\n  return url;\r\n};\r\n\r\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\r\napi.validateToken = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    if (!token) {\r\n      return { valid: false, message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ†' };\r\n    }\r\n    \r\n    // ğŸ” ÙÙƒ Ø§Ù„ØªÙˆÙƒÙ† (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)\r\n    const parts = token.split('_');\r\n    if (parts.length < 2) {\r\n      return { valid: false, message: 'ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­' };\r\n    }\r\n    \r\n    const userId = parseInt(parts[1]);\r\n    \r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    const response = await api.get('/auth/profile');\r\n    \r\n    if (response.success) {\r\n      return { \r\n        valid: true, \r\n        user: response.data,\r\n        userId: userId \r\n      };\r\n    } else {\r\n      return { valid: false, message: response.message };\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Token validation error:', error);\r\n    return { valid: false, message: error.message };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø£ÙƒØ«Ø± Ù‚ÙˆØ© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\r\napi.safeRequest = async (endpoint, options = {}) => {\r\n  try {\r\n    console.log(`ğŸ”„ [SAFE REQUEST] Calling: ${endpoint}`);\r\n    \r\n    const response = await api({\r\n      url: endpoint,\r\n      method: options.method || 'GET',\r\n      data: options.data,\r\n      params: options.params,\r\n      timeout: options.timeout || 10000,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        ...options.headers\r\n      }\r\n    });\r\n\r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±\r\n    if (response.status === 500) {\r\n      console.warn(`âš ï¸ Server returned 500 for ${endpoint}`);\r\n      \r\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\r\n      return {\r\n        success: false,\r\n        status: 500,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        data: null,\r\n        retry: true\r\n      };\r\n    }\r\n\r\n    return response;\r\n    \r\n  } catch (error) {\r\n    console.error(`ğŸ”¥ [SAFE REQUEST ERROR] ${endpoint}:`, {\r\n      message: error.message,\r\n      code: error.code,\r\n      status: error.response?.status\r\n    });\r\n\r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ø­Ø¯Ø¯Ø©\r\n    if (error.code === 'ECONNREFUSED') {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 5000',\r\n        status: 0,\r\n        data: null\r\n      };\r\n    }\r\n\r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',\r\n        status: 0,\r\n        data: null\r\n      };\r\n    }\r\n\r\n    if (error.response?.status === 500) {\r\n      return {\r\n        success: false,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ',\r\n        status: 500,\r\n        data: null,\r\n        error: error.response.data\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: false,\r\n      message: error.message || 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„',\r\n      status: error.response?.status || 0,\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡\r\napi.loadGamesSmart = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® [API] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø°ÙƒØ§Ø¡`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { branch_id: branchId }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    const defaultGames = [\r\n      { id: 1, name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', category: 'Ø³ÙŠØ§Ø±Ø§Øª', price_per_15min: 50, branch_id: branchId, status: 'Ù…ØªØ§Ø­' },\r\n      { id: 2, name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ', category: 'Ø³ÙƒÙˆØªØ±', price_per_15min: 30, branch_id: branchId, status: 'Ù…ØªØ§Ø­' },\r\n      { id: 3, name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©', category: 'Ø¯Ø±Ø§Ø¬Ø§Øª', price_per_15min: 40, branch_id: branchId, status: 'Ù…ØªØ§Ø­' }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames,\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ [API] Ø®Ø·Ø£ ÙÙŠ loadGamesSmart:', error);\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\napi.startShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\r\n    \r\n    const response = await api.post('/shifts/start');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error.message);\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const altResponse = await api.post('/shifts/start-simple');\r\n      return altResponse;\r\n    } catch (altError) {\r\n      return {\r\n        success: false,\r\n        message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + error.message\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getCurrentShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ');\r\n    \r\n    const response = await api.get('/shifts/simple');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø·Ù„Ø¨Ø§Øª\r\napi.safeRequest = async (endpoint, options = {}) => {\r\n  try {\r\n    console.log(`ğŸ”„ [SAFE] ${options.method || 'GET'} ${endpoint}`);\r\n    \r\n    const response = await api({\r\n      url: endpoint,\r\n      method: options.method || 'GET',\r\n      data: options.data,\r\n      params: options.params\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error(`âŒ [SAFE] Ø®Ø·Ø£ ÙÙŠ ${endpoint}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message,\r\n      status: error.response?.status || 500\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\r\n\r\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\napi.login = async (email, password) => {\r\n  try {\r\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\r\n    \r\n    const response = await api.post('/auth/login', { email, password });\r\n    const data = response;\r\n    \r\n    if (data.success && data.token) {\r\n      api.setToken(data.token);\r\n      \r\n      if (data.user) {\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastLogin', new Date().toISOString());\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: data\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n    \r\n    if (error.status === 401) {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\napi.logout = async (redirect = true) => {\r\n  try {\r\n    await api.post('/auth/logout');\r\n  } catch (error) {\r\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\r\n  } finally {\r\n    api.setToken(null);\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastLogin');\r\n    localStorage.removeItem('refreshToken');\r\n    \r\n    if (redirect) {\r\n      window.location.href = '/login';\r\n    }\r\n  }\r\n};\r\n\r\napi.getProfile = async () => {\r\n  try {\r\n    const response = await api.get('/auth/profile');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getBranches = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ¬ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹...');\r\n    const response = await api.get('/branches', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchById = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get(`/branches/${branchId}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.warn(`âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©`);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1,\r\n        total_games: 0,\r\n        total_employees: 1,\r\n        active_rentals: 0,\r\n        created_at: new Date().toISOString()\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø´Ø§Ù…Ù„Ø©\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1,\r\n        total_games: 0,\r\n        total_employees: 1,\r\n        active_rentals: 0,\r\n        created_at: new Date().toISOString()\r\n      },\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)',\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\napi.createBranch = async (branchData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯:', branchData);\r\n    const response = await api.post('/branches', branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.updateBranch = async (id, branchData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹ ${id}:`, branchData);\r\n    const response = await api.put(`/branches/${id}`, branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteBranch = async (id, permanent = false) => {\r\n  try {\r\n    const url = `/branches/${id}${permanent ? '?permanent=true' : ''}`;\r\n    const response = await api.delete(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchGames = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    const response = await api.get(`/branches/${branchId}/games`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\r\n      data: [],\r\n      status: error.response?.status || 500\r\n    };\r\n  }\r\n};\r\n\r\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\napi.getGames = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø·Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\r\n    \r\n    // âŒ Ø¥Ø²Ø§Ù„Ø© ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ statusØŒ Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    const requestParams = { ...params };\r\n    delete requestParams.status; // Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\r\n    \r\n    const response = await api.get('/games', { params: requestParams, timeout: 15000 });\r\n    \r\n    console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', response.success ? 'Ù†Ø§Ø¬Ø­' : 'ÙØ§Ø´Ù„');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        data: []\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ\r\napi.loadGamesSmart = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® [SMART LOAD] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ...`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    try {\r\n      const response = await api.getAllBranchGames(branchId);\r\n      \r\n      if (response.success && response.data && response.data.length > 0) {\r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n        \r\n        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¶Ù…Ø§Ù† Ø£Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ù‡Ø§ \"Ù…ØªØ§Ø­Ø©\" ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶\r\n        const gamesWithFixedStatus = response.data.map(game => ({\r\n          ...game,\r\n          status: 'Ù…ØªØ§Ø­' // âŒ ÙØ±Ø¶ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…ØªØ§Ø­Ø©\r\n        }));\r\n        \r\n        return {\r\n          success: true,\r\n          data: gamesWithFixedStatus,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­',\r\n          count: gamesWithFixedStatus.length\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\r\n    \r\n    const localGamesKey = `branch_${branchId}_games`;\r\n    const savedGames = localStorage.getItem(localGamesKey);\r\n    \r\n    if (savedGames) {\r\n      const games = JSON.parse(savedGames);\r\n      console.log(`ğŸ“± ØªÙ… ØªØ­Ù…ÙŠÙ„ ${games.length} Ù„Ø¹Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: games,\r\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\r\n        fromCache: true,\r\n        count: games.length\r\n      };\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\r\n    \r\n    const defaultGames = [\r\n      {\r\n        id: 1,\r\n        name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\r\n        category: 'Ø³ÙŠØ§Ø±Ø§Øª',\r\n        price_per_15min: 50,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\r\n        category: 'Ø³ÙƒÙˆØªØ±',\r\n        price_per_15min: 30,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\r\n        category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\r\n        price_per_15min: 40,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames,\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      fromCache: true,\r\n      count: defaultGames.length\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      count: 0\r\n    };\r\n  }\r\n};\r\n\r\napi.getGamesSeparated = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©...');\r\n    const response = await api.get('/games/separated', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getGamesSmart = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡...');\r\n    \r\n    const response = await api.get('/games', { params });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    if (params.branch_id) {\r\n      console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©...');\r\n      \r\n      const branchGames = await api.get(`/branches/${params.branch_id}/games`);\r\n      \r\n      if (branchGames.success) {\r\n        return {\r\n          success: true,\r\n          data: branchGames.data || [],\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„ÙØ±Ø¹'\r\n        };\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\r\n    \r\n    const defaultGames = [\r\n      {\r\n        id: 1,\r\n        name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\r\n        category: 'Ø³ÙŠØ§Ø±Ø§Øª',\r\n        price_per_15min: 50,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\r\n        category: 'Ø³ÙƒÙˆØªØ±',\r\n        price_per_15min: 30,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\r\n        category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\r\n        price_per_15min: 40,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames.filter(g => \r\n        !params.branch_id || g.branch_id == params.branch_id\r\n      ),\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n    };\r\n  }\r\n};\r\n\r\napi.getAllBranchGames = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† ØªØµÙÙŠØ© Ø¨Ø­Ø§Ù„Ø©)\r\n    const response = await api.get('/games', {\r\n      params: { \r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getAvailableGames = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±)...');\r\n    \r\n    // Ø§Ù„Ø¢Ù† Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¯ÙˆÙ† ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©\r\n    const response = await api.get('/games', { params });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentedGames = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/games/rented', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.createGame = async (gameData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©:', gameData);\r\n    const response = await api.post('/games', gameData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.updateGame = async (id, gameData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id}:`, gameData);\r\n    const response = await api.put(`/games/${id}`, gameData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© Ø°ÙƒÙŠØ©\r\napi.updateGameSmart = async (id, gameData) => {\r\n  try {\r\n    console.log(`ğŸ® [SMART UPDATE] ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ`);\r\n    \r\n    const endpoints = [\r\n      `/games/${id}`,           // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n      `/games/update/${id}`,    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n      `/games/${id}/update`     // Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø®Ø±Ù‰\r\n    ];\r\n    \r\n    const token = api.checkAuthStatus().token;\r\n    \r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© ${endpoint}`);\r\n        const response = await fetch(`http://localhost:5000/api${endpoint}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify(gameData)\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          console.log(`âœ… Ù†Ø¬Ø­Øª Ø¹Ø¨Ø± ${endpoint}:`, result);\r\n          return result;\r\n        }\r\n        \r\n        console.log(`âš ï¸ ${endpoint} Ø¹Ø§Ø¯ Ø¨Ù€ ${response.status}`);\r\n      } catch (error) {\r\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠ\r\n    console.log('ğŸ’¾ ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n    const localUpdate = {\r\n      id: id,\r\n      data: gameData,\r\n      timestamp: new Date().toISOString(),\r\n      local: true\r\n    };\r\n    \r\n    // Ø­ÙØ¸ ÙÙŠ localStorage\r\n    const localUpdates = JSON.parse(localStorage.getItem('game_updates') || '[]');\r\n    localUpdates.push(localUpdate);\r\n    localStorage.setItem('game_updates', JSON.stringify(localUpdates));\r\n    \r\n    return {\r\n      success: true,\r\n      message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\r\n      local: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteGame = async (id, permanent = false) => {\r\n  try {\r\n    const url = `/games/${id}${permanent ? '?permanent=true' : ''}`;\r\n    const response = await api.delete(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\r\napi.getActiveShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\r\n    const response = await api.get('/shifts/simple');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveShiftOld = async () => {\r\n  try {\r\n    const response = await api.get('/shifts/active');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© getActiveShiftSafe\r\napi.getActiveShiftSafe = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: API Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©\r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­');\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          exists: !!response.data\r\n        };\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: null,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·',\r\n        exists: false\r\n      };\r\n    } catch (apiError) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† API:', apiError.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù…Ù† localStorage\r\n    try {\r\n      const savedShift = localStorage.getItem('current_shift');\r\n      if (savedShift) {\r\n        const shiftData = JSON.parse(savedShift);\r\n        console.log('âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ');\r\n        return {\r\n          success: true,\r\n          data: shiftData,\r\n          exists: true,\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (cacheError) {\r\n      console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      exists: false,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ getActiveShiftSafe:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.getShifts = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª...');\r\n    const response = await api.get('/shifts', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftsSafe = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†');\r\n    \r\n    const response = await api.get('/shifts', {\r\n      params: {\r\n        ...params,\r\n        limit: params.limit || 10,\r\n        order_by: params.order_by || 'start_time',\r\n        order_direction: params.order_direction || 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      return {\r\n        success: true,\r\n        data: [\r\n          {\r\n            id: 1,\r\n            start_time: new Date().toISOString(),\r\n            employee_name: 'Ù…ÙˆØ¸Ù ØªØ¬Ø±ÙŠØ¨ÙŠ',\r\n            employee_id: 1,\r\n            branch_id: params.branch_id || 1,\r\n            status: 'Ù…Ù†ØªÙ‡ÙŠ',\r\n            duration_minutes: 120,\r\n            total_revenue: 1000,\r\n            total_rentals: 5\r\n          }\r\n        ],\r\n        count: 1\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.startShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\r\n    const response = await api.post('/shifts/start');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\napi.startShiftSafe = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [SAFE START SHIFT] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: start (Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: /shifts/start');\r\n    try {\r\n      const response = await api.post('/shifts/start', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 Ù…Ø¹ /shifts/start');\r\n        return response;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: start-simple\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: /shifts/start-simple');\r\n    try {\r\n      const response = await api.post('/shifts/start-simple', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 Ù…Ø¹ start-simple');\r\n        return response;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: start-clean\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: /shifts/start-clean');\r\n    try {\r\n      const response = await api.post('/shifts/start-clean', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 Ù…Ø¹ start-clean');\r\n        return response;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\r\n    }\r\n    \r\n    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª\r\n    console.log('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù†:\\n1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…\\n2. Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\\n3. ØªÙˆÙØ± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      attempts: 3,\r\n      suggestion: 'Ø¬Ø±Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShiftSafe:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message,\r\n      suggestion: 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ\r\napi.startCleanShift = async () => {\r\n  try {\r\n    console.log('ğŸ§¹ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ...');\r\n    const response = await api.post('/shifts/start-clean');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ'\r\n    };\r\n  }\r\n};\r\n\r\n// 5. ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\r\napi.startShiftEnhanced = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù…Ø¹Ø²Ø²...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\r\n    const response = await api.post('/shifts/start');\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\r\n      return response;\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    return await api.startShiftSafe();\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.endShiftWithRentals = async (shiftId, endData = {}) => {\r\n  try {\r\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId} Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...`);\r\n    \r\n    const response = await api.put(`/shifts/${shiftId}/end`, {\r\n      ...endData,\r\n      end_time: new Date().toISOString()\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\napi.endShiftSmart = async (shiftId, endData = {}) => {\r\n  try {\r\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª ${shiftId} Ø¨Ø°ÙƒØ§Ø¡...`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n    try {\r\n      const response = await api.put(`/shifts/${shiftId}/end`, {\r\n        ...endData,\r\n        end_time: new Date().toISOString()\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n    try {\r\n      const updateResponse = await api.updateShift(shiftId, {\r\n        status: 'Ù…Ù†ØªÙ‡ÙŠ',\r\n        end_time: new Date().toISOString(),\r\n        notes: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ)'\r\n      });\r\n      \r\n      if (updateResponse.success) {\r\n        return {\r\n          success: true,\r\n          message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­ (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          data: updateResponse.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',\r\n      shiftId: shiftId\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.updateShift = async (shiftId, data) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª #${shiftId}`);\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\r\n    const response = await api.put(`/shifts/${shiftId}/end`, data);\r\n    return response;\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftRevenueDetails = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ’° Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    const response = await api.get(`/shifts/${shiftId}/revenue-details`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯',\r\n      data: {}\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftEmployees = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\r\n    try {\r\n      const response = await api.get(`/shifts/${shiftId}/employees`);\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©\r\n    try {\r\n      const response = await api.get('/shifts/current-employees', {\r\n        params: { shift_id: shiftId }\r\n      });\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\napi.checkUserShift = async () => {\r\n  try {\r\n    console.log('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\n    const response = await api.get('/shifts/check-active');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        hasActiveShift: response.has_active_shift || false,\r\n        shift: response.data,\r\n        message: response.message\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      hasActiveShift: false,\r\n      shift: null,\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      hasActiveShift: false,\r\n      shift: null,\r\n      message: error.message\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRentals = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\r\n    const response = await api.get('/rentals', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getAllRentals = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        ...params,\r\n        limit: params.limit || 50,\r\n        order_by: params.order_by || 'start_time',\r\n        order_direction: params.order_direction || 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveRentals = async (branchId = null) => {\r\n  try {\r\n    console.log('â±ï¸ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    try {\r\n      const params = {};\r\n      if (branchId) {\r\n        params.branch_id = branchId;\r\n      }\r\n      \r\n      const response = await api.get('/rentals/active', { params });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ\r\n    try {\r\n      const localRentals = JSON.parse(localStorage.getItem('active_rentals') || '[]');\r\n      console.log(`ğŸ“± Ø¬Ù„Ø¨ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: localRentals,\r\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\r\n        fromCache: true\r\n      };\r\n    } catch (cacheError) {\r\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveRentalsForShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get('/rentals/active-for-shift', {\r\n      params: {\r\n        shift_id: shiftId,\r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentalById = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.get(`/rentals/${rentalId}`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftRentals = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get(`/shifts/${shiftId}/rentals`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getCompletedRentals = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/rentals/completed', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return { success: false, message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©', data: [] };\r\n  }\r\n};\r\n\r\napi.getCompletedRentalsByShift = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\napi.getCompletedRentalsSmart = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n    try {\r\n      const response = await api.get('/rentals/completed-only', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-only:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-by-shift:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØµÙÙŠØ© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId,\r\n          status: 'Ù…ÙƒØªÙ…Ù„'\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ±Ø©:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ù„ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n    try {\r\n      const allResponse = await api.get('/rentals', {\r\n        params: {\r\n          branch_id: branchId,\r\n          limit: 200\r\n        }\r\n      });\r\n      \r\n      if (allResponse.success && allResponse.data) {\r\n        const completedRentals = allResponse.data.filter(rental => \r\n          (rental.status === 'Ù…ÙƒØªÙ…Ù„' || rental.status === 'completed') &&\r\n          rental.shift_id === parseInt(shiftId)\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: completedRentals,\r\n          count: completedRentals.length,\r\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      data: [],\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.getCurrentShiftCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ¯ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    const response = await api.get('/rentals/current-shift-completed');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª\r\napi.getCurrentShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: /shifts/current\r\n    try {\r\n      const response = await api.get('/shifts/current');\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/current:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: /shifts/simple\r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/simple:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: /shifts/active\r\n    try {\r\n      const response = await api.get('/shifts/active');\r\n      return response;\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/active:', error.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\n\r\napi.getShiftRentalsSmart = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ¤– Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©**\r\n    try {\r\n      // Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ '/rentals/active-for-shift' ÙˆÙ„ÙŠØ³ '/api/rentals/active-for-shift'\r\n      const response = await api.get('/rentals/active-for-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active-for-shift`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active-for-shift:', error.message);\r\n    }\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© rentals Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ ÙÙ„ØªØ±Ø©**\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId,\r\n          status: 'Ù†Ø´Ø·'\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals:', error.message);\r\n    }\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© active Ù…Ø¹ ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ©**\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: {\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        // ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø­Ø³Ø¨ shiftId\r\n        const filteredRentals = response.data.filter(rental => \r\n          rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n        );\r\n        \r\n        console.log(`âœ… ØªÙ… ÙÙ„ØªØ±Ø© ${filteredRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active`);\r\n        \r\n        return {\r\n          success: true,\r\n          data: filteredRentals,\r\n          count: filteredRentals.length,\r\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    console.log('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ø´ÙŠÙØª',\r\n      count: 0\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n\r\napi.getRentalsByStatus = async (status, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`);\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: { ...params, status }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}:`, error);\r\n    return {\r\n      success: false,\r\n      message: `ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`,\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentalsByDate = async (startDate, endDate, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“… Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† ${startDate} Ø¥Ù„Ù‰ ${endDate}`);\r\n    \r\n    const response = await api.get('/rentals/all', {\r\n      params: { ...params, start_date: startDate, end_date: endDate }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.checkFixedTimeRental = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£Ø¬ÙŠØ± ${rentalId}...`);\r\n    \r\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\r\n    const response = await api.post('/rentals/check-fixed-time', {\r\n      rental_id: rentalId\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.getExpiredRentals = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©...');\r\n    \r\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\r\n    const response = await api.get('/rentals/expired');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.checkAllRentals = async () => {\r\n  try {\r\n    console.log('ğŸ” Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\r\n    \r\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©\r\n    const expiredResponse = await api.getExpiredRentals();\r\n    \r\n    // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n    const processResponse = await api.processCompletedRentals();\r\n    \r\n    return {\r\n      success: true,\r\n      expired: expiredResponse,\r\n      processed: processResponse,\r\n      message: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·\r\napi.createSimpleRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¯ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone,\r\n      duration_minutes: rentalData.duration_minutes || 15\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\napi.createOpenTimeRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ•’ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/open-time-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.createSmartRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¤– Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/smart-create', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000',\r\n      rental_type: rentalData.rental_type || 'fixed'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.completeRental = async (rentalId, paymentData = {}) => {\r\n  try {\r\n    console.log(`âœ… Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\r\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´',\r\n      actual_end_time: new Date().toISOString(),\r\n      early_end: paymentData.early_end || false,\r\n      refund_amount: paymentData.refund_amount || 0\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// âŒ Ø¥Ø²Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø¯Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.cancelRental = async (rentalId, refundAmount, reason = '') => {\r\n  try {\r\n    console.log(`âŒ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.put(`/rentals/${rentalId}/cancel`, {\r\n      refund_amount: refundAmount,\r\n      reason: reason\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø¯Ø§Ù„Ø© ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.extendRental = async (rentalId, additionalMinutes = 15) => {\r\n  try {\r\n    console.log(`â±ï¸ ØªÙ…Ø¯ÙŠØ¯ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/extend`, {\r\n      additional_minutes: additionalMinutes\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©\r\napi.updateRental = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© PUT\r\n    try {\r\n      const response = await api.put(`/rentals/${rentalId}`, rentalData);\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 (PUT)');\r\n        return response;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© POST\r\n    try {\r\n      const response = await api.post(`/rentals/${rentalId}/update`, rentalData);\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 (POST /update)');\r\n        return response;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n    try {\r\n      const response = await api.post(`/rentals/update-simple`, {\r\n        rental_id: rentalId,\r\n        ...rentalData\r\n      });\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 (update-simple)');\r\n        return response;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    console.error('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„Øª');\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ø¹Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª',\r\n      rentalId: rentalId,\r\n      attempts: 3\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ [FATAL] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø¨Ø³Ø·\r\napi.updateRentalSimple = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… POST Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† PUT\r\n    const response = await api.post(`/rentals/${rentalId}`, {\r\n      _method: 'PUT',\r\n      ...rentalData\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteRental = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rentalId}`);\r\n    const response = await api.delete(`/rentals/${rentalId}/cancel`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        message: 'ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Error deleting rental:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// 6. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\r\napi.getCustomers = async (search = '') => {\r\n  try {\r\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡...');\r\n    \r\n    const params = search ? { search } : {};\r\n    const response = await api.get('/customers', { params });\r\n    \r\n    console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data?.length || 0} Ø¹Ù…ÙŠÙ„`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ====================\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\napi.completeOpenRental = async (rentalId, paymentData = {}) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete-open`, {\r\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: rentalId,\r\n        final_amount: paymentData.final_amount || 0,\r\n        actual_minutes: paymentData.actual_minutes || 15,\r\n        processed_locally: true\r\n      },\r\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\r\napi.completeFixedRental = async (rentalId) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete-fixed`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: rentalId,\r\n        processed_locally: true\r\n      },\r\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± (Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©)\r\napi.completeRental = async (rentalId, data = {}) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\r\n      payment_method: data.payment_method || 'ÙƒØ§Ø´',\r\n      final_amount: data.final_amount,\r\n      auto_complete: data.auto_complete || false\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message || 'ÙØ´Ù„ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ (ÙŠØ¯Ø¹Ù… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª ÙˆØ§Ù„Ù…ÙØªÙˆØ­)\r\napi.createSmartRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¤– [API] Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/smart-create', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000',\r\n      rental_type: rentalData.rental_type || 'fixed'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ Ø¨Ø³ÙŠØ·\r\napi.createOpenTimeRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ•’ [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/open-time-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª Ø¨Ø³ÙŠØ·\r\napi.createFixedRental = async (rentalData) => {\r\n  try {\r\n    console.log('â° [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/ultra-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    if (!shiftId || !branchId) {\r\n      return { success: true, data: [], count: 0 };\r\n    }\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø£ÙˆÙ„Ø§Ù‹\r\n    try {\r\n      const response = await api.get('/rentals/active-simple', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-simple:', error.message);\r\n    }\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const response = await api.get('/rentals/active-for-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-for-shift:', error.message);\r\n    }\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        // ÙÙ„ØªØ±Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\r\n        const filteredData = (response.data || []).filter(\r\n          rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: filteredData,\r\n          count: filteredData.length\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active:', error.message);\r\n    }\r\n    \r\n    return { success: true, data: [], count: 0 };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\r\n    return { success: true, data: [], count: 0 };\r\n  }\r\n};\r\n\r\n// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\napi.processCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    \r\n    const response = await api.post('/rentals/process-completed');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.warn('âš ï¸ [API] ÙØ´Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        processed_count: 0,\r\n        processed_rentals: []\r\n      },\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¨ÙƒØ±\r\napi.cancelEarlyRental = async (rentalId, data = {}) => {\r\n  try {\r\n    console.log(`âŒ [API] Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/cancel-early`, {\r\n      reason: data.reason || 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…ÙˆØ¸Ù',\r\n      refund_amount: data.refund_amount || 0\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message || 'ÙØ´Ù„ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ±\r\napi.updateRental = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\r\n    \r\n    const response = await api.put(`/rentals/${rentalId}`, rentalData);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const altResponse = await api.post(`/rentals/${rentalId}/update`, rentalData);\r\n      return altResponse;\r\n    } catch (altError) {\r\n      console.error('âŒ [API] ÙØ´Ù„Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ø£ÙŠØ¶Ø§Ù‹:', altError.message);\r\n      \r\n      return {\r\n        success: false,\r\n        message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ ØªØ£Ø¬ÙŠØ±\r\napi.getRentalById = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.get(`/rentals/${rentalId}`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\r\napi.getCompletedRentalsForShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get('/rentals/completed-only', {\r\n      params: {\r\n        shift_id: shiftId,\r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0\r\n    };\r\n  }\r\n};\r\n\r\n// ÙÙŠ api.js - Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­\r\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ¯ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    if (!shiftId || !branchId) {\r\n      console.log('âš ï¸ shiftId Ø£Ùˆ branchId ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\r\n      return { success: true, data: [], count: 0 };\r\n    }\r\n    \r\n    // âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙØ¹Ù„Ø§Ù‹\r\n    const endpoints = [\r\n      { \r\n        url: `/rentals/active-by-shift/${shiftId}`, \r\n        params: { branch_id: branchId }\r\n      },\r\n      { \r\n        url: '/rentals/active', \r\n        params: { branch_id: branchId }\r\n      },\r\n      { \r\n        url: '/rentals', \r\n        params: { branch_id: branchId, status: 'Ù†Ø´Ø·' }\r\n      }\r\n    ];\r\n    \r\n    // ØªØ¬Ø±Ø¨Ø© ÙƒÙ„ Ù…Ø³Ø§Ø±\r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        console.log(`ğŸ“¡ Ù…Ø­Ø§ÙˆÙ„Ø©: ${endpoint.url}`);\r\n        \r\n        const response = await api.get(endpoint.url, { params: endpoint.params });\r\n        \r\n        if (response.success) {\r\n          // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\r\n          let allRentals = [];\r\n          \r\n          if (Array.isArray(response.data)) {\r\n            allRentals = response.data;\r\n          } else if (response.data && Array.isArray(response.data.data)) {\r\n            allRentals = response.data.data;\r\n          } else if (response.data && Array.isArray(response.data.rentals)) {\r\n            allRentals = response.data.rentals;\r\n          }\r\n          \r\n          console.log(`âœ… ${endpoint.url} - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª: ${allRentals.length}`);\r\n          \r\n          // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ shift_id\r\n          const shiftRentals = allRentals.filter(rental => \r\n            rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n          );\r\n          \r\n          console.log(`ğŸ“Š Ù„Ù„Ø´ÙŠÙØª ${shiftId}: ${shiftRentals.length} ØªØ£Ø¬ÙŠØ±`);\r\n          \r\n          // âœ… Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØªØŒ Ù†Ø¹ÙŠØ¯Ù‡Ø§ ÙÙˆØ±Ø§Ù‹\r\n          if (shiftRentals.length > 0) {\r\n            console.log(`ğŸ‰ ÙˆØ¬Ø¯Ù†Ø§ ${shiftRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù„Ø´ÙŠÙØª ${shiftId} Ø¹Ø¨Ø± ${endpoint.url}`);\r\n            \r\n            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n            const processedRentals = shiftRentals.map(rental => ({\r\n              ...rental,\r\n              rental_type: rental.rental_type || (rental.is_open_time === 1 ? 'open' : 'fixed'),\r\n              time_type_display: (rental.rental_type === 'open' || rental.is_open_time === 1) ? 'Ù…ÙØªÙˆØ­' : 'Ø«Ø§Ø¨Øª',\r\n              game_name: rental.game_name || rental.game_name_full || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©',\r\n              customer_phone: rental.customer_phone || '00000000000',\r\n              price_per_15min: rental.price_per_15min || rental.game_price || 100\r\n            }));\r\n            \r\n            return {\r\n              success: true,\r\n              data: processedRentals,\r\n              count: processedRentals.length,\r\n              fromEndpoint: endpoint.url\r\n            };\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(`âš ï¸ ÙØ´Ù„Øª ${endpoint.url}: ${error.message}`);\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø¹Ø¯ ØªØ¬Ø±Ø¨Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n    console.log(`â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    return { success: true, data: [], count: 0 };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\r\n    return { success: true, data: [], count: 0 };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ (Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„)\r\napi.createTestRental = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ§ª Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.post('/rentals/simple', {\r\n      game_id: 1, // Ø§ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø±Ù‚Ù… 1 Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n      customer_name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ',\r\n      customer_phone: '01000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ:', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ ØªØ£Ø¬ÙŠØ±Ø§ØªÙ‡ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©\r\napi.getCurrentShiftWithRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\r\n    \r\n    // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹\r\n    const shiftResponse = await api.get('/shifts/current');\r\n    \r\n    if (!shiftResponse.success || !shiftResponse.data) {\r\n      return {\r\n        success: true,\r\n        hasShift: false,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n      };\r\n    }\r\n    \r\n    const shift = shiftResponse.data;\r\n    \r\n    // 2. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\r\n    const rentalsResponse = await api.getActiveRentalsForCurrentShift(\r\n      shift.id, \r\n      shift.branch_id\r\n    );\r\n    \r\n    return {\r\n      success: true,\r\n      hasShift: true,\r\n      shift: shift,\r\n      rentals: rentalsResponse.data || [],\r\n      rentalsCount: rentalsResponse.count || 0,\r\n      message: `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ ${rentalsResponse.count || 0} ØªØ£Ø¬ÙŠØ±`\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      hasShift: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n    };\r\n  }\r\n};\r\n// ==================== USERS MANAGEMENT ====================\r\n\r\n// Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\r\napi.getUsers = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...');\r\n    const response = await api.get('/users', { params });\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data?.length || 0} Ù…Ø³ØªØ®Ø¯Ù…`);\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || 0\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:', error);\r\n    \r\n    if (error.response?.status === 403) {\r\n      return {\r\n        success: false,\r\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯\r\napi.createUser = async (userData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯:', {\r\n      name: userData.name,\r\n      email: userData.email,\r\n      role: userData.role\r\n    });\r\n    \r\n    const response = await api.post('/users', userData);\r\n    \r\n    if (response.success) {\r\n      console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    \r\n    if (error.response?.status === 400) {\r\n      return {\r\n        success: false,\r\n        message: error.response.data?.message || 'Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªØ®Ø¯Ù…\r\napi.updateUser = async (id, userData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, userData);\r\n    const response = await api.put(`/users/${id}`, userData);\r\n    \r\n    if (response.success) {\r\n      console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…\r\napi.deleteUser = async (id, permanent = false) => {\r\n  try {\r\n    console.log(`ğŸ—‘ï¸ ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.delete(`/users/${id}?permanent=${permanent}`);\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­`);\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ====================\r\n\r\napi.getSimpleStats = async () => {\r\n  try {\r\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©...');\r\n    const response = await api.get('/dashboard/stats/simple');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\r\n      data: {\r\n        availableGames: 0,\r\n        totalGames: 0,\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        activeRentals: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getManagerStats = async () => {\r\n  try {\r\n    console.log('ğŸ‘‘ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±...');\r\n    const response = await api.get('/dashboard/stats/manager');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.getDashboardAllStats = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const [branchesStats, todayStats] = await Promise.allSettled([\r\n      api.getBranchesStatsEnhanced(),\r\n      api.getTodayStatsEnhanced()\r\n    ]);\r\n\r\n    const result = {\r\n      success: true,\r\n      data: {}\r\n    };\r\n\r\n    if (branchesStats.status === 'fulfilled' && branchesStats.value.success) {\r\n      result.data.branchRevenues = branchesStats.value.data.branchRevenues || [];\r\n      result.data.completedRentalsByBranch = branchesStats.value.data.completedRentalsByBranch || [];\r\n      result.data.totalBranches = branchesStats.value.data.totalBranches || 0;\r\n    } else {\r\n      result.data.branchRevenues = [];\r\n      result.data.completedRentalsByBranch = [];\r\n      result.data.totalBranches = 0;\r\n    }\r\n\r\n    if (todayStats.status === 'fulfilled' && todayStats.value.success) {\r\n      result.data.todayRevenue = todayStats.value.data.revenue || 0;\r\n      result.data.todayRentals = todayStats.value.data.rentals || 0;\r\n    } else {\r\n      result.data.todayRevenue = 0;\r\n      result.data.todayRentals = 0;\r\n    }\r\n\r\n    result.data.generatedAt = new Date().toISOString();\r\n    result.data.today = today;\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',\r\n      data: {\r\n        branchRevenues: [],\r\n        completedRentalsByBranch: [],\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        generatedAt: new Date().toISOString(),\r\n        today: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchesStatsEnhanced = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const branchesResponse = await api.getBranches();\r\n    \r\n    if (!branchesResponse.success || !Array.isArray(branchesResponse.data)) {\r\n      return {\r\n        success: true,\r\n        data: {\r\n          branchRevenues: [],\r\n          completedRentalsByBranch: [],\r\n          totalBranches: 0\r\n        }\r\n      };\r\n    }\r\n\r\n    const branches = branchesResponse.data;\r\n    const branchStats = [];\r\n    \r\n    for (const branch of branches.slice(0, 5)) {\r\n      try {\r\n        const rentalsResponse = await api.get('/rentals', {\r\n          params: {\r\n            branch_id: branch.id,\r\n            status: 'Ù…ÙƒØªÙ…Ù„',\r\n            start_date: today,\r\n            end_date: today,\r\n            limit: 50\r\n          }\r\n        });\r\n\r\n        let revenue = 0;\r\n        let completedCount = 0;\r\n\r\n        if (rentalsResponse.success && Array.isArray(rentalsResponse.data)) {\r\n          revenue = rentalsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\r\n          completedCount = rentalsResponse.data.length;\r\n        }\r\n\r\n        branchStats.push({\r\n          branchId: branch.id,\r\n          branchName: branch.name || `ÙØ±Ø¹ ${branch.id}`,\r\n          revenue: revenue,\r\n          completedCount: completedCount\r\n        });\r\n      } catch (error) {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        branchRevenues: branchStats.map(stat => ({\r\n          branchId: stat.branchId,\r\n          branchName: stat.branchName,\r\n          revenue: stat.revenue\r\n        })),\r\n        completedRentalsByBranch: branchStats.map(stat => ({\r\n          branchId: stat.branchId,\r\n          branchName: stat.branchName,\r\n          count: stat.completedCount\r\n        })),\r\n        totalBranches: branchStats.length\r\n      }\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      data: {\r\n        branchRevenues: [],\r\n        completedRentalsByBranch: [],\r\n        totalBranches: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getTodayStatsEnhanced = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const statsResponse = await api.get('/rentals', {\r\n      params: {\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today\r\n      }\r\n    });\r\n\r\n    if (statsResponse.success && Array.isArray(statsResponse.data)) {\r\n      const revenue = statsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\r\n      const rentals = statsResponse.data.length;\r\n      \r\n      return {\r\n        success: true,\r\n        data: {\r\n          revenue: revenue,\r\n          rentals: rentals,\r\n          date: today\r\n        }\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        revenue: 0,\r\n        rentals: 0,\r\n        date: today\r\n      }\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      data: {\r\n        revenue: 0,\r\n        rentals: 0,\r\n        date: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\r\nexport const getCurrentShiftDetails = async (branchId) => {\r\n  try {\r\n    const response = await axios.get('/shifts/current-details', {\r\n      params: { branch_id: branchId }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching shift details:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\nexport const refreshDashboardData = async (branchId) => {\r\n  try {\r\n    const response = await axios.post('/dashboard/refresh', {\r\n      branch_id: branchId\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error refreshing dashboard:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªØµØ­ÙŠØ­ ====================\r\n\r\n// 9. ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„ØµØ­Ø©\r\napi.healthCheck = async () => {\r\n  try {\r\n    console.log('ğŸ¥ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ø®Ø§Ø¯Ù…...');\r\n    const response = await api.get('/health');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØµØ­Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\napi.testConnection = async () => {\r\n  try {\r\n    console.log('ğŸ”— Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ API...');\r\n    const response = await api.get('/health');\r\n    return {\r\n      success: response.data?.success || true,\r\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\r\n      data: response.data\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\r\n    };\r\n  }\r\n};\r\n\r\napi.testToken = async () => {\r\n  try {\r\n    const status = api.checkAuthStatus();\r\n    \r\n    if (!status.isAuthenticated) {\r\n      return {\r\n        success: false,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ† Ù…Ø³Ø¬Ù„',\r\n        status: status\r\n      };\r\n    }\r\n    \r\n    const response = await api.get('/auth/profile');\r\n    \r\n    return {\r\n      success: true,\r\n      message: 'âœ… Ø§Ù„ØªÙˆÙƒÙ† ØµØ§Ù„Ø­ ÙˆÙŠØ¹Ù…Ù„',\r\n      profile: response,\r\n      status: status\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ Ø§Ù„ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­: ' + error.message,\r\n      status: api.checkAuthStatus()\r\n    };\r\n  }\r\n};\r\n\r\napi.testCreateBranch = async (branchData) => {\r\n  try {\r\n    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', branchData);\r\n    const response = await api.post('/test/create-branch', branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.testAllEndpoints = async () => {\r\n  const endpoints = [\r\n    '/auth/login',\r\n    '/branches',\r\n    '/games',\r\n    '/shifts/simple',\r\n    '/rentals',\r\n    '/customers',\r\n    '/health',\r\n    '/users',\r\n    '/dashboard/stats/simple'\r\n  ];\r\n  \r\n  const results = [];\r\n  \r\n  for (const endpoint of endpoints) {\r\n    try {\r\n      console.log(`ğŸ” Ø§Ø®ØªØ¨Ø§Ø±: ${endpoint}`);\r\n      const response = await api.get(endpoint);\r\n      results.push({\r\n        endpoint,\r\n        success: response.success || false,\r\n        status: 'âœ…'\r\n      });\r\n    } catch (error) {\r\n      results.push({\r\n        endpoint,\r\n        success: false,\r\n        status: 'âŒ',\r\n        error: error.message\r\n      });\r\n    }\r\n  }\r\n  \r\n  return {\r\n    success: true,\r\n    message: 'ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·',\r\n    results\r\n  };\r\n};\r\n\r\n// 4. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠØ©\r\napi.checkSystemHealth = async () => {\r\n  try {\r\n    console.log('ğŸ¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø°ÙƒØ§Ø¡...');\r\n    \r\n    const checks = [];\r\n    \r\n    // 1. Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    try {\r\n      const health = await api.healthCheck();\r\n      checks.push({\r\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        status: health.success ? 'success' : 'error',\r\n        message: health.success ? 'âœ… Ù…ØªØµÙ„' : 'âŒ ØºÙŠØ± Ù…ØªØµÙ„'\r\n      });\r\n    } catch (error) {\r\n      checks.push({\r\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        status: 'error',\r\n        message: 'âŒ ' + error.message\r\n      });\r\n    }\r\n    \r\n    // 2. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\n    const authStatus = api.checkAuthStatus();\r\n    checks.push({\r\n      name: 'Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©',\r\n      status: authStatus.isAuthenticated ? 'success' : 'warning',\r\n      message: authStatus.isAuthenticated ? \r\n        `âœ… Ù…ØµØ§Ø¯Ù‚ (${authStatus.user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'})` : \r\n        'âš ï¸ ØºÙŠØ± Ù…ØµØ§Ø¯Ù‚'\r\n    });\r\n    \r\n    // 3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n    if (authStatus.isAuthenticated && authStatus.user?.branch_id) {\r\n      try {\r\n        const branch = await api.getBranchById(authStatus.user.branch_id);\r\n        checks.push({\r\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n          status: branch.success ? 'success' : 'warning',\r\n          message: branch.success ? \r\n            `âœ… ${branch.data.name}` : \r\n            'âš ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n        });\r\n      } catch (error) {\r\n        checks.push({\r\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n          status: 'warning',\r\n          message: 'âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n        });\r\n      }\r\n    }\r\n    \r\n    // 4. Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\r\n    try {\r\n      const shift = await api.getActiveShift();\r\n      checks.push({\r\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n        status: shift.data ? 'success' : 'info',\r\n        message: shift.data ? \r\n          `âœ… Ø´ÙŠÙØª #${shift.data.id}` : \r\n          'â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n      });\r\n    } catch (error) {\r\n      checks.push({\r\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n        status: 'warning',\r\n        message: 'âš ï¸ ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚'\r\n      });\r\n    }\r\n    \r\n    const allSuccess = checks.every(c => c.status === 'success' || c.status === 'info');\r\n    const hasErrors = checks.some(c => c.status === 'error');\r\n    \r\n    return {\r\n      success: !hasErrors,\r\n      checks: checks,\r\n      summary: {\r\n        total: checks.length,\r\n        success: checks.filter(c => c.status === 'success').length,\r\n        warning: checks.filter(c => c.status === 'warning').length,\r\n        error: checks.filter(c => c.status === 'error').length,\r\n        info: checks.filter(c => c.status === 'info').length\r\n      },\r\n      message: allSuccess ? \r\n        'âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : \r\n        hasErrors ? 'âŒ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…' : 'âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      checks: [],\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ù†Ù‚Ø§Ø· API Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\r\n\r\n// ÙÙŠ api.js - ØªØµØ­ÙŠØ­ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\r\nexport const processCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø·Ù„Ø¨ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… this.post Ø¥Ø°Ø§ ÙƒÙ†Øª ÙÙŠ ÙƒØ§Ø¦Ù† api\r\n    const response = await axios.post('/rentals/process-completed', {}, {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    \r\n    console.log('âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', response.data);\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠ\r\n    return {\r\n      success: true,\r\n      data: {\r\n        processed_count: 0,\r\n        processed_rentals: []\r\n      },\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„ÙŠØ§Ù‹'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€Dashboard\r\nexport const getDashboardData = async (branchId) => {\r\n  try {\r\n    const response = await axios.get('/dashboard/live-data', {\r\n      params: { branch_id: branchId }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching dashboard data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ====================\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©)\r\napi.getBranch = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get(`/branches/${branchId}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹\r\napi.getBranchShifts = async (branchId, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get('/shifts', {\r\n      params: {\r\n        branch_id: branchId,\r\n        ...params\r\n      }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || 0\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø¨Ø¯ÙŠÙ„Ø©)\r\napi.createGameUnbreakable = async (gameData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©):', gameData);\r\n    \r\n    const response = await api.post('/games/create-unbreakable', gameData);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data,\r\n        message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getCurrentUser = () => {\r\n  try {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      return JSON.parse(userStr);\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// ==================== USERS MANAGEMENT - Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© ====================\r\n\r\n// âœ… ØªØ¹Ø·ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù…\r\napi.deactivateUser = async (id) => {\r\n  try {\r\n    console.log(`ğŸŸ¡ [API] ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.post(`/users/${id}/deactivate`);\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… [API] ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\r\n    \r\n    if (error.response?.status === 404) {\r\n      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†Ù‚Ø·Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n      return api.updateUser(id, { is_active: false });\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// âœ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ù…Ø³ØªØ®Ø¯Ù…\r\napi.activateUser = async (id) => {\r\n  try {\r\n    console.log(`ğŸŸ¢ [API] Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.post(`/users/${id}/activate`);\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… [API] ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\r\n    \r\n    if (error.response?.status === 404) {\r\n      // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†Ù‚Ø·Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n      return api.updateUser(id, { is_active: true });\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø´ÙŠØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// âœ… ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„)\r\napi.toggleUserStatus = async (id) => {\r\n  try {\r\n    console.log(`ğŸ”„ [API] ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.post(`/users/${id}/toggle`);\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… [API] ØªÙ… ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id} Ø¨Ù†Ø¬Ø§Ø­`);\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ù…Ø®ØµØµØ©ØŒ Ø§Ø³ØªØ®Ø¯Ù… updateUser Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹\r\n    try {\r\n      // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù…Ø¹Ø±ÙØ© Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø­Ø§Ù„ÙŠØ©\r\n      const userResponse = await api.getUser(id);\r\n      \r\n      if (userResponse.success && userResponse.data) {\r\n        const currentStatus = userResponse.data.is_active;\r\n        // Ø¹ÙƒØ³ Ø§Ù„Ø­Ø§Ù„Ø©\r\n        return api.updateUser(id, { is_active: !currentStatus });\r\n      }\r\n    } catch (userError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', userError.message);\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// âœ… Ø¬Ù„Ø¨ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø­Ø¯Ø¯ (ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø©)\r\napi.getUser = async (id) => {\r\n  try {\r\n    console.log(`ğŸ‘¤ [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.get(`/users/${id}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\r\napi.getCompletedRentalsForShift = async (shiftId, date) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId} ÙÙŠ ØªØ§Ø±ÙŠØ® ${date}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          status: 'Ù…ÙƒØªÙ…Ù„',\r\n          start_date: date,\r\n          end_date: date,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„\r\n    try {\r\n      const response = await api.get('/rentals/completed-by-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          date: date\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙˆØªØµÙÙŠØªÙ‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          limit: 200\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        const filtered = response.data.filter(rental => \r\n          rental.shift_id == shiftId && \r\n          rental.status === 'Ù…ÙƒØªÙ…Ù„' &&\r\n          rental.start_time?.startsWith(date)\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: filtered,\r\n          count: filtered.length,\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…\r\napi.getTodayStats = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        branch_id: branchId,\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today\r\n      }\r\n    });\r\n    \r\n    if (response.success && response.data) {\r\n      const revenue = response.data.reduce((sum, rental) => \r\n        sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0), 0\r\n      );\r\n      \r\n      return {\r\n        success: true,\r\n        data: {\r\n          rentals: response.data,\r\n          count: response.data.length,\r\n          revenue: revenue,\r\n          date: today\r\n        }\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        rentals: [],\r\n        count: 0,\r\n        revenue: 0,\r\n        date: today\r\n      }\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…:', error);\r\n    return {\r\n      success: false,\r\n      data: {\r\n        rentals: [],\r\n        count: 0,\r\n        revenue: 0,\r\n        date: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…\r\napi.getCompletedRentalsToday = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today,\r\n        limit: 100\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\n// ==================== ADMIN DASHBOARD ENDPOINTS ====================\r\n\r\n// ÙÙŠ Ù…Ù„Ù api.js - Ø§Ø³ØªØ¨Ø¯Ù„ Ø¯Ø§Ù„Ø© getAllActiveRentals Ø¨Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯\r\n\r\napi.getAllActiveRentals = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\r\n    \r\n    const response = await api.get('/admin/rentals/active-all-branches');\r\n    \r\n    if (response.success) {\r\n      // ØªØµÙÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù„Ù„ØªØ£ÙƒØ¯\r\n      const data = response.data || [];\r\n      \r\n      // âœ… Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø­Ø§Ù„Ø© 'Ù†Ø´Ø·' ÙÙ‚Ø·\r\n      const activeRentals = data.filter(rental => {\r\n        const status = rental.status?.toLowerCase?.() || '';\r\n        return status === 'Ù†Ø´Ø·' || status === 'active';\r\n      });\r\n      \r\n      console.log(`ğŸ“Š [API] Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${data.length}, Ø§Ù„Ù†Ø´Ø· ÙÙ‚Ø·: ${activeRentals.length}`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: activeRentals,\r\n        count: activeRentals.length,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAllActiveRentals:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const altResponse = await api.get('/rentals/active', {\r\n        params: { limit: 100 }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        // ØªØµÙÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØ£ÙƒØ¯\r\n        const activeOnly = altResponse.data.filter(rental => {\r\n          const status = rental.status?.toLowerCase?.() || '';\r\n          return status === 'Ù†Ø´Ø·' || status === 'active';\r\n        });\r\n        \r\n        return {\r\n          success: true,\r\n          data: activeOnly,\r\n          count: activeOnly.length,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getTodayCompletedRentalsAllBranches = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\r\n    \r\n    const response = await api.get('/admin/rentals/completed-today-all-branches');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || response.data?.length || 0,\r\n        date: response.date,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getTodayCompletedRentalsAllBranches:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/completed\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/completed');\r\n      \r\n      const altResponse = await api.get('/rentals/completed', {\r\n        params: {\r\n          start_date: today,\r\n          end_date: today,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        return {\r\n          success: true,\r\n          data: altResponse.data,\r\n          count: altResponse.data.length,\r\n          date: today,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      date: new Date().toISOString().split('T')[0],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…'\r\n    };\r\n  }\r\n};\r\n\r\n// 3. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getRecentRentalsAllBranches = async (limit = 50) => {\r\n  try {\r\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¢Ø®Ø± ${limit} ØªØ£Ø¬ÙŠØ± ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹`);\r\n    \r\n    const response = await api.get('/admin/rentals/recent-all-branches', {\r\n      params: { limit }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || response.data?.length || 0,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getRecentRentalsAllBranches:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals\r\n    try {\r\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals');\r\n      const altResponse = await api.get('/rentals', {\r\n        params: {\r\n          limit: limit,\r\n          order_by: 'start_time',\r\n          order_direction: 'DESC'\r\n        }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        return {\r\n          success: true,\r\n          data: altResponse.data,\r\n          count: altResponse.data.length,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ø¹ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª)\r\napi.getBranchById = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù†Ù‚Ø·Ø© branches/by-id\r\n    try {\r\n      const response = await api.get(`/branches/by-id/${branchId}`);\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/by-id/${branchId}:`, error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù†Ù‚Ø·Ø© branches/:id\r\n    try {\r\n      const response = await api.get(`/branches/${branchId}`);\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/${branchId}:`, error.message);\r\n    }\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.log(`ğŸ“¦ [API] Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00',\r\n        closing_time: '22:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ getBranchById:`, error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00',\r\n        closing_time: '22:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\n// 5. Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±\r\napi.getAdminDashboardStats = async () => {\r\n  try {\r\n    console.log('ğŸ“Š [API] Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±');\r\n    \r\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ù‚Ø§Ø· Ù…ØªØ¹Ø¯Ø¯Ø©\r\n    const [branchesRes, activeRentalsRes, todayCompletedRes, recentRes] = await Promise.allSettled([\r\n      api.getBranches(),\r\n      api.getAllActiveRentals(),\r\n      api.getTodayCompletedRentalsAllBranches(),\r\n      api.getRecentRentalsAllBranches(10)\r\n    ]);\r\n    \r\n    const stats = {\r\n      totalBranches: 0,\r\n      totalActiveRentals: 0,\r\n      todayCompletedRentals: 0,\r\n      todayRevenue: 0,\r\n      recentRentals: []\r\n    };\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙØ±ÙˆØ¹\r\n    if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\r\n      stats.totalBranches = branchesRes.value.data?.length || 0;\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n    if (activeRentalsRes.status === 'fulfilled' && activeRentalsRes.value.success) {\r\n      stats.totalActiveRentals = activeRentalsRes.value.count || 0;\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n    if (todayCompletedRes.status === 'fulfilled' && todayCompletedRes.value.success) {\r\n      stats.todayCompletedRentals = todayCompletedRes.value.count || 0;\r\n      \r\n      // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…\r\n      if (todayCompletedRes.value.data) {\r\n        stats.todayRevenue = todayCompletedRes.value.data.reduce((sum, rental) => {\r\n          return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\r\n        }, 0);\r\n      }\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n    if (recentRes.status === 'fulfilled' && recentRes.value.success) {\r\n      stats.recentRentals = recentRes.value.data || [];\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: stats\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAdminDashboardStats:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      data: {\r\n        totalBranches: 0,\r\n        totalActiveRentals: 0,\r\n        todayCompletedRentals: 0,\r\n        todayRevenue: 0,\r\n        recentRentals: []\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRecentRentals = async (limit = 30) => {\r\n  try {\r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        limit: limit,\r\n        order_by: 'start_time',\r\n        order_direction: 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\r\n\r\nconst savedToken = localStorage.getItem('token');\r\nif (savedToken) {\r\n  api.setToken(savedToken);\r\n}\r\n\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}