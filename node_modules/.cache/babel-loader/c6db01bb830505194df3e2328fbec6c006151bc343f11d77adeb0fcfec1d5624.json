{"ast":null,"code":"import api from './api';\nconst authService = {\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\n  login: async (email, password) => {\n    try {\n      const response = await api.login(email, password);\n      if (response.success) {\n        var _response$user;\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠:', (_response$user = response.user) === null || _response$user === void 0 ? void 0 : _response$user.name);\n      } else {\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.message);\n      }\n      return response;\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\n      };\n    }\n  },\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\n  logout: () => {\n    console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    delete api.defaults.headers.common['Authorization'];\n  },\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      if (!userStr) {\n        return null;\n      }\n      return JSON.parse(userStr);\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  },\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ™ŸàŸÉŸÜ\n  getToken: () => {\n    return localStorage.getItem('token');\n  },\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿµÿßÿØŸÇÿ©\n  isAuthenticated: () => {\n    const token = localStorage.getItem('token');\n    const user = localStorage.getItem('user');\n    return !!(token && user);\n  },\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™\n  hasRole: role => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) === role;\n  },\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ©\n  hasAnyRole: roles => {\n    const user = authService.getCurrentUser();\n    return roles.includes(user === null || user === void 0 ? void 0 : user.role);\n  },\n  // ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\n  updateUserData: userData => {\n    try {\n      const currentUser = authService.getCurrentUser();\n      const updatedUser = {\n        ...currentUser,\n        ...userData\n      };\n      localStorage.setItem('user', JSON.stringify(updatedUser));\n      return updatedUser;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","response","success","_response$user","console","log","user","name","message","error","logout","localStorage","removeItem","defaults","headers","common","getCurrentUser","userStr","getItem","JSON","parse","getToken","isAuthenticated","token","hasRole","role","hasAnyRole","roles","includes","updateUserData","userData","currentUser","updatedUser","setItem","stringify"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst authService = {\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\r\n  login: async (email, password) => {\r\n    try {\r\n      const response = await api.login(email, password);\r\n      \r\n      if (response.success) {\r\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠:', response.user?.name);\r\n      } else {\r\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.message);\r\n      }\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\r\n  logout: () => {\r\n    console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    delete api.defaults.headers.common['Authorization'];\r\n  },\r\n\r\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      if (!userStr) {\r\n        return null;\r\n      }\r\n      \r\n      return JSON.parse(userStr);\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ™ŸàŸÉŸÜ\r\n  getToken: () => {\r\n    return localStorage.getItem('token');\r\n  },\r\n\r\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿµÿßÿØŸÇÿ©\r\n  isAuthenticated: () => {\r\n    const token = localStorage.getItem('token');\r\n    const user = localStorage.getItem('user');\r\n    return !!(token && user);\r\n  },\r\n\r\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™\r\n  hasRole: (role) => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role === role;\r\n  },\r\n\r\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿßÿ™ ÿßŸÑŸÖÿ™ÿπÿØÿØÿ©\r\n  hasAnyRole: (roles) => {\r\n    const user = authService.getCurrentUser();\r\n    return roles.includes(user?.role);\r\n  },\r\n\r\n  // ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\r\n  updateUserData: (userData) => {\r\n    try {\r\n      const currentUser = authService.getCurrentUser();\r\n      const updatedUser = { ...currentUser, ...userData };\r\n      localStorage.setItem('user', JSON.stringify(updatedUser));\r\n      return updatedUser;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}