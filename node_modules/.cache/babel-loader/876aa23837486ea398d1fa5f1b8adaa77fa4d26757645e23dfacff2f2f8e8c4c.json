{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\Dashboard.jsx\",\n  _s = $RefreshSig$();\n// src/pages/admin/Dashboard.jsx\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { BarChart3, TrendingUp, Users, Gamepad2, DollarSign, Clock, Calendar, ChevronRight, Download, RefreshCw, Loader2, AlertCircle, X, CheckCircle, Zap, Building, Phone, Mail, MapPin, Eye, Printer, Filter, Search, Info, PieChart, Activity, Award, Target, TrendingDown } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Dashboard.css';\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (amount === null || amount === undefined || amount === '') return '0 Ø¬.Ù…';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--:--';\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst formatDate = dateString => {\n  if (!dateString) return '--/--/----';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--/--/----';\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    });\n  } catch {\n    return '--/--/----';\n  }\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\n};\nconst getRentalType = rental => {\n  if (!rental) return 'fixed';\n  if (rental.rental_type === 'open' || rental.is_open_time === 1) {\n    return 'open';\n  }\n  if (rental.rental_type === 'fixed' || rental.is_open_time === 0) {\n    return 'fixed';\n  }\n  if (rental.payment_status === 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' || rental.payment_status === 'pending') {\n    return 'open';\n  }\n  if (rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹' || rental.payment_status === 'paid') {\n    return 'fixed';\n  }\n  return 'fixed';\n};\nconst [shiftStats, setShiftStats] = useState(null);\n\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ© ====================\n\n// Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ©\nconst StatCard = /*#__PURE__*/React.memo(_c = ({\n  title,\n  value,\n  icon: Icon,\n  color,\n  trend,\n  subtitle\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `dashboard-stat-card dashboard-stat-${color}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stat-icon\",\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stat-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-stat-value\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-stat-label\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), subtitle && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-stat-subtitle\",\n        children: subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 22\n      }, this), trend !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `dashboard-stat-trend ${trend >= 0 ? 'positive' : 'negative'}`,\n        children: [trend >= 0 ? /*#__PURE__*/_jsxDEV(TrendingUp, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 27\n        }, this) : /*#__PURE__*/_jsxDEV(TrendingDown, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 54\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.abs(trend), \"% \\u0639\\u0646 \\u0627\\u0644\\u0623\\u0645\\u0633\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n});\n_c2 = StatCard;\nStatCard.displayName = 'StatCard';\n\n// Ø¨Ø·Ø§Ù‚Ø© ÙØ±Ø¹\nconst BranchCard = /*#__PURE__*/React.memo(_c3 = ({\n  branch,\n  onClick,\n  stats\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-branch-card\",\n    onClick: () => onClick(branch),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-branch-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branch-icon\",\n        children: /*#__PURE__*/_jsxDEV(Building, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branch-name\",\n        children: branch.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), branch.is_active === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dashboard-branch-inactive\",\n        children: \"\\u063A\\u064A\\u0631 \\u0646\\u0634\\u0637\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-branch-location\",\n      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: branch.city || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-branch-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [(stats === null || stats === void 0 ? void 0 : stats.games) || 0, \" \\u0644\\u0639\\u0628\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(Zap, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [(stats === null || stats === void 0 ? void 0 : stats.activeRentals) || 0, \" \\u0646\\u0634\\u0637\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formatCurrency((stats === null || stats === void 0 ? void 0 : stats.revenue) || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-branch-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dashboard-branch-details\",\n        children: [\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n});\n_c4 = BranchCard;\nBranchCard.displayName = 'BranchCard';\n\n// Ø¨Ø·Ø§Ù‚Ø© ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·\nconst ActiveRentalCard = /*#__PURE__*/React.memo(_c5 = ({\n  rental,\n  onView\n}) => {\n  const rentalType = getRentalType(rental);\n  const isFixed = rentalType === 'fixed';\n  const calculateElapsedTime = () => {\n    if (!rental.start_time) return '--:--';\n    const start = new Date(rental.start_time);\n    const now = new Date();\n    const diffMs = now - start;\n    const diffMinutes = Math.floor(diffMs / 60000);\n    const diffSeconds = Math.floor(diffMs % 60000 / 1000);\n    if (diffMinutes < 60) {\n      return `${diffMinutes.toString().padStart(2, '0')}:${diffSeconds.toString().padStart(2, '0')}`;\n    } else {\n      const hours = Math.floor(diffMinutes / 60);\n      const minutes = diffMinutes % 60;\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${diffSeconds.toString().padStart(2, '0')}`;\n    }\n  };\n  const calculateRemainingTime = () => {\n    if (!isFixed || !rental.start_time) return '--:--';\n    const duration = rental.duration_minutes || 15;\n    const start = new Date(rental.start_time);\n    const end = new Date(start.getTime() + duration * 60000);\n    const now = new Date();\n    if (now > end) return '00:00';\n    const remainingMs = end - now;\n    const remainingMinutes = Math.floor(remainingMs / 60000);\n    const remainingSeconds = Math.floor(remainingMs % 60000 / 1000);\n    return `${remainingMinutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-rental-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-rental-game\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: rental.game_name || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `dashboard-rental-type dashboard-type-${rentalType}`,\n        children: isFixed ? 'â° Ø«Ø§Ø¨Øª' : 'ğŸ”“ Ù…ÙØªÙˆØ­'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-customer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-customer-name\",\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: rental.customer_name || 'Ø¹Ù…ÙŠÙ„'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), rental.customer_phone && rental.customer_phone !== '00000000000' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-customer-phone\",\n        children: [/*#__PURE__*/_jsxDEV(Phone, {\n          size: 12\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: rental.customer_phone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-time\",\n      children: [/*#__PURE__*/_jsxDEV(Clock, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u0627\\u0644\\u0628\\u062F\\u0627\\u064A\\u0629: \", formatTime(rental.start_time)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-timer\",\n      children: isFixed ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-timer-label\",\n          children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-timer-value\",\n          children: calculateRemainingTime()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-timer-label\",\n          children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0646\\u0642\\u0636\\u064A:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-timer-value\",\n          children: calculateElapsedTime()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onView(rental),\n        className: \"dashboard-btn-view\",\n        children: [/*#__PURE__*/_jsxDEV(Eye, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n});\n_c6 = ActiveRentalCard;\nActiveRentalCard.displayName = 'ActiveRentalCard';\n\n// Ù…ÙƒÙˆÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\nconst ActiveShiftCard = /*#__PURE__*/React.memo(_c7 = ({\n  shift,\n  stats,\n  onViewDetails\n}) => {\n  if (!shift) return null;\n  const shiftStartTime = new Date(shift.start_time);\n  const now = new Date();\n  const shiftDuration = Math.floor((now - shiftStartTime) / (1000 * 60 * 60)); // Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-shift-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-shift-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-title\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dashboard-shift-badge\",\n        children: \"\\u0646\\u0634\\u0637\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-shift-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-label\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-value\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: shift.employee_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-shift-employee-id\",\n            children: [\"(#\", shift.employee_id, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-label\",\n          children: [/*#__PURE__*/_jsxDEV(Building, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0627\\u0644\\u0641\\u0631\\u0639:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-value\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: shift.branch_name || `ÙØ±Ø¹ ${shift.branch_id}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-label\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-value\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-shift-number\",\n            children: [\"#\", shift.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), shift.shift_number && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" (\", shift.shift_number, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 36\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-label\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-value\",\n          children: formatDateTime(shift.start_time)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-shift-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-label\",\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0645\\u062F\\u0629 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info-value\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: shiftDuration > 0 ? `${shiftDuration} Ø³Ø§Ø¹Ø©` : 'Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹Ø©'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), stats && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-stats-divider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-stats-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-shift-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-label\",\n              children: \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-value\",\n              children: stats.totalRentals || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-shift-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-label\",\n              children: \"\\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-value\",\n              children: stats.activeRentals || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-shift-stat-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-label\",\n              children: \"\\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"dashboard-shift-stat-value\",\n              children: stats.completedRentals || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-revenue\",\n          children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: formatCurrency(stats.shiftRevenue || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-shift-footer\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onViewDetails(shift),\n        className: \"dashboard-shift-btn\",\n        children: [/*#__PURE__*/_jsxDEV(Eye, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), \"\\u0639\\u0631\\u0636 \\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this);\n});\n_c8 = ActiveShiftCard;\nActiveShiftCard.displayName = 'ActiveShiftCard';\n// Ø¨Ø·Ø§Ù‚Ø© ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„\nconst CompletedRentalCard = /*#__PURE__*/React.memo(_c9 = ({\n  rental\n}) => {\n  const duration = calculateDuration(rental.start_time, rental.end_time);\n  const amount = rental.final_amount || rental.total_amount || 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-rental-card dashboard-completed\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-rental-game\",\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: rental.game_name || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"dashboard-rental-status completed\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this), \"\\u0645\\u0643\\u062A\\u0645\\u0644\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-customer\",\n      children: [/*#__PURE__*/_jsxDEV(Users, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: rental.customer_name || 'Ø¹Ù…ÙŠÙ„'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-detail-item\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [duration, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-detail-item\",\n        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formatCurrency(amount)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-rental-time\",\n      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n        size: 14\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: formatTime(rental.end_time)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 414,\n    columnNumber: 5\n  }, this);\n});\n_c0 = CompletedRentalCard;\nCompletedRentalCard.displayName = 'CompletedRentalCard';\n\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\nconst Dashboard = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n  const [loading, setLoading] = useState({\n    stats: false,\n    branches: false,\n    rentals: false,\n    processing: false\n  });\n  const [stats, setStats] = useState({\n    totalBranches: 0,\n    totalGames: 0,\n    totalUsers: 0,\n    totalRentals: 0,\n    totalRevenue: 0,\n    todayRentals: 0,\n    todayRevenue: 0,\n    activeRentals: 0,\n    availableGames: 0\n  });\n  const [branches, setBranches] = useState([]);\n  const [branchesStats, setBranchesStats] = useState({});\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [recentRentals, setRecentRentals] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n  const [selectedBranch, setSelectedBranch] = useState(null);\n  const [error, setError] = useState(null);\n  const [dateRange, setDateRange] = useState({\n    start: new Date().toISOString().split('T')[0],\n    end: new Date().toISOString().split('T')[0]\n  });\n\n  // Refs Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª\n  const isMountedRef = useRef(true);\n  const updateLockRef = useRef(false);\n  const refreshTimerRef = useRef(null);\n\n  // ==================== Ø¯ÙˆØ§Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====================\n\n  // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…\n  const loadDashboardStats = useCallback(async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        stats: true\n      }));\n      const response = await api.get('/dashboard/stats/simple');\n      if (response.success && isMountedRef.current) {\n        setStats(prev => ({\n          ...prev,\n          ...response.data\n        }));\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(prev => ({\n          ...prev,\n          stats: false\n        }));\n      }\n    }\n  }, []);\n\n  // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙˆØ¹\n  const loadBranches = useCallback(async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        branches: true\n      }));\n      const response = await api.get('/branches');\n      if (response.success && response.data && isMountedRef.current) {\n        setBranches(response.data);\n\n        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙƒÙ„ ÙØ±Ø¹\n        const statsPromises = response.data.map(async branch => {\n          try {\n            const branchResponse = await api.get('/branches/stats/simple', {\n              params: {\n                branch_id: branch.id\n              }\n            });\n            if (branchResponse.success) {\n              return {\n                branchId: branch.id,\n                stats: branchResponse.data\n              };\n            }\n          } catch (error) {\n            console.warn(`âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±Ø¹ ${branch.id}:`, error.message);\n          }\n          return {\n            branchId: branch.id,\n            stats: {\n              games: 0,\n              activeRentals: 0,\n              revenue: 0\n            }\n          };\n        });\n        const results = await Promise.all(statsPromises);\n        const statsMap = {};\n        results.forEach(result => {\n          statsMap[result.branchId] = result.stats;\n        });\n        setBranchesStats(statsMap);\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹:', error);\n      setError('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙˆØ¹');\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(prev => ({\n          ...prev,\n          branches: false\n        }));\n      }\n    }\n  }, []);\n\n  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\n  const loadActiveRentals = useCallback(async () => {\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n          limit: 10\n        }\n      });\n      if (response.success && response.data && isMountedRef.current) {\n        setActiveRentals(response.data);\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n\n  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© - Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª\n  const loadCompletedRentals = useCallback(async () => {\n    try {\n      const today = new Date().toISOString().split('T')[0];\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ù…Ø¹ Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª\n      try {\n        const response = await api.get('/rentals', {\n          params: {\n            branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n            status: 'Ù…ÙƒØªÙ…Ù„',\n            start_date: today,\n            end_date: today,\n            limit: 20\n          }\n        });\n        if (response.success && response.data && isMountedRef.current) {\n          setCompletedRentals(response.data);\n          return;\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\n      }\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± completed\n      try {\n        const response = await api.get('/rentals/completed', {\n          params: {\n            branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n            date: today,\n            limit: 20\n          }\n        });\n        if (response.success && response.data && isMountedRef.current) {\n          setCompletedRentals(response.data);\n          return;\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\n      }\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± completed-only\n      try {\n        const response = await api.get('/rentals/completed-only', {\n          params: {\n            branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n            date: today\n          }\n        });\n        if (response.success && response.data && isMountedRef.current) {\n          setCompletedRentals(response.data);\n          return;\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\n      }\n\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± today-completed\n      try {\n        const response = await api.get('/rentals/today-completed', {\n          params: {\n            branch_id: user === null || user === void 0 ? void 0 : user.branch_id\n          }\n        });\n        if (response.success && response.data && isMountedRef.current) {\n          setCompletedRentals(response.data);\n          return;\n        }\n      } catch (error) {\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4:', error.message);\n      }\n\n      // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…ØµÙÙˆÙØ© ÙØ§Ø±ØºØ©\n      if (isMountedRef.current) {\n        setCompletedRentals([]);\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n      if (isMountedRef.current) {\n        setCompletedRentals([]);\n      }\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n\n  // ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\n  const loadRecentRentals = useCallback(async () => {\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n          limit: 10,\n          order_by: 'start_time',\n          order_direction: 'DESC'\n        }\n      });\n      if (response.success && response.data && isMountedRef.current) {\n        setRecentRentals(response.data);\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id]);\n\n  // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙ‡\n  const loadCurrentShift = useCallback(async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        shift: true\n      }));\n\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\n      const response = await api.get('/shifts/simple');\n      if (response.success && response.data && isMountedRef.current) {\n        const shift = response.data;\n\n        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø´ÙŠÙØª ÙŠØ®Øµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\n        if (shift.employee_id === (user === null || user === void 0 ? void 0 : user.id) || shift.employee_name === (user === null || user === void 0 ? void 0 : user.name)) {\n          setCurrentShift(shift);\n\n          // Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª\n          try {\n            var _activeResponse$data, _completedResponse$da, _activeResponse$data2, _completedResponse$da2;\n            // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\n            const activeResponse = await api.get('/rentals/active-simple', {\n              params: {\n                shift_id: shift.id,\n                branch_id: user === null || user === void 0 ? void 0 : user.branch_id\n              }\n            });\n\n            // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\n            const completedResponse = await api.get('/rentals/completed-only', {\n              params: {\n                shift_id: shift.id,\n                branch_id: user === null || user === void 0 ? void 0 : user.branch_id\n              }\n            });\n\n            // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª\n            let shiftRevenue = 0;\n            if (completedResponse.success && completedResponse.data) {\n              shiftRevenue = completedResponse.data.reduce((sum, rental) => {\n                return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\n              }, 0);\n            }\n\n            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª (ØªÙ… Ø¯ÙØ¹Ù‡Ø§ Ù…Ø³Ø¨Ù‚Ø§Ù‹)\n            if (activeResponse.success && activeResponse.data) {\n              const fixedRentals = activeResponse.data.filter(r => r.rental_type === 'fixed' || r.is_open_time === 0);\n              shiftRevenue += fixedRentals.reduce((sum, rental) => {\n                return sum + (parseFloat(rental.paid_amount) || parseFloat(rental.total_amount) || 0);\n              }, 0);\n            }\n            setShiftStats({\n              activeRentals: activeResponse.success ? ((_activeResponse$data = activeResponse.data) === null || _activeResponse$data === void 0 ? void 0 : _activeResponse$data.length) || 0 : 0,\n              completedRentals: completedResponse.success ? ((_completedResponse$da = completedResponse.data) === null || _completedResponse$da === void 0 ? void 0 : _completedResponse$da.length) || 0 : 0,\n              totalRentals: (activeResponse.success ? ((_activeResponse$data2 = activeResponse.data) === null || _activeResponse$data2 === void 0 ? void 0 : _activeResponse$data2.length) || 0 : 0) + (completedResponse.success ? ((_completedResponse$da2 = completedResponse.data) === null || _completedResponse$da2 === void 0 ? void 0 : _completedResponse$da2.length) || 0 : 0),\n              shiftRevenue: shiftRevenue\n            });\n          } catch (statsError) {\n            console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª:', statsError.message);\n            setShiftStats({\n              activeRentals: 0,\n              completedRentals: 0,\n              totalRentals: 0,\n              shiftRevenue: 0\n            });\n          }\n        } else {\n          setCurrentShift(null);\n          setShiftStats(null);\n        }\n      } else {\n        setCurrentShift(null);\n        setShiftStats(null);\n      }\n    } catch (error) {\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', error);\n      setCurrentShift(null);\n      setShiftStats(null);\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(prev => ({\n          ...prev,\n          shift: false\n        }));\n      }\n    }\n  }, [user === null || user === void 0 ? void 0 : user.id, user === null || user === void 0 ? void 0 : user.name, user === null || user === void 0 ? void 0 : user.branch_id]);\n\n  // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n  const refreshAllData = useCallback(async (force = false) => {\n    if (updateLockRef.current && !force) {\n      console.log('â³ ØªØ£Ø¬ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« - Ù‡Ù†Ø§Ùƒ ØªØ­Ø¯ÙŠØ« Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°');\n      return;\n    }\n    updateLockRef.current = true;\n    try {\n      console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');\n\n      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n      await loadDashboardStats();\n      await loadBranches();\n      await loadActiveRentals();\n      await loadCompletedRentals();\n      await loadRecentRentals();\n      await loadCurrentShift();\n      setError(null);\n    } catch (error) {\n      console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„:', error);\n      setError('ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    } finally {\n      updateLockRef.current = false;\n    }\n  }, [loadDashboardStats, loadBranches, loadActiveRentals, loadCompletedRentals, loadRecentRentals, loadCurrentShift]);\n\n  // ==================== Effects ====================\n\n  // ØªØ¹ÙŠÙŠÙ† isMountedRef\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n      if (refreshTimerRef.current) {\n        clearTimeout(refreshTimerRef.current);\n      }\n    };\n  }, []);\n\n  // Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ\n  useEffect(() => {\n    refreshAllData(true);\n\n    // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚\n    const interval = setInterval(() => {\n      if (isMountedRef.current && !updateLockRef.current) {\n        refreshAllData();\n      }\n    }, 300000); // 5 Ø¯Ù‚Ø§Ø¦Ù‚\n\n    return () => clearInterval(interval);\n  }, [refreshAllData]);\n\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ====================\n\n  const handleBranchClick = branch => {\n    setSelectedBranch(branch);\n    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ†Ù‚Ù„ Ù„ØµÙØ­Ø© Ø§Ù„ÙØ±Ø¹ Ù‡Ù†Ø§\n    console.log('ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±Ø¹:', branch);\n  };\n  const handleViewRental = rental => {\n    console.log('Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', rental);\n    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ù‡Ù†Ø§\n    alert(`ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:\nØ±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±: ${rental.rental_number || 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}\nØ§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\nØ§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\nÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\nØ§Ù„Ø­Ø§Ù„Ø©: ${rental.status}\nØ§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount || 0)}`);\n  };\n  const handleExportData = () => {\n    alert('Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„ØªØµØ¯ÙŠØ±...');\n  };\n  const handlePrintReport = () => {\n    window.print();\n  };\n\n  // ==================== Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© ====================\n\n  const enhancedStats = useMemo(() => {\n    const totalCompletedRentals = completedRentals.length;\n    const totalActiveRentals = activeRentals.length;\n    const openTimeRentals = activeRentals.filter(r => getRentalType(r) === 'open').length;\n    const fixedTimeRentals = activeRentals.filter(r => getRentalType(r) === 'fixed').length;\n    const averageRentalDuration = completedRentals.length > 0 ? Math.round(completedRentals.reduce((sum, r) => sum + calculateDuration(r.start_time, r.end_time), 0) / completedRentals.length) : 0;\n    const peakHour = completedRentals.length > 0 ? completedRentals.reduce((acc, r) => {\n      const hour = new Date(r.start_time).getHours();\n      acc[hour] = (acc[hour] || 0) + 1;\n      return acc;\n    }, {}) : {};\n    const topGame = completedRentals.length > 0 ? completedRentals.reduce((acc, r) => {\n      acc[r.game_name] = (acc[r.game_name] || 0) + 1;\n      return acc;\n    }, {}) : {};\n    return {\n      totalCompletedRentals,\n      totalActiveRentals,\n      openTimeRentals,\n      fixedTimeRentals,\n      averageRentalDuration,\n      peakHour,\n      topGame\n    };\n  }, [activeRentals, completedRentals]);\n\n  // ==================== Render ====================\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-title-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this), \"\\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 899,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-date\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 904,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: formatDate(new Date())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-header-actions\",\n        children: [currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-shift-info\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", currentShift.id, \" - \", currentShift.employee_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => refreshAllData(true),\n          className: \"dashboard-btn dashboard-btn-outline\",\n          disabled: loading.processing || updateLockRef.current,\n          children: [loading.stats ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"dashboard-spinner\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 923,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 925,\n            columnNumber: 15\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 917,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExportData,\n          className: \"dashboard-btn dashboard-btn-outline\",\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 934,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0635\\u062F\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlePrintReport,\n          className: \"dashboard-btn dashboard-btn-outline\",\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 942,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 938,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 909,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 897,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-error-banner\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 951,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 952,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"dashboard-error-close\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 950,\n      columnNumber: 9\n    }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-shift-section\",\n      children: /*#__PURE__*/_jsxDEV(ActiveShiftCard, {\n        shift: currentShift,\n        stats: shiftStats,\n        onViewDetails: shift => {\n          // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ø£Ùˆ ØªÙ†Ù‚Ù„ Ù„ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\n          console.log('Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', shift);\n          alert(`ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:\nØ±Ù‚Ù… Ø§Ù„Ø´ÙŠÙØª: #${shift.id}\nØ§Ù„Ù…ÙˆØ¸Ù: ${shift.employee_name}\nØ§Ù„ÙØ±Ø¹: ${shift.branch_name || `ÙØ±Ø¹ ${shift.branch_id}`}\nÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(shift.start_time)}\nØ§Ù„Ø­Ø§Ù„Ø©: ${shift.status}\nØ§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©: ${(shiftStats === null || shiftStats === void 0 ? void 0 : shiftStats.activeRentals) || 0}\nØ§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©: ${(shiftStats === null || shiftStats === void 0 ? void 0 : shiftStats.completedRentals) || 0}\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: ${formatCurrency((shiftStats === null || shiftStats === void 0 ? void 0 : shiftStats.shiftRevenue) || 0)}`);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 961,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\",\n        value: formatCurrency(stats.totalRevenue || 0),\n        icon: DollarSign,\n        color: \"primary\",\n        subtitle: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 984,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\",\n        value: stats.todayRentals || 0,\n        icon: Activity,\n        color: \"success\",\n        subtitle: `Ø¥ÙŠØ±Ø§Ø¯ ${formatCurrency(stats.todayRevenue || 0)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 992,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\",\n        value: stats.activeRentals || 0,\n        icon: Zap,\n        color: \"warning\",\n        subtitle: `${enhancedStats.openTimeRentals} Ù…ÙØªÙˆØ­ØŒ ${enhancedStats.fixedTimeRentals} Ø«Ø§Ø¨Øª`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\",\n        value: stats.availableGames || 0,\n        icon: Gamepad2,\n        color: \"info\",\n        subtitle: `Ù…Ù† Ø£ØµÙ„ ${stats.totalGames || 0} Ù„Ø¹Ø¨Ø©`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 7\n    }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-secondary-stats\",\n      children: [/*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\",\n        value: stats.totalBranches || 0,\n        icon: Building,\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\",\n        value: stats.totalUsers || 0,\n        icon: Users,\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1027,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u0645\\u062F\\u0629\",\n        value: `${enhancedStats.averageRentalDuration} Ø¯Ù‚ÙŠÙ‚Ø©`,\n        icon: Clock,\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\",\n        value: stats.totalRentals || 0,\n        icon: Target,\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1019,\n      columnNumber: 9\n    }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Building, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 15\n          }, this), \"\\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1054,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadBranches,\n          className: \"dashboard-btn-icon\",\n          disabled: loading.branches,\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading.branches ? 'dashboard-spinner' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1063,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1058,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-branches-grid\",\n        children: loading.branches ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-loading-state\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"dashboard-spinner\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1070,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 15\n        }, this) : branches.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Building, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1075,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0641\\u0631\\u0648\\u0639\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1076,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1074,\n          columnNumber: 15\n        }, this) : branches.map(branch => /*#__PURE__*/_jsxDEV(BranchCard, {\n          branch: branch,\n          onClick: handleBranchClick,\n          stats: branchesStats[branch.id] || {\n            games: 0,\n            activeRentals: 0,\n            revenue: 0\n          }\n        }, branch.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1080,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1067,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1052,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 13\n          }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-section-count\",\n            children: [\"(\", activeRentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1098,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadActiveRentals,\n          className: \"dashboard-btn-icon\",\n          disabled: loading.rentals,\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading.rentals ? 'dashboard-spinner' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1094,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-rentals-grid\",\n        children: loading.rentals ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-loading-state\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"dashboard-spinner\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1113,\n          columnNumber: 13\n        }, this) : activeRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1120,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1118,\n          columnNumber: 13\n        }, this) : activeRentals.map(rental => /*#__PURE__*/_jsxDEV(ActiveRentalCard, {\n          rental: rental,\n          onView: handleViewRental\n        }, rental.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1093,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1138,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645 \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-section-count\",\n            children: [\"(\", completedRentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadCompletedRentals,\n          className: \"dashboard-btn-icon\",\n          disabled: loading.rentals,\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading.rentals ? 'dashboard-spinner' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-rentals-grid\",\n        children: loading.rentals ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-loading-state\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"dashboard-spinner\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1157,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1155,\n          columnNumber: 13\n        }, this) : completedRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0645\\u0643\\u062A\\u0645\\u0644\\u0629 \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 13\n        }, this) : completedRentals.map(rental => /*#__PURE__*/_jsxDEV(CompletedRentalCard, {\n          rental: rental\n        }, rental.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1166,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1179,\n            columnNumber: 13\n          }, this), \"\\u0622\\u062E\\u0631 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-section-count\",\n            children: [\"(\", recentRentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadRecentRentals,\n          className: \"dashboard-btn-icon\",\n          disabled: loading.rentals,\n          children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16,\n            className: loading.rentals ? 'dashboard-spinner' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-recent-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-table-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u0648\\u0642\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 11\n        }, this), loading.rentals ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-loading-state\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"dashboard-spinner\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1207,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 13\n        }, this) : recentRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1210,\n          columnNumber: 13\n        }, this) : recentRentals.map(rental => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-table-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dashboard-customer-info\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rental.customer_name || 'Ø¹Ù…ÙŠÙ„'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dashboard-game-info\",\n              children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rental.game_name || 'Ù„Ø¹Ø¨Ø©'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1227,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: formatTime(rental.start_time)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1231,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `dashboard-status-badge ${rental.status === 'Ù†Ø´Ø·' ? 'active' : 'completed'}`,\n              children: rental.status === 'Ù†Ø´Ø·' ? 'ğŸŸ¢ Ù†Ø´Ø·' : 'âœ… Ù…ÙƒØªÙ…Ù„'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1236,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: formatCurrency(rental.total_amount || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-table-cell\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewRental(rental),\n              className: \"dashboard-btn-view-small\",\n              title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n              children: /*#__PURE__*/_jsxDEV(Eye, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 17\n          }, this)]\n        }, rental.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1216,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(Info, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u0622\\u062E\\u0631 \\u062A\\u062D\\u062F\\u064A\\u062B: \", formatDateTime(new Date())]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(Activity, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629: \", enhancedStats.totalActiveRentals]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(Award, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u0623\\u0643\\u062B\\u0631 \\u0644\\u0639\\u0628\\u0629 \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u064B: \", Object.keys(enhancedStats.topGame)[0] || 'Ù„Ø§ ØªÙˆØ¬Ø¯']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-summary-item\",\n        children: [/*#__PURE__*/_jsxDEV(PieChart, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0623\\u0648\\u0642\\u0627\\u062A \\u0627\\u0644\\u0645\\u0641\\u062A\\u0648\\u062D\\u0629: \", enhancedStats.totalActiveRentals > 0 ? Math.round(enhancedStats.openTimeRentals / enhancedStats.totalActiveRentals * 100) : 0, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1277,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 895,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"rIw4cOUjVhFHIp/jiWrR9I52PWw=\", false, function () {\n  return [useAuth];\n});\n_c1 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"StatCard$React.memo\");\n$RefreshReg$(_c2, \"StatCard\");\n$RefreshReg$(_c3, \"BranchCard$React.memo\");\n$RefreshReg$(_c4, \"BranchCard\");\n$RefreshReg$(_c5, \"ActiveRentalCard$React.memo\");\n$RefreshReg$(_c6, \"ActiveRentalCard\");\n$RefreshReg$(_c7, \"ActiveShiftCard$React.memo\");\n$RefreshReg$(_c8, \"ActiveShiftCard\");\n$RefreshReg$(_c9, \"CompletedRentalCard$React.memo\");\n$RefreshReg$(_c0, \"CompletedRentalCard\");\n$RefreshReg$(_c1, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","BarChart3","TrendingUp","Users","Gamepad2","DollarSign","Clock","Calendar","ChevronRight","Download","RefreshCw","Loader2","AlertCircle","X","CheckCircle","Zap","Building","Phone","Mail","MapPin","Eye","Printer","Filter","Search","Info","PieChart","Activity","Award","Target","TrendingDown","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","undefined","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","formatDate","calculateDuration","startTime","endTime","start","end","Math","max","round","getRentalType","rental","rental_type","is_open_time","payment_status","shiftStats","setShiftStats","StatCard","memo","_c","title","value","icon","Icon","color","trend","subtitle","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","abs","_c2","displayName","BranchCard","_c3","branch","onClick","stats","name","is_active","city","games","activeRentals","revenue","_c4","ActiveRentalCard","_c5","onView","rentalType","isFixed","calculateElapsedTime","start_time","now","diffMs","diffMinutes","floor","diffSeconds","toString","padStart","hours","minutes","calculateRemainingTime","duration","duration_minutes","remainingMs","remainingMinutes","remainingSeconds","game_name","customer_name","customer_phone","_c6","ActiveShiftCard","_c7","shift","onViewDetails","shiftStartTime","shiftDuration","User","employee_name","employee_id","branch_name","branch_id","id","shift_number","totalRentals","completedRentals","shiftRevenue","_c8","CompletedRentalCard","_c9","end_time","final_amount","total_amount","_c0","Dashboard","_s","user","isAdmin","role","loading","setLoading","branches","rentals","processing","setStats","totalBranches","totalGames","totalUsers","totalRevenue","todayRentals","todayRevenue","availableGames","setBranches","branchesStats","setBranchesStats","setActiveRentals","setCompletedRentals","recentRentals","setRecentRentals","currentShift","setCurrentShift","selectedBranch","setSelectedBranch","error","setError","dateRange","setDateRange","toISOString","split","isMountedRef","updateLockRef","refreshTimerRef","loadDashboardStats","prev","response","get","success","current","data","console","loadBranches","statsPromises","map","branchResponse","params","branchId","warn","message","results","Promise","all","statsMap","forEach","result","loadActiveRentals","limit","loadCompletedRentals","today","status","start_date","end_date","loadRecentRentals","order_by","order_direction","loadCurrentShift","_activeResponse$data","_completedResponse$da","_activeResponse$data2","_completedResponse$da2","activeResponse","shift_id","completedResponse","reduce","sum","fixedRentals","filter","r","paid_amount","length","statsError","refreshAllData","force","log","clearTimeout","interval","setInterval","clearInterval","handleBranchClick","handleViewRental","alert","rental_number","handleExportData","handlePrintReport","window","print","enhancedStats","totalCompletedRentals","totalActiveRentals","openTimeRentals","fixedTimeRentals","averageRentalDuration","peakHour","acc","getHours","topGame","disabled","Object","keys","_c1","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/admin/Dashboard.jsx"],"sourcesContent":["// src/pages/admin/Dashboard.jsx\r\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { \r\n  BarChart3, \r\n  TrendingUp, \r\n  Users, \r\n  Gamepad2, \r\n  DollarSign, \r\n  Clock, \r\n  Calendar,\r\n  ChevronRight,\r\n  Download,\r\n  RefreshCw,\r\n  Loader2,\r\n  AlertCircle,\r\n  X,\r\n  CheckCircle,\r\n  Zap,\r\n  Building,\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  Eye,\r\n  Printer,\r\n  Filter,\r\n  Search,\r\n  Info,\r\n  PieChart,\r\n  Activity,\r\n  Award,\r\n  Target,\r\n  TrendingDown\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Dashboard.css';\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\nconst formatCurrency = (amount) => {\r\n  if (amount === null || amount === undefined || amount === '') return '0 Ø¬.Ù…';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--:--';\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return '--/--/----';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--/--/----';\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/----';\r\n  }\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\r\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\r\n};\r\n\r\nconst getRentalType = (rental) => {\r\n  if (!rental) return 'fixed';\r\n  \r\n  if (rental.rental_type === 'open' || rental.is_open_time === 1) {\r\n    return 'open';\r\n  }\r\n  \r\n  if (rental.rental_type === 'fixed' || rental.is_open_time === 0) {\r\n    return 'fixed';\r\n  }\r\n  \r\n  if (rental.payment_status === 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' || rental.payment_status === 'pending') {\r\n    return 'open';\r\n  }\r\n  \r\n  if (rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹ Ù…Ø³Ø¨Ù‚Ø§Ù‹' || rental.payment_status === 'paid') {\r\n    return 'fixed';\r\n  }\r\n  \r\n  return 'fixed';\r\n};\r\n\r\n\r\nconst [shiftStats, setShiftStats] = useState(null);\r\n\r\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ© ====================\r\n\r\n// Ø¨Ø·Ø§Ù‚Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ©\r\nconst StatCard = React.memo(({ title, value, icon: Icon, color, trend, subtitle }) => {\r\n  return (\r\n    <div className={`dashboard-stat-card dashboard-stat-${color}`}>\r\n      <div className=\"dashboard-stat-icon\">\r\n        <Icon size={24} />\r\n      </div>\r\n      <div className=\"dashboard-stat-content\">\r\n        <div className=\"dashboard-stat-value\">{value}</div>\r\n        <div className=\"dashboard-stat-label\">{title}</div>\r\n        {subtitle && <div className=\"dashboard-stat-subtitle\">{subtitle}</div>}\r\n        {trend !== undefined && (\r\n          <div className={`dashboard-stat-trend ${trend >= 0 ? 'positive' : 'negative'}`}>\r\n            {trend >= 0 ? <TrendingUp size={14} /> : <TrendingDown size={14} />}\r\n            <span>{Math.abs(trend)}% Ø¹Ù† Ø§Ù„Ø£Ù…Ø³</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nStatCard.displayName = 'StatCard';\r\n\r\n// Ø¨Ø·Ø§Ù‚Ø© ÙØ±Ø¹\r\nconst BranchCard = React.memo(({ branch, onClick, stats }) => {\r\n  return (\r\n    <div className=\"dashboard-branch-card\" onClick={() => onClick(branch)}>\r\n      <div className=\"dashboard-branch-header\">\r\n        <div className=\"dashboard-branch-icon\">\r\n          <Building size={20} />\r\n        </div>\r\n        <div className=\"dashboard-branch-name\">{branch.name}</div>\r\n        {branch.is_active === 0 && (\r\n          <span className=\"dashboard-branch-inactive\">ØºÙŠØ± Ù†Ø´Ø·</span>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"dashboard-branch-location\">\r\n        <MapPin size={14} />\r\n        <span>{branch.city || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-branch-stats\">\r\n        <div className=\"dashboard-branch-stat\">\r\n          <Gamepad2 size={14} />\r\n          <span>{stats?.games || 0} Ù„Ø¹Ø¨Ø©</span>\r\n        </div>\r\n        <div className=\"dashboard-branch-stat\">\r\n          <Zap size={14} />\r\n          <span>{stats?.activeRentals || 0} Ù†Ø´Ø·</span>\r\n        </div>\r\n        <div className=\"dashboard-branch-stat\">\r\n          <DollarSign size={14} />\r\n          <span>{formatCurrency(stats?.revenue || 0)}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-branch-footer\">\r\n        <span className=\"dashboard-branch-details\">\r\n          Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„\r\n          <ChevronRight size={14} />\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nBranchCard.displayName = 'BranchCard';\r\n\r\n\r\n// Ø¨Ø·Ø§Ù‚Ø© ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·\r\nconst ActiveRentalCard = React.memo(({ rental, onView }) => {\r\n  const rentalType = getRentalType(rental);\r\n  const isFixed = rentalType === 'fixed';\r\n  \r\n  const calculateElapsedTime = () => {\r\n    if (!rental.start_time) return '--:--';\r\n    const start = new Date(rental.start_time);\r\n    const now = new Date();\r\n    const diffMs = now - start;\r\n    const diffMinutes = Math.floor(diffMs / 60000);\r\n    const diffSeconds = Math.floor((diffMs % 60000) / 1000);\r\n    \r\n    if (diffMinutes < 60) {\r\n      return `${diffMinutes.toString().padStart(2, '0')}:${diffSeconds.toString().padStart(2, '0')}`;\r\n    } else {\r\n      const hours = Math.floor(diffMinutes / 60);\r\n      const minutes = diffMinutes % 60;\r\n      return `${hours}:${minutes.toString().padStart(2, '0')}:${diffSeconds.toString().padStart(2, '0')}`;\r\n    }\r\n  };\r\n  \r\n  const calculateRemainingTime = () => {\r\n    if (!isFixed || !rental.start_time) return '--:--';\r\n    \r\n    const duration = rental.duration_minutes || 15;\r\n    const start = new Date(rental.start_time);\r\n    const end = new Date(start.getTime() + duration * 60000);\r\n    const now = new Date();\r\n    \r\n    if (now > end) return '00:00';\r\n    \r\n    const remainingMs = end - now;\r\n    const remainingMinutes = Math.floor(remainingMs / 60000);\r\n    const remainingSeconds = Math.floor((remainingMs % 60000) / 1000);\r\n    return `${remainingMinutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n  };\r\n  \r\n  return (\r\n    <div className=\"dashboard-rental-card\">\r\n      <div className=\"dashboard-rental-header\">\r\n        <div className=\"dashboard-rental-game\">\r\n          <Gamepad2 size={16} />\r\n          <span>{rental.game_name || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'}</span>\r\n        </div>\r\n        <span className={`dashboard-rental-type dashboard-type-${rentalType}`}>\r\n          {isFixed ? 'â° Ø«Ø§Ø¨Øª' : 'ğŸ”“ Ù…ÙØªÙˆØ­'}\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-customer\">\r\n        <div className=\"dashboard-customer-name\">\r\n          <Users size={14} />\r\n          <span>{rental.customer_name || 'Ø¹Ù…ÙŠÙ„'}</span>\r\n        </div>\r\n        {rental.customer_phone && rental.customer_phone !== '00000000000' && (\r\n          <div className=\"dashboard-customer-phone\">\r\n            <Phone size={12} />\r\n            <span>{rental.customer_phone}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-time\">\r\n        <Clock size={14} />\r\n        <span>Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©: {formatTime(rental.start_time)}</span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-timer\">\r\n        {isFixed ? (\r\n          <>\r\n            <div className=\"dashboard-timer-label\">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:</div>\r\n            <div className=\"dashboard-timer-value\">{calculateRemainingTime()}</div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"dashboard-timer-label\">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ:</div>\r\n            <div className=\"dashboard-timer-value\">{calculateElapsedTime()}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-footer\">\r\n        <button \r\n          onClick={() => onView(rental)}\r\n          className=\"dashboard-btn-view\"\r\n        >\r\n          <Eye size={14} />\r\n          Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nActiveRentalCard.displayName = 'ActiveRentalCard';\r\n\r\n// Ù…ÙƒÙˆÙ† Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\r\nconst ActiveShiftCard = React.memo(({ shift, stats, onViewDetails }) => {\r\n  if (!shift) return null;\r\n  \r\n  const shiftStartTime = new Date(shift.start_time);\r\n  const now = new Date();\r\n  const shiftDuration = Math.floor((now - shiftStartTime) / (1000 * 60 * 60)); // Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª\r\n  \r\n  return (\r\n    <div className=\"dashboard-shift-card\">\r\n      <div className=\"dashboard-shift-header\">\r\n        <div className=\"dashboard-shift-title\">\r\n          <Clock size={20} />\r\n          <h3>Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·</h3>\r\n        </div>\r\n        <span className=\"dashboard-shift-badge\">Ù†Ø´Ø·</span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-shift-content\">\r\n        <div className=\"dashboard-shift-info-row\">\r\n          <div className=\"dashboard-shift-info-label\">\r\n            <User size={16} />\r\n            <span>Ø§Ù„Ù…ÙˆØ¸Ù:</span>\r\n          </div>\r\n          <div className=\"dashboard-shift-info-value\">\r\n            <strong>{shift.employee_name}</strong>\r\n            <span className=\"dashboard-shift-employee-id\">(#{shift.employee_id})</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-shift-info-row\">\r\n          <div className=\"dashboard-shift-info-label\">\r\n            <Building size={16} />\r\n            <span>Ø§Ù„ÙØ±Ø¹:</span>\r\n          </div>\r\n          <div className=\"dashboard-shift-info-value\">\r\n            <strong>{shift.branch_name || `ÙØ±Ø¹ ${shift.branch_id}`}</strong>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-shift-info-row\">\r\n          <div className=\"dashboard-shift-info-label\">\r\n            <Calendar size={16} />\r\n            <span>Ø±Ù‚Ù… Ø§Ù„Ø´ÙŠÙØª:</span>\r\n          </div>\r\n          <div className=\"dashboard-shift-info-value\">\r\n            <span className=\"dashboard-shift-number\">#{shift.id}</span>\r\n            {shift.shift_number && <span> ({shift.shift_number})</span>}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-shift-info-row\">\r\n          <div className=\"dashboard-shift-info-label\">\r\n            <Clock size={16} />\r\n            <span>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡:</span>\r\n          </div>\r\n          <div className=\"dashboard-shift-info-value\">\r\n            {formatDateTime(shift.start_time)}\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-shift-info-row\">\r\n          <div className=\"dashboard-shift-info-label\">\r\n            <Activity size={16} />\r\n            <span>Ù…Ø¯Ø© Ø§Ù„Ø´ÙŠÙØª:</span>\r\n          </div>\r\n          <div className=\"dashboard-shift-info-value\">\r\n            <strong>{shiftDuration > 0 ? `${shiftDuration} Ø³Ø§Ø¹Ø©` : 'Ø£Ù‚Ù„ Ù…Ù† Ø³Ø§Ø¹Ø©'}</strong>\r\n          </div>\r\n        </div>\r\n        \r\n        {stats && (\r\n          <>\r\n            <div className=\"dashboard-shift-stats-divider\"></div>\r\n            \r\n            <div className=\"dashboard-shift-stats-row\">\r\n              <div className=\"dashboard-shift-stat-item\">\r\n                <span className=\"dashboard-shift-stat-label\">Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª</span>\r\n                <span className=\"dashboard-shift-stat-value\">{stats.totalRentals || 0}</span>\r\n              </div>\r\n              <div className=\"dashboard-shift-stat-item\">\r\n                <span className=\"dashboard-shift-stat-label\">Ø§Ù„Ù†Ø´Ø·Ø©</span>\r\n                <span className=\"dashboard-shift-stat-value\">{stats.activeRentals || 0}</span>\r\n              </div>\r\n              <div className=\"dashboard-shift-stat-item\">\r\n                <span className=\"dashboard-shift-stat-label\">Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</span>\r\n                <span className=\"dashboard-shift-stat-value\">{stats.completedRentals || 0}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"dashboard-shift-revenue\">\r\n              <DollarSign size={16} />\r\n              <span>Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª:</span>\r\n              <strong>{formatCurrency(stats.shiftRevenue || 0)}</strong>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"dashboard-shift-footer\">\r\n        <button \r\n          onClick={() => onViewDetails(shift)}\r\n          className=\"dashboard-shift-btn\"\r\n        >\r\n          <Eye size={14} />\r\n          Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nActiveShiftCard.displayName = 'ActiveShiftCard';\r\n// Ø¨Ø·Ø§Ù‚Ø© ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„\r\nconst CompletedRentalCard = React.memo(({ rental }) => {\r\n  const duration = calculateDuration(rental.start_time, rental.end_time);\r\n  const amount = rental.final_amount || rental.total_amount || 0;\r\n  \r\n  return (\r\n    <div className=\"dashboard-rental-card dashboard-completed\">\r\n      <div className=\"dashboard-rental-header\">\r\n        <div className=\"dashboard-rental-game\">\r\n          <Gamepad2 size={16} />\r\n          <span>{rental.game_name || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'}</span>\r\n        </div>\r\n        <span className=\"dashboard-rental-status completed\">\r\n          <CheckCircle size={14} />\r\n          Ù…ÙƒØªÙ…Ù„\r\n        </span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-customer\">\r\n        <Users size={14} />\r\n        <span>{rental.customer_name || 'Ø¹Ù…ÙŠÙ„'}</span>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-details\">\r\n        <div className=\"dashboard-detail-item\">\r\n          <Clock size={14} />\r\n          <span>{duration} Ø¯Ù‚ÙŠÙ‚Ø©</span>\r\n        </div>\r\n        <div className=\"dashboard-detail-item\">\r\n          <DollarSign size={14} />\r\n          <span>{formatCurrency(amount)}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"dashboard-rental-time\">\r\n        <Calendar size={14} />\r\n        <span>{formatTime(rental.end_time)}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\nCompletedRentalCard.displayName = 'CompletedRentalCard';\r\n\r\n\r\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\r\nconst Dashboard = () => {\r\n  const { user } = useAuth();\r\n  const isAdmin = user?.role === 'admin';\r\n  \r\n  const [loading, setLoading] = useState({\r\n    stats: false,\r\n    branches: false,\r\n    rentals: false,\r\n    processing: false\r\n  });\r\n  \r\n  const [stats, setStats] = useState({\r\n    totalBranches: 0,\r\n    totalGames: 0,\r\n    totalUsers: 0,\r\n    totalRentals: 0,\r\n    totalRevenue: 0,\r\n    todayRentals: 0,\r\n    todayRevenue: 0,\r\n    activeRentals: 0,\r\n    availableGames: 0\r\n  });\r\n  \r\n  const [branches, setBranches] = useState([]);\r\n  const [branchesStats, setBranchesStats] = useState({});\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [recentRentals, setRecentRentals] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  const [selectedBranch, setSelectedBranch] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [dateRange, setDateRange] = useState({\r\n    start: new Date().toISOString().split('T')[0],\r\n    end: new Date().toISOString().split('T')[0]\r\n  });\r\n  \r\n  // Refs Ù„Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª\r\n  const isMountedRef = useRef(true);\r\n  const updateLockRef = useRef(false);\r\n  const refreshTimerRef = useRef(null);\r\n\r\n  // ==================== Ø¯ÙˆØ§Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ====================\r\n\r\n  // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…\r\n  const loadDashboardStats = useCallback(async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, stats: true }));\r\n      \r\n      const response = await api.get('/dashboard/stats/simple');\r\n      \r\n      if (response.success && isMountedRef.current) {\r\n        setStats(prev => ({\r\n          ...prev,\r\n          ...response.data\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(prev => ({ ...prev, stats: false }));\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙˆØ¹\r\n  const loadBranches = useCallback(async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, branches: true }));\r\n      \r\n      const response = await api.get('/branches');\r\n      \r\n      if (response.success && response.data && isMountedRef.current) {\r\n        setBranches(response.data);\r\n        \r\n        // ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙƒÙ„ ÙØ±Ø¹\r\n        const statsPromises = response.data.map(async (branch) => {\r\n          try {\r\n            const branchResponse = await api.get('/branches/stats/simple', {\r\n              params: { branch_id: branch.id }\r\n            });\r\n            \r\n            if (branchResponse.success) {\r\n              return { branchId: branch.id, stats: branchResponse.data };\r\n            }\r\n          } catch (error) {\r\n            console.warn(`âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙØ±Ø¹ ${branch.id}:`, error.message);\r\n          }\r\n          return { branchId: branch.id, stats: { games: 0, activeRentals: 0, revenue: 0 } };\r\n        });\r\n        \r\n        const results = await Promise.all(statsPromises);\r\n        const statsMap = {};\r\n        results.forEach(result => {\r\n          statsMap[result.branchId] = result.stats;\r\n        });\r\n        \r\n        setBranchesStats(statsMap);\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n      setError('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙØ±ÙˆØ¹');\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(prev => ({ ...prev, branches: false }));\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n  const loadActiveRentals = useCallback(async () => {\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: { branch_id: user?.branch_id, limit: 10 }\r\n      });\r\n      \r\n      if (response.success && response.data && isMountedRef.current) {\r\n        setActiveRentals(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    }\r\n  }, [user?.branch_id]);\r\n\r\n  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© - Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n  const loadCompletedRentals = useCallback(async () => {\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ù…Ø¹ Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª\r\n      try {\r\n        const response = await api.get('/rentals', {\r\n          params: {\r\n            branch_id: user?.branch_id,\r\n            status: 'Ù…ÙƒØªÙ…Ù„',\r\n            start_date: today,\r\n            end_date: today,\r\n            limit: 20\r\n          }\r\n        });\r\n        \r\n        if (response.success && response.data && isMountedRef.current) {\r\n          setCompletedRentals(response.data);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\r\n      }\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± completed\r\n      try {\r\n        const response = await api.get('/rentals/completed', {\r\n          params: {\r\n            branch_id: user?.branch_id,\r\n            date: today,\r\n            limit: 20\r\n          }\r\n        });\r\n        \r\n        if (response.success && response.data && isMountedRef.current) {\r\n          setCompletedRentals(response.data);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\r\n      }\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± completed-only\r\n      try {\r\n        const response = await api.get('/rentals/completed-only', {\r\n          params: {\r\n            branch_id: user?.branch_id,\r\n            date: today\r\n          }\r\n        });\r\n        \r\n        if (response.success && response.data && isMountedRef.current) {\r\n          setCompletedRentals(response.data);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\r\n      }\r\n      \r\n      // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± today-completed\r\n      try {\r\n        const response = await api.get('/rentals/today-completed', {\r\n          params: { branch_id: user?.branch_id }\r\n        });\r\n        \r\n        if (response.success && response.data && isMountedRef.current) {\r\n          setCompletedRentals(response.data);\r\n          return;\r\n        }\r\n      } catch (error) {\r\n        console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4:', error.message);\r\n      }\r\n      \r\n      // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…ØµÙÙˆÙØ© ÙØ§Ø±ØºØ©\r\n      if (isMountedRef.current) {\r\n        setCompletedRentals([]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n      if (isMountedRef.current) {\r\n        setCompletedRentals([]);\r\n      }\r\n    }\r\n  }, [user?.branch_id]);\r\n\r\n  // ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n  const loadRecentRentals = useCallback(async () => {\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          branch_id: user?.branch_id,\r\n          limit: 10,\r\n          order_by: 'start_time',\r\n          order_direction: 'DESC'\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data && isMountedRef.current) {\r\n        setRecentRentals(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    }\r\n  }, [user?.branch_id]);\r\n\r\n// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙ‡\r\nconst loadCurrentShift = useCallback(async () => {\r\n  try {\r\n    setLoading(prev => ({ ...prev, shift: true }));\r\n    \r\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\r\n    const response = await api.get('/shifts/simple');\r\n    \r\n    if (response.success && response.data && isMountedRef.current) {\r\n      const shift = response.data;\r\n      \r\n      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø´ÙŠÙØª ÙŠØ®Øµ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\r\n      if (shift.employee_id === user?.id || shift.employee_name === user?.name) {\r\n        setCurrentShift(shift);\r\n        \r\n        // Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª\r\n        try {\r\n          // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\r\n          const activeResponse = await api.get('/rentals/active-simple', {\r\n            params: { shift_id: shift.id, branch_id: user?.branch_id }\r\n          });\r\n          \r\n          // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\r\n          const completedResponse = await api.get('/rentals/completed-only', {\r\n            params: { shift_id: shift.id, branch_id: user?.branch_id }\r\n          });\r\n          \r\n          // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª\r\n          let shiftRevenue = 0;\r\n          if (completedResponse.success && completedResponse.data) {\r\n            shiftRevenue = completedResponse.data.reduce((sum, rental) => {\r\n              return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\r\n            }, 0);\r\n          }\r\n          \r\n          // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª (ØªÙ… Ø¯ÙØ¹Ù‡Ø§ Ù…Ø³Ø¨Ù‚Ø§Ù‹)\r\n          if (activeResponse.success && activeResponse.data) {\r\n            const fixedRentals = activeResponse.data.filter(r => \r\n              r.rental_type === 'fixed' || r.is_open_time === 0\r\n            );\r\n            \r\n            shiftRevenue += fixedRentals.reduce((sum, rental) => {\r\n              return sum + (parseFloat(rental.paid_amount) || parseFloat(rental.total_amount) || 0);\r\n            }, 0);\r\n          }\r\n          \r\n          setShiftStats({\r\n            activeRentals: activeResponse.success ? activeResponse.data?.length || 0 : 0,\r\n            completedRentals: completedResponse.success ? completedResponse.data?.length || 0 : 0,\r\n            totalRentals: (activeResponse.success ? activeResponse.data?.length || 0 : 0) + \r\n                         (completedResponse.success ? completedResponse.data?.length || 0 : 0),\r\n            shiftRevenue: shiftRevenue\r\n          });\r\n          \r\n        } catch (statsError) {\r\n          console.warn('âš ï¸ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø´ÙŠÙØª:', statsError.message);\r\n          setShiftStats({\r\n            activeRentals: 0,\r\n            completedRentals: 0,\r\n            totalRentals: 0,\r\n            shiftRevenue: 0\r\n          });\r\n        }\r\n        \r\n      } else {\r\n        setCurrentShift(null);\r\n        setShiftStats(null);\r\n      }\r\n    } else {\r\n      setCurrentShift(null);\r\n      setShiftStats(null);\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    setCurrentShift(null);\r\n    setShiftStats(null);\r\n  } finally {\r\n    if (isMountedRef.current) {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  }\r\n}, [user?.id, user?.name, user?.branch_id]);\r\n\r\n  // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n  const refreshAllData = useCallback(async (force = false) => {\r\n    if (updateLockRef.current && !force) {\r\n      console.log('â³ ØªØ£Ø¬ÙŠÙ„ Ø§Ù„ØªØ­Ø¯ÙŠØ« - Ù‡Ù†Ø§Ùƒ ØªØ­Ø¯ÙŠØ« Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°');\r\n      return;\r\n    }\r\n    \r\n    updateLockRef.current = true;\r\n    \r\n    try {\r\n      console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…');\r\n      \r\n      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n      await loadDashboardStats();\r\n      await loadBranches();\r\n      await loadActiveRentals();\r\n      await loadCompletedRentals();\r\n      await loadRecentRentals();\r\n      await loadCurrentShift();\r\n      \r\n      setError(null);\r\n      \r\n    } catch (error) {\r\n      console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„:', error);\r\n      setError('ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\r\n    } finally {\r\n      updateLockRef.current = false;\r\n    }\r\n  }, [loadDashboardStats, loadBranches, loadActiveRentals, loadCompletedRentals, loadRecentRentals, loadCurrentShift]);\r\n\r\n  // ==================== Effects ====================\r\n\r\n  // ØªØ¹ÙŠÙŠÙ† isMountedRef\r\n  useEffect(() => {\r\n    isMountedRef.current = true;\r\n    return () => {\r\n      isMountedRef.current = false;\r\n      if (refreshTimerRef.current) {\r\n        clearTimeout(refreshTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ\r\n  useEffect(() => {\r\n    refreshAllData(true);\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚\r\n    const interval = setInterval(() => {\r\n      if (isMountedRef.current && !updateLockRef.current) {\r\n        refreshAllData();\r\n      }\r\n    }, 300000); // 5 Ø¯Ù‚Ø§Ø¦Ù‚\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [refreshAllData]);\r\n\r\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ====================\r\n\r\n  const handleBranchClick = (branch) => {\r\n    setSelectedBranch(branch);\r\n    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ØªÙ†Ù‚Ù„ Ù„ØµÙØ­Ø© Ø§Ù„ÙØ±Ø¹ Ù‡Ù†Ø§\r\n    console.log('ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±Ø¹:', branch);\r\n  };\r\n\r\n  const handleViewRental = (rental) => {\r\n    console.log('Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', rental);\r\n    // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ù„ØªÙØ§ØµÙŠÙ„ Ù‡Ù†Ø§\r\n    alert(`ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:\r\nØ±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±: ${rental.rental_number || 'ØºÙŠØ± Ù…ØªÙˆÙØ±'}\r\nØ§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\r\nØ§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\r\nÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\r\nØ§Ù„Ø­Ø§Ù„Ø©: ${rental.status}\r\nØ§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount || 0)}`);\r\n  };\r\n\r\n  const handleExportData = () => {\r\n    alert('Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ù„Ù„ØªØµØ¯ÙŠØ±...');\r\n  };\r\n\r\n  const handlePrintReport = () => {\r\n    window.print();\r\n  };\r\n\r\n  // ==================== Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø³Ù†Ø© ====================\r\n\r\n  const enhancedStats = useMemo(() => {\r\n    const totalCompletedRentals = completedRentals.length;\r\n    const totalActiveRentals = activeRentals.length;\r\n    \r\n    const openTimeRentals = activeRentals.filter(r => getRentalType(r) === 'open').length;\r\n    const fixedTimeRentals = activeRentals.filter(r => getRentalType(r) === 'fixed').length;\r\n    \r\n    const averageRentalDuration = completedRentals.length > 0 \r\n      ? Math.round(completedRentals.reduce((sum, r) => \r\n          sum + calculateDuration(r.start_time, r.end_time), 0) / completedRentals.length)\r\n      : 0;\r\n    \r\n    const peakHour = completedRentals.length > 0\r\n      ? completedRentals.reduce((acc, r) => {\r\n          const hour = new Date(r.start_time).getHours();\r\n          acc[hour] = (acc[hour] || 0) + 1;\r\n          return acc;\r\n        }, {})\r\n      : {};\r\n    \r\n    const topGame = completedRentals.length > 0\r\n      ? completedRentals.reduce((acc, r) => {\r\n          acc[r.game_name] = (acc[r.game_name] || 0) + 1;\r\n          return acc;\r\n        }, {})\r\n      : {};\r\n    \r\n    return {\r\n      totalCompletedRentals,\r\n      totalActiveRentals,\r\n      openTimeRentals,\r\n      fixedTimeRentals,\r\n      averageRentalDuration,\r\n      peakHour,\r\n      topGame\r\n    };\r\n  }, [activeRentals, completedRentals]);\r\n\r\n  // ==================== Render ====================\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {/* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */}\r\n      <div className=\"dashboard-header\">\r\n        <div className=\"dashboard-title-section\">\r\n          <h1>\r\n            <BarChart3 size={32} />\r\n            Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…\r\n          </h1>\r\n          <div className=\"dashboard-date\">\r\n            <Calendar size={16} />\r\n            <span>{formatDate(new Date())}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-header-actions\">\r\n          {currentShift && (\r\n            <div className=\"dashboard-shift-info\">\r\n              <Clock size={16} />\r\n              <span>Ø§Ù„Ø´ÙŠÙØª #{currentShift.id} - {currentShift.employee_name}</span>\r\n            </div>\r\n          )}\r\n          \r\n          <button \r\n            onClick={() => refreshAllData(true)}\r\n            className=\"dashboard-btn dashboard-btn-outline\"\r\n            disabled={loading.processing || updateLockRef.current}\r\n          >\r\n            {loading.stats ? (\r\n              <Loader2 className=\"dashboard-spinner\" size={16} />\r\n            ) : (\r\n              <RefreshCw size={16} />\r\n            )}\r\n            ØªØ­Ø¯ÙŠØ«\r\n          </button>\r\n          \r\n          <button \r\n            onClick={handleExportData}\r\n            className=\"dashboard-btn dashboard-btn-outline\"\r\n          >\r\n            <Download size={16} />\r\n            ØªØµØ¯ÙŠØ±\r\n          </button>\r\n          \r\n          <button \r\n            onClick={handlePrintReport}\r\n            className=\"dashboard-btn dashboard-btn-outline\"\r\n          >\r\n            <Printer size={16} />\r\n            Ø·Ø¨Ø§Ø¹Ø©\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ */}\r\n      {error && (\r\n        <div className=\"dashboard-error-banner\">\r\n          <AlertCircle size={20} />\r\n          <span>{error}</span>\r\n          <button onClick={() => setError(null)} className=\"dashboard-error-close\">\r\n            <X size={16} />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Ø¥Ø¶Ø§ÙØ© Ù‚Ø³Ù… Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø· */}\r\n{currentShift && (\r\n  <div className=\"dashboard-shift-section\">\r\n    <ActiveShiftCard \r\n      shift={currentShift}\r\n      stats={shiftStats}\r\n      onViewDetails={(shift) => {\r\n        // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ø£Ùˆ ØªÙ†Ù‚Ù„ Ù„ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\r\n        console.log('Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:', shift);\r\n        alert(`ğŸ“‹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª:\r\nØ±Ù‚Ù… Ø§Ù„Ø´ÙŠÙØª: #${shift.id}\r\nØ§Ù„Ù…ÙˆØ¸Ù: ${shift.employee_name}\r\nØ§Ù„ÙØ±Ø¹: ${shift.branch_name || `ÙØ±Ø¹ ${shift.branch_id}`}\r\nÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(shift.start_time)}\r\nØ§Ù„Ø­Ø§Ù„Ø©: ${shift.status}\r\nØ§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©: ${shiftStats?.activeRentals || 0}\r\nØ§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©: ${shiftStats?.completedRentals || 0}\r\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª: ${formatCurrency(shiftStats?.shiftRevenue || 0)}`);\r\n      }}\r\n    />\r\n  </div>\r\n)}\r\n\r\n      {/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */}\r\n      <div className=\"dashboard-stats-grid\">\r\n        <StatCard\r\n          title=\"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª\"\r\n          value={formatCurrency(stats.totalRevenue || 0)}\r\n          icon={DollarSign}\r\n          color=\"primary\"\r\n          subtitle=\"Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\"\r\n        />\r\n        \r\n        <StatCard\r\n          title=\"ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ…\"\r\n          value={stats.todayRentals || 0}\r\n          icon={Activity}\r\n          color=\"success\"\r\n          subtitle={`Ø¥ÙŠØ±Ø§Ø¯ ${formatCurrency(stats.todayRevenue || 0)}`}\r\n        />\r\n        \r\n        <StatCard\r\n          title=\"ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©\"\r\n          value={stats.activeRentals || 0}\r\n          icon={Zap}\r\n          color=\"warning\"\r\n          subtitle={`${enhancedStats.openTimeRentals} Ù…ÙØªÙˆØ­ØŒ ${enhancedStats.fixedTimeRentals} Ø«Ø§Ø¨Øª`}\r\n        />\r\n        \r\n        <StatCard\r\n          title=\"Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©\"\r\n          value={stats.availableGames || 0}\r\n          icon={Gamepad2}\r\n          color=\"info\"\r\n          subtitle={`Ù…Ù† Ø£ØµÙ„ ${stats.totalGames || 0} Ù„Ø¹Ø¨Ø©`}\r\n        />\r\n      </div>\r\n\r\n      {/* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© (Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·) */}\r\n      {isAdmin && (\r\n        <div className=\"dashboard-secondary-stats\">\r\n          <StatCard\r\n            title=\"Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±ÙˆØ¹\"\r\n            value={stats.totalBranches || 0}\r\n            icon={Building}\r\n            color=\"secondary\"\r\n          />\r\n          \r\n          <StatCard\r\n            title=\"Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\"\r\n            value={stats.totalUsers || 0}\r\n            icon={Users}\r\n            color=\"secondary\"\r\n          />\r\n          \r\n          <StatCard\r\n            title=\"Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…Ø¯Ø©\"\r\n            value={`${enhancedStats.averageRentalDuration} Ø¯Ù‚ÙŠÙ‚Ø©`}\r\n            icon={Clock}\r\n            color=\"secondary\"\r\n          />\r\n          \r\n          <StatCard\r\n            title=\"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\"\r\n            value={stats.totalRentals || 0}\r\n            icon={Target}\r\n            color=\"secondary\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Ù‚Ø³Ù… Ø§Ù„ÙØ±ÙˆØ¹ (Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·) */}\r\n      {isAdmin && (\r\n        <div className=\"dashboard-section\">\r\n          <div className=\"dashboard-section-header\">\r\n            <h2>\r\n              <Building size={20} />\r\n              Ø§Ù„ÙØ±ÙˆØ¹\r\n            </h2>\r\n            <button \r\n              onClick={loadBranches}\r\n              className=\"dashboard-btn-icon\"\r\n              disabled={loading.branches}\r\n            >\r\n              <RefreshCw size={16} className={loading.branches ? 'dashboard-spinner' : ''} />\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"dashboard-branches-grid\">\r\n            {loading.branches ? (\r\n              <div className=\"dashboard-loading-state\">\r\n                <Loader2 className=\"dashboard-spinner\" size={32} />\r\n                <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ±ÙˆØ¹...</p>\r\n              </div>\r\n            ) : branches.length === 0 ? (\r\n              <div className=\"dashboard-empty-state\">\r\n                <Building size={48} />\r\n                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ±ÙˆØ¹</p>\r\n              </div>\r\n            ) : (\r\n              branches.map(branch => (\r\n                <BranchCard\r\n                  key={branch.id}\r\n                  branch={branch}\r\n                  onClick={handleBranchClick}\r\n                  stats={branchesStats[branch.id] || { games: 0, activeRentals: 0, revenue: 0 }}\r\n                />\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Ù‚Ø³Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© */}\r\n      <div className=\"dashboard-section\">\r\n        <div className=\"dashboard-section-header\">\r\n          <h2>\r\n            <Zap size={20} />\r\n            Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n            <span className=\"dashboard-section-count\">\r\n              ({activeRentals.length})\r\n            </span>\r\n          </h2>\r\n          <button \r\n            onClick={loadActiveRentals}\r\n            className=\"dashboard-btn-icon\"\r\n            disabled={loading.rentals}\r\n          >\r\n            <RefreshCw size={16} className={loading.rentals ? 'dashboard-spinner' : ''} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-rentals-grid\">\r\n          {loading.rentals ? (\r\n            <div className=\"dashboard-loading-state\">\r\n              <Loader2 className=\"dashboard-spinner\" size={32} />\r\n              <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...</p>\r\n            </div>\r\n          ) : activeRentals.length === 0 ? (\r\n            <div className=\"dashboard-empty-state\">\r\n              <Zap size={48} />\r\n              <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©</p>\r\n            </div>\r\n          ) : (\r\n            activeRentals.map(rental => (\r\n              <ActiveRentalCard\r\n                key={rental.id}\r\n                rental={rental}\r\n                onView={handleViewRental}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ù‚Ø³Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ… */}\r\n      <div className=\"dashboard-section\">\r\n        <div className=\"dashboard-section-header\">\r\n          <h2>\r\n            <CheckCircle size={20} />\r\n            ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n            <span className=\"dashboard-section-count\">\r\n              ({completedRentals.length})\r\n            </span>\r\n          </h2>\r\n          <button \r\n            onClick={loadCompletedRentals}\r\n            className=\"dashboard-btn-icon\"\r\n            disabled={loading.rentals}\r\n          >\r\n            <RefreshCw size={16} className={loading.rentals ? 'dashboard-spinner' : ''} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-rentals-grid\">\r\n          {loading.rentals ? (\r\n            <div className=\"dashboard-loading-state\">\r\n              <Loader2 className=\"dashboard-spinner\" size={32} />\r\n              <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...</p>\r\n            </div>\r\n          ) : completedRentals.length === 0 ? (\r\n            <div className=\"dashboard-empty-state\">\r\n              <CheckCircle size={48} />\r\n              <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…</p>\r\n            </div>\r\n          ) : (\r\n            completedRentals.map(rental => (\r\n              <CompletedRentalCard\r\n                key={rental.id}\r\n                rental={rental}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ù‚Ø³Ù… Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª */}\r\n      <div className=\"dashboard-section\">\r\n        <div className=\"dashboard-section-header\">\r\n          <h2>\r\n            <Activity size={20} />\r\n            Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n            <span className=\"dashboard-section-count\">\r\n              ({recentRentals.length})\r\n            </span>\r\n          </h2>\r\n          <button \r\n            onClick={loadRecentRentals}\r\n            className=\"dashboard-btn-icon\"\r\n            disabled={loading.rentals}\r\n          >\r\n            <RefreshCw size={16} className={loading.rentals ? 'dashboard-spinner' : ''} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-recent-table\">\r\n          <div className=\"dashboard-table-header\">\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„Ø¹Ù…ÙŠÙ„</div>\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„Ù„Ø¹Ø¨Ø©</div>\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„ÙˆÙ‚Øª</div>\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„Ø­Ø§Ù„Ø©</div>\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„Ù…Ø¨Ù„Øº</div>\r\n            <div className=\"dashboard-table-cell\">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</div>\r\n          </div>\r\n          \r\n          {loading.rentals ? (\r\n            <div className=\"dashboard-loading-state\">\r\n              <Loader2 className=\"dashboard-spinner\" size={32} />\r\n              <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...</p>\r\n            </div>\r\n          ) : recentRentals.length === 0 ? (\r\n            <div className=\"dashboard-empty-state\">\r\n              <Activity size={48} />\r\n              <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª</p>\r\n            </div>\r\n          ) : (\r\n            recentRentals.map(rental => (\r\n              <div key={rental.id} className=\"dashboard-table-row\">\r\n                <div className=\"dashboard-table-cell\">\r\n                  <div className=\"dashboard-customer-info\">\r\n                    <Users size={14} />\r\n                    <span>{rental.customer_name || 'Ø¹Ù…ÙŠÙ„'}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"dashboard-table-cell\">\r\n                  <div className=\"dashboard-game-info\">\r\n                    <Gamepad2 size={14} />\r\n                    <span>{rental.game_name || 'Ù„Ø¹Ø¨Ø©'}</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"dashboard-table-cell\">\r\n                  {formatTime(rental.start_time)}\r\n                </div>\r\n                \r\n                <div className=\"dashboard-table-cell\">\r\n                  <span className={`dashboard-status-badge ${rental.status === 'Ù†Ø´Ø·' ? 'active' : 'completed'}`}>\r\n                    {rental.status === 'Ù†Ø´Ø·' ? 'ğŸŸ¢ Ù†Ø´Ø·' : 'âœ… Ù…ÙƒØªÙ…Ù„'}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"dashboard-table-cell\">\r\n                  {formatCurrency(rental.total_amount || 0)}\r\n                </div>\r\n                \r\n                <div className=\"dashboard-table-cell\">\r\n                  <button \r\n                    onClick={() => handleViewRental(rental)}\r\n                    className=\"dashboard-btn-view-small\"\r\n                    title=\"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„\"\r\n                  >\r\n                    <Eye size={14} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹ */}\r\n      <div className=\"dashboard-summary\">\r\n        <div className=\"dashboard-summary-item\">\r\n          <Info size={16} />\r\n          <span>Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: {formatDateTime(new Date())}</span>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-summary-item\">\r\n          <Activity size={16} />\r\n          <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©: {enhancedStats.totalActiveRentals}</span>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-summary-item\">\r\n          <Award size={16} />\r\n          <span>Ø£ÙƒØ«Ø± Ù„Ø¹Ø¨Ø© ØªØ£Ø¬ÙŠØ±Ø§Ù‹: {Object.keys(enhancedStats.topGame)[0] || 'Ù„Ø§ ØªÙˆØ¬Ø¯'}</span>\r\n        </div>\r\n        \r\n        <div className=\"dashboard-summary-item\">\r\n          <PieChart size={16} />\r\n          <span>Ù†Ø³Ø¨Ø© Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…ÙØªÙˆØ­Ø©: {enhancedStats.totalActiveRentals > 0 \r\n            ? Math.round((enhancedStats.openTimeRentals / enhancedStats.totalActiveRentals) * 100) \r\n            : 0}%</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}