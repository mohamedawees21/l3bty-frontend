{"ast":null,"code":"import axios from 'axios';\n\n// âœ… Ø¯Ø§Ù„Ø© Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ngrok\nconst detectEnvironment = () => {\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\n\n  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ ngrok\n  if (env === 'ngrok' || apiUrl.includes('ngrok')) {\n    console.log('ğŸ”— ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¨ÙŠØ¦Ø© ngrok - Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\n  }\n  return {\n    env,\n    apiUrl\n  };\n};\n\n// âœ… ØªØµØ­ÙŠØ­ URL Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ø¯Ø¹Ù… ngrok\nconst {\n  env,\n  apiUrl\n} = detectEnvironment();\nconst API_BASE_URL = apiUrl;\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\n\n// âœ… Ø¥Ù†Ø´Ø§Ø¡ axios instance Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Accept-Language': 'ar'\n  }\n});\n\n// ==================== Interceptors ====================\n// âœ… ØªØ¹Ø±ÙŠÙ interceptors Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n\n  // Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙˆÙƒÙ† Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¨Ø§Ù„ÙØ¹Ù„\n  let authToken = token;\n  if (token && token.startsWith('Bearer ')) {\n    authToken = token.substring(7);\n  }\n  if (authToken) {\n    config.headers.Authorization = `Bearer ${authToken}`;\n    console.log('ğŸ”‘ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙˆÙƒÙ† Ù„Ù„Ø·Ù„Ø¨:', config.url);\n  } else {\n    console.warn('âš ï¸ No token found in localStorage');\n  }\n\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\n  if (process.env.NODE_ENV === 'development') {\n    var _config$method;\n    console.log('ğŸŒ API Request:', {\n      method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n      url: config.url,\n      fullUrl: `${config.baseURL}${config.url}`,\n      tokenExists: !!authToken,\n      environment: env\n    });\n  }\n  return config;\n}, error => {\n  console.error('âŒ Request Interceptor Error:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\n  if (process.env.NODE_ENV === 'development') {\n    console.log('âœ… API Response:', {\n      url: response.config.url,\n      status: response.status,\n      success: true\n    });\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ data Ù…Ø¨Ø§Ø´Ø±Ø©\n  if (response.data && typeof response.data === 'object') {\n    return response.data;\n  }\n  return {\n    success: true,\n    status: response.status,\n    data: response.data,\n    message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\n  };\n}, error => {\n  var _error$config, _error$response, _error$response2, _error$response3, _error$response4, _error$response4$data, _error$response5;\n  console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: error.message,\n    environment: env\n  });\n\n  // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§ØµØ© Ù„Ø¨ÙŠØ¦Ø© ngrok\n  if (env === 'ngrok' && error.message.includes('Network Error')) {\n    console.warn('âš ï¸ Ø®Ø·Ø£ Ø´Ø¨ÙƒØ© ÙÙŠ Ø¨ÙŠØ¦Ø© ngrok - Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\n    return {\n      success: false,\n      status: 0,\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¹Ù†ÙˆØ§Ù† ngrok ØµØ­ÙŠØ­ ÙˆØ£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\n      ngrokError: true\n    };\n  }\n\n  // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500\n  if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 500) {\n    return {\n      success: false,\n      status: 500,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n\n  // Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰\n  return {\n    success: false,\n    status: ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) || 0,\n    message: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\n    data: (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data\n  };\n});\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\napi.setToken = token => {\n  if (token) {\n    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ØªÙˆÙƒÙ† Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¹Ù†Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ†\n    let cleanToken = token;\n    if (token.startsWith('Bearer ')) {\n      cleanToken = token.substring(7);\n    }\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\n    localStorage.setItem('token', cleanToken);\n    console.log('âœ… ØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­');\n  } else {\n    delete api.defaults.headers.common['Authorization'];\n    localStorage.removeItem('token');\n    console.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙˆÙƒÙ†');\n  }\n};\napi.checkAuthStatus = () => {\n  const token = localStorage.getItem('token');\n  const user = localStorage.getItem('user');\n  return {\n    isAuthenticated: !!token,\n    token: token,\n    user: user ? JSON.parse(user) : null\n  };\n};\napi.getEnvironmentInfo = () => {\n  return {\n    environment: env,\n    apiUrl: API_BASE_URL,\n    isNgrok: env === 'ngrok' || API_BASE_URL.includes('ngrok'),\n    nodeEnv: process.env.NODE_ENV\n  };\n};\napi.fixUrl = url => {\n  if (url && url.startsWith('/api/')) {\n    console.warn(`âš ï¸ ØªØµØ­ÙŠØ­ URL: ${url} -> ${url.substring(4)}`);\n    return url.substring(4);\n  }\n  return url;\n};\n\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\napi.validateToken = async () => {\n  try {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      return {\n        valid: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ†'\n      };\n    }\n\n    // ğŸ” ÙÙƒ Ø§Ù„ØªÙˆÙƒÙ† (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)\n    const parts = token.split('_');\n    if (parts.length < 2) {\n      return {\n        valid: false,\n        message: 'ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­'\n      };\n    }\n    const userId = parseInt(parts[1]);\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\n    const response = await api.get('/auth/profile');\n    if (response.success) {\n      return {\n        valid: true,\n        user: response.data,\n        userId: userId\n      };\n    } else {\n      return {\n        valid: false,\n        message: response.message\n      };\n    }\n  } catch (error) {\n    console.error('âŒ Token validation error:', error);\n    return {\n      valid: false,\n      message: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø£ÙƒØ«Ø± Ù‚ÙˆØ© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\napi.safeRequest = async (endpoint, options = {}) => {\n  try {\n    console.log(`ğŸ”„ [SAFE REQUEST] Calling: ${endpoint}`);\n    const response = await api({\n      url: endpoint,\n      method: options.method || 'GET',\n      data: options.data,\n      params: options.params,\n      timeout: options.timeout || 10000,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        ...options.headers\n      }\n    });\n\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±\n    if (response.status === 500) {\n      console.warn(`âš ï¸ Server returned 500 for ${endpoint}`);\n\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\n      return {\n        success: false,\n        status: 500,\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        data: null,\n        retry: true\n      };\n    }\n    return response;\n  } catch (error) {\n    var _error$response6, _error$response7, _error$response8;\n    console.error(`ğŸ”¥ [SAFE REQUEST ERROR] ${endpoint}:`, {\n      message: error.message,\n      code: error.code,\n      status: (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status\n    });\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ø­Ø¯Ø¯Ø©\n    if (error.code === 'ECONNREFUSED') {\n      return {\n        success: false,\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 5000',\n        status: 0,\n        data: null\n      };\n    }\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',\n        status: 0,\n        data: null\n      };\n    }\n    if (((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.status) === 500) {\n      return {\n        success: false,\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ',\n        status: 500,\n        data: null,\n        error: error.response.data\n      };\n    }\n    return {\n      success: false,\n      message: error.message || 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„',\n      status: ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.status) || 0,\n      data: null\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡\napi.loadGamesSmart = async branchId => {\n  try {\n    console.log(`ğŸ® [API] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø°ÙƒØ§Ø¡`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: branchId,\n      status: 'Ù…ØªØ§Ø­'\n    }];\n    return {\n      success: true,\n      data: defaultGames,\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      fromCache: true\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ [API] Ø®Ø·Ø£ ÙÙŠ loadGamesSmart:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\napi.startShift = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\n    const response = await api.post('/shifts/start');\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error.message);\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const altResponse = await api.post('/shifts/start-simple');\n      return altResponse;\n    } catch (altError) {\n      return {\n        success: false,\n        message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + error.message\n      };\n    }\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getCurrentShift = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ');\n    const response = await api.get('/shifts/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error.message);\n    return {\n      success: true,\n      data: null,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø·Ù„Ø¨Ø§Øª\napi.safeRequest = async (endpoint, options = {}) => {\n  try {\n    console.log(`ğŸ”„ [SAFE] ${options.method || 'GET'} ${endpoint}`);\n    const response = await api({\n      url: endpoint,\n      method: options.method || 'GET',\n      data: options.data,\n      params: options.params\n    });\n    return response;\n  } catch (error) {\n    var _error$response9;\n    console.error(`âŒ [SAFE] Ø®Ø·Ø£ ÙÙŠ ${endpoint}:`, error.message);\n    return {\n      success: false,\n      message: error.message,\n      status: ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : _error$response9.status) || 500\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\n\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\napi.login = async (email, password) => {\n  try {\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\n    const response = await api.post('/auth/login', {\n      email,\n      password\n    });\n    const data = response;\n    if (data.success && data.token) {\n      api.setToken(data.token);\n      if (data.user) {\n        localStorage.setItem('user', JSON.stringify(data.user));\n        localStorage.setItem('lastLogin', new Date().toISOString());\n      }\n      return {\n        success: true,\n        data: data\n      };\n    } else {\n      return {\n        success: false,\n        message: data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\n      };\n    }\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n    if (error.status === 401) {\n      return {\n        success: false,\n        message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.logout = async (redirect = true) => {\n  try {\n    await api.post('/auth/logout');\n  } catch (error) {\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\n  } finally {\n    api.setToken(null);\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastLogin');\n    localStorage.removeItem('refreshToken');\n    if (redirect) {\n      window.location.href = '/login';\n    }\n  }\n};\napi.getProfile = async () => {\n  try {\n    const response = await api.get('/auth/profile');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\n    };\n  }\n};\n\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\napi.getBranches = async (params = {}) => {\n  try {\n    console.log('ğŸ¬ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹...');\n    const response = await api.get('/branches', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹',\n      data: []\n    };\n  }\n};\napi.getBranchById = async branchId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.warn(`âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©`);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1,\n        total_games: 0,\n        total_employees: 1,\n        active_rentals: 0,\n        created_at: new Date().toISOString()\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø´Ø§Ù…Ù„Ø©\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1,\n        total_games: 0,\n        total_employees: 1,\n        active_rentals: 0,\n        created_at: new Date().toISOString()\n      },\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)',\n      fromCache: true\n    };\n  }\n};\napi.createBranch = async branchData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯:', branchData);\n    const response = await api.post('/branches', branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.updateBranch = async (id, branchData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹ ${id}:`, branchData);\n    const response = await api.put(`/branches/${id}`, branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.deleteBranch = async (id, permanent = false) => {\n  try {\n    const url = `/branches/${id}${permanent ? '?permanent=true' : ''}`;\n    const response = await api.delete(url);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\n    };\n  }\n};\napi.getBranchGames = async branchId => {\n  try {\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}/games`);\n    return response;\n  } catch (error) {\n    var _error$response0;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\n      data: [],\n      status: ((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : _error$response0.status) || 500\n    };\n  }\n};\n\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\napi.getGames = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø·Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\n\n    // âŒ Ø¥Ø²Ø§Ù„Ø© ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ statusØŒ Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    const requestParams = {\n      ...params\n    };\n    delete requestParams.status; // Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\n\n    const response = await api.get('/games', {\n      params: requestParams,\n      timeout: 15000\n    });\n    console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', response.success ? 'Ù†Ø§Ø¬Ø­' : 'ÙØ§Ø´Ù„');\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\n    if (error.code === 'ECONNABORTED') {\n      return {\n        success: false,\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        data: []\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ\napi.loadGamesSmart = async branchId => {\n  try {\n    console.log(`ğŸ® [SMART LOAD] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ...`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\n    try {\n      const response = await api.getAllBranchGames(branchId);\n      if (response.success && response.data && response.data.length > 0) {\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n\n        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¶Ù…Ø§Ù† Ø£Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ù‡Ø§ \"Ù…ØªØ§Ø­Ø©\" ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶\n        const gamesWithFixedStatus = response.data.map(game => ({\n          ...game,\n          status: 'Ù…ØªØ§Ø­' // âŒ ÙØ±Ø¶ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…ØªØ§Ø­Ø©\n        }));\n        return {\n          success: true,\n          data: gamesWithFixedStatus,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­',\n          count: gamesWithFixedStatus.length\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\n    const localGamesKey = `branch_${branchId}_games`;\n    const savedGames = localStorage.getItem(localGamesKey);\n    if (savedGames) {\n      const games = JSON.parse(savedGames);\n      console.log(`ğŸ“± ØªÙ… ØªØ­Ù…ÙŠÙ„ ${games.length} Ù„Ø¹Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\n      return {\n        success: true,\n        data: games,\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\n        fromCache: true,\n        count: games.length\n      };\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: branchId || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }];\n    return {\n      success: true,\n      data: defaultGames,\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      fromCache: true,\n      count: defaultGames.length\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\n      count: 0\n    };\n  }\n};\napi.getGamesSeparated = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©...');\n    const response = await api.get('/games/separated', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  }\n};\napi.getGamesSmart = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡...');\n    const response = await api.get('/games', {\n      params\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    if (params.branch_id) {\n      console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©...');\n      const branchGames = await api.get(`/branches/${params.branch_id}/games`);\n      if (branchGames.success) {\n        return {\n          success: true,\n          data: branchGames.data || [],\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„ÙØ±Ø¹'\n        };\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\n    const defaultGames = [{\n      id: 1,\n      name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\n      category: 'Ø³ÙŠØ§Ø±Ø§Øª',\n      price_per_15min: 50,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 2,\n      name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\n      category: 'Ø³ÙƒÙˆØªØ±',\n      price_per_15min: 30,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }, {\n      id: 3,\n      name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\n      category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\n      price_per_15min: 40,\n      branch_id: params.branch_id || 1,\n      status: 'Ù…ØªØ§Ø­',\n      is_active: 1\n    }];\n    return {\n      success: true,\n      data: defaultGames.filter(g => !params.branch_id || g.branch_id == params.branch_id),\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n    };\n  }\n};\napi.getAllBranchGames = async branchId => {\n  try {\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n\n    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† ØªØµÙÙŠØ© Ø¨Ø­Ø§Ù„Ø©)\n    const response = await api.get('/games', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        stats: response.stats || {},\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\n      data: []\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\napi.getAvailableGames = async (params = {}) => {\n  try {\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±)...');\n\n    // Ø§Ù„Ø¢Ù† Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¯ÙˆÙ† ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©\n    const response = await api.get('/games', {\n      params\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\n    };\n  }\n};\napi.getRentedGames = async (params = {}) => {\n  try {\n    const response = await api.get('/games/rented', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©'\n    };\n  }\n};\napi.createGame = async gameData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©:', gameData);\n    const response = await api.post('/games', gameData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\napi.updateGame = async (id, gameData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id}:`, gameData);\n    const response = await api.put(`/games/${id}`, gameData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© Ø°ÙƒÙŠØ©\napi.updateGameSmart = async (id, gameData) => {\n  try {\n    console.log(`ğŸ® [SMART UPDATE] ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ`);\n    const endpoints = [`/games/${id}`,\n    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    `/games/update/${id}`,\n    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    `/games/${id}/update` // Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø®Ø±Ù‰\n    ];\n    const token = api.checkAuthStatus().token;\n    for (const endpoint of endpoints) {\n      try {\n        console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© ${endpoint}`);\n        const response = await fetch(`http://localhost:5000/api${endpoint}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gameData)\n        });\n        if (response.ok) {\n          const result = await response.json();\n          console.log(`âœ… Ù†Ø¬Ø­Øª Ø¹Ø¨Ø± ${endpoint}:`, result);\n          return result;\n        }\n        console.log(`âš ï¸ ${endpoint} Ø¹Ø§Ø¯ Ø¨Ù€ ${response.status}`);\n      } catch (error) {\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint}:`, error.message);\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠ\n    console.log('ğŸ’¾ ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹');\n    const localUpdate = {\n      id: id,\n      data: gameData,\n      timestamp: new Date().toISOString(),\n      local: true\n    };\n\n    // Ø­ÙØ¸ ÙÙŠ localStorage\n    const localUpdates = JSON.parse(localStorage.getItem('game_updates') || '[]');\n    localUpdates.push(localUpdate);\n    localStorage.setItem('game_updates', JSON.stringify(localUpdates));\n    return {\n      success: true,\n      message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\n      local: true\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\n    };\n  }\n};\napi.deleteGame = async (id, permanent = false) => {\n  try {\n    const url = `/games/${id}${permanent ? '?permanent=true' : ''}`;\n    const response = await api.delete(url);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\n    return {\n      success: false,\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  }\n};\n\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\napi.getActiveShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\n    const response = await api.get('/shifts/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n      data: null\n    };\n  }\n};\napi.getActiveShiftOld = async () => {\n  try {\n    const response = await api.get('/shifts/active');\n    return response;\n  } catch (error) {\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\n      data: null\n    };\n  }\n};\n\n// ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© getActiveShiftSafe\napi.getActiveShiftSafe = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: API Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response && response.success) {\n        console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­');\n        return {\n          success: true,\n          data: response.data,\n          exists: !!response.data\n        };\n      }\n      return {\n        success: true,\n        data: null,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·',\n        exists: false\n      };\n    } catch (apiError) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† API:', apiError.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù…Ù† localStorage\n    try {\n      const savedShift = localStorage.getItem('current_shift');\n      if (savedShift) {\n        const shiftData = JSON.parse(savedShift);\n        console.log('âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ');\n        return {\n          success: true,\n          data: shiftData,\n          exists: true,\n          fromCache: true\n        };\n      }\n    } catch (cacheError) {\n      console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\n    }\n    return {\n      success: true,\n      data: null,\n      exists: false,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ getActiveShiftSafe:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\napi.getShifts = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª...');\n    const response = await api.get('/shifts', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\napi.getShiftsSafe = async (params = {}) => {\n  try {\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†');\n    const response = await api.get('/shifts', {\n      params: {\n        ...params,\n        limit: params.limit || 10,\n        order_by: params.order_by || 'start_time',\n        order_direction: params.order_direction || 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\n    if (process.env.NODE_ENV === 'development') {\n      return {\n        success: true,\n        data: [{\n          id: 1,\n          start_time: new Date().toISOString(),\n          employee_name: 'Ù…ÙˆØ¸Ù ØªØ¬Ø±ÙŠØ¨ÙŠ',\n          employee_id: 1,\n          branch_id: params.branch_id || 1,\n          status: 'Ù…Ù†ØªÙ‡ÙŠ',\n          duration_minutes: 120,\n          total_revenue: 1000,\n          total_rentals: 5\n        }],\n        count: 1\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\napi.startShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\n    const response = await api.post('/shifts/start');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.startShiftSafe = async () => {\n  try {\n    console.log('ğŸ”„ [SAFE START SHIFT] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: start (Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: /shifts/start');\n    try {\n      const response = await api.post('/shifts/start', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 Ù…Ø¹ /shifts/start');\n        return response;\n      }\n    } catch (error1) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: start-simple\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: /shifts/start-simple');\n    try {\n      const response = await api.post('/shifts/start-simple', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 Ù…Ø¹ start-simple');\n        return response;\n      }\n    } catch (error2) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: start-clean\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: /shifts/start-clean');\n    try {\n      const response = await api.post('/shifts/start-clean', {});\n      if (response && response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 Ù…Ø¹ start-clean');\n        return response;\n      }\n    } catch (error3) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\n    }\n\n    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª\n    console.log('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù†:\\n1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…\\n2. Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\\n3. ØªÙˆÙØ± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      attempts: 3,\n      suggestion: 'Ø¬Ø±Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShiftSafe:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message,\n      suggestion: 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ\napi.startCleanShift = async () => {\n  try {\n    console.log('ğŸ§¹ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ...');\n    const response = await api.post('/shifts/start-clean');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ'\n    };\n  }\n};\n\n// 5. ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\napi.startShiftEnhanced = async () => {\n  try {\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù…Ø¹Ø²Ø²...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\n    const response = await api.post('/shifts/start');\n    if (response.success) {\n      console.log(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\n      return response;\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    return await api.startShiftSafe();\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\n\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.endShiftWithRentals = async (shiftId, endData = {}) => {\n  try {\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId} Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...`);\n    const response = await api.put(`/shifts/${shiftId}/end`, {\n      ...endData,\n      end_time: new Date().toISOString()\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\napi.endShiftSmart = async (shiftId, endData = {}) => {\n  try {\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª ${shiftId} Ø¨Ø°ÙƒØ§Ø¡...`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n    try {\n      const response = await api.put(`/shifts/${shiftId}/end`, {\n        ...endData,\n        end_time: new Date().toISOString()\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n    try {\n      const updateResponse = await api.updateShift(shiftId, {\n        status: 'Ù…Ù†ØªÙ‡ÙŠ',\n        end_time: new Date().toISOString(),\n        notes: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ)'\n      });\n      if (updateResponse.success) {\n        return {\n          success: true,\n          message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­ (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          data: updateResponse.data\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',\n      shiftId: shiftId\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\n      error: error.message\n    };\n  }\n};\napi.updateShift = async (shiftId, data) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª #${shiftId}`);\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\n    const response = await api.put(`/shifts/${shiftId}/end`, data);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.getShiftRevenueDetails = async shiftId => {\n  try {\n    console.log(`ğŸ’° Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/shifts/${shiftId}/revenue-details`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯',\n      data: {}\n    };\n  }\n};\napi.getShiftEmployees = async shiftId => {\n  try {\n    console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\n    try {\n      const response = await api.get(`/shifts/${shiftId}/employees`);\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©\n    try {\n      const response = await api.get('/shifts/current-employees', {\n        params: {\n          shift_id: shiftId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\n    }\n\n    // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\napi.checkUserShift = async () => {\n  try {\n    console.log('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…\n    const response = await api.get('/shifts/check-active');\n    if (response.success) {\n      return {\n        success: true,\n        hasActiveShift: response.has_active_shift || false,\n        shift: response.data,\n        message: response.message\n      };\n    }\n    return {\n      success: false,\n      hasActiveShift: false,\n      shift: null,\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´ÙŠÙØª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      hasActiveShift: false,\n      shift: null,\n      message: error.message\n    };\n  }\n};\n\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRentals = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\n    const response = await api.get('/rentals', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      data: []\n    };\n  }\n};\napi.getAllRentals = async (params = {}) => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\n    const response = await api.get('/rentals', {\n      params: {\n        ...params,\n        limit: params.limit || 50,\n        order_by: params.order_by || 'start_time',\n        order_direction: params.order_direction || 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      data: []\n    };\n  }\n};\napi.getActiveRentals = async (branchId = null) => {\n  try {\n    console.log('â±ï¸ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\n    try {\n      const params = {};\n      if (branchId) {\n        params.branch_id = branchId;\n      }\n      const response = await api.get('/rentals/active', {\n        params\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ\n    try {\n      const localRentals = JSON.parse(localStorage.getItem('active_rentals') || '[]');\n      console.log(`ğŸ“± Ø¬Ù„Ø¨ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\n      return {\n        success: true,\n        data: localRentals,\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\n        fromCache: true\n      };\n    } catch (cacheError) {\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\n      data: []\n    };\n  }\n};\napi.getActiveRentalsForShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get('/rentals/active-for-shift', {\n      params: {\n        shift_id: shiftId,\n        branch_id: branchId\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getRentalById = async rentalId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.get(`/rentals/${rentalId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      data: null\n    };\n  }\n};\napi.getShiftRentals = async shiftId => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/shifts/${shiftId}/rentals`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getCompletedRentals = async (params = {}) => {\n  try {\n    const response = await api.get('/rentals/completed', {\n      params\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©',\n      data: []\n    };\n  }\n};\napi.getCompletedRentalsByShift = async shiftId => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\napi.getCompletedRentalsSmart = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n    try {\n      const response = await api.get('/rentals/completed-only', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-only:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-by-shift:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØµÙÙŠØ© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId,\n          status: 'Ù…ÙƒØªÙ…Ù„'\n        }\n      });\n      if (response.success) {\n        var _response$data;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ±Ø©:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ù„ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n    try {\n      const allResponse = await api.get('/rentals', {\n        params: {\n          branch_id: branchId,\n          limit: 200\n        }\n      });\n      if (allResponse.success && allResponse.data) {\n        const completedRentals = allResponse.data.filter(rental => (rental.status === 'Ù…ÙƒØªÙ…Ù„' || rental.status === 'completed') && rental.shift_id === parseInt(shiftId));\n        return {\n          success: true,\n          data: completedRentals,\n          count: completedRentals.length,\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      data: [],\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  }\n};\napi.getCurrentShiftCompletedRentals = async () => {\n  try {\n    console.log('ğŸ¯ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n    const response = await api.get('/rentals/current-shift-completed');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\n\n// Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª\napi.getCurrentShift = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ...');\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: /shifts/current\n    try {\n      const response = await api.get('/shifts/current');\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/current:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: /shifts/simple\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/simple:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: /shifts/active\n    try {\n      const response = await api.get('/shifts/active');\n      return response;\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/active:', error.message);\n    }\n    return {\n      success: true,\n      data: null,\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª'\n    };\n  }\n};\napi.getShiftRentalsSmart = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ¤– Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©**\n    try {\n      // Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ '/rentals/active-for-shift' ÙˆÙ„ÙŠØ³ '/api/rentals/active-for-shift'\n      const response = await api.get('/rentals/active-for-shift', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active-for-shift`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active-for-shift:', error.message);\n    }\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© rentals Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ ÙÙ„ØªØ±Ø©**\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId,\n          status: 'Ù†Ø´Ø·'\n        }\n      });\n      if (response.success && response.data) {\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals`);\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals:', error.message);\n    }\n\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© active Ù…Ø¹ ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ©**\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          branch_id: branchId\n        }\n      });\n      if (response.success && response.data) {\n        // ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø­Ø³Ø¨ shiftId\n        const filteredRentals = response.data.filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n        console.log(`âœ… ØªÙ… ÙÙ„ØªØ±Ø© ${filteredRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active`);\n        return {\n          success: true,\n          data: filteredRentals,\n          count: filteredRentals.length,\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active:', error.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    console.log('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\n    return {\n      success: true,\n      data: [],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ø´ÙŠÙØª',\n      count: 0\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\n    return {\n      success: false,\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\n      data: []\n    };\n  }\n};\napi.getRentalsByStatus = async (status, params = {}) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`);\n    const response = await api.get('/rentals', {\n      params: {\n        ...params,\n        status\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}:`, error);\n    return {\n      success: false,\n      message: `ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`,\n      data: []\n    };\n  }\n};\napi.getRentalsByDate = async (startDate, endDate, params = {}) => {\n  try {\n    console.log(`ğŸ“… Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† ${startDate} Ø¥Ù„Ù‰ ${endDate}`);\n    const response = await api.get('/rentals/all', {\n      params: {\n        ...params,\n        start_date: startDate,\n        end_date: endDate\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®',\n      data: []\n    };\n  }\n};\napi.checkFixedTimeRental = async rentalId => {\n  try {\n    console.log(`ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£Ø¬ÙŠØ± ${rentalId}...`);\n\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\n    const response = await api.post('/rentals/check-fixed-time', {\n      rental_id: rentalId\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\napi.getExpiredRentals = async () => {\n  try {\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©...');\n\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\n    const response = await api.get('/rentals/expired');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.checkAllRentals = async () => {\n  try {\n    console.log('ğŸ” Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\n\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©\n    const expiredResponse = await api.getExpiredRentals();\n\n    // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\n    const processResponse = await api.processCompletedRentals();\n    return {\n      success: true,\n      expired: expiredResponse,\n      processed: processResponse,\n      message: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\n      error: error.message\n    };\n  }\n};\n\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·\napi.createSimpleRental = async rentalData => {\n  try {\n    console.log('ğŸ¯ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·:', rentalData);\n    const response = await api.post('/rentals/simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone,\n      duration_minutes: rentalData.duration_minutes || 15\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\napi.createOpenTimeRental = async rentalData => {\n  try {\n    console.log('ğŸ•’ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\n    const response = await api.post('/rentals/open-time-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.createSmartRental = async rentalData => {\n  try {\n    console.log('ğŸ¤– Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\n    const response = await api.post('/rentals/smart-create', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000',\n      rental_type: rentalData.rental_type || 'fixed'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\napi.completeRental = async (rentalId, paymentData = {}) => {\n  try {\n    console.log(`âœ… Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´',\n      actual_end_time: new Date().toISOString(),\n      early_end: paymentData.early_end || false,\n      refund_amount: paymentData.refund_amount || 0\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// âŒ Ø¥Ø²Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø¯Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.cancelRental = async (rentalId, refundAmount, reason = '') => {\n  try {\n    console.log(`âŒ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.put(`/rentals/${rentalId}/cancel`, {\n      refund_amount: refundAmount,\n      reason: reason\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// 4. Ø¯Ø§Ù„Ø© ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±\napi.extendRental = async (rentalId, additionalMinutes = 15) => {\n  try {\n    console.log(`â±ï¸ ØªÙ…Ø¯ÙŠØ¯ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/extend`, {\n      additional_minutes: additionalMinutes\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©\napi.updateRental = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© PUT\n    try {\n      const response = await api.put(`/rentals/${rentalId}`, rentalData);\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 (PUT)');\n        return response;\n      }\n    } catch (error1) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© POST\n    try {\n      const response = await api.post(`/rentals/${rentalId}/update`, rentalData);\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 (POST /update)');\n        return response;\n      }\n    } catch (error2) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\n    try {\n      const response = await api.post(`/rentals/update-simple`, {\n        rental_id: rentalId,\n        ...rentalData\n      });\n      if (response.success) {\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 (update-simple)');\n        return response;\n      }\n    } catch (error3) {\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\n    console.error('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„Øª');\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ø¹Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª',\n      rentalId: rentalId,\n      attempts: 3\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ [FATAL] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø¨Ø³Ø·\napi.updateRentalSimple = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… POST Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† PUT\n    const response = await api.post(`/rentals/${rentalId}`, {\n      _method: 'PUT',\n      ...rentalData\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\napi.deleteRental = async rentalId => {\n  try {\n    console.log(`ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rentalId}`);\n    const response = await api.delete(`/rentals/${rentalId}/cancel`);\n    if (response.success) {\n      return {\n        success: true,\n        message: 'ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    } else {\n      return {\n        success: false,\n        message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n      };\n    }\n  } catch (error) {\n    console.error('Error deleting rental:', error);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±',\n      error: error.message\n    };\n  }\n};\n\n// 6. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\napi.getCustomers = async (search = '') => {\n  try {\n    var _response$data2;\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡...');\n    const params = search ? {\n      search\n    } : {};\n    const response = await api.get('/customers', {\n      params\n    });\n    console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.length) || 0} Ø¹Ù…ÙŠÙ„`);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\n      data: []\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ====================\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\napi.completeOpenRental = async (rentalId, paymentData = {}) => {\n  try {\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete-open`, {\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\n    return {\n      success: true,\n      data: {\n        id: rentalId,\n        final_amount: paymentData.final_amount || 0,\n        actual_minutes: paymentData.actual_minutes || 15,\n        processed_locally: true\n      },\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)'\n    };\n  }\n};\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\napi.completeFixedRental = async rentalId => {\n  try {\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete-fixed`);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\n    return {\n      success: true,\n      data: {\n        id: rentalId,\n        processed_locally: true\n      },\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\n    };\n  }\n};\n\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± (Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©)\napi.completeRental = async (rentalId, data = {}) => {\n  try {\n    console.log(`âœ… [API] Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\n      payment_method: data.payment_method || 'ÙƒØ§Ø´',\n      final_amount: data.final_amount,\n      auto_complete: data.auto_complete || false\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n    return {\n      success: false,\n      message: error.message || 'ÙØ´Ù„ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ (ÙŠØ¯Ø¹Ù… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª ÙˆØ§Ù„Ù…ÙØªÙˆØ­)\napi.createSmartRental = async rentalData => {\n  try {\n    console.log('ğŸ¤– [API] Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\n    const response = await api.post('/rentals/smart-create', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000',\n      rental_type: rentalData.rental_type || 'fixed'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ Ø¨Ø³ÙŠØ·\napi.createOpenTimeRental = async rentalData => {\n  try {\n    console.log('ğŸ•’ [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\n    const response = await api.post('/rentals/open-time-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª Ø¨Ø³ÙŠØ·\napi.createFixedRental = async rentalData => {\n  try {\n    console.log('â° [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª:', rentalData);\n    const response = await api.post('/rentals/ultra-simple', {\n      game_id: rentalData.game_id,\n      customer_name: rentalData.customer_name,\n      customer_phone: rentalData.customer_phone || '00000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª'\n    };\n  }\n};\n\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    if (!shiftId || !branchId) {\n      return {\n        success: true,\n        data: [],\n        count: 0\n      };\n    }\n\n    // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø£ÙˆÙ„Ø§Ù‹\n    try {\n      const response = await api.get('/rentals/active-simple', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-simple:', error.message);\n    }\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const response = await api.get('/rentals/active-for-shift', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        return response;\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-for-shift:', error.message);\n    }\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    try {\n      const response = await api.get('/rentals/active', {\n        params: {\n          shift_id: shiftId,\n          branch_id: branchId\n        }\n      });\n      if (response.success) {\n        // ÙÙ„ØªØ±Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\n        const filteredData = (response.data || []).filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n        return {\n          success: true,\n          data: filteredData,\n          count: filteredData.length\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active:', error.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\napi.processCompletedRentals = async () => {\n  try {\n    console.log('ğŸ”„ [API] Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n    const response = await api.post('/rentals/process-completed');\n    return response;\n  } catch (error) {\n    console.warn('âš ï¸ [API] ÙØ´Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n    return {\n      success: true,\n      data: {\n        processed_count: 0,\n        processed_rentals: []\n      },\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø©'\n    };\n  }\n};\n\n// Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¨ÙƒØ±\napi.cancelEarlyRental = async (rentalId, data = {}) => {\n  try {\n    console.log(`âŒ [API] Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.post(`/rentals/${rentalId}/cancel-early`, {\n      reason: data.reason || 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…ÙˆØ¸Ù',\n      refund_amount: data.refund_amount || 0\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±:', error.message);\n    return {\n      success: false,\n      message: error.message || 'ÙØ´Ù„ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±'\n    };\n  }\n};\n\n// ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ±\napi.updateRental = async (rentalId, rentalData) => {\n  try {\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\n    const response = await api.put(`/rentals/${rentalId}`, rentalData);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\n    try {\n      const altResponse = await api.post(`/rentals/${rentalId}/update`, rentalData);\n      return altResponse;\n    } catch (altError) {\n      console.error('âŒ [API] ÙØ´Ù„Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ø£ÙŠØ¶Ø§Ù‹:', altError.message);\n      return {\n        success: false,\n        message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\n      };\n    }\n  }\n};\n\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ ØªØ£Ø¬ÙŠØ±\napi.getRentalById = async rentalId => {\n  try {\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\n    const response = await api.get(`/rentals/${rentalId}`);\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±'\n    };\n  }\n};\n\n// Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\napi.getCompletedRentalsForShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ“Š [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.get('/rentals/completed-only', {\n      params: {\n        shift_id: shiftId,\n        branch_id: branchId\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// ÙÙŠ api.js - Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ¯ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    if (!shiftId || !branchId) {\n      console.log('âš ï¸ shiftId Ø£Ùˆ branchId ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\n      return {\n        success: true,\n        data: [],\n        count: 0\n      };\n    }\n\n    // âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙØ¹Ù„Ø§Ù‹\n    const endpoints = [{\n      url: `/rentals/active-by-shift/${shiftId}`,\n      params: {\n        branch_id: branchId\n      }\n    }, {\n      url: '/rentals/active',\n      params: {\n        branch_id: branchId\n      }\n    }, {\n      url: '/rentals',\n      params: {\n        branch_id: branchId,\n        status: 'Ù†Ø´Ø·'\n      }\n    }];\n\n    // ØªØ¬Ø±Ø¨Ø© ÙƒÙ„ Ù…Ø³Ø§Ø±\n    for (const endpoint of endpoints) {\n      try {\n        console.log(`ğŸ“¡ Ù…Ø­Ø§ÙˆÙ„Ø©: ${endpoint.url}`);\n        const response = await api.get(endpoint.url, {\n          params: endpoint.params\n        });\n        if (response.success) {\n          // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\n          let allRentals = [];\n          if (Array.isArray(response.data)) {\n            allRentals = response.data;\n          } else if (response.data && Array.isArray(response.data.data)) {\n            allRentals = response.data.data;\n          } else if (response.data && Array.isArray(response.data.rentals)) {\n            allRentals = response.data.rentals;\n          }\n          console.log(`âœ… ${endpoint.url} - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª: ${allRentals.length}`);\n\n          // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ shift_id\n          const shiftRentals = allRentals.filter(rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·');\n          console.log(`ğŸ“Š Ù„Ù„Ø´ÙŠÙØª ${shiftId}: ${shiftRentals.length} ØªØ£Ø¬ÙŠØ±`);\n\n          // âœ… Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØªØŒ Ù†Ø¹ÙŠØ¯Ù‡Ø§ ÙÙˆØ±Ø§Ù‹\n          if (shiftRentals.length > 0) {\n            console.log(`ğŸ‰ ÙˆØ¬Ø¯Ù†Ø§ ${shiftRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù„Ø´ÙŠÙØª ${shiftId} Ø¹Ø¨Ø± ${endpoint.url}`);\n\n            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n            const processedRentals = shiftRentals.map(rental => ({\n              ...rental,\n              rental_type: rental.rental_type || (rental.is_open_time === 1 ? 'open' : 'fixed'),\n              time_type_display: rental.rental_type === 'open' || rental.is_open_time === 1 ? 'Ù…ÙØªÙˆØ­' : 'Ø«Ø§Ø¨Øª',\n              game_name: rental.game_name || rental.game_name_full || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©',\n              customer_phone: rental.customer_phone || '00000000000',\n              price_per_15min: rental.price_per_15min || rental.game_price || 100\n            }));\n            return {\n              success: true,\n              data: processedRentals,\n              count: processedRentals.length,\n              fromEndpoint: endpoint.url\n            };\n          }\n        }\n      } catch (error) {\n        console.log(`âš ï¸ ÙØ´Ù„Øª ${endpoint.url}: ${error.message}`);\n      }\n    }\n\n    // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø¹Ø¯ ØªØ¬Ø±Ø¨Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\n    console.log(`â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\n    return {\n      success: true,\n      data: [],\n      count: 0\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ (Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„)\napi.createTestRental = async (shiftId, branchId) => {\n  try {\n    console.log(`ğŸ§ª Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\n    const response = await api.post('/rentals/simple', {\n      game_id: 1,\n      // Ø§ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø±Ù‚Ù… 1 Ù…ÙˆØ¬ÙˆØ¯Ø©\n      customer_name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ',\n      customer_phone: '01000000000'\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ:', error);\n    return {\n      success: false\n    };\n  }\n};\n\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ ØªØ£Ø¬ÙŠØ±Ø§ØªÙ‡ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©\napi.getCurrentShiftWithRentals = async () => {\n  try {\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\n\n    // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹\n    const shiftResponse = await api.get('/shifts/current');\n    if (!shiftResponse.success || !shiftResponse.data) {\n      return {\n        success: true,\n        hasShift: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n      };\n    }\n    const shift = shiftResponse.data;\n\n    // 2. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\n    const rentalsResponse = await api.getActiveRentalsForCurrentShift(shift.id, shift.branch_id);\n    return {\n      success: true,\n      hasShift: true,\n      shift: shift,\n      rentals: rentalsResponse.data || [],\n      rentalsCount: rentalsResponse.count || 0,\n      message: `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ ${rentalsResponse.count || 0} ØªØ£Ø¬ÙŠØ±`\n    };\n  } catch (error) {\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      hasShift: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\n    };\n  }\n};\n// ==================== USERS MANAGEMENT ====================\n\n// Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\napi.getUsers = async (params = {}) => {\n  try {\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...');\n    const response = await api.get('/users', {\n      params\n    });\n    if (response.success) {\n      var _response$data3;\n      console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${((_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.length) || 0} Ù…Ø³ØªØ®Ø¯Ù…`);\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || 0\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\n      data: []\n    };\n  } catch (error) {\n    var _error$response1;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:', error);\n    if (((_error$response1 = error.response) === null || _error$response1 === void 0 ? void 0 : _error$response1.status) === 403) {\n      return {\n        success: false,\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\n      data: []\n    };\n  }\n};\n\n// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯\napi.createUser = async userData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯:', {\n      name: userData.name,\n      email: userData.email,\n      role: userData.role\n    });\n    const response = await api.post('/users', userData);\n    if (response.success) {\n      console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response10;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    if (((_error$response10 = error.response) === null || _error$response10 === void 0 ? void 0 : _error$response10.status) === 400) {\n      var _error$response$data;\n      return {\n        success: false,\n        message: ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©'\n      };\n    }\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\n\n// ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªØ®Ø¯Ù…\napi.updateUser = async (id, userData) => {\n  try {\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, userData);\n    const response = await api.put(`/users/${id}`, userData);\n    if (response.success) {\n      console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response11, _error$response11$dat;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      message: ((_error$response11 = error.response) === null || _error$response11 === void 0 ? void 0 : (_error$response11$dat = _error$response11.data) === null || _error$response11$dat === void 0 ? void 0 : _error$response11$dat.message) || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…\napi.deleteUser = async (id, permanent = false) => {\n  try {\n    console.log(`ğŸ—‘ï¸ ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\n    const response = await api.delete(`/users/${id}?permanent=${permanent}`);\n    if (response.success) {\n      console.log(`âœ… ØªÙ… ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­`);\n      return response;\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    var _error$response12, _error$response12$dat;\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\n    return {\n      success: false,\n      message: ((_error$response12 = error.response) === null || _error$response12 === void 0 ? void 0 : (_error$response12$dat = _error$response12.data) === null || _error$response12$dat === void 0 ? void 0 : _error$response12$dat.message) || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ====================\n\napi.getSimpleStats = async () => {\n  try {\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©...');\n    const response = await api.get('/dashboard/stats/simple');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\n      data: {\n        availableGames: 0,\n        totalGames: 0,\n        todayRevenue: 0,\n        todayRentals: 0,\n        activeRentals: 0\n      }\n    };\n  }\n};\napi.getManagerStats = async () => {\n  try {\n    console.log('ğŸ‘‘ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±...');\n    const response = await api.get('/dashboard/stats/manager');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±'\n    };\n  }\n};\napi.getDashboardAllStats = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const [branchesStats, todayStats] = await Promise.allSettled([api.getBranchesStatsEnhanced(), api.getTodayStatsEnhanced()]);\n    const result = {\n      success: true,\n      data: {}\n    };\n    if (branchesStats.status === 'fulfilled' && branchesStats.value.success) {\n      result.data.branchRevenues = branchesStats.value.data.branchRevenues || [];\n      result.data.completedRentalsByBranch = branchesStats.value.data.completedRentalsByBranch || [];\n      result.data.totalBranches = branchesStats.value.data.totalBranches || 0;\n    } else {\n      result.data.branchRevenues = [];\n      result.data.completedRentalsByBranch = [];\n      result.data.totalBranches = 0;\n    }\n    if (todayStats.status === 'fulfilled' && todayStats.value.success) {\n      result.data.todayRevenue = todayStats.value.data.revenue || 0;\n      result.data.todayRentals = todayStats.value.data.rentals || 0;\n    } else {\n      result.data.todayRevenue = 0;\n      result.data.todayRentals = 0;\n    }\n    result.data.generatedAt = new Date().toISOString();\n    result.data.today = today;\n    return result;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',\n      data: {\n        branchRevenues: [],\n        completedRentalsByBranch: [],\n        todayRevenue: 0,\n        todayRentals: 0,\n        generatedAt: new Date().toISOString(),\n        today: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\napi.getBranchesStatsEnhanced = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const branchesResponse = await api.getBranches();\n    if (!branchesResponse.success || !Array.isArray(branchesResponse.data)) {\n      return {\n        success: true,\n        data: {\n          branchRevenues: [],\n          completedRentalsByBranch: [],\n          totalBranches: 0\n        }\n      };\n    }\n    const branches = branchesResponse.data;\n    const branchStats = [];\n    for (const branch of branches.slice(0, 5)) {\n      try {\n        const rentalsResponse = await api.get('/rentals', {\n          params: {\n            branch_id: branch.id,\n            status: 'Ù…ÙƒØªÙ…Ù„',\n            start_date: today,\n            end_date: today,\n            limit: 50\n          }\n        });\n        let revenue = 0;\n        let completedCount = 0;\n        if (rentalsResponse.success && Array.isArray(rentalsResponse.data)) {\n          revenue = rentalsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\n          completedCount = rentalsResponse.data.length;\n        }\n        branchStats.push({\n          branchId: branch.id,\n          branchName: branch.name || `ÙØ±Ø¹ ${branch.id}`,\n          revenue: revenue,\n          completedCount: completedCount\n        });\n      } catch (error) {\n        continue;\n      }\n    }\n    return {\n      success: true,\n      data: {\n        branchRevenues: branchStats.map(stat => ({\n          branchId: stat.branchId,\n          branchName: stat.branchName,\n          revenue: stat.revenue\n        })),\n        completedRentalsByBranch: branchStats.map(stat => ({\n          branchId: stat.branchId,\n          branchName: stat.branchName,\n          count: stat.completedCount\n        })),\n        totalBranches: branchStats.length\n      }\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: {\n        branchRevenues: [],\n        completedRentalsByBranch: [],\n        totalBranches: 0\n      }\n    };\n  }\n};\napi.getTodayStatsEnhanced = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const statsResponse = await api.get('/rentals', {\n      params: {\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today\n      }\n    });\n    if (statsResponse.success && Array.isArray(statsResponse.data)) {\n      const revenue = statsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\n      const rentals = statsResponse.data.length;\n      return {\n        success: true,\n        data: {\n          revenue: revenue,\n          rentals: rentals,\n          date: today\n        }\n      };\n    }\n    return {\n      success: true,\n      data: {\n        revenue: 0,\n        rentals: 0,\n        date: today\n      }\n    };\n  } catch (error) {\n    return {\n      success: false,\n      data: {\n        revenue: 0,\n        rentals: 0,\n        date: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\nexport const getCurrentShiftDetails = async branchId => {\n  try {\n    const response = await axios.get('/shifts/current-details', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching shift details:', error);\n    throw error;\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\nexport const refreshDashboardData = async branchId => {\n  try {\n    const response = await axios.post('/dashboard/refresh', {\n      branch_id: branchId\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error refreshing dashboard:', error);\n    throw error;\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªØµØ­ÙŠØ­ ====================\n\n// 9. ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„ØµØ­Ø©\napi.healthCheck = async () => {\n  try {\n    console.log('ğŸ¥ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ø®Ø§Ø¯Ù…...');\n    const response = await api.get('/health');\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØµØ­Ø©:', error);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n    };\n  }\n};\napi.testConnection = async () => {\n  try {\n    var _response$data4;\n    console.log('ğŸ”— Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ API...');\n    const response = await api.get('/health');\n    return {\n      success: ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.success) || true,\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\n    };\n  }\n};\napi.testToken = async () => {\n  try {\n    const status = api.checkAuthStatus();\n    if (!status.isAuthenticated) {\n      return {\n        success: false,\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ† Ù…Ø³Ø¬Ù„',\n        status: status\n      };\n    }\n    const response = await api.get('/auth/profile');\n    return {\n      success: true,\n      message: 'âœ… Ø§Ù„ØªÙˆÙƒÙ† ØµØ§Ù„Ø­ ÙˆÙŠØ¹Ù…Ù„',\n      profile: response,\n      status: status\n    };\n  } catch (error) {\n    return {\n      success: false,\n      message: 'âŒ Ø§Ù„ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­: ' + error.message,\n      status: api.checkAuthStatus()\n    };\n  }\n};\napi.testCreateBranch = async branchData => {\n  try {\n    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', branchData);\n    const response = await api.post('/test/create-branch', branchData);\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', error);\n    return {\n      success: false,\n      message: 'ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹',\n      error: error.message\n    };\n  }\n};\napi.testAllEndpoints = async () => {\n  const endpoints = ['/auth/login', '/branches', '/games', '/shifts/simple', '/rentals', '/customers', '/health', '/users', '/dashboard/stats/simple'];\n  const results = [];\n  for (const endpoint of endpoints) {\n    try {\n      console.log(`ğŸ” Ø§Ø®ØªØ¨Ø§Ø±: ${endpoint}`);\n      const response = await api.get(endpoint);\n      results.push({\n        endpoint,\n        success: response.success || false,\n        status: 'âœ…'\n      });\n    } catch (error) {\n      results.push({\n        endpoint,\n        success: false,\n        status: 'âŒ',\n        error: error.message\n      });\n    }\n  }\n  return {\n    success: true,\n    message: 'ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·',\n    results\n  };\n};\n\n// 4. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠØ©\napi.checkSystemHealth = async () => {\n  try {\n    var _authStatus$user, _authStatus$user2;\n    console.log('ğŸ¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø°ÙƒØ§Ø¡...');\n    const checks = [];\n\n    // 1. Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…\n    try {\n      const health = await api.healthCheck();\n      checks.push({\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        status: health.success ? 'success' : 'error',\n        message: health.success ? 'âœ… Ù…ØªØµÙ„' : 'âŒ ØºÙŠØ± Ù…ØªØµÙ„'\n      });\n    } catch (error) {\n      checks.push({\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\n        status: 'error',\n        message: 'âŒ ' + error.message\n      });\n    }\n\n    // 2. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\n    const authStatus = api.checkAuthStatus();\n    checks.push({\n      name: 'Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©',\n      status: authStatus.isAuthenticated ? 'success' : 'warning',\n      message: authStatus.isAuthenticated ? `âœ… Ù…ØµØ§Ø¯Ù‚ (${((_authStatus$user = authStatus.user) === null || _authStatus$user === void 0 ? void 0 : _authStatus$user.name) || 'Ù…Ø³ØªØ®Ø¯Ù…'})` : 'âš ï¸ ØºÙŠØ± Ù…ØµØ§Ø¯Ù‚'\n    });\n\n    // 3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\n    if (authStatus.isAuthenticated && (_authStatus$user2 = authStatus.user) !== null && _authStatus$user2 !== void 0 && _authStatus$user2.branch_id) {\n      try {\n        const branch = await api.getBranchById(authStatus.user.branch_id);\n        checks.push({\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n          status: branch.success ? 'success' : 'warning',\n          message: branch.success ? `âœ… ${branch.data.name}` : 'âš ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n        });\n      } catch (error) {\n        checks.push({\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\n          status: 'warning',\n          message: 'âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\n        });\n      }\n    }\n\n    // 4. Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\n    try {\n      const shift = await api.getActiveShift();\n      checks.push({\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n        status: shift.data ? 'success' : 'info',\n        message: shift.data ? `âœ… Ø´ÙŠÙØª #${shift.data.id}` : 'â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\n      });\n    } catch (error) {\n      checks.push({\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\n        status: 'warning',\n        message: 'âš ï¸ ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚'\n      });\n    }\n    const allSuccess = checks.every(c => c.status === 'success' || c.status === 'info');\n    const hasErrors = checks.some(c => c.status === 'error');\n    return {\n      success: !hasErrors,\n      checks: checks,\n      summary: {\n        total: checks.length,\n        success: checks.filter(c => c.status === 'success').length,\n        warning: checks.filter(c => c.status === 'warning').length,\n        error: checks.filter(c => c.status === 'error').length,\n        info: checks.filter(c => c.status === 'info').length\n      },\n      message: allSuccess ? 'âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : hasErrors ? 'âŒ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…' : 'âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\n    return {\n      success: false,\n      checks: [],\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',\n      error: error.message\n    };\n  }\n};\n\n// ==================== Ù†Ù‚Ø§Ø· API Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\n\n// ÙÙŠ api.js - ØªØµØ­ÙŠØ­ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\nexport const processCompletedRentals = async () => {\n  try {\n    console.log('ğŸ”„ Ø·Ù„Ø¨ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\n\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… this.post Ø¥Ø°Ø§ ÙƒÙ†Øª ÙÙŠ ÙƒØ§Ø¦Ù† api\n    const response = await axios.post('/rentals/process-completed', {}, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', response.data);\n    return {\n      success: true,\n      data: response.data,\n      message: 'ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ù†Ø¬Ø§Ø­'\n    };\n  } catch (error) {\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠ\n    return {\n      success: true,\n      data: {\n        processed_count: 0,\n        processed_rentals: []\n      },\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„ÙŠØ§Ù‹'\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€Dashboard\nexport const getDashboardData = async branchId => {\n  try {\n    const response = await axios.get('/dashboard/live-data', {\n      params: {\n        branch_id: branchId\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching dashboard data:', error);\n    throw error;\n  }\n};\n\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ====================\n\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©)\napi.getBranch = async branchId => {\n  try {\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get(`/branches/${branchId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        contact_phone: '01000000000',\n        opening_time: '09:00:00',\n        closing_time: '22:00:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹\napi.getBranchShifts = async (branchId, params = {}) => {\n  try {\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\n    const response = await api.get('/shifts', {\n      params: {\n        branch_id: branchId,\n        ...params\n      }\n    });\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || 0\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}:`, error.message);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\n      data: []\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø¨Ø¯ÙŠÙ„Ø©)\napi.createGameUnbreakable = async gameData => {\n  try {\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©):', gameData);\n    const response = await api.post('/games/create-unbreakable', gameData);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data,\n        message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­'\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error.message);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\napi.getCurrentUser = () => {\n  try {\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      return JSON.parse(userStr);\n    }\n    return null;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\n    return null;\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\napi.getUser = async userId => {\n  try {\n    console.log(`ğŸ‘¤ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${userId}`);\n    const response = await api.get(`/users/${userId}`);\n    if (response.success) {\n      return {\n        success: true,\n        data: response.data\n      };\n    }\n    return {\n      success: false,\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  } catch (error) {\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${userId}:`, error.message);\n    return {\n      success: false,\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\n    };\n  }\n};\n\n// ÙÙŠ Ù…Ù„Ù api.jsØŒ Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\napi.getCompletedRentalsForShift = async (shiftId, date) => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId} ÙÙŠ ØªØ§Ø±ÙŠØ® ${date}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          shift_id: shiftId,\n          status: 'Ù…ÙƒØªÙ…Ù„',\n          start_date: date,\n          end_date: date,\n          limit: 100\n        }\n      });\n      if (response.success) {\n        var _response$data5;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„\n    try {\n      const response = await api.get('/rentals/completed-by-shift', {\n        params: {\n          shift_id: shiftId,\n          date: date\n        }\n      });\n      if (response.success) {\n        var _response$data6;\n        return {\n          success: true,\n          data: response.data || [],\n          count: ((_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : _response$data6.length) || 0\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙˆØªØµÙÙŠØªÙ‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹\n    try {\n      const response = await api.get('/rentals', {\n        params: {\n          limit: 200\n        }\n      });\n      if (response.success && response.data) {\n        const filtered = response.data.filter(rental => {\n          var _rental$start_time;\n          return rental.shift_id == shiftId && rental.status === 'Ù…ÙƒØªÙ…Ù„' && ((_rental$start_time = rental.start_time) === null || _rental$start_time === void 0 ? void 0 : _rental$start_time.startsWith(date));\n        });\n        return {\n          success: true,\n          data: filtered,\n          count: filtered.length,\n          fromCache: true\n        };\n      }\n    } catch (error) {\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: error.message\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…\napi.getTodayStats = async branchId => {\n  try {\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n    const today = new Date().toISOString().split('T')[0];\n    const response = await api.get('/rentals', {\n      params: {\n        branch_id: branchId,\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today\n      }\n    });\n    if (response.success && response.data) {\n      const revenue = response.data.reduce((sum, rental) => sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0), 0);\n      return {\n        success: true,\n        data: {\n          rentals: response.data,\n          count: response.data.length,\n          revenue: revenue,\n          date: today\n        }\n      };\n    }\n    return {\n      success: true,\n      data: {\n        rentals: [],\n        count: 0,\n        revenue: 0,\n        date: today\n      }\n    };\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…:', error);\n    return {\n      success: false,\n      data: {\n        rentals: [],\n        count: 0,\n        revenue: 0,\n        date: new Date().toISOString().split('T')[0]\n      }\n    };\n  }\n};\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…\napi.getCompletedRentalsToday = async () => {\n  try {\n    const today = new Date().toISOString().split('T')[0];\n    const response = await api.get('/rentals', {\n      params: {\n        status: 'Ù…ÙƒØªÙ…Ù„',\n        start_date: today,\n        end_date: today,\n        limit: 100\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n\n// ==================== ADMIN DASHBOARD ENDPOINTS ====================\n\n// 1. Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\napi.getAllActiveRentals = async () => {\n  try {\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\n    const response = await api.get('/admin/rentals/active-all-branches');\n    if (response.success) {\n      var _response$data7;\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || ((_response$data7 = response.data) === null || _response$data7 === void 0 ? void 0 : _response$data7.length) || 0,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAllActiveRentals:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/active\n    try {\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/active');\n      const altResponse = await api.get('/rentals/active', {\n        params: {\n          limit: 100\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        return {\n          success: true,\n          data: altResponse.data,\n          count: altResponse.data.length,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\n    };\n  }\n};\n\n// 2. Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\napi.getTodayCompletedRentalsAllBranches = async () => {\n  try {\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\n    const response = await api.get('/admin/rentals/completed-today-all-branches');\n    if (response.success) {\n      var _response$data8;\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || ((_response$data8 = response.data) === null || _response$data8 === void 0 ? void 0 : _response$data8.length) || 0,\n        date: response.date,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getTodayCompletedRentalsAllBranches:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/completed\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/completed');\n      const altResponse = await api.get('/rentals/completed', {\n        params: {\n          start_date: today,\n          end_date: today,\n          limit: 100\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        return {\n          success: true,\n          data: altResponse.data,\n          count: altResponse.data.length,\n          date: today,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      date: new Date().toISOString().split('T')[0],\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…'\n    };\n  }\n};\n\n// 3. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\napi.getRecentRentalsAllBranches = async (limit = 50) => {\n  try {\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¢Ø®Ø± ${limit} ØªØ£Ø¬ÙŠØ± ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹`);\n    const response = await api.get('/admin/rentals/recent-all-branches', {\n      params: {\n        limit\n      }\n    });\n    if (response.success) {\n      var _response$data9;\n      return {\n        success: true,\n        data: response.data || [],\n        count: response.count || ((_response$data9 = response.data) === null || _response$data9 === void 0 ? void 0 : _response$data9.length) || 0,\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n      };\n    }\n    return {\n      success: false,\n      data: [],\n      count: 0,\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getRecentRentalsAllBranches:', error.message);\n\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals\n    try {\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals');\n      const altResponse = await api.get('/rentals', {\n        params: {\n          limit: limit,\n          order_by: 'start_time',\n          order_direction: 'DESC'\n        }\n      });\n      if (altResponse.success && altResponse.data) {\n        return {\n          success: true,\n          data: altResponse.data,\n          count: altResponse.data.length,\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\n          fromCache: true\n        };\n      }\n    } catch (altError) {\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\n    }\n    return {\n      success: true,\n      data: [],\n      count: 0,\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª'\n    };\n  }\n};\n\n// 4. Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ø¹ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª)\napi.getBranchById = async branchId => {\n  try {\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}`);\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù†Ù‚Ø·Ø© branches/by-id\n    try {\n      const response = await api.get(`/branches/by-id/${branchId}`);\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data\n        };\n      }\n    } catch (error) {\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/by-id/${branchId}:`, error.message);\n    }\n\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù†Ù‚Ø·Ø© branches/:id\n    try {\n      const response = await api.get(`/branches/${branchId}`);\n      if (response.success && response.data) {\n        return {\n          success: true,\n          data: response.data\n        };\n      }\n    } catch (error) {\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/${branchId}:`, error.message);\n    }\n\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\n    console.log(`ğŸ“¦ [API] Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\n        contact_phone: '01000000000',\n        opening_time: '09:00',\n        closing_time: '22:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  } catch (error) {\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ getBranchById:`, error.message);\n    return {\n      success: true,\n      data: {\n        id: branchId,\n        name: `ÙØ±Ø¹ ${branchId}`,\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\n        contact_phone: '01000000000',\n        opening_time: '09:00',\n        closing_time: '22:00',\n        is_active: 1\n      },\n      fromCache: true\n    };\n  }\n};\n\n// 5. Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±\napi.getAdminDashboardStats = async () => {\n  try {\n    console.log('ğŸ“Š [API] Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±');\n\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ù‚Ø§Ø· Ù…ØªØ¹Ø¯Ø¯Ø©\n    const [branchesRes, activeRentalsRes, todayCompletedRes, recentRes] = await Promise.allSettled([api.getBranches(), api.getAllActiveRentals(), api.getTodayCompletedRentalsAllBranches(), api.getRecentRentalsAllBranches(10)]);\n    const stats = {\n      totalBranches: 0,\n      totalActiveRentals: 0,\n      todayCompletedRentals: 0,\n      todayRevenue: 0,\n      recentRentals: []\n    };\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙØ±ÙˆØ¹\n    if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\n      var _branchesRes$value$da;\n      stats.totalBranches = ((_branchesRes$value$da = branchesRes.value.data) === null || _branchesRes$value$da === void 0 ? void 0 : _branchesRes$value$da.length) || 0;\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\n    if (activeRentalsRes.status === 'fulfilled' && activeRentalsRes.value.success) {\n      stats.totalActiveRentals = activeRentalsRes.value.count || 0;\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\n    if (todayCompletedRes.status === 'fulfilled' && todayCompletedRes.value.success) {\n      stats.todayCompletedRentals = todayCompletedRes.value.count || 0;\n\n      // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…\n      if (todayCompletedRes.value.data) {\n        stats.todayRevenue = todayCompletedRes.value.data.reduce((sum, rental) => {\n          return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\n        }, 0);\n      }\n    }\n\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\n    if (recentRes.status === 'fulfilled' && recentRes.value.success) {\n      stats.recentRentals = recentRes.value.data || [];\n    }\n    return {\n      success: true,\n      data: stats\n    };\n  } catch (error) {\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAdminDashboardStats:', error.message);\n    return {\n      success: false,\n      data: {\n        totalBranches: 0,\n        totalActiveRentals: 0,\n        todayCompletedRentals: 0,\n        todayRevenue: 0,\n        recentRentals: []\n      }\n    };\n  }\n};\n\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\napi.getRecentRentals = async (limit = 30) => {\n  try {\n    const response = await api.get('/rentals', {\n      params: {\n        limit: limit,\n        order_by: 'start_time',\n        order_direction: 'DESC'\n      }\n    });\n    return response;\n  } catch (error) {\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\n    return {\n      success: false,\n      data: []\n    };\n  }\n};\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\n\nconst savedToken = localStorage.getItem('token');\nif (savedToken) {\n  api.setToken(savedToken);\n}\nexport default api;","map":{"version":3,"names":["axios","detectEnvironment","env","process","REACT_APP_ENVIRONMENT","apiUrl","REACT_APP_API_URL","console","log","includes","API_BASE_URL","api","create","baseURL","timeout","headers","interceptors","request","use","config","token","localStorage","getItem","authToken","startsWith","substring","Authorization","url","warn","NODE_ENV","_config$method","method","toUpperCase","fullUrl","tokenExists","environment","error","Promise","reject","response","status","success","data","message","_error$config","_error$response","_error$response2","_error$response3","_error$response4","_error$response4$data","_error$response5","ngrokError","setToken","cleanToken","defaults","common","setItem","removeItem","checkAuthStatus","user","isAuthenticated","JSON","parse","getEnvironmentInfo","isNgrok","nodeEnv","fixUrl","validateToken","valid","parts","split","length","userId","parseInt","get","safeRequest","endpoint","options","params","retry","_error$response6","_error$response7","_error$response8","code","loadGamesSmart","branchId","branch_id","defaultGames","id","name","category","price_per_15min","fromCache","startShift","post","altResponse","altError","getCurrentShift","_error$response9","login","email","password","stringify","Date","toISOString","logout","redirect","window","location","href","getProfile","getBranches","getBranchById","city","contact_phone","opening_time","closing_time","is_active","total_games","total_employees","active_rentals","created_at","createBranch","branchData","updateBranch","put","deleteBranch","permanent","delete","getBranchGames","_error$response0","getGames","requestParams","stats","getAllBranchGames","gamesWithFixedStatus","map","game","count","localGamesKey","savedGames","games","getGamesSeparated","getGamesSmart","branchGames","filter","g","getAvailableGames","getRentedGames","createGame","gameData","updateGame","updateGameSmart","endpoints","fetch","body","ok","result","json","localUpdate","timestamp","local","localUpdates","push","deleteGame","getActiveShift","getActiveShiftOld","getActiveShiftSafe","exists","apiError","savedShift","shiftData","cacheError","getShifts","getShiftsSafe","limit","order_by","order_direction","start_time","employee_name","employee_id","duration_minutes","total_revenue","total_rentals","startShiftSafe","error1","error2","error3","attempts","suggestion","startCleanShift","startShiftEnhanced","endShiftWithRentals","shiftId","endData","end_time","endShiftSmart","updateResponse","updateShift","notes","getShiftRevenueDetails","getShiftEmployees","shift_id","checkUserShift","hasActiveShift","has_active_shift","shift","getRentals","getAllRentals","getActiveRentals","localRentals","getActiveRentalsForShift","getRentalById","rentalId","getShiftRentals","getCompletedRentals","getCompletedRentalsByShift","getCompletedRentalsSmart","_response$data","allResponse","completedRentals","rental","getCurrentShiftCompletedRentals","getShiftRentalsSmart","filteredRentals","getRentalsByStatus","getRentalsByDate","startDate","endDate","start_date","end_date","checkFixedTimeRental","rental_id","getExpiredRentals","checkAllRentals","expiredResponse","processResponse","processCompletedRentals","expired","processed","createSimpleRental","rentalData","game_id","customer_name","customer_phone","createOpenTimeRental","createSmartRental","rental_type","completeRental","paymentData","payment_method","actual_end_time","early_end","refund_amount","cancelRental","refundAmount","reason","extendRental","additionalMinutes","additional_minutes","updateRental","updateRentalSimple","_method","deleteRental","getCustomers","search","_response$data2","completeOpenRental","final_amount","actual_minutes","processed_locally","completeFixedRental","auto_complete","createFixedRental","getActiveRentalsForCurrentShift","filteredData","processed_count","processed_rentals","cancelEarlyRental","getCompletedRentalsForShift","allRentals","Array","isArray","rentals","shiftRentals","processedRentals","is_open_time","time_type_display","game_name","game_name_full","game_price","fromEndpoint","createTestRental","getCurrentShiftWithRentals","shiftResponse","hasShift","rentalsResponse","rentalsCount","getUsers","_response$data3","_error$response1","createUser","userData","role","_error$response10","_error$response$data","updateUser","_error$response11","_error$response11$dat","deleteUser","_error$response12","_error$response12$dat","getSimpleStats","availableGames","totalGames","todayRevenue","todayRentals","activeRentals","getManagerStats","getDashboardAllStats","today","branchesStats","todayStats","allSettled","getBranchesStatsEnhanced","getTodayStatsEnhanced","value","branchRevenues","completedRentalsByBranch","totalBranches","revenue","generatedAt","branchesResponse","branches","branchStats","branch","slice","completedCount","reduce","sum","total_amount","branchName","stat","statsResponse","date","getCurrentShiftDetails","refreshDashboardData","healthCheck","testConnection","_response$data4","testToken","profile","testCreateBranch","testAllEndpoints","results","checkSystemHealth","_authStatus$user","_authStatus$user2","checks","health","authStatus","allSuccess","every","c","hasErrors","some","summary","total","warning","info","getDashboardData","getBranch","getBranchShifts","createGameUnbreakable","getCurrentUser","userStr","getUser","_response$data5","_response$data6","filtered","_rental$start_time","getTodayStats","parseFloat","getCompletedRentalsToday","getAllActiveRentals","_response$data7","getTodayCompletedRentalsAllBranches","_response$data8","getRecentRentalsAllBranches","_response$data9","getAdminDashboardStats","branchesRes","activeRentalsRes","todayCompletedRes","recentRes","totalActiveRentals","todayCompletedRentals","recentRentals","_branchesRes$value$da","getRecentRentals","savedToken"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// âœ… Ø¯Ø§Ù„Ø© Ù„Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ngrok\r\nconst detectEnvironment = () => {\r\n  const env = process.env.REACT_APP_ENVIRONMENT || 'development';\r\n  const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n  \r\n  console.log(`ğŸŒ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${env}`);\r\n  console.log(`ğŸŒ Ø¹Ù†ÙˆØ§Ù† API: ${apiUrl}`);\r\n  \r\n  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ ngrok\r\n  if (env === 'ngrok' || apiUrl.includes('ngrok')) {\r\n    console.log('ğŸ”— ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ø¨ÙŠØ¦Ø© ngrok - Ø³ÙŠØªÙ… ØªØ¬Ø§Ù‡Ù„ Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\r\n  }\r\n  \r\n  return { env, apiUrl };\r\n};\r\n\r\n// âœ… ØªØµØ­ÙŠØ­ URL Ø§Ù„Ø®Ø§Ø¯Ù… Ù…Ø¹ Ø¯Ø¹Ù… ngrok\r\nconst { env, apiUrl } = detectEnvironment();\r\nconst API_BASE_URL = apiUrl;\r\n\r\nconsole.log('ğŸŒ API Base URL:', API_BASE_URL);\r\n\r\n// âœ… Ø¥Ù†Ø´Ø§Ø¡ axios instance Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Accept-Language': 'ar'\r\n  }\r\n});\r\n\r\n// ==================== Interceptors ====================\r\n// âœ… ØªØ¹Ø±ÙŠÙ interceptors Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    // Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙˆÙƒÙ† Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¨Ø§Ù„ÙØ¹Ù„\r\n    let authToken = token;\r\n    if (token && token.startsWith('Bearer ')) {\r\n      authToken = token.substring(7);\r\n    }\r\n    \r\n    if (authToken) {\r\n      config.headers.Authorization = `Bearer ${authToken}`;\r\n      console.log('ğŸ”‘ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙˆÙƒÙ† Ù„Ù„Ø·Ù„Ø¨:', config.url);\r\n    } else {\r\n      console.warn('âš ï¸ No token found in localStorage');\r\n    }\r\n    \r\n    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('ğŸŒ API Request:', {\r\n        method: config.method?.toUpperCase(),\r\n        url: config.url,\r\n        fullUrl: `${config.baseURL}${config.url}`,\r\n        tokenExists: !!authToken,\r\n        environment: env\r\n      });\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Request Interceptor Error:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.log('âœ… API Response:', {\r\n        url: response.config.url,\r\n        status: response.status,\r\n        success: true\r\n      });\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ data Ù…Ø¨Ø§Ø´Ø±Ø©\r\n    if (response.data && typeof response.data === 'object') {\r\n      return response.data;\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      status: response.status,\r\n      data: response.data,\r\n      message: 'ØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ API:', {\r\n      url: error.config?.url,\r\n      status: error.response?.status,\r\n      message: error.message,\r\n      environment: env\r\n    });\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ø§ØµØ© Ù„Ø¨ÙŠØ¦Ø© ngrok\r\n    if (env === 'ngrok' && error.message.includes('Network Error')) {\r\n      console.warn('âš ï¸ Ø®Ø·Ø£ Ø´Ø¨ÙƒØ© ÙÙŠ Ø¨ÙŠØ¦Ø© ngrok - Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©');\r\n      return {\r\n        success: false,\r\n        status: 0,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ ngrok. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¹Ù†ÙˆØ§Ù† ngrok ØµØ­ÙŠØ­ ÙˆØ£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„',\r\n        ngrokError: true\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø®Ø·Ø£ 500\r\n    if (error.response?.status === 500) {\r\n      return {\r\n        success: false,\r\n        status: 500,\r\n        message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n    \r\n    // Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø£Ø®Ø±Ù‰\r\n    return {\r\n      success: false,\r\n      status: error.response?.status || 0,\r\n      message: error.response?.data?.message || error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£',\r\n      data: error.response?.data\r\n    };\r\n  }\r\n);\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\napi.setToken = (token) => {\r\n  if (token) {\r\n    // ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ØªÙˆÙƒÙ† Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ \"Bearer \" Ø¹Ù†Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ†\r\n    let cleanToken = token;\r\n    if (token.startsWith('Bearer ')) {\r\n      cleanToken = token.substring(7);\r\n    }\r\n    \r\n    api.defaults.headers.common['Authorization'] = `Bearer ${cleanToken}`;\r\n    localStorage.setItem('token', cleanToken);\r\n    console.log('âœ… ØªÙ… ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªÙˆÙƒÙ† Ø¨Ù†Ø¬Ø§Ø­');\r\n  } else {\r\n    delete api.defaults.headers.common['Authorization'];\r\n    localStorage.removeItem('token');\r\n    console.log('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙˆÙƒÙ†');\r\n  }\r\n};\r\n\r\napi.checkAuthStatus = () => {\r\n  const token = localStorage.getItem('token');\r\n  const user = localStorage.getItem('user');\r\n  \r\n  return {\r\n    isAuthenticated: !!token,\r\n    token: token,\r\n    user: user ? JSON.parse(user) : null\r\n  };\r\n};\r\n\r\napi.getEnvironmentInfo = () => {\r\n  return {\r\n    environment: env,\r\n    apiUrl: API_BASE_URL,\r\n    isNgrok: env === 'ngrok' || API_BASE_URL.includes('ngrok'),\r\n    nodeEnv: process.env.NODE_ENV\r\n  };\r\n};\r\n\r\napi.fixUrl = (url) => {\r\n  if (url && url.startsWith('/api/')) {\r\n    console.warn(`âš ï¸ ØªØµØ­ÙŠØ­ URL: ${url} -> ${url.substring(4)}`);\r\n    return url.substring(4);\r\n  }\r\n  return url;\r\n};\r\n\r\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆÙƒÙ†\r\napi.validateToken = async () => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    if (!token) {\r\n      return { valid: false, message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ†' };\r\n    }\r\n    \r\n    // ğŸ” ÙÙƒ Ø§Ù„ØªÙˆÙƒÙ† (Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)\r\n    const parts = token.split('_');\r\n    if (parts.length < 2) {\r\n      return { valid: false, message: 'ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­' };\r\n    }\r\n    \r\n    const userId = parseInt(parts[1]);\r\n    \r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    const response = await api.get('/auth/profile');\r\n    \r\n    if (response.success) {\r\n      return { \r\n        valid: true, \r\n        user: response.data,\r\n        userId: userId \r\n      };\r\n    } else {\r\n      return { valid: false, message: response.message };\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Token validation error:', error);\r\n    return { valid: false, message: error.message };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø£ÙƒØ«Ø± Ù‚ÙˆØ© Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\r\napi.safeRequest = async (endpoint, options = {}) => {\r\n  try {\r\n    console.log(`ğŸ”„ [SAFE REQUEST] Calling: ${endpoint}`);\r\n    \r\n    const response = await api({\r\n      url: endpoint,\r\n      method: options.method || 'GET',\r\n      data: options.data,\r\n      params: options.params,\r\n      timeout: options.timeout || 10000,\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        ...options.headers\r\n      }\r\n    });\r\n\r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø³ÙŠØ±ÙØ±\r\n    if (response.status === 500) {\r\n      console.warn(`âš ï¸ Server returned 500 for ${endpoint}`);\r\n      \r\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©\r\n      return {\r\n        success: false,\r\n        status: 500,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        data: null,\r\n        retry: true\r\n      };\r\n    }\r\n\r\n    return response;\r\n    \r\n  } catch (error) {\r\n    console.error(`ğŸ”¥ [SAFE REQUEST ERROR] ${endpoint}:`, {\r\n      message: error.message,\r\n      code: error.code,\r\n      status: error.response?.status\r\n    });\r\n\r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…Ø­Ø¯Ø¯Ø©\r\n    if (error.code === 'ECONNREFUSED') {\r\n      return {\r\n        success: false,\r\n        message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ÙØ° 5000',\r\n        status: 0,\r\n        data: null\r\n      };\r\n    }\r\n\r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰',\r\n        status: 0,\r\n        data: null\r\n      };\r\n    }\r\n\r\n    if (error.response?.status === 500) {\r\n      return {\r\n        success: false,\r\n        message: 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ',\r\n        status: 500,\r\n        data: null,\r\n        error: error.response.data\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: false,\r\n      message: error.message || 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„',\r\n      status: error.response?.status || 0,\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡\r\napi.loadGamesSmart = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® [API] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø°ÙƒØ§Ø¡`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    try {\r\n      const response = await api.get('/games', {\r\n        params: { branch_id: branchId }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    const defaultGames = [\r\n      { id: 1, name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', category: 'Ø³ÙŠØ§Ø±Ø§Øª', price_per_15min: 50, branch_id: branchId, status: 'Ù…ØªØ§Ø­' },\r\n      { id: 2, name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ', category: 'Ø³ÙƒÙˆØªØ±', price_per_15min: 30, branch_id: branchId, status: 'Ù…ØªØ§Ø­' },\r\n      { id: 3, name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©', category: 'Ø¯Ø±Ø§Ø¬Ø§Øª', price_per_15min: 40, branch_id: branchId, status: 'Ù…ØªØ§Ø­' }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames,\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ [API] Ø®Ø·Ø£ ÙÙŠ loadGamesSmart:', error);\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\napi.startShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\r\n    \r\n    const response = await api.post('/shifts/start');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error.message);\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const altResponse = await api.post('/shifts/start-simple');\r\n      return altResponse;\r\n    } catch (altError) {\r\n      return {\r\n        success: false,\r\n        message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + error.message\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getCurrentShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ');\r\n    \r\n    const response = await api.get('/shifts/simple');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø·Ù„Ø¨Ø§Øª\r\napi.safeRequest = async (endpoint, options = {}) => {\r\n  try {\r\n    console.log(`ğŸ”„ [SAFE] ${options.method || 'GET'} ${endpoint}`);\r\n    \r\n    const response = await api({\r\n      url: endpoint,\r\n      method: options.method || 'GET',\r\n      data: options.data,\r\n      params: options.params\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error(`âŒ [SAFE] Ø®Ø·Ø£ ÙÙŠ ${endpoint}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message,\r\n      status: error.response?.status || 500\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ API Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ====================\r\n\r\n// 1. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\napi.login = async (email, password) => {\r\n  try {\r\n    console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„:', email);\r\n    \r\n    const response = await api.post('/auth/login', { email, password });\r\n    const data = response;\r\n    \r\n    if (data.success && data.token) {\r\n      api.setToken(data.token);\r\n      \r\n      if (data.user) {\r\n        localStorage.setItem('user', JSON.stringify(data.user));\r\n        localStorage.setItem('lastLogin', new Date().toISOString());\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: data\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: data.message || 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n    \r\n    if (error.status === 401) {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\napi.logout = async (redirect = true) => {\r\n  try {\r\n    await api.post('/auth/logout');\r\n  } catch (error) {\r\n    console.log('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');\r\n  } finally {\r\n    api.setToken(null);\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('lastLogin');\r\n    localStorage.removeItem('refreshToken');\r\n    \r\n    if (redirect) {\r\n      window.location.href = '/login';\r\n    }\r\n  }\r\n};\r\n\r\napi.getProfile = async () => {\r\n  try {\r\n    const response = await api.get('/auth/profile');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getBranches = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ¬ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹...');\r\n    const response = await api.get('/branches', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ÙØ±ÙˆØ¹',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchById = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get(`/branches/${branchId}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.warn(`âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©`);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1,\r\n        total_games: 0,\r\n        total_employees: 1,\r\n        active_rentals: 0,\r\n        created_at: new Date().toISOString()\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø´Ø§Ù…Ù„Ø©\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1,\r\n        total_games: 0,\r\n        total_employees: 1,\r\n        active_rentals: 0,\r\n        created_at: new Date().toISOString()\r\n      },\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)',\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\napi.createBranch = async (branchData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹ Ø¬Ø¯ÙŠØ¯:', branchData);\r\n    const response = await api.post('/branches', branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.updateBranch = async (id, branchData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« ÙØ±Ø¹ ${id}:`, branchData);\r\n    const response = await api.put(`/branches/${id}`, branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteBranch = async (id, permanent = false) => {\r\n  try {\r\n    const url = `/branches/${id}${permanent ? '?permanent=true' : ''}`;\r\n    const response = await api.delete(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„ÙØ±Ø¹'\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchGames = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    const response = await api.get(`/branches/${branchId}/games`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹',\r\n      data: [],\r\n      status: error.response?.status || 500\r\n    };\r\n  }\r\n};\r\n\r\n// 3. Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\napi.getGames = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø·Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\r\n    \r\n    // âŒ Ø¥Ø²Ø§Ù„Ø© ÙÙ„Ø§ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    // Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ statusØŒ Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    const requestParams = { ...params };\r\n    delete requestParams.status; // Ø¥Ø²Ø§Ù„Ø© ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹\r\n    \r\n    const response = await api.get('/games', { params: requestParams, timeout: 15000 });\r\n    \r\n    console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', response.success ? 'Ù†Ø§Ø¬Ø­' : 'ÙØ§Ø´Ù„');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getGames:', error);\r\n    \r\n    if (error.code === 'ECONNABORTED') {\r\n      return {\r\n        success: false,\r\n        message: 'Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        data: []\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ\r\napi.loadGamesSmart = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® [SMART LOAD] ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ...`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n    try {\r\n      const response = await api.getAllBranchGames(branchId);\r\n      \r\n      if (response.success && response.data && response.data.length > 0) {\r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n        \r\n        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ¶Ù…Ø§Ù† Ø£Ù†Ù‡Ø§ Ø¬Ù…ÙŠØ¹Ù‡Ø§ \"Ù…ØªØ§Ø­Ø©\" ÙÙŠ Ø§Ù„Ø¹Ø±Ø¶\r\n        const gamesWithFixedStatus = response.data.map(game => ({\r\n          ...game,\r\n          status: 'Ù…ØªØ§Ø­' // âŒ ÙØ±Ø¶ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…ØªØ§Ø­Ø©\r\n        }));\r\n        \r\n        return {\r\n          success: true,\r\n          data: gamesWithFixedStatus,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­',\r\n          count: gamesWithFixedStatus.length\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\r\n    \r\n    const localGamesKey = `branch_${branchId}_games`;\r\n    const savedGames = localStorage.getItem(localGamesKey);\r\n    \r\n    if (savedGames) {\r\n      const games = JSON.parse(savedGames);\r\n      console.log(`ğŸ“± ØªÙ… ØªØ­Ù…ÙŠÙ„ ${games.length} Ù„Ø¹Ø¨Ø© Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: games,\r\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\r\n        fromCache: true,\r\n        count: games.length\r\n      };\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.log('ğŸ”„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\r\n    \r\n    const defaultGames = [\r\n      {\r\n        id: 1,\r\n        name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\r\n        category: 'Ø³ÙŠØ§Ø±Ø§Øª',\r\n        price_per_15min: 50,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\r\n        category: 'Ø³ÙƒÙˆØªØ±',\r\n        price_per_15min: 30,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\r\n        category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\r\n        price_per_15min: 40,\r\n        branch_id: branchId || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames,\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      fromCache: true,\r\n      count: defaultGames.length\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©',\r\n      count: 0\r\n    };\r\n  }\r\n};\r\n\r\napi.getGamesSeparated = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©...');\r\n    const response = await api.get('/games/separated', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ù†ÙØµÙ„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getGamesSmart = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø°ÙƒØ§Ø¡...');\r\n    \r\n    const response = await api.get('/games', { params });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    if (params.branch_id) {\r\n      console.log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ù…Ø¨Ø§Ø´Ø±Ø©...');\r\n      \r\n      const branchGames = await api.get(`/branches/${params.branch_id}/games`);\r\n      \r\n      if (branchGames.success) {\r\n        return {\r\n          success: true,\r\n          data: branchGames.data || [],\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„ÙØ±Ø¹'\r\n        };\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\r\n    \r\n    const defaultGames = [\r\n      {\r\n        id: 1,\r\n        name: 'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©',\r\n        category: 'Ø³ÙŠØ§Ø±Ø§Øª',\r\n        price_per_15min: 50,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 2,\r\n        name: 'Ø³ÙƒÙˆØªØ± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ',\r\n        category: 'Ø³ÙƒÙˆØªØ±',\r\n        price_per_15min: 30,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      },\r\n      {\r\n        id: 3,\r\n        name: 'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©',\r\n        category: 'Ø¯Ø±Ø§Ø¬Ø§Øª',\r\n        price_per_15min: 40,\r\n        branch_id: params.branch_id || 1,\r\n        status: 'Ù…ØªØ§Ø­',\r\n        is_active: 1\r\n      }\r\n    ];\r\n    \r\n    return {\r\n      success: true,\r\n      data: defaultGames.filter(g => \r\n        !params.branch_id || g.branch_id == params.branch_id\r\n      ),\r\n      message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n    };\r\n  }\r\n};\r\n\r\napi.getAllBranchGames = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    // Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù„Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (Ø¨Ø¯ÙˆÙ† ØªØµÙÙŠØ© Ø¨Ø­Ø§Ù„Ø©)\r\n    const response = await api.get('/games', {\r\n      params: { \r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        stats: response.stats || {},\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙØ±Ø¹:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getAvailableGames = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ® Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ÙÙ„ØªØ±)...');\r\n    \r\n    // Ø§Ù„Ø¢Ù† Ù†Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¯ÙˆÙ† ÙÙ„ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©\r\n    const response = await api.get('/games', { params });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨'\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentedGames = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/games/rented', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¤Ø¬Ø±Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.createGame = async (gameData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©:', gameData);\r\n    const response = await api.post('/games', gameData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.updateGame = async (id, gameData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id}:`, gameData);\r\n    const response = await api.put(`/games/${id}`, gameData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© Ø°ÙƒÙŠØ©\r\napi.updateGameSmart = async (id, gameData) => {\r\n  try {\r\n    console.log(`ğŸ® [SMART UPDATE] ØªØ­Ø¯ÙŠØ« Ù„Ø¹Ø¨Ø© ${id} Ø¨Ø´ÙƒÙ„ Ø°ÙƒÙŠ`);\r\n    \r\n    const endpoints = [\r\n      `/games/${id}`,           // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n      `/games/update/${id}`,    // Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n      `/games/${id}/update`     // Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø®Ø±Ù‰\r\n    ];\r\n    \r\n    const token = api.checkAuthStatus().token;\r\n    \r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        console.log(`ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© ${endpoint}`);\r\n        const response = await fetch(`http://localhost:5000/api${endpoint}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n          },\r\n          body: JSON.stringify(gameData)\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const result = await response.json();\r\n          console.log(`âœ… Ù†Ø¬Ø­Øª Ø¹Ø¨Ø± ${endpoint}:`, result);\r\n          return result;\r\n        }\r\n        \r\n        console.log(`âš ï¸ ${endpoint} Ø¹Ø§Ø¯ Ø¨Ù€ ${response.status}`);\r\n      } catch (error) {\r\n        console.warn(`âš ï¸ ÙØ´Ù„ ${endpoint}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠ\r\n    console.log('ğŸ’¾ ØªØ®Ø²ÙŠÙ† Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n    const localUpdate = {\r\n      id: id,\r\n      data: gameData,\r\n      timestamp: new Date().toISOString(),\r\n      local: true\r\n    };\r\n    \r\n    // Ø­ÙØ¸ ÙÙŠ localStorage\r\n    const localUpdates = JSON.parse(localStorage.getItem('game_updates') || '[]');\r\n    localUpdates.push(localUpdate);\r\n    localStorage.setItem('game_updates', JSON.stringify(localUpdates));\r\n    \r\n    return {\r\n      success: true,\r\n      message: 'ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)',\r\n      local: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteGame = async (id, permanent = false) => {\r\n  try {\r\n    const url = `/games/${id}${permanent ? '?permanent=true' : ''}`;\r\n    const response = await api.delete(url);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: error.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø§Ù„Ø´ÙŠÙØªØ§Øª\r\napi.getActiveShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\r\n    const response = await api.get('/shifts/simple');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveShiftOld = async () => {\r\n  try {\r\n    const response = await api.get('/shifts/active');\r\n    return response;\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© getActiveShiftSafe\r\napi.getActiveShiftSafe = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: API Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©\r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… ØªÙ… Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­');\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          exists: !!response.data\r\n        };\r\n      }\r\n      \r\n      return {\r\n        success: true,\r\n        data: null,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·',\r\n        exists: false\r\n      };\r\n    } catch (apiError) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† API:', apiError.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù…Ù† localStorage\r\n    try {\r\n      const savedShift = localStorage.getItem('current_shift');\r\n      if (savedShift) {\r\n        const shiftData = JSON.parse(savedShift);\r\n        console.log('âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ');\r\n        return {\r\n          success: true,\r\n          data: shiftData,\r\n          exists: true,\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (cacheError) {\r\n      console.warn('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      exists: false,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ getActiveShiftSafe:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.getShifts = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª...');\r\n    const response = await api.get('/shifts', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftsSafe = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù†');\r\n    \r\n    const response = await api.get('/shifts', {\r\n      params: {\r\n        ...params,\r\n        limit: params.limit || 10,\r\n        order_by: params.order_by || 'start_time',\r\n        order_direction: params.order_direction || 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª:', error);\r\n    \r\n    if (process.env.NODE_ENV === 'development') {\r\n      return {\r\n        success: true,\r\n        data: [\r\n          {\r\n            id: 1,\r\n            start_time: new Date().toISOString(),\r\n            employee_name: 'Ù…ÙˆØ¸Ù ØªØ¬Ø±ÙŠØ¨ÙŠ',\r\n            employee_id: 1,\r\n            branch_id: params.branch_id || 1,\r\n            status: 'Ù…Ù†ØªÙ‡ÙŠ',\r\n            duration_minutes: 120,\r\n            total_revenue: 1000,\r\n            total_rentals: 5\r\n          }\r\n        ],\r\n        count: 1\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.startShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯...');\r\n    const response = await api.post('/shifts/start');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\napi.startShiftSafe = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [SAFE START SHIFT] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: start (Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: /shifts/start');\r\n    try {\r\n      const response = await api.post('/shifts/start', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 Ù…Ø¹ /shifts/start');\r\n        return response;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: start-simple\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: /shifts/start-simple');\r\n    try {\r\n      const response = await api.post('/shifts/start-simple', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 Ù…Ø¹ start-simple');\r\n        return response;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: start-clean\r\n    console.log('ğŸ” Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: /shifts/start-clean');\r\n    try {\r\n      const response = await api.post('/shifts/start-clean', {});\r\n      \r\n      if (response && response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 Ù…Ø¹ start-clean');\r\n        return response;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\r\n    }\r\n    \r\n    // Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ´Ù„Øª\r\n    console.log('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ£ÙƒØ¯ Ù…Ù†:\\n1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…\\n2. Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\\n3. ØªÙˆÙØ± Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      attempts: 3,\r\n      suggestion: 'Ø¬Ø±Ø¨ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ startShiftSafe:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message,\r\n      suggestion: 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø´Ø¨ÙƒØ©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ\r\napi.startCleanShift = async () => {\r\n  try {\r\n    console.log('ğŸ§¹ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù†Ø¸ÙŠÙ...');\r\n    const response = await api.post('/shifts/start-clean');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø¸ÙŠÙ'\r\n    };\r\n  }\r\n};\r\n\r\n// 5. ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\r\napi.startShiftEnhanced = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ù…Ø¹Ø²Ø²...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©\r\n    const response = await api.post('/shifts/start');\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\r\n      return response;\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    return await api.startShiftSafe();\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.endShiftWithRentals = async (shiftId, endData = {}) => {\r\n  try {\r\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ${shiftId} Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...`);\r\n    \r\n    const response = await api.put(`/shifts/${shiftId}/end`, {\r\n      ...endData,\r\n      end_time: new Date().toISOString()\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\napi.endShiftSmart = async (shiftId, endData = {}) => {\r\n  try {\r\n    console.log(`ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª ${shiftId} Ø¨Ø°ÙƒØ§Ø¡...`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n    try {\r\n      const response = await api.put(`/shifts/${shiftId}/end`, {\r\n        ...endData,\r\n        end_time: new Date().toISOString()\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n    try {\r\n      const updateResponse = await api.updateShift(shiftId, {\r\n        status: 'Ù…Ù†ØªÙ‡ÙŠ',\r\n        end_time: new Date().toISOString(),\r\n        notes: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ)'\r\n      });\r\n      \r\n      if (updateResponse.success) {\r\n        return {\r\n          success: true,\r\n          message: 'ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­ (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          data: updateResponse.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ ÙƒÙ„ Ø´ÙŠØ¡\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.',\r\n      shiftId: shiftId\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.updateShift = async (shiftId, data) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª #${shiftId}`);\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\r\n    const response = await api.put(`/shifts/${shiftId}/end`, data);\r\n    return response;\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftRevenueDetails = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ’° Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    const response = await api.get(`/shifts/${shiftId}/revenue-details`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯',\r\n      data: {}\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftEmployees = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ‘¥ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰\r\n    try {\r\n      const response = await api.get(`/shifts/${shiftId}/employees`);\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©\r\n    try {\r\n      const response = await api.get('/shifts/current-employees', {\r\n        params: { shift_id: shiftId }\r\n      });\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\napi.checkUserShift = async () => {\r\n  try {\r\n    console.log('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\n    const response = await api.get('/shifts/check-active');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        hasActiveShift: response.has_active_shift || false,\r\n        shift: response.data,\r\n        message: response.message\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      hasActiveShift: false,\r\n      shift: null,\r\n      message: 'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø´ÙŠÙØª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      hasActiveShift: false,\r\n      shift: null,\r\n      message: error.message\r\n    };\r\n  }\r\n};\r\n\r\n\r\n// 5. Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRentals = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ø¹ Ø§Ù„Ø¨Ø§Ø±Ø§Ù…ÙŠØªØ±Ø§Øª:', params);\r\n    const response = await api.get('/rentals', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getAllRentals = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„\r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        ...params,\r\n        limit: params.limit || 50,\r\n        order_by: params.order_by || 'start_time',\r\n        order_direction: params.order_direction || 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveRentals = async (branchId = null) => {\r\n  try {\r\n    console.log('â±ï¸ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    try {\r\n      const params = {};\r\n      if (branchId) {\r\n        params.branch_id = branchId;\r\n      }\r\n      \r\n      const response = await api.get('/rentals/active', { params });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ\r\n    try {\r\n      const localRentals = JSON.parse(localStorage.getItem('active_rentals') || '[]');\r\n      console.log(`ğŸ“± Ø¬Ù„Ø¨ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ`);\r\n      \r\n      return {\r\n        success: true,\r\n        data: localRentals,\r\n        message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ©',\r\n        fromCache: true\r\n      };\r\n    } catch (cacheError) {\r\n      console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ:', cacheError.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getActiveRentalsForShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get('/rentals/active-for-shift', {\r\n      params: {\r\n        shift_id: shiftId,\r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentalById = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.get(`/rentals/${rentalId}`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n\r\napi.getShiftRentals = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get(`/shifts/${shiftId}/rentals`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getCompletedRentals = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/rentals/completed', { params });\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return { success: false, message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©', data: [] };\r\n  }\r\n};\r\n\r\napi.getCompletedRentalsByShift = async (shiftId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\napi.getCompletedRentalsSmart = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¨Ø°ÙƒØ§Ø¡ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n    try {\r\n      const response = await api.get('/rentals/completed-only', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-only:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const response = await api.get(`/rentals/completed-by-shift/${shiftId}`);\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/completed-by-shift:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØµÙÙŠØ© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId,\r\n          status: 'Ù…ÙƒØªÙ…Ù„'\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals Ù…Ø¹ Ø§Ù„ÙÙ„ØªØ±Ø©:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 4: Ø§Ù„ØªØµÙÙŠØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n    try {\r\n      const allResponse = await api.get('/rentals', {\r\n        params: {\r\n          branch_id: branchId,\r\n          limit: 200\r\n        }\r\n      });\r\n      \r\n      if (allResponse.success && allResponse.data) {\r\n        const completedRentals = allResponse.data.filter(rental => \r\n          (rental.status === 'Ù…ÙƒØªÙ…Ù„' || rental.status === 'completed') &&\r\n          rental.shift_id === parseInt(shiftId)\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: completedRentals,\r\n          count: completedRentals.length,\r\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      data: [],\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n  }\r\n};\r\n\r\napi.getCurrentShiftCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ¯ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    const response = await api.get('/rentals/current-shift-completed');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ù†Ù‚Ø·Ø© Ø¨Ø¯ÙŠÙ„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª\r\napi.getCurrentShift = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ...');\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: /shifts/current\r\n    try {\r\n      const response = await api.get('/shifts/current');\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/current:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: /shifts/simple\r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/simple:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: /shifts/active\r\n    try {\r\n      const response = await api.get('/shifts/active');\r\n      return response;\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /shifts/active:', error.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: null,\r\n      message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª'\r\n    };\r\n  }\r\n};\r\n\r\n\r\napi.getShiftRentalsSmart = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ¤– Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù…Ø¨Ø§Ø´Ø±Ø©**\r\n    try {\r\n      // Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ '/rentals/active-for-shift' ÙˆÙ„ÙŠØ³ '/api/rentals/active-for-shift'\r\n      const response = await api.get('/rentals/active-for-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active-for-shift`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active-for-shift:', error.message);\r\n    }\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© rentals Ø§Ù„Ø¹Ø§Ù…Ø© Ù…Ø¹ ÙÙ„ØªØ±Ø©**\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId,\r\n          status: 'Ù†Ø´Ø·'\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals`);\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals:', error.message);\r\n    }\r\n    \r\n    // âœ… **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ù‚Ø·Ø© active Ù…Ø¹ ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ©**\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: {\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        // ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ Ø­Ø³Ø¨ shiftId\r\n        const filteredRentals = response.data.filter(rental => \r\n          rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n        );\r\n        \r\n        console.log(`âœ… ØªÙ… ÙÙ„ØªØ±Ø© ${filteredRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ù† /rentals/active`);\r\n        \r\n        return {\r\n          success: true,\r\n          data: filteredRentals,\r\n          count: filteredRentals.length,\r\n          message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙÙ„ØªØ±Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ /rentals/active:', error.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    console.log('âš ï¸ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª ÙØ´Ù„Øª');\r\n    return {\r\n      success: true,\r\n      data: [],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„Ø´ÙŠÙØª',\r\n      count: 0\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ Ø°ÙƒÙŠ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ø´ÙŠÙØª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n\r\napi.getRentalsByStatus = async (status, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`);\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: { ...params, status }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}:`, error);\r\n    return {\r\n      success: false,\r\n      message: `ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø­Ø§Ù„Ø© ${status}`,\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.getRentalsByDate = async (startDate, endDate, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“… Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…Ù† ${startDate} Ø¥Ù„Ù‰ ${endDate}`);\r\n    \r\n    const response = await api.get('/rentals/all', {\r\n      params: { ...params, start_date: startDate, end_date: endDate }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ§Ø±ÙŠØ®',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\napi.checkFixedTimeRental = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£Ø¬ÙŠØ± ${rentalId}...`);\r\n    \r\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\r\n    const response = await api.post('/rentals/check-fixed-time', {\r\n      rental_id: rentalId\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.getExpiredRentals = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©...');\r\n    \r\n    // âŒ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„: Ø¥Ø²Ø§Ù„Ø© /api\r\n    const response = await api.get('/rentals/expired');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.checkAllRentals = async () => {\r\n  try {\r\n    console.log('ğŸ” Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...');\r\n    \r\n    // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©\r\n    const expiredResponse = await api.getExpiredRentals();\r\n    \r\n    // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n    const processResponse = await api.processCompletedRentals();\r\n    \r\n    return {\r\n      success: true,\r\n      expired: expiredResponse,\r\n      processed: processResponse,\r\n      message: 'ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// 1. Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·\r\napi.createSimpleRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¯ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø¨Ø³ÙŠØ·:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone,\r\n      duration_minutes: rentalData.duration_minutes || 15\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\napi.createOpenTimeRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ•’ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/open-time-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø°ÙƒÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.createSmartRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¤– Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/smart-create', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000',\r\n      rental_type: rentalData.rental_type || 'fixed'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.completeRental = async (rentalId, paymentData = {}) => {\r\n  try {\r\n    console.log(`âœ… Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\r\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´',\r\n      actual_end_time: new Date().toISOString(),\r\n      early_end: paymentData.early_end || false,\r\n      refund_amount: paymentData.refund_amount || 0\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// âŒ Ø¥Ø²Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù† Ø¯Ø§Ù„Ø© Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.cancelRental = async (rentalId, refundAmount, reason = '') => {\r\n  try {\r\n    console.log(`âŒ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.put(`/rentals/${rentalId}/cancel`, {\r\n      refund_amount: refundAmount,\r\n      reason: reason\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø¯Ø§Ù„Ø© ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\napi.extendRental = async (rentalId, additionalMinutes = 15) => {\r\n  try {\r\n    console.log(`â±ï¸ ØªÙ…Ø¯ÙŠØ¯ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/extend`, {\r\n      additional_minutes: additionalMinutes\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ù…Ø¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©\r\napi.updateRental = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© PUT\r\n    try {\r\n      const response = await api.put(`/rentals/${rentalId}`, rentalData);\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1 (PUT)');\r\n        return response;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error1.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© POST\r\n    try {\r\n      const response = await api.post(`/rentals/${rentalId}/update`, rentalData);\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2 (POST /update)');\r\n        return response;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error2.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±\r\n    try {\r\n      const response = await api.post(`/rentals/update-simple`, {\r\n        rental_id: rentalId,\r\n        ...rentalData\r\n      });\r\n      if (response.success) {\r\n        console.log('âœ… Ù†Ø¬Ø­Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3 (update-simple)');\r\n        return response;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('âš ï¸ ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error3.message);\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª\r\n    console.error('âŒ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± ÙØ´Ù„Øª');\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ø¹Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª',\r\n      rentalId: rentalId,\r\n      attempts: 3\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ [FATAL] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¨Ø¯ÙŠÙ„Ø© Ø£Ø¨Ø³Ø·\r\napi.updateRentalSimple = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… POST Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† PUT\r\n    const response = await api.post(`/rentals/${rentalId}`, {\r\n      _method: 'PUT',\r\n      ...rentalData\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø³ÙŠØ·:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.deleteRental = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rentalId}`);\r\n    const response = await api.delete(`/rentals/${rentalId}/cancel`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        message: 'ØªÙ… Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    } else {\r\n      return {\r\n        success: false,\r\n        message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('Error deleting rental:', error);\r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„ØªØ£Ø¬ÙŠØ±',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// 6. Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡\r\napi.getCustomers = async (search = '') => {\r\n  try {\r\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡...');\r\n    \r\n    const params = search ? { search } : {};\r\n    const response = await api.get('/customers', { params });\r\n    \r\n    console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data?.length || 0} Ø¹Ù…ÙŠÙ„`);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© ====================\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\napi.completeOpenRental = async (rentalId, paymentData = {}) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete-open`, {\r\n      payment_method: paymentData.payment_method || 'ÙƒØ§Ø´'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ©\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: rentalId,\r\n        final_amount: paymentData.final_amount || 0,\r\n        actual_minutes: paymentData.actual_minutes || 15,\r\n        processed_locally: true\r\n      },\r\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…)'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\r\napi.completeFixedRental = async (rentalId) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥Ù†Ù‡Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete-fixed`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: rentalId,\r\n        processed_locally: true\r\n      },\r\n      message: 'ØªÙ…Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± (Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©)\r\napi.completeRental = async (rentalId, data = {}) => {\r\n  try {\r\n    console.log(`âœ… [API] Ø¥ÙƒÙ…Ø§Ù„ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/complete`, {\r\n      payment_method: data.payment_method || 'ÙƒØ§Ø´',\r\n      final_amount: data.final_amount,\r\n      auto_complete: data.auto_complete || false\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message || 'ÙØ´Ù„ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ (ÙŠØ¯Ø¹Ù… Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª ÙˆØ§Ù„Ù…ÙØªÙˆØ­)\r\napi.createSmartRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ¤– [API] Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø°ÙƒÙŠ:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/smart-create', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000',\r\n      rental_type: rentalData.rental_type || 'fixed'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø°ÙƒÙŠ:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­ Ø¨Ø³ÙŠØ·\r\napi.createOpenTimeRental = async (rentalData) => {\r\n  try {\r\n    console.log('ğŸ•’ [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/open-time-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª Ø¨Ø³ÙŠØ·\r\napi.createFixedRental = async (rentalData) => {\r\n  try {\r\n    console.log('â° [API] Ø¥Ù†Ø´Ø§Ø¡ ÙˆÙ‚Øª Ø«Ø§Ø¨Øª:', rentalData);\r\n    \r\n    const response = await api.post('/rentals/ultra-simple', {\r\n      game_id: rentalData.game_id,\r\n      customer_name: rentalData.customer_name,\r\n      customer_phone: rentalData.customer_phone || '00000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø«Ø§Ø¨Øª'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    if (!shiftId || !branchId) {\r\n      return { success: true, data: [], count: 0 };\r\n    }\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© Ø£ÙˆÙ„Ø§Ù‹\r\n    try {\r\n      const response = await api.get('/rentals/active-simple', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-simple:', error.message);\r\n    }\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const response = await api.get('/rentals/active-for-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return response;\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active-for-shift:', error.message);\r\n    }\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n    try {\r\n      const response = await api.get('/rentals/active', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          branch_id: branchId\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        // ÙÙ„ØªØ±Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø­Ù„ÙŠØ§Ù‹\r\n        const filteredData = (response.data || []).filter(\r\n          rental => rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: filteredData,\r\n          count: filteredData.length\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„ /rentals/active:', error.message);\r\n    }\r\n    \r\n    return { success: true, data: [], count: 0 };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\r\n    return { success: true, data: [], count: 0 };\r\n  }\r\n};\r\n\r\n// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\napi.processCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ [API] Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    \r\n    const response = await api.post('/rentals/process-completed');\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.warn('âš ï¸ [API] ÙØ´Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        processed_count: 0,\r\n        processed_rentals: []\r\n      },\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± Ù…Ø¨ÙƒØ±\r\napi.cancelEarlyRental = async (rentalId, data = {}) => {\r\n  try {\r\n    console.log(`âŒ [API] Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ù„Ù„ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.post(`/rentals/${rentalId}/cancel-early`, {\r\n      reason: data.reason || 'Ø¥Ù„ØºØ§Ø¡ Ù…Ø¨ÙƒØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ù…ÙˆØ¸Ù',\r\n      refund_amount: data.refund_amount || 0\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: error.message || 'ÙØ´Ù„ Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù…Ø¨ÙƒØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ±\r\napi.updateRental = async (rentalId, rentalData) => {\r\n  try {\r\n    console.log(`âœï¸ [API] ØªØ­Ø¯ÙŠØ« ØªØ£Ø¬ÙŠØ± ${rentalId}:`, rentalData);\r\n    \r\n    const response = await api.put(`/rentals/${rentalId}`, rentalData);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©\r\n    try {\r\n      const altResponse = await api.post(`/rentals/${rentalId}/update`, rentalData);\r\n      return altResponse;\r\n    } catch (altError) {\r\n      console.error('âŒ [API] ÙØ´Ù„Øª Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø© Ø£ÙŠØ¶Ø§Ù‹:', altError.message);\r\n      \r\n      return {\r\n        success: false,\r\n        message: 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + error.message\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\n// Ø¬Ù„Ø¨ ØªÙØ§ØµÙŠÙ„ ØªØ£Ø¬ÙŠØ±\r\napi.getRentalById = async (rentalId) => {\r\n  try {\r\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ± ${rentalId}`);\r\n    \r\n    const response = await api.get(`/rentals/${rentalId}`);\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ£Ø¬ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\r\napi.getCompletedRentalsForShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š [API] Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.get('/rentals/completed-only', {\r\n      params: {\r\n        shift_id: shiftId,\r\n        branch_id: branchId\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0\r\n    };\r\n  }\r\n};\r\n\r\n// ÙÙŠ api.js - Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© ØªØ¹ÙŠØ¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙˆØ±Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­\r\napi.getActiveRentalsForCurrentShift = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ¯ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    if (!shiftId || !branchId) {\r\n      console.log('âš ï¸ shiftId Ø£Ùˆ branchId ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');\r\n      return { success: true, data: [], count: 0 };\r\n    }\r\n    \r\n    // âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙØ¹Ù„Ø§Ù‹\r\n    const endpoints = [\r\n      { \r\n        url: `/rentals/active-by-shift/${shiftId}`, \r\n        params: { branch_id: branchId }\r\n      },\r\n      { \r\n        url: '/rentals/active', \r\n        params: { branch_id: branchId }\r\n      },\r\n      { \r\n        url: '/rentals', \r\n        params: { branch_id: branchId, status: 'Ù†Ø´Ø·' }\r\n      }\r\n    ];\r\n    \r\n    // ØªØ¬Ø±Ø¨Ø© ÙƒÙ„ Ù…Ø³Ø§Ø±\r\n    for (const endpoint of endpoints) {\r\n      try {\r\n        console.log(`ğŸ“¡ Ù…Ø­Ø§ÙˆÙ„Ø©: ${endpoint.url}`);\r\n        \r\n        const response = await api.get(endpoint.url, { params: endpoint.params });\r\n        \r\n        if (response.success) {\r\n          // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ù…ØµÙÙˆÙØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©\r\n          let allRentals = [];\r\n          \r\n          if (Array.isArray(response.data)) {\r\n            allRentals = response.data;\r\n          } else if (response.data && Array.isArray(response.data.data)) {\r\n            allRentals = response.data.data;\r\n          } else if (response.data && Array.isArray(response.data.rentals)) {\r\n            allRentals = response.data.rentals;\r\n          }\r\n          \r\n          console.log(`âœ… ${endpoint.url} - Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª: ${allRentals.length}`);\r\n          \r\n          // ØªØµÙÙŠØ© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø³Ø¨ shift_id\r\n          const shiftRentals = allRentals.filter(rental => \r\n            rental.shift_id == shiftId && rental.status === 'Ù†Ø´Ø·'\r\n          );\r\n          \r\n          console.log(`ğŸ“Š Ù„Ù„Ø´ÙŠÙØª ${shiftId}: ${shiftRentals.length} ØªØ£Ø¬ÙŠØ±`);\r\n          \r\n          // âœ… Ø¥Ø°Ø§ ÙˆØ¬Ø¯Ù†Ø§ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù„Ù„Ø´ÙŠÙØªØŒ Ù†Ø¹ÙŠØ¯Ù‡Ø§ ÙÙˆØ±Ø§Ù‹\r\n          if (shiftRentals.length > 0) {\r\n            console.log(`ğŸ‰ ÙˆØ¬Ø¯Ù†Ø§ ${shiftRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù„Ø´ÙŠÙØª ${shiftId} Ø¹Ø¨Ø± ${endpoint.url}`);\r\n            \r\n            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n            const processedRentals = shiftRentals.map(rental => ({\r\n              ...rental,\r\n              rental_type: rental.rental_type || (rental.is_open_time === 1 ? 'open' : 'fixed'),\r\n              time_type_display: (rental.rental_type === 'open' || rental.is_open_time === 1) ? 'Ù…ÙØªÙˆØ­' : 'Ø«Ø§Ø¨Øª',\r\n              game_name: rental.game_name || rental.game_name_full || 'Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©',\r\n              customer_phone: rental.customer_phone || '00000000000',\r\n              price_per_15min: rental.price_per_15min || rental.game_price || 100\r\n            }));\r\n            \r\n            return {\r\n              success: true,\r\n              data: processedRentals,\r\n              count: processedRentals.length,\r\n              fromEndpoint: endpoint.url\r\n            };\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.log(`âš ï¸ ÙØ´Ù„Øª ${endpoint.url}: ${error.message}`);\r\n      }\r\n    }\r\n    \r\n    // Ø¥Ø°Ø§ Ù„Ù… Ù†Ø¬Ø¯ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¨Ø¹Ø¯ ØªØ¬Ø±Ø¨Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª\r\n    console.log(`â„¹ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    return { success: true, data: [], count: 0 };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ getActiveRentalsForCurrentShift:', error.message);\r\n    return { success: true, data: [], count: 0 };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ (Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¹Ù…Ù„)\r\napi.createTestRental = async (shiftId, branchId) => {\r\n  try {\r\n    console.log(`ğŸ§ª Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ Ù„Ù„Ø´ÙŠÙØª ${shiftId}`);\r\n    \r\n    const response = await api.post('/rentals/simple', {\r\n      game_id: 1, // Ø§ÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø±Ù‚Ù… 1 Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n      customer_name: 'Ø¹Ù…ÙŠÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ',\r\n      customer_phone: '01000000000'\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ± Ø§Ø®ØªØ¨Ø§Ø±ÙŠ:', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\n// Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ ØªØ£Ø¬ÙŠØ±Ø§ØªÙ‡ Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©\r\napi.getCurrentShiftWithRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª');\r\n    \r\n    // 1. Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹\r\n    const shiftResponse = await api.get('/shifts/current');\r\n    \r\n    if (!shiftResponse.success || !shiftResponse.data) {\r\n      return {\r\n        success: true,\r\n        hasShift: false,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n      };\r\n    }\r\n    \r\n    const shift = shiftResponse.data;\r\n    \r\n    // 2. Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ù„Ù„Ø´ÙŠÙØª\r\n    const rentalsResponse = await api.getActiveRentalsForCurrentShift(\r\n      shift.id, \r\n      shift.branch_id\r\n    );\r\n    \r\n    return {\r\n      success: true,\r\n      hasShift: true,\r\n      shift: shift,\r\n      rentals: rentalsResponse.data || [],\r\n      rentalsCount: rentalsResponse.count || 0,\r\n      message: `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ ${rentalsResponse.count || 0} ØªØ£Ø¬ÙŠØ±`\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ğŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª Ù…Ø¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      hasShift: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'\r\n    };\r\n  }\r\n};\r\n// ==================== USERS MANAGEMENT ====================\r\n\r\n// Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†\r\napi.getUsers = async (params = {}) => {\r\n  try {\r\n    console.log('ğŸ‘¥ Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†...');\r\n    const response = await api.get('/users', { params });\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${response.data?.length || 0} Ù…Ø³ØªØ®Ø¯Ù…`);\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || 0\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',\r\n      data: []\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:', error);\r\n    \r\n    if (error.response?.status === 403) {\r\n      return {\r\n        success: false,\r\n        message: 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯\r\napi.createUser = async (userData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯:', {\r\n      name: userData.name,\r\n      email: userData.email,\r\n      role: userData.role\r\n    });\r\n    \r\n    const response = await api.post('/users', userData);\r\n    \r\n    if (response.success) {\r\n      console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    \r\n    if (error.response?.status === 400) {\r\n      return {\r\n        success: false,\r\n        message: error.response.data?.message || 'Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªØ®Ø¯Ù…\r\napi.updateUser = async (id, userData) => {\r\n  try {\r\n    console.log(`âœï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}:`, userData);\r\n    const response = await api.put(`/users/${id}`, userData);\r\n    \r\n    if (response.success) {\r\n      console.log('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­');\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…\r\napi.deleteUser = async (id, permanent = false) => {\r\n  try {\r\n    console.log(`ğŸ—‘ï¸ ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${id}`);\r\n    \r\n    const response = await api.delete(`/users/${id}?permanent=${permanent}`);\r\n    \r\n    if (response.success) {\r\n      console.log(`âœ… ØªÙ… ${permanent ? 'Ø­Ø°Ù' : 'ØªØ¹Ø·ÙŠÙ„'} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­`);\r\n      return response;\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', error);\r\n    return {\r\n      success: false,\r\n      message: error.response?.data?.message || 'ØªØ¹Ø°Ø± Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ====================\r\n\r\napi.getSimpleStats = async () => {\r\n  try {\r\n    console.log('ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©...');\r\n    const response = await api.get('/dashboard/stats/simple');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø³Ø·Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª',\r\n      data: {\r\n        availableGames: 0,\r\n        totalGames: 0,\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        activeRentals: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getManagerStats = async () => {\r\n  try {\r\n    console.log('ğŸ‘‘ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±...');\r\n    const response = await api.get('/dashboard/stats/manager');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙŠØ±'\r\n    };\r\n  }\r\n};\r\n\r\napi.getDashboardAllStats = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const [branchesStats, todayStats] = await Promise.allSettled([\r\n      api.getBranchesStatsEnhanced(),\r\n      api.getTodayStatsEnhanced()\r\n    ]);\r\n\r\n    const result = {\r\n      success: true,\r\n      data: {}\r\n    };\r\n\r\n    if (branchesStats.status === 'fulfilled' && branchesStats.value.success) {\r\n      result.data.branchRevenues = branchesStats.value.data.branchRevenues || [];\r\n      result.data.completedRentalsByBranch = branchesStats.value.data.completedRentalsByBranch || [];\r\n      result.data.totalBranches = branchesStats.value.data.totalBranches || 0;\r\n    } else {\r\n      result.data.branchRevenues = [];\r\n      result.data.completedRentalsByBranch = [];\r\n      result.data.totalBranches = 0;\r\n    }\r\n\r\n    if (todayStats.status === 'fulfilled' && todayStats.value.success) {\r\n      result.data.todayRevenue = todayStats.value.data.revenue || 0;\r\n      result.data.todayRentals = todayStats.value.data.rentals || 0;\r\n    } else {\r\n      result.data.todayRevenue = 0;\r\n      result.data.todayRentals = 0;\r\n    }\r\n\r\n    result.data.generatedAt = new Date().toISOString();\r\n    result.data.today = today;\r\n\r\n    return result;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…',\r\n      data: {\r\n        branchRevenues: [],\r\n        completedRentalsByBranch: [],\r\n        todayRevenue: 0,\r\n        todayRentals: 0,\r\n        generatedAt: new Date().toISOString(),\r\n        today: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getBranchesStatsEnhanced = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const branchesResponse = await api.getBranches();\r\n    \r\n    if (!branchesResponse.success || !Array.isArray(branchesResponse.data)) {\r\n      return {\r\n        success: true,\r\n        data: {\r\n          branchRevenues: [],\r\n          completedRentalsByBranch: [],\r\n          totalBranches: 0\r\n        }\r\n      };\r\n    }\r\n\r\n    const branches = branchesResponse.data;\r\n    const branchStats = [];\r\n    \r\n    for (const branch of branches.slice(0, 5)) {\r\n      try {\r\n        const rentalsResponse = await api.get('/rentals', {\r\n          params: {\r\n            branch_id: branch.id,\r\n            status: 'Ù…ÙƒØªÙ…Ù„',\r\n            start_date: today,\r\n            end_date: today,\r\n            limit: 50\r\n          }\r\n        });\r\n\r\n        let revenue = 0;\r\n        let completedCount = 0;\r\n\r\n        if (rentalsResponse.success && Array.isArray(rentalsResponse.data)) {\r\n          revenue = rentalsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\r\n          completedCount = rentalsResponse.data.length;\r\n        }\r\n\r\n        branchStats.push({\r\n          branchId: branch.id,\r\n          branchName: branch.name || `ÙØ±Ø¹ ${branch.id}`,\r\n          revenue: revenue,\r\n          completedCount: completedCount\r\n        });\r\n      } catch (error) {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    return {\r\n      success: true,\r\n      data: {\r\n        branchRevenues: branchStats.map(stat => ({\r\n          branchId: stat.branchId,\r\n          branchName: stat.branchName,\r\n          revenue: stat.revenue\r\n        })),\r\n        completedRentalsByBranch: branchStats.map(stat => ({\r\n          branchId: stat.branchId,\r\n          branchName: stat.branchName,\r\n          count: stat.completedCount\r\n        })),\r\n        totalBranches: branchStats.length\r\n      }\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      data: {\r\n        branchRevenues: [],\r\n        completedRentalsByBranch: [],\r\n        totalBranches: 0\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\napi.getTodayStatsEnhanced = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const statsResponse = await api.get('/rentals', {\r\n      params: {\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today\r\n      }\r\n    });\r\n\r\n    if (statsResponse.success && Array.isArray(statsResponse.data)) {\r\n      const revenue = statsResponse.data.reduce((sum, rental) => sum + (rental.total_amount || 0), 0);\r\n      const rentals = statsResponse.data.length;\r\n      \r\n      return {\r\n        success: true,\r\n        data: {\r\n          revenue: revenue,\r\n          rentals: rentals,\r\n          date: today\r\n        }\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        revenue: 0,\r\n        rentals: 0,\r\n        date: today\r\n      }\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      data: {\r\n        revenue: 0,\r\n        rentals: 0,\r\n        date: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª\r\nexport const getCurrentShiftDetails = async (branchId) => {\r\n  try {\r\n    const response = await axios.get('/shifts/current-details', {\r\n      params: { branch_id: branchId }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching shift details:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\nexport const refreshDashboardData = async (branchId) => {\r\n  try {\r\n    const response = await axios.post('/dashboard/refresh', {\r\n      branch_id: branchId\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error refreshing dashboard:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªØµØ­ÙŠØ­ ====================\r\n\r\n// 9. ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ§Ù„ØµØ­Ø©\r\napi.healthCheck = async () => {\r\n  try {\r\n    console.log('ğŸ¥ ÙØ­Øµ ØµØ­Ø© Ø§Ù„Ø®Ø§Ø¯Ù…...');\r\n    const response = await api.get('/health');\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„ØµØ­Ø©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\napi.testConnection = async () => {\r\n  try {\r\n    console.log('ğŸ”— Ø§Ø®ØªØ¨Ø§Ø± Ø§ØªØµØ§Ù„ API...');\r\n    const response = await api.get('/health');\r\n    return {\r\n      success: response.data?.success || true,\r\n      message: 'âœ… Ø§ØªØµØ§Ù„ API ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­',\r\n      data: response.data\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„: ' + (error.message || 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…')\r\n    };\r\n  }\r\n};\r\n\r\napi.testToken = async () => {\r\n  try {\r\n    const status = api.checkAuthStatus();\r\n    \r\n    if (!status.isAuthenticated) {\r\n      return {\r\n        success: false,\r\n        message: 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆÙƒÙ† Ù…Ø³Ø¬Ù„',\r\n        status: status\r\n      };\r\n    }\r\n    \r\n    const response = await api.get('/auth/profile');\r\n    \r\n    return {\r\n      success: true,\r\n      message: 'âœ… Ø§Ù„ØªÙˆÙƒÙ† ØµØ§Ù„Ø­ ÙˆÙŠØ¹Ù…Ù„',\r\n      profile: response,\r\n      status: status\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      message: 'âŒ Ø§Ù„ØªÙˆÙƒÙ† ØºÙŠØ± ØµØ§Ù„Ø­: ' + error.message,\r\n      status: api.checkAuthStatus()\r\n    };\r\n  }\r\n};\r\n\r\napi.testCreateBranch = async (branchData) => {\r\n  try {\r\n    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', branchData);\r\n    const response = await api.post('/test/create-branch', branchData);\r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ ÙØ±Ø¹:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÙØ´Ù„ Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ±Ø¹',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\napi.testAllEndpoints = async () => {\r\n  const endpoints = [\r\n    '/auth/login',\r\n    '/branches',\r\n    '/games',\r\n    '/shifts/simple',\r\n    '/rentals',\r\n    '/customers',\r\n    '/health',\r\n    '/users',\r\n    '/dashboard/stats/simple'\r\n  ];\r\n  \r\n  const results = [];\r\n  \r\n  for (const endpoint of endpoints) {\r\n    try {\r\n      console.log(`ğŸ” Ø§Ø®ØªØ¨Ø§Ø±: ${endpoint}`);\r\n      const response = await api.get(endpoint);\r\n      results.push({\r\n        endpoint,\r\n        success: response.success || false,\r\n        status: 'âœ…'\r\n      });\r\n    } catch (error) {\r\n      results.push({\r\n        endpoint,\r\n        success: false,\r\n        status: 'âŒ',\r\n        error: error.message\r\n      });\r\n    }\r\n  }\r\n  \r\n  return {\r\n    success: true,\r\n    message: 'ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·',\r\n    results\r\n  };\r\n};\r\n\r\n// 4. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠØ©\r\napi.checkSystemHealth = async () => {\r\n  try {\r\n    console.log('ğŸ¥ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø°ÙƒØ§Ø¡...');\r\n    \r\n    const checks = [];\r\n    \r\n    // 1. Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    try {\r\n      const health = await api.healthCheck();\r\n      checks.push({\r\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        status: health.success ? 'success' : 'error',\r\n        message: health.success ? 'âœ… Ù…ØªØµÙ„' : 'âŒ ØºÙŠØ± Ù…ØªØµÙ„'\r\n      });\r\n    } catch (error) {\r\n      checks.push({\r\n        name: 'Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§Ø¯Ù…',\r\n        status: 'error',\r\n        message: 'âŒ ' + error.message\r\n      });\r\n    }\r\n    \r\n    // 2. Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©\r\n    const authStatus = api.checkAuthStatus();\r\n    checks.push({\r\n      name: 'Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©',\r\n      status: authStatus.isAuthenticated ? 'success' : 'warning',\r\n      message: authStatus.isAuthenticated ? \r\n        `âœ… Ù…ØµØ§Ø¯Ù‚ (${authStatus.user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'})` : \r\n        'âš ï¸ ØºÙŠØ± Ù…ØµØ§Ø¯Ù‚'\r\n    });\r\n    \r\n    // 3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©\r\n    if (authStatus.isAuthenticated && authStatus.user?.branch_id) {\r\n      try {\r\n        const branch = await api.getBranchById(authStatus.user.branch_id);\r\n        checks.push({\r\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n          status: branch.success ? 'success' : 'warning',\r\n          message: branch.success ? \r\n            `âœ… ${branch.data.name}` : \r\n            'âš ï¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n        });\r\n      } catch (error) {\r\n        checks.push({\r\n          name: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹',\r\n          status: 'warning',\r\n          message: 'âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©'\r\n        });\r\n      }\r\n    }\r\n    \r\n    // 4. Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·\r\n    try {\r\n      const shift = await api.getActiveShift();\r\n      checks.push({\r\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n        status: shift.data ? 'success' : 'info',\r\n        message: shift.data ? \r\n          `âœ… Ø´ÙŠÙØª #${shift.data.id}` : \r\n          'â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·'\r\n      });\r\n    } catch (error) {\r\n      checks.push({\r\n        name: 'Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ù†Ø´Ø·',\r\n        status: 'warning',\r\n        message: 'âš ï¸ ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚'\r\n      });\r\n    }\r\n    \r\n    const allSuccess = checks.every(c => c.status === 'success' || c.status === 'info');\r\n    const hasErrors = checks.some(c => c.status === 'error');\r\n    \r\n    return {\r\n      success: !hasErrors,\r\n      checks: checks,\r\n      summary: {\r\n        total: checks.length,\r\n        success: checks.filter(c => c.status === 'success').length,\r\n        warning: checks.filter(c => c.status === 'warning').length,\r\n        error: checks.filter(c => c.status === 'error').length,\r\n        info: checks.filter(c => c.status === 'info').length\r\n      },\r\n      message: allSuccess ? \r\n        'âœ… Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­' : \r\n        hasErrors ? 'âŒ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…' : 'âš ï¸ Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\r\n    \r\n    return {\r\n      success: false,\r\n      checks: [],\r\n      message: 'ØªØ¹Ø°Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',\r\n      error: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// ==================== Ù†Ù‚Ø§Ø· API Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\r\n\r\n// ÙÙŠ api.js - ØªØµØ­ÙŠØ­ Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©\r\nexport const processCompletedRentals = async () => {\r\n  try {\r\n    console.log('ğŸ”„ Ø·Ù„Ø¨ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...');\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… this.post Ø¥Ø°Ø§ ÙƒÙ†Øª ÙÙŠ ÙƒØ§Ø¦Ù† api\r\n    const response = await axios.post('/rentals/process-completed', {}, {\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n    \r\n    console.log('âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', response.data);\r\n    return {\r\n      success: true,\r\n      data: response.data,\r\n      message: 'ØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ù†Ø¬Ø§Ø­'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.warn('âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error.message);\r\n    \r\n    // Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø¥Ø±Ø¬Ø§Ø¹ Ø±Ø¯ Ø§ÙØªØ±Ø§Ø¶ÙŠ\r\n    return {\r\n      success: true,\r\n      data: {\r\n        processed_count: 0,\r\n        processed_rentals: []\r\n      },\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª ØªØ­ØªØ§Ø¬ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„ÙŠØ§Ù‹'\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù…Ø­Ø³Ù†Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€Dashboard\r\nexport const getDashboardData = async (branchId) => {\r\n  try {\r\n    const response = await axios.get('/dashboard/live-data', {\r\n      params: { branch_id: branchId }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching dashboard data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø© ====================\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (ÙƒØ§Ù†Øª Ù…ÙÙ‚ÙˆØ¯Ø©)\r\napi.getBranch = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get(`/branches/${branchId}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø·Ù„Ø¨\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£\r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        location: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00:00',\r\n        closing_time: '22:00:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ø¹\r\napi.getBranchShifts = async (branchId, params = {}) => {\r\n  try {\r\n    console.log(`ğŸ“‹ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}...`);\r\n    \r\n    const response = await api.get('/shifts', {\r\n      params: {\r\n        branch_id: branchId,\r\n        ...params\r\n      }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || 0\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø´ÙŠÙØªØ§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØªØ§Øª',\r\n      data: []\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø¨Ø¯ÙŠÙ„Ø©)\r\napi.createGameUnbreakable = async (gameData) => {\r\n  try {\r\n    console.log('â• Ø¥Ù†Ø´Ø§Ø¡ Ù„Ø¹Ø¨Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©):', gameData);\r\n    \r\n    const response = await api.post('/games/create-unbreakable', gameData);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data,\r\n        message: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ø¬Ø§Ø­'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©: ' + error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ\r\napi.getCurrentUser = () => {\r\n  try {\r\n    const userStr = localStorage.getItem('user');\r\n    if (userStr) {\r\n      return JSON.parse(userStr);\r\n    }\r\n    return null;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…\r\napi.getUser = async (userId) => {\r\n  try {\r\n    console.log(`ğŸ‘¤ Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${userId}`);\r\n    \r\n    const response = await api.get(`/users/${userId}`);\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      message: response.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ${userId}:`, error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…'\r\n    };\r\n  }\r\n};\r\n\r\n// ÙÙŠ Ù…Ù„Ù api.jsØŒ Ø£Ø¶Ù Ù‡Ø°Ù‡ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª\r\napi.getCompletedRentalsForShift = async (shiftId, date) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ù„Ù„Ø´ÙŠÙØª ${shiftId} ÙÙŠ ØªØ§Ø±ÙŠØ® ${date}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          status: 'Ù…ÙƒØªÙ…Ù„',\r\n          start_date: date,\r\n          end_date: date,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 1:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø³Ø§Ø± Ø¨Ø¯ÙŠÙ„\r\n    try {\r\n      const response = await api.get('/rentals/completed-by-shift', {\r\n        params: {\r\n          shift_id: shiftId,\r\n          date: date\r\n        }\r\n      });\r\n      \r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data || [],\r\n          count: response.data?.length || 0\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 2:', error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙˆØªØµÙÙŠØªÙ‡Ø§ Ù…Ø­Ù„ÙŠØ§Ù‹\r\n    try {\r\n      const response = await api.get('/rentals', {\r\n        params: {\r\n          limit: 200\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        const filtered = response.data.filter(rental => \r\n          rental.shift_id == shiftId && \r\n          rental.status === 'Ù…ÙƒØªÙ…Ù„' &&\r\n          rental.start_time?.startsWith(date)\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: filtered,\r\n          count: filtered.length,\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('âš ï¸ ÙØ´Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© 3:', error.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: error.message\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…\r\napi.getTodayStats = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ“Š Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ… Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        branch_id: branchId,\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today\r\n      }\r\n    });\r\n    \r\n    if (response.success && response.data) {\r\n      const revenue = response.data.reduce((sum, rental) => \r\n        sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0), 0\r\n      );\r\n      \r\n      return {\r\n        success: true,\r\n        data: {\r\n          rentals: response.data,\r\n          count: response.data.length,\r\n          revenue: revenue,\r\n          date: today\r\n        }\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        rentals: [],\r\n        count: 0,\r\n        revenue: 0,\r\n        date: today\r\n      }\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…:', error);\r\n    return {\r\n      success: false,\r\n      data: {\r\n        rentals: [],\r\n        count: 0,\r\n        revenue: 0,\r\n        date: new Date().toISOString().split('T')[0]\r\n      }\r\n    };\r\n  }\r\n};\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…\r\napi.getCompletedRentalsToday = async () => {\r\n  try {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    \r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        status: 'Ù…ÙƒØªÙ…Ù„',\r\n        start_date: today,\r\n        end_date: today,\r\n        limit: 100\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n\r\n// ==================== ADMIN DASHBOARD ENDPOINTS ====================\r\n\r\n// 1. Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getAllActiveRentals = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\r\n    \r\n    const response = await api.get('/admin/rentals/active-all-branches');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || response.data?.length || 0,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAllActiveRentals:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/active\r\n    try {\r\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/active');\r\n      const altResponse = await api.get('/rentals/active', {\r\n        params: { limit: 100 }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        return {\r\n          success: true,\r\n          data: altResponse.data,\r\n          count: altResponse.data.length,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getTodayCompletedRentalsAllBranches = async () => {\r\n  try {\r\n    console.log('ğŸ“‹ [API] Ø¬Ù„Ø¨ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹');\r\n    \r\n    const response = await api.get('/admin/rentals/completed-today-all-branches');\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || response.data?.length || 0,\r\n        date: response.date,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getTodayCompletedRentalsAllBranches:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals/completed\r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals/completed');\r\n      \r\n      const altResponse = await api.get('/rentals/completed', {\r\n        params: {\r\n          start_date: today,\r\n          end_date: today,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        return {\r\n          success: true,\r\n          data: altResponse.data,\r\n          count: altResponse.data.length,\r\n          date: today,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      date: new Date().toISOString().split('T')[0],\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…'\r\n    };\r\n  }\r\n};\r\n\r\n// 3. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹\r\napi.getRecentRentalsAllBranches = async (limit = 50) => {\r\n  try {\r\n    console.log(`ğŸ“‹ [API] Ø¬Ù„Ø¨ Ø¢Ø®Ø± ${limit} ØªØ£Ø¬ÙŠØ± ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ±ÙˆØ¹`);\r\n    \r\n    const response = await api.get('/admin/rentals/recent-all-branches', {\r\n      params: { limit }\r\n    });\r\n    \r\n    if (response.success) {\r\n      return {\r\n        success: true,\r\n        data: response.data || [],\r\n        count: response.count || response.data?.length || 0,\r\n        message: response.message || 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      success: false,\r\n      data: [],\r\n      count: 0,\r\n      message: response.message || 'ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getRecentRentalsAllBranches:', error.message);\r\n    \r\n    // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: Ø¬Ù„Ø¨ Ù…Ù† Ù†Ù‚Ø·Ø© rentals\r\n    try {\r\n      console.log('ğŸ”„ [API] Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©: /rentals');\r\n      const altResponse = await api.get('/rentals', {\r\n        params: {\r\n          limit: limit,\r\n          order_by: 'start_time',\r\n          order_direction: 'DESC'\r\n        }\r\n      });\r\n      \r\n      if (altResponse.success && altResponse.data) {\r\n        return {\r\n          success: true,\r\n          data: altResponse.data,\r\n          count: altResponse.data.length,\r\n          message: 'ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª (Ø·Ø±ÙŠÙ‚Ø© Ø¨Ø¯ÙŠÙ„Ø©)',\r\n          fromCache: true\r\n        };\r\n      }\r\n    } catch (altError) {\r\n      console.warn('âš ï¸ [API] ÙØ´Ù„Øª Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:', altError.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: [],\r\n      count: 0,\r\n      message: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª'\r\n    };\r\n  }\r\n};\r\n\r\n// 4. Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª ÙØ±Ø¹ Ù…Ø­Ø¯Ø¯ (Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ø¹ Ù„Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª)\r\napi.getBranchById = async (branchId) => {\r\n  try {\r\n    console.log(`ğŸ” [API] Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰: Ù†Ù‚Ø·Ø© branches/by-id\r\n    try {\r\n      const response = await api.get(`/branches/by-id/${branchId}`);\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/by-id/${branchId}:`, error.message);\r\n    }\r\n    \r\n    // Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: Ù†Ù‚Ø·Ø© branches/:id\r\n    try {\r\n      const response = await api.get(`/branches/${branchId}`);\r\n      \r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn(`âš ï¸ [API] ÙØ´Ù„ /branches/${branchId}:`, error.message);\r\n    }\r\n    \r\n    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©\r\n    console.log(`ğŸ“¦ [API] Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00',\r\n        closing_time: '22:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error(`âŒ [API] Ø®Ø·Ø£ ÙÙŠ getBranchById:`, error.message);\r\n    \r\n    return {\r\n      success: true,\r\n      data: {\r\n        id: branchId,\r\n        name: `ÙØ±Ø¹ ${branchId}`,\r\n        city: 'Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©',\r\n        location: 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',\r\n        contact_phone: '01000000000',\r\n        opening_time: '09:00',\r\n        closing_time: '22:00',\r\n        is_active: 1\r\n      },\r\n      fromCache: true\r\n    };\r\n  }\r\n};\r\n\r\n// 5. Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±\r\napi.getAdminDashboardStats = async () => {\r\n  try {\r\n    console.log('ğŸ“Š [API] Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…Ø¯ÙŠØ±');\r\n    \r\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù†Ù‚Ø§Ø· Ù…ØªØ¹Ø¯Ø¯Ø©\r\n    const [branchesRes, activeRentalsRes, todayCompletedRes, recentRes] = await Promise.allSettled([\r\n      api.getBranches(),\r\n      api.getAllActiveRentals(),\r\n      api.getTodayCompletedRentalsAllBranches(),\r\n      api.getRecentRentalsAllBranches(10)\r\n    ]);\r\n    \r\n    const stats = {\r\n      totalBranches: 0,\r\n      totalActiveRentals: 0,\r\n      todayCompletedRentals: 0,\r\n      todayRevenue: 0,\r\n      recentRentals: []\r\n    };\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙØ±ÙˆØ¹\r\n    if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\r\n      stats.totalBranches = branchesRes.value.data?.length || 0;\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n    if (activeRentalsRes.status === 'fulfilled' && activeRentalsRes.value.success) {\r\n      stats.totalActiveRentals = activeRentalsRes.value.count || 0;\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n    if (todayCompletedRes.status === 'fulfilled' && todayCompletedRes.value.success) {\r\n      stats.todayCompletedRentals = todayCompletedRes.value.count || 0;\r\n      \r\n      // Ø­Ø³Ø§Ø¨ Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…\r\n      if (todayCompletedRes.value.data) {\r\n        stats.todayRevenue = todayCompletedRes.value.data.reduce((sum, rental) => {\r\n          return sum + (parseFloat(rental.final_amount) || parseFloat(rental.total_amount) || 0);\r\n        }, 0);\r\n      }\r\n    }\r\n    \r\n    // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n    if (recentRes.status === 'fulfilled' && recentRes.value.success) {\r\n      stats.recentRentals = recentRes.value.data || [];\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: stats\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('âŒ [API] Ø®Ø·Ø£ ÙÙŠ getAdminDashboardStats:', error.message);\r\n    \r\n    return {\r\n      success: false,\r\n      data: {\r\n        totalBranches: 0,\r\n        totalActiveRentals: 0,\r\n        todayCompletedRentals: 0,\r\n        todayRevenue: 0,\r\n        recentRentals: []\r\n      }\r\n    };\r\n  }\r\n};\r\n\r\n// Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\napi.getRecentRentals = async (limit = 30) => {\r\n  try {\r\n    const response = await api.get('/rentals', {\r\n      params: {\r\n        limit: limit,\r\n        order_by: 'start_time',\r\n        order_direction: 'DESC'\r\n      }\r\n    });\r\n    \r\n    return response;\r\n  } catch (error) {\r\n    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:', error);\r\n    return { success: false, data: [] };\r\n  }\r\n};\r\n// ==================== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ====================\r\n\r\nconst savedToken = localStorage.getItem('token');\r\nif (savedToken) {\r\n  api.setToken(savedToken);\r\n}\r\n\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}