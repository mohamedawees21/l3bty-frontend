{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\employee\\\\Rentals.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\nimport { Search, Download, RefreshCw, Calendar, DollarSign, TrendingUp, BarChart3, FileText, CheckCircle, XCircle, Eye, Printer, Clock, Users, ChevronLeft, ChevronRight, AlertCircle, Check, X, Plus, Minus, Calculator, Lock, Unlock, Edit, Trash2, User, Gamepad2, CreditCard, Calendar as CalendarIcon, Clock as ClockIcon, Phone, Mail, MapPin, Package, Building, Zap, Filter, ShoppingCart, Loader2 } from 'lucide-react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport './Rentals.css';\n\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (!amount && amount !== 0) return '0 Ø¬.Ù…';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst validatePhone = phone => {\n  if (!phone) return false;\n  const cleaned = phone.replace(/\\D/g, '');\n  return cleaned.length === 11 && cleaned.startsWith('01');\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  return Math.round((end - start) / (1000 * 60));\n};\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\nconst GamesGridComponent = ({\n  games,\n  branchId,\n  onSelectGame,\n  loading\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [availableGames, setAvailableGames] = useState([]);\n  useEffect(() => {\n    if (!branchId || !games) return;\n    console.log(`ðŸŽ® ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}`);\n\n    // ðŸ”§ **ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ÙÙ‚Ø·**\n    const branchGames = games.filter(game => {\n      if (!game) return false;\n      const gameBranchId = parseInt(game.branch_id);\n      const currentBranchId = parseInt(branchId);\n      return gameBranchId === currentBranchId;\n    });\n    console.log(`ðŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}: ${branchGames.length}`);\n    setAvailableGames(branchGames);\n  }, [games, branchId]);\n  const getGameImage = useCallback(game => {\n    if (!game) return '/images/default-game.jpg';\n    const imageMap = {\n      'Ø¯Ø±ÙŠÙØª ÙƒØ§Ø±': '/images/Driftcar.jpg',\n      'Ù‡Ø§ÙØ± Ø¨ÙˆØ±Ø¯': '/images/Hoverboard.jpg',\n      'Ø³ÙƒÙˆØªØ±': '/images/Scooter.jpg',\n      'Ø¹Ø±Ø¨Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\n      'Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Motor.jpg',\n      'Ù‡Ø§Ø±Ù„ÙŠ': '/images/harley.jpg',\n      'Ø³ÙŠØ¬ÙˆØ§ÙŠ': '/images/Segway.jpg',\n      'ÙƒØ±Ø§Ø²ÙŠ ÙƒØ§Ø±': '/images/Ninebot.jpg',\n      'Ø³ÙƒÙŠØª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Skate.jpg',\n      'ØªØ±Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†': '/images/Trampoline.jpg',\n      'Ù…Ø­Ø§ÙƒÙŠ': '/images/Simulator.jpg',\n      'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\n      'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©': '/images/Motor.jpg',\n      'hoverboard': '/images/Hoverboard.jpg',\n      'Ø³ÙƒÙŠØª': '/images/Skate.jpg'\n    };\n\n    // Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©: image_url Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n    if (game.image_url && game.image_url !== 'default-game.jpg' && game.image_url !== '') {\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\n    }\n\n    // Ø§Ù„Ø«Ø§Ù†ÙŠ: external_image_url\n    if (game.external_image_url) {\n      return game.external_image_url;\n    }\n\n    // Ø§Ù„Ø«Ø§Ù„Ø«: Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©\n    const imageName = imageMap[game.name] || '/images/default-game.jpg';\n    return imageName;\n  }, []);\n  const filteredGames = useMemo(() => {\n    if (!availableGames.length) return [];\n    return availableGames.filter(game => {\n      if (!game) return false;\n      const gameName = game.name || '';\n      const gameCategory = game.category || '';\n      const gameDescription = game.description || '';\n      const matchesSearch = gameName.toLowerCase().includes(searchTerm.toLowerCase()) || gameCategory.toLowerCase().includes(searchTerm.toLowerCase()) || gameDescription.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\n      return matchesSearch && matchesCategory;\n    });\n  }, [availableGames, searchTerm, selectedCategory]);\n  const categories = useMemo(() => {\n    if (!availableGames.length) return ['all'];\n    const cats = new Set(['all']);\n    availableGames.forEach(game => {\n      if (game && game.category) {\n        cats.add(game.category);\n      }\n    });\n    return Array.from(cats);\n  }, [availableGames]);\n  if (!branchId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83C\\uDFEC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0627\\u0644\\u0631\\u062C\\u0627\\u0621 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u064A\\u062C\\u0628 \\u062A\\u062D\\u062F\\u064A\\u062F \\u0641\\u0631\\u0639 \\u0644\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"games-grid-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"games-grid-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83C\\uDFAE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", availableGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"branch-badge\",\n          children: [\"\\u0627\\u0644\\u0641\\u0631\\u0639 #\", branchId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u0627\\u0628\\u062D\\u062B \\u0639\\u0646 \\u0644\\u0639\\u0628\\u0629...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSearchTerm(''),\n            className: \"clear-search\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), categories.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            className: \"filter-select\",\n            children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat === 'all' ? 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª' : cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), availableGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83C\\uDFAE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0644\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0641\\u0631\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0642\\u0645 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062C\\u062F\\u064A\\u062F\\u0629 \\u0644\\u0644\\u0641\\u0631\\u0639 \\u0645\\u0646 \\u0635\\u0641\\u062D\\u0629 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => window.open('/branches', '_blank'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }, this) : filteredGames.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83D\\uDD0D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u062A\\u0637\\u0627\\u0628\\u0642 \\\"\", searchTerm, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => {\n          setSearchTerm('');\n          setSelectedCategory('all');\n        },\n        children: \"\\u0639\\u0631\\u0636 \\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: availableGames.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0645\\u062A \\u062A\\u0635\\u0641\\u064A\\u062A\\u0647\\u0627:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: filteredGames.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), selectedCategory !== 'all' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0641\\u0626\\u0629:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: selectedCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-grid\",\n        children: filteredGames.map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-card\",\n          onClick: () => onSelectGame(game),\n          title: `Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© ${game.name} Ù„Ù„ØªØ£Ø¬ÙŠØ±`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getGameImage(game),\n              alt: game.name,\n              className: \"game-image\",\n              loading: \"lazy\",\n              onError: e => {\n                console.warn(`ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ${game.name}`);\n                e.target.src = '/images/default-game.jpg';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-status-badge available\",\n              children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0645\\u062A\\u0627\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"game-name\",\n              children: game.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), game.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"game-description\",\n              children: game.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-category\",\n                children: game.category || 'Ø¹Ø§Ù…'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-price\",\n                children: [formatCurrency(game.price_per_15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-id\",\n                children: [\"#\", game.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"game-price-hour\",\n                children: [formatCurrency(game.price_per_hour || game.price_per_15min * 4), \" / \\u0633\\u0627\\u0639\\u0629\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"select-game-btn\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-icon\",\n                  children: \"\\u2795\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"btn-text\",\n                  children: \"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this)]\n        }, game.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n};\n_s(GamesGridComponent, \"wWPhd4mz4bf99YZdvuFppRiB9WA=\");\n_c = GamesGridComponent;\nGamesGridComponent.displayName = 'GamesGrid';\nconst GamesGrid = /*#__PURE__*/React.memo(GamesGridComponent);\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ ====================\n_c2 = GamesGrid;\nconst MultiRentalModalComponent = ({\n  show,\n  onClose,\n  selectedGames,\n  onConfirmRental,\n  currentShift\n}) => {\n  _s2();\n  const [customerInfo, setCustomerInfo] = useState({\n    name: '',\n    phone: '',\n    email: '',\n    address: ''\n  });\n  const [rentalItems, setRentalItems] = useState([]);\n  const [paymentMethod, setPaymentMethod] = useState('ÙƒØ§Ø´');\n  const [paymentStatus, setPaymentStatus] = useState('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\n  const [notes, setNotes] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  useEffect(() => {\n    if (show && selectedGames.length > 0) {\n      const items = selectedGames.map(game => ({\n        id: Date.now() + Math.random(),\n        gameId: game.id,\n        gameName: game.name,\n        gameImage: '/images/default-game.jpg',\n        rentalType: 'fixed',\n        duration: 15,\n        pricePer15min: game.price_per_15min || 100,\n        quantity: 1,\n        notes: ''\n      }));\n      setRentalItems(items);\n    }\n  }, [show, selectedGames]);\n  const updateRentalItem = (id, updates) => {\n    setRentalItems(items => items.map(item => item.id === id ? {\n      ...item,\n      ...updates\n    } : item));\n  };\n  const removeRentalItem = id => {\n    setRentalItems(items => items.filter(item => item.id !== id));\n  };\n  const calculateItemPrice = useCallback(item => {\n    if (item.rentalType === 'open') return 0;\n    const units = Math.ceil(item.duration / 15);\n    return item.pricePer15min * units * item.quantity || 0;\n  }, []);\n  const calculateTotal = useCallback(() => {\n    return rentalItems.reduce((total, item) => {\n      return total + calculateItemPrice(item);\n    }, 0);\n  }, [rentalItems, calculateItemPrice]);\n  const handleSubmit = async () => {\n    if (!customerInfo.name || !customerInfo.phone) {\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');\n      return;\n    }\n    if (!validatePhone(customerInfo.phone)) {\n      alert('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…Ø§Ù‹ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01');\n      return;\n    }\n    if (rentalItems.length === 0) {\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ØªØ£Ø¬ÙŠØ±');\n      return;\n    }\n    setIsSubmitting(true);\n    try {\n      const rentalData = {\n        customerInfo,\n        rentalItems,\n        paymentMethod,\n        paymentStatus,\n        notes,\n        totalAmount: calculateTotal(),\n        shiftId: currentShift === null || currentShift === void 0 ? void 0 : currentShift.id,\n        timestamp: new Date().toISOString()\n      };\n      await onConfirmRental(rentalData);\n\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬\n      setCustomerInfo({\n        name: '',\n        phone: '',\n        email: '',\n        address: ''\n      });\n      setRentalItems([]);\n      setPaymentMethod('ÙƒØ§Ø´');\n      setPaymentStatus('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\n      setNotes('');\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal multi-rental-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"modal-icon\",\n              children: \"\\uD83C\\uDFAF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), \"\\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F\", currentShift && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-badge\",\n              children: [\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A #\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"modal-subtitle\",\n            children: [\"\\u0625\\u0636\\u0627\\u0641\\u0629 \", selectedGames.length, \" \\u0644\\u0639\\u0628\\u0629 \\u0644\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"customer-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.name,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    name: e.target.value\n                  }),\n                  placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\",\n                  className: \"form-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  value: customerInfo.phone,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    phone: e.target.value\n                  }),\n                  placeholder: \"01xxxxxxxxx\",\n                  maxLength: 11,\n                  className: \"form-input\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 17\n              }, this), customerInfo.phone && !validatePhone(customerInfo.phone) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: \"\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u063A\\u064A\\u0631 \\u0635\\u062D\\u064A\\u062D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(Mail, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: customerInfo.email,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    email: e.target.value\n                  }),\n                  placeholder: \"email@example.com\",\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 531,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-with-icon\",\n                children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: customerInfo.address,\n                  onChange: e => setCustomerInfo({\n                    ...customerInfo,\n                    address: e.target.value\n                  }),\n                  placeholder: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\",\n                  className: \"form-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rentals-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, this), \"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A (\", rentalItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), rentalItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-image-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.gameImage,\n                    alt: item.gameName,\n                    className: \"item-image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: item.gameName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-price\",\n                    children: [formatCurrency(item.pricePer15min), \" / 15 \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => removeRentalItem(item.id),\n                className: \"remove-item-btn\",\n                title: \"\\u0625\\u0632\\u0627\\u0644\\u0629 \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629\",\n                disabled: isSubmitting,\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"options-grid\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"toggle-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'fixed',\n                        duration: 15\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 589,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u062B\\u0627\\u0628\\u062A\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        rentalType: 'open',\n                        duration: 0\n                      }),\n                      disabled: isSubmitting,\n                      children: [/*#__PURE__*/_jsxDEV(Unlock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 598,\n                        columnNumber: 27\n                      }, this), \"\\u0648\\u0642\\u062A \\u0645\\u0641\\u062A\\u0648\\u062D\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 21\n                }, this), item.rentalType === 'fixed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"duration-options\",\n                    children: [15, 30, 45, 60, 90, 120].map(minutes => /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: `duration-btn ${item.duration === minutes ? 'active' : ''}`,\n                      onClick: () => updateRentalItem(item.id, {\n                        duration: minutes\n                      }),\n                      disabled: isSubmitting,\n                      children: [minutes, \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                    }, minutes, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 605,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"option-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 624,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"quantity-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: Math.max(1, item.quantity - 1)\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Minus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 634,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 626,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"quantity-value\",\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 636,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => updateRentalItem(item.id, {\n                        quantity: item.quantity + 1\n                      }),\n                      className: \"quantity-btn\",\n                      disabled: isSubmitting,\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 645,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 637,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-notes\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u062E\\u0627\\u0635\\u0629:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: item.notes,\n                  onChange: e => updateRentalItem(item.id, {\n                    notes: e.target.value\n                  }),\n                  placeholder: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u062E\\u0627\\u0635\\u0629 \\u0628\\u0647\\u0630\\u0647 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629...\",\n                  className: \"notes-input\",\n                  disabled: isSubmitting\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-summary\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-label\",\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 664,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"summary-value\",\n                  children: item.rentalType === 'open' ? 'â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' : formatCurrency(calculateItemPrice(item))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 663,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)), rentalItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-items\",\n            children: [/*#__PURE__*/_jsxDEV(Package, {\n              size: 48\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0641\\u064A \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"\\u0642\\u0645 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u0646 \\u0627\\u0644\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0631\\u0626\\u064A\\u0633\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 679,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 693,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentMethod,\n                onChange: e => setPaymentMethod(e.target.value),\n                className: \"form-input\",\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0643\\u0627\\u0634\",\n                  children: \"\\uD83D\\uDCB5 \\u0646\\u0642\\u062F\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 700,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0628\\u0637\\u0627\\u0642\\u0629\",\n                  children: \"\\uD83D\\uDCB3 \\u0628\\u0637\\u0627\\u0642\\u0629 \\u0627\\u0626\\u062A\\u0645\\u0627\\u0646\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062D\\u0641\\u0638\\u0629\",\n                  children: \"\\uD83D\\uDCF1 \\u0645\\u062D\\u0641\\u0638\\u0629 \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062A\\u062D\\u0648\\u064A\\u0644\",\n                  children: \"\\uD83C\\uDFE6 \\u062A\\u062D\\u0648\\u064A\\u0644 \\u0628\\u0646\\u0643\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: paymentStatus,\n                onChange: e => setPaymentStatus(e.target.value),\n                className: \"form-input\",\n                disabled: isSubmitting,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\",\n                  children: \"\\u23F3 \\u0639\\u0646\\u062F \\u0627\\u0644\\u0625\\u0646\\u0647\\u0627\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062F\\u0641\\u0648\\u0639\",\n                  children: \"\\u2705 \\u0645\\u062F\\u0641\\u0648\\u0639\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u062C\\u0632\\u0626\\u064A\",\n                  children: \"\\uD83D\\uDCB0 \\u0645\\u062F\\u0641\\u0648\\u0639 \\u062C\\u0632\\u0626\\u064A\\u0627\\u064B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\\u0645\\u062C\\u0627\\u0646\\u064A\",\n                  children: \"\\uD83C\\uDF81 \\u0645\\u062C\\u0627\\u0646\\u064A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group full-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: notes,\n                onChange: e => setNotes(e.target.value),\n                placeholder: \"\\u0623\\u064A \\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629 \\u0639\\u0646 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631...\",\n                rows: \"3\",\n                className: \"form-textarea\",\n                disabled: isSubmitting\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"section-title\",\n            children: [/*#__PURE__*/_jsxDEV(Calculator, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 15\n            }, this), \"\\u0627\\u0644\\u0645\\u0644\\u062E\\u0635 \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value\",\n                children: rentalItems.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0642\\u0637\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value\",\n                children: rentalItems.reduce((sum, item) => sum + item.quantity, 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 751,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 757,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"summary-value total-amount\",\n                children: formatCurrency(calculateTotal())\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 758,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"timestamp\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatDateTime(new Date().toISOString())\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 13\n          }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-label\",\n              children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-value\",\n              children: [\"#\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 773,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"btn btn-secondary\",\n            disabled: isSubmitting,\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 15\n            }, this), \"\\u0625\\u0644\\u063A\\u0627\\u0621\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSubmit,\n            className: \"btn btn-primary\",\n            disabled: isSubmitting || rentalItems.length === 0,\n            children: isSubmitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"spinner\",\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 19\n              }, this), \"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u0645\\u0639\\u0627\\u0644\\u062C\\u0629...\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 801,\n                columnNumber: 19\n              }, this), \"\\u0628\\u062F\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 789,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 458,\n    columnNumber: 5\n  }, this);\n};\n_s2(MultiRentalModalComponent, \"P+V4/lEhHmm+YD0zcU8I4hA1WUE=\");\n_c3 = MultiRentalModalComponent;\nMultiRentalModalComponent.displayName = 'MultiRentalModal';\nconst MultiRentalModal = /*#__PURE__*/React.memo(MultiRentalModalComponent);\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ====================\n_c4 = MultiRentalModal;\nconst ActiveRentalsTableComponent = ({\n  rentals,\n  onAction,\n  onRefresh,\n  loading\n}) => {\n  _s3();\n  const [countdowns, setCountdowns] = useState({});\n  useEffect(() => {\n    const updateCountdowns = () => {\n      const newCountdowns = {};\n      rentals.forEach(rental => {\n        if (!rental) return;\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n        if (!isOpenTime && rental.rental_type !== 'open') {\n          const endTime = new Date(rental.start_time);\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n          const now = new Date();\n          if (now > endTime) {\n            newCountdowns[rental.id] = 'â° Ø§Ù†ØªÙ‡Ù‰';\n          } else {\n            const diffMs = endTime - now;\n            const minutes = Math.floor(diffMs / 60000);\n            const seconds = Math.floor(diffMs % 60000 / 1000);\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\n          }\n        } else {\n          // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­\n          const startTime = new Date(rental.start_time);\n          const now = new Date();\n          const diffMs = now - startTime;\n          const minutes = Math.floor(diffMs / 60000);\n          const seconds = Math.floor(diffMs % 60000 / 1000);\n          newCountdowns[rental.id] = `â³ ${minutes}:${seconds.toString().padStart(2, '0')}`;\n        }\n      });\n      setCountdowns(newCountdowns);\n    };\n    updateCountdowns();\n    const interval = setInterval(updateCountdowns, 1000);\n    return () => clearInterval(interval);\n  }, [rentals]);\n  const getRentalTimeInfo = useCallback(rental => {\n    if (!rental) return {\n      type: '',\n      remaining: ''\n    };\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      return {\n        type: 'â³ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­',\n        remaining: countdowns[rental.id] || 'â³ 0:00'\n      };\n    }\n    const endTime = new Date(rental.start_time);\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n    const now = new Date();\n    if (now > endTime) {\n      return {\n        type: 'â° Ø§Ù†ØªÙ‡Ù‰',\n        remaining: 'â° 0:00'\n      };\n    }\n    return {\n      type: `${rental.duration_minutes} Ø¯Ù‚ÙŠÙ‚Ø©`,\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\n    };\n  }, [countdowns]);\n  const calculateRemainingMinutes = useCallback(rental => {\n    if (!rental) return null;\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) return null;\n    const endTime = new Date(rental.start_time);\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\n    const now = new Date();\n    return Math.max(0, Math.floor((endTime - now) / 60000));\n  }, []);\n  const calculateRentalAmount = useCallback(rental => {\n    if (!rental) return formatCurrency(0);\n    if (rental.total_amount && rental.total_amount > 0) {\n      return formatCurrency(rental.total_amount);\n    }\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n    if (isOpenTime) {\n      const startTime = new Date(rental.start_time);\n      const now = new Date();\n      const minutes = Math.floor((now - startTime) / 60000);\n      const units = Math.ceil(minutes / 15);\n      const pricePer15Min = rental.price_per_15min || 100;\n      return formatCurrency(units * pricePer15Min);\n    }\n    return formatCurrency(rental.total_amount || 0);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"active-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 930,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 929,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 928,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"active-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\uD83D\\uDD25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 941,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", rentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onRefresh,\n          className: \"btn btn-sm btn-secondary\",\n          disabled: loading,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 13\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 947,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 946,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 939,\n      columnNumber: 7\n    }, this), rentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\u23F1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 960,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0627\\u0628\\u062F\\u0623 \\u062A\\u0623\\u062C\\u064A\\u0631 \\u062C\\u062F\\u064A\\u062F \\u0645\\u0646 \\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 959,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"rentals-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 970,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 972,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 974,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 975,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 976,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rentals.map(rental => {\n              if (!rental) return null;\n              const timeInfo = getRentalTimeInfo(rental);\n              const remainingMinutes = calculateRemainingMinutes(rental);\n              const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: timeInfo.type === 'â° Ø§Ù†ØªÙ‡Ù‰' ? 'expired-rental' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"rental-number\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: [\"#\", rental.rental_number || rental.id]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 993,\n                    columnNumber: 25\n                  }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge badge-warning\",\n                    children: \"\\u0645\\u0641\\u062A\\u0648\\u062D\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 995,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 992,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-cell\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-name\",\n                      children: [/*#__PURE__*/_jsxDEV(User, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1001,\n                        columnNumber: 29\n                      }, this), rental.customer_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1000,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-phone\",\n                      children: [/*#__PURE__*/_jsxDEV(Phone, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1005,\n                        columnNumber: 29\n                      }, this), rental.customer_phone || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1004,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 999,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 998,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"game-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1011,\n                    columnNumber: 25\n                  }, this), rental.game_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: timeInfo.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1014,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"countdown-cell\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1019,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: timeInfo.remaining.startsWith('â°') ? 'expired' : '',\n                      children: timeInfo.remaining\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1020,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1018,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1017,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"amount-cell\",\n                  children: calculateRentalAmount(rental)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'pending'}`,\n                    children: rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1031,\n                        columnNumber: 33\n                      }, this), \" \\u0645\\u062F\\u0641\\u0648\\u0639\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(Clock, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1032,\n                        columnNumber: 33\n                      }, this), \" \", rental.payment_status || 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡']\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1029,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1028,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"action-buttons\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('details', rental),\n                      className: \"action-btn view-btn\",\n                      title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n                      children: /*#__PURE__*/_jsxDEV(Eye, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1043,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1038,\n                      columnNumber: 27\n                    }, this), isOpenTime && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('end', rental),\n                      className: \"action-btn end-btn\",\n                      title: \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                      children: /*#__PURE__*/_jsxDEV(Clock, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1052,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1047,\n                      columnNumber: 29\n                    }, this), !isOpenTime && remainingMinutes !== null && remainingMinutes < 30 && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('extend', rental),\n                      className: \"action-btn extend-btn\",\n                      title: \"\\u062A\\u0645\\u062F\\u064A\\u062F \\u0627\\u0644\\u0648\\u0642\\u062A\",\n                      children: /*#__PURE__*/_jsxDEV(Plus, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1063,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1058,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => onAction('cancel', rental),\n                      className: \"action-btn cancel-btn\",\n                      title: \"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\",\n                      children: /*#__PURE__*/_jsxDEV(XCircle, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1072,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1067,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1036,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 989,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 965,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 938,\n    columnNumber: 5\n  }, this);\n};\n_s3(ActiveRentalsTableComponent, \"PRjeCVmKaAQHN5nAk8OAJWU7mwo=\");\n_c5 = ActiveRentalsTableComponent;\nActiveRentalsTableComponent.displayName = 'ActiveRentalsTable';\nconst ActiveRentalsTable = /*#__PURE__*/React.memo(ActiveRentalsTableComponent);\n\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ====================\n_c6 = ActiveRentalsTable;\nconst CompletedRentalsTableComponent = ({\n  rentals,\n  onExport,\n  onPrint,\n  loading\n}) => {\n  _s4();\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\n  const [filteredRentals, setFilteredRentals] = useState([]);\n  useEffect(() => {\n    const filterRentals = () => {\n      if (!rentals || rentals.length === 0) {\n        setFilteredRentals([]);\n        return;\n      }\n      const now = new Date();\n      let filtered = [...rentals];\n      switch (selectedPeriod) {\n        case 'today':\n          {\n            const today = now.toISOString().split('T')[0];\n            filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n            break;\n          }\n        case 'week':\n          {\n            const weekAgo = new Date();\n            weekAgo.setDate(weekAgo.getDate() - 7);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\n            break;\n          }\n        case 'month':\n          {\n            const monthAgo = new Date();\n            monthAgo.setMonth(monthAgo.getMonth() - 1);\n            filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\n            break;\n          }\n        default:\n          // \"all\" - no filtering\n          break;\n      }\n      setFilteredRentals(filtered);\n    };\n    filterRentals();\n  }, [rentals, selectedPeriod]);\n  const totalRevenue = useMemo(() => {\n    return filteredRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n  }, [filteredRentals]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"completed-rentals-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"spinner\",\n          size: 32\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"completed-rentals-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1157,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"section-count\",\n          children: [\"(\", filteredRentals.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"period-selector\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedPeriod,\n            onChange: e => setSelectedPeriod(e.target.value),\n            className: \"period-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"today\",\n              children: \"\\u0627\\u0644\\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"week\",\n              children: \"\\u0622\\u062E\\u0631 7 \\u0623\\u064A\\u0627\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"month\",\n              children: \"\\u0622\\u062E\\u0631 30 \\u064A\\u0648\\u0645\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"\\u0627\\u0644\\u0643\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1172,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onExport(filteredRentals, selectedPeriod),\n          className: \"btn btn-sm btn-success\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Download, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1181,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0635\\u062F\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onPrint(filteredRentals, selectedPeriod),\n          className: \"btn btn-sm btn-primary\",\n          disabled: filteredRentals.length === 0,\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1190,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1162,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1155,\n      columnNumber: 7\n    }, this), filteredRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83D\\uDCED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0645 \\u062A\\u0643\\u062A\\u0645\\u0644 \\u0623\\u064A \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0641\\u064A \\u0627\\u0644\\u0641\\u062A\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062D\\u062F\\u062F\\u0629\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1197,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"revenue-summary\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-icon\",\n            children: /*#__PURE__*/_jsxDEV(DollarSign, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-value\",\n              children: formatCurrency(totalRevenue)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-period\",\n              children: [selectedPeriod === 'today' && 'Ù„Ù„ÙŠÙˆÙ…', selectedPeriod === 'week' && 'Ù„Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…', selectedPeriod === 'month' && 'Ù„Ø¢Ø®Ø± 30 ÙŠÙˆÙ…', selectedPeriod === 'all' && 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1212,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1204,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"rentals-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1228,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1229,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1231,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1233,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1234,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1226,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: filteredRentals.map(rental => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"#\", rental.rental_number || rental.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"customer-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-name\",\n                      children: rental.customer_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1243,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"customer-phone\",\n                      children: rental.customer_phone\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1244,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1242,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1241,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: rental.game_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1247,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatTime(rental.start_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatTime(rental.end_time)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [calculateDuration(rental.start_time, rental.end_time), \" \\u062F\\u0642\\u064A\\u0642\\u0629\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1250,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"amount-cell\",\n                  children: formatCurrency(rental.total_amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1251,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'partial'}`,\n                    children: rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1255,\n                        columnNumber: 33\n                      }, this), \" \\u0645\\u062F\\u0641\\u0648\\u0639\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1256,\n                        columnNumber: 33\n                      }, this), \" \", rental.payment_status]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1253,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1252,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1154,\n    columnNumber: 5\n  }, this);\n};\n_s4(CompletedRentalsTableComponent, \"0KxENZR8Dv3USD/MihnpPE8wuRM=\");\n_c7 = CompletedRentalsTableComponent;\nCompletedRentalsTableComponent.displayName = 'CompletedRentalsTable';\nconst CompletedRentalsTable = /*#__PURE__*/React.memo(CompletedRentalsTableComponent);\n\n// ==================== Ù…ÙƒÙˆÙ† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ====================\n_c8 = CompletedRentalsTable;\nconst DashboardStatsComponent = ({\n  stats,\n  currentShift,\n  onStartShift,\n  onEndShift,\n  loading\n}) => {\n  _s5();\n  const shiftTime = useMemo(() => {\n    if (!currentShift || !currentShift.start_time) return '--:--';\n    return formatTime(currentShift.start_time);\n  }, [currentShift]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-stats\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [1, 2, 3, 4].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card skeleton\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"skeleton-loader\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1289,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1288,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1285,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-stats\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card primary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Gamepad2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1302,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.availableGames || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0645\\u062A\\u0627\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [\"\\u0645\\u0646 \\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \", stats.totalGames || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1300,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card success\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Zap, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.activeRentals || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1316,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0646\\u0634\\u0637\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: \"\\u0642\\u064A\\u062F \\u0627\\u0644\\u062A\\u0634\\u063A\\u064A\\u0644 \\u0627\\u0644\\u0622\\u0646\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card warning\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1324,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: formatCurrency(stats.todayRevenue || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0625\\u064A\\u0631\\u0627\\u062F \\u0627\\u0644\\u064A\\u0648\\u0645\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [stats.todayRentals || 0, \" \\u062A\\u0623\\u062C\\u064A\\u0631\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card info shift-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon\",\n          children: /*#__PURE__*/_jsxDEV(Clock, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1335,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: currentShift ? `#${currentShift.id}` : '--'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A \\u0627\\u0644\\u062D\\u0627\\u0644\\u064A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtext\",\n            children: [\"\\u0628\\u062F\\u0623 \", shiftTime]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-actions\",\n            children: !currentShift ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onStartShift,\n              className: \"btn btn-sm btn-success\",\n              children: [/*#__PURE__*/_jsxDEV(Zap, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1346,\n                columnNumber: 19\n              }, this), \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1345,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: onEndShift,\n              className: \"btn btn-sm btn-warning\",\n              children: [/*#__PURE__*/_jsxDEV(Lock, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1351,\n                columnNumber: 19\n              }, this), \"\\u0625\\u0646\\u0647\\u0627\\u0621 \\u0634\\u064A\\u0641\\u062A\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1350,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1333,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1299,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1298,\n    columnNumber: 5\n  }, this);\n};\n_s5(DashboardStatsComponent, \"D36XyDzUsawRo/CfXrROsZabWAU=\");\n_c9 = DashboardStatsComponent;\nDashboardStatsComponent.displayName = 'DashboardStats';\nconst DashboardStats = /*#__PURE__*/React.memo(DashboardStatsComponent);\n\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\n_c0 = DashboardStats;\nconst Rentals = () => {\n  _s6();\n  const {\n    user\n  } = useAuth();\n  const isManager = (user === null || user === void 0 ? void 0 : user.role) === 'admin' || (user === null || user === void 0 ? void 0 : user.role) === 'branch_manager';\n\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\n  const [loading, setLoading] = useState({\n    all: true,\n    games: false,\n    rentals: false,\n    shift: false,\n    stats: false\n  });\n  const [error, setError] = useState(null);\n  const [games, setGames] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [currentShift, setCurrentShift] = useState(null);\n\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©\n  const [selectedGames, setSelectedGames] = useState([]);\n  const [showRentalModal, setShowRentalModal] = useState(false);\n\n  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n  const [stats, setStats] = useState({\n    availableGames: 0,\n    totalGames: 0,\n    activeRentals: 0,\n    todayRevenue: 0,\n    todayRentals: 0\n  });\n\n  // Refs Ù„Ù„ØªØ­ÙƒÙ…\n  const loadingRef = useRef(false);\n  const lastLoadTimeRef = useRef(0);\n\n  // ==================== Ø¥ØµÙ„Ø§Ø­ Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\n\n  const loadGames = async (force = false) => {\n    if (loading.games && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      games: true\n    }));\n    try {\n      const response = await api.get('/games', {\n        params: {\n          branch_id: user === null || user === void 0 ? void 0 : user.branch_id,\n          is_active: 1\n        }\n      });\n      if (response.success && response.data) {\n        // ðŸ”§ **ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ÙÙ‚Ø·**\n        const branchGames = response.data.filter(game => {\n          if (!game) return false;\n          const gameBranchId = parseInt(game.branch_id);\n          const currentBranchId = parseInt(user === null || user === void 0 ? void 0 : user.branch_id);\n\n          // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ§Ø¨Ø¹Ø© Ù„Ù„ÙØ±Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ\n          return gameBranchId === currentBranchId;\n        });\n        setGames(branchGames);\n\n        // ðŸ”§ **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø© (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„ÙØ±Ø¹ ØªØ¹ØªØ¨Ø± Ù…ØªØ§Ø­Ø©)**\n        setStats(prev => ({\n          ...prev,\n          availableGames: branchGames.length,\n          totalGames: branchGames.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${branchGames.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${user === null || user === void 0 ? void 0 : user.branch_id}`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        games: false\n      }));\n    }\n  };\n  const loadActiveRentals = useCallback(async (force = false) => {\n    if (loading.rentals && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      rentals: true\n    }));\n    try {\n      const response = await api.get('/rentals/active');\n      if (response.success && response.data) {\n        setActiveRentals(response.data);\n        setStats(prev => ({\n          ...prev,\n          activeRentals: response.data.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        rentals: false\n      }));\n    }\n  }, []);\n  const loadCurrentShift = useCallback(async (force = false) => {\n    if (loading.shift && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      shift: true\n    }));\n    try {\n      const response = await api.get('/shifts/simple');\n      if (response.success) {\n        if (response.data) {\n          setCurrentShift(response.data);\n          localStorage.setItem('current_shift', JSON.stringify(response.data));\n          console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\n        } else {\n          setCurrentShift(null);\n          localStorage.removeItem('current_shift');\n          console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·');\n        }\n      }\n    } catch (error) {\n      console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error);\n      setCurrentShift(null);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  }, []);\n  const loadStats = useCallback(async (force = false) => {\n    if (loading.stats && !force) return;\n    setLoading(prev => ({\n      ...prev,\n      stats: true\n    }));\n    try {\n      const response = await api.get('/dashboard/stats/simple');\n      if (response.success && response.data) {\n        setStats(prev => ({\n          ...prev,\n          ...response.data\n        }));\n        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        stats: false\n      }));\n    }\n  }, []);\n  const loadCompletedRentals = useCallback(async (force = false) => {\n    if (!isManager) return;\n    try {\n      const today = new Date().toISOString().split('T')[0];\n      const response = await api.get('/rentals', {\n        params: {\n          branch_id: user.branch_id,\n          status: 'Ù…ÙƒØªÙ…Ù„',\n          start_date: today,\n          limit: 100\n        }\n      });\n      if (response.success && response.data) {\n        setCompletedRentals(response.data);\n        const todayRentals = response.data.filter(r => r.end_time && r.end_time.split('T')[0] === today);\n        const todayRevenue = todayRentals.reduce((sum, rental) => sum + (parseFloat(rental.total_amount) || 0), 0);\n        setStats(prev => ({\n          ...prev,\n          todayRevenue: todayRevenue,\n          todayRentals: todayRentals.length\n        }));\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„`);\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\n    }\n  }, [user.branch_id, isManager]);\n  const loadAllData = useCallback(async (force = false) => {\n    // Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ±Ø± Ø®Ù„Ø§Ù„ 3 Ø«ÙˆØ§Ù†ÙŠ\n    const now = Date.now();\n    if (now - lastLoadTimeRef.current < 3000 && !force) {\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù…ØªÙƒØ±Ø± Ø¬Ø¯Ø§Ù‹');\n      return;\n    }\n    if (loadingRef.current && !force) {\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹');\n      return;\n    }\n    loadingRef.current = true;\n    lastLoadTimeRef.current = now;\n    setLoading(prev => ({\n      ...prev,\n      all: true\n    }));\n    setError(null);\n    try {\n      console.log('ðŸ”„ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        throw new Error('ÙŠØ¬Ø¨ ØªØ¹ÙŠÙŠÙ† ÙØ±Ø¹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹');\n      }\n\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ\n      await Promise.allSettled([loadGames(true), loadActiveRentals(true), loadCurrentShift(true), loadStats(true)]);\n\n      // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¯ÙŠØ±Ø§Ù‹\n      if (isManager) {\n        await loadCompletedRentals(true);\n      }\n      console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);\n      setError(error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† localStorage\n      try {\n        const savedShift = localStorage.getItem('current_shift');\n        if (savedShift) {\n          setCurrentShift(JSON.parse(savedShift));\n        }\n      } catch (e) {\n        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', e);\n      }\n    } finally {\n      loadingRef.current = false;\n      setLoading(prev => ({\n        ...prev,\n        all: false\n      }));\n    }\n  }, [user === null || user === void 0 ? void 0 : user.branch_id, isManager, loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadCompletedRentals]);\n  const refreshSpecificData = useCallback(async dataType => {\n    switch (dataType) {\n      case 'games':\n        await loadGames(true);\n        break;\n      case 'rentals':\n        await loadActiveRentals(true);\n        break;\n      case 'shift':\n        await loadCurrentShift(true);\n        break;\n      case 'stats':\n        await loadStats(true);\n        break;\n      case 'all':\n      default:\n        await loadAllData(true);\n        break;\n    }\n  }, [loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadAllData]);\n  const startShift = async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        shift: true\n      }));\n      const response = await api.post('/shifts/start-clean');\n      if (response.success) {\n        setCurrentShift(response.data);\n        localStorage.setItem('current_shift', JSON.stringify(response.data));\n\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\n        setTimeout(() => {\n          refreshSpecificData('all');\n        }, 1000);\n        alert('ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\n      }\n    } catch (error) {\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n      alert('ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'));\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  };\n  const handleCreateRental = async rentalData => {\n    const {\n      customerInfo,\n      rentalItems\n    } = rentalData;\n    console.log('ðŸš€ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±...');\n    try {\n      const results = [];\n      for (const [index, item] of rentalItems.entries()) {\n        var _result$data, _result$data2;\n        console.log(`ðŸ“ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¹Ù†ØµØ± ${index + 1}/${rentalItems.length}...`);\n\n        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© ØºÙŠØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ÙƒØ³Ø±\n        const result = await api.createRentalUnbreakable({\n          game_id: item.gameId,\n          game_name: item.gameName,\n          customer_name: customerInfo.name,\n          customer_phone: customerInfo.phone,\n          duration_minutes: item.rentalType === 'fixed' ? item.duration : 15\n        });\n        results.push({\n          item: item.gameName,\n          success: true,\n          rental_number: ((_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.rental_number) || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ',\n          local: result.local || false\n        });\n        console.log(`âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© ${item.gameName}: ${(_result$data2 = result.data) === null || _result$data2 === void 0 ? void 0 : _result$data2.rental_number}`);\n\n        // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª\n        await new Promise(resolve => setTimeout(resolve, 200));\n      }\n\n      // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬\n      const localCount = results.filter(r => r.local).length;\n      const serverCount = results.length - localCount;\n      let message = `ðŸŽ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${results.length} ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!\\n\\n`;\n      if (serverCount > 0) {\n        message += `âœ… ${serverCount} Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…\\n`;\n      }\n      if (localCount > 0) {\n        message += `ðŸ“± ${localCount} Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)\\n`;\n      }\n      message += `\\nØ£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±:\\n`;\n      results.forEach((r, i) => {\n        message += `${i + 1}. ${r.item}: ${r.rental_number} ${r.local ? '(Ù…Ø­Ù„ÙŠ)' : ''}\\n`;\n      });\n      alert(message);\n\n      // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n      setShowRentalModal(false);\n      setSelectedGames([]);\n\n      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\n      setTimeout(() => {\n        refreshSpecificData('rentals');\n        refreshSpecificData('stats');\n      }, 1000);\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹:', error);\n      alert('âš ï¸ ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ ÙˆÙ„ÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„. ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª.');\n\n      // Ù…Ø¹ Ø°Ù„ÙƒØŒ Ù†ØºÙ„Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© ÙˆÙ†Ø­Ø¯Ø« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n      setShowRentalModal(false);\n      setSelectedGames([]);\n      refreshSpecificData('rentals');\n    }\n  };\n  const syncLocalRentals = async () => {\n    try {\n      const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\n      if (localRentals.length === 0) return;\n      console.log(`ðŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø²Ø§Ù…Ù†Ø© ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠ...`);\n      for (const rental of localRentals) {\n        try {\n          // Ø­Ø§ÙˆÙ„ Ø±ÙØ¹Ù‡ Ù„Ù„Ø®Ø§Ø¯Ù…\n          const response = await api.createSimpleRental({\n            game_id: rental.game_id,\n            customer_name: rental.customer_name,\n            customer_phone: rental.customer_phone || '00000000000'\n          });\n          if (response.success) {\n            console.log(`âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ: ${rental.rental_number}`);\n            // Ø¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\n            localRentals.splice(localRentals.indexOf(rental), 1);\n          }\n        } catch (error) {\n          console.warn(`âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± ${rental.rental_number}:`, error.message);\n        }\n      }\n\n      // ØªØ­Ø¯ÙŠØ« localStorage\n      localStorage.setItem('local_rentals', JSON.stringify(localRentals));\n      if (localRentals.length === 0) {\n        console.log('âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\n      } else {\n        console.log(`âš ï¸ Ø¨Ù‚ÙŠ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù… ØªØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡`);\n      }\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);\n    }\n  };\n\n  // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n  useEffect(() => {\n    if (currentShift) {\n      // Ù…Ø²Ø§Ù…Ù†Ø© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\n      const syncInterval = setInterval(syncLocalRentals, 60000);\n\n      // Ù…Ø²Ø§Ù…Ù†Ø© ÙÙˆØ±ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©\n      syncLocalRentals();\n      return () => clearInterval(syncInterval);\n    }\n  }, [currentShift]);\n\n  // ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\n  const handleEndRental = async rental => {\n    try {\n      const confirmed = window.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ\n      Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\n      Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}`);\n      if (!confirmed) return;\n      const response = await api.completeRental(rental.id, {\n        payment_method: rental.payment_method || 'ÙƒØ§Ø´'\n      });\n      if (response.success) {\n        alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø­Ø©');\n        await refreshSpecificData('rentals');\n        await refreshSpecificData('games');\n      } else {\n        alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n      }\n    } catch (error) {\n      console.error('Error ending rental:', error);\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\n    }\n  };\n\n  // ==================== Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ====================\n\n  // 1. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…\n  const validateSystem = async () => {\n    try {\n      console.log('ðŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø´ÙƒÙ„ Ù…Ø­Ø³Ù‘Ù†...');\n\n      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©\n      const healthCheck = await api.checkSystemHealth();\n      if (!healthCheck.success) {\n        console.warn('âš ï¸ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…:', healthCheck.message);\n\n        // Ø¹Ø±Ø¶ ØªØ­Ø°ÙŠØ±Ø§Øª Ù„ÙƒÙ† Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„Ù†Ø¸Ø§Ù…\n        if (healthCheck.checks.some(c => c.status === 'error')) {\n          console.warn('âŒ Ø£Ø®Ø·Ø§Ø¡ Ø­Ø±Ø¬Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…');\n        }\n      }\n\n      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        console.warn('âš ï¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨ÙØ±Ø¹ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ');\n        // Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙØ±Ø¹ 1 ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ\n        user.branch_id = 1;\n      }\n\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø°ÙƒÙŠØ©\n      const gamesResponse = await api.getGamesSmart({\n        branch_id: user.branch_id\n      });\n      if (gamesResponse.success && gamesResponse.data.length === 0) {\n        console.warn('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ§Ø­Ø©ØŒ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\n        // Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨\n      }\n      console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„ (Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª)');\n      return {\n        success: true,\n        message: 'Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„',\n        details: healthCheck\n      };\n    } catch (error) {\n      console.error('ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\n\n      // Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± Ø­ØªÙ‰ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\n      return {\n        success: true,\n        // Ù†Ø¬Ø¹Ù„Ù‡ true Ù„ÙƒÙŠ ÙŠØ³ØªÙ…Ø± Ø§Ù„Ù†Ø¸Ø§Ù…\n        message: 'Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª',\n        error: error.message,\n        suggestion: 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„'\n      };\n    }\n  };\n\n  // 2. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©\n  useEffect(() => {\n    const initializeSystem = async () => {\n      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… (Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£Ø®Ø·Ø§Ø¡)\n      const systemCheck = await validateSystem();\n\n      // Ù†Ø­Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ØªÙ‰ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ØªØ­Ø°ÙŠØ±Ø§Øª\n      await loadAllData();\n\n      // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØªØŒ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ø·ÙŠÙØ©\n      if (!currentShift && !loading.shift) {\n        console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø· - Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\n        // Ù„Ø§ Ù†Ø¨Ø¯Ø£ Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†ØªØ±Ùƒ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®ÙŠØ§Ø±\n      }\n    };\n    initializeSystem();\n\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\n    const intervalId = setInterval(() => {\n      if (currentShift) {\n        refreshSpecificData('rentals');\n      }\n    }, 30000);\n    return () => clearInterval(intervalId);\n  }, [currentShift]);\n\n  // 4. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\n  const endShift = async () => {\n    if (!currentShift) return;\n    const confirmMessage = `\n    Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª #${currentShift.id}\n    ============================\n    \n    âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØªØŸ\n    \n    Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªÙŠ Ø³ØªØ­Ø¯Ø«:\n    1. Ø³ÙŠØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠÙØª\n    2. Ø³ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© \"Ù…ØªØ§Ø­\"\n    3. Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠÙØª\n    4. Ù„Ù† ØªØ¸Ù‡Ø± Ù‡Ø°Ù‡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø£ÙŠ Ø´ÙŠÙØª Ø¢Ø®Ø±\n    \n    Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØªØŒ \n    Ù„ÙƒÙ† ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.\n    \n    Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ\n  `;\n    if (!window.confirm(confirmMessage)) return;\n    try {\n      setLoading(prev => ({\n        ...prev,\n        shift: true\n      }));\n\n      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©\n      const response = await api.endShiftSmart(currentShift.id, {\n        notes: `ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨ÙˆØ§Ø³Ø·Ø© ${user.name} - ${new Date().toLocaleString('ar-EG')}`\n      });\n      if (response.success) {\n        console.log('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', response.message);\n        setCurrentShift(null);\n        setActiveRentals([]);\n        localStorage.removeItem('current_shift');\n\n        // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\n        await Promise.all([refreshSpecificData('games'), refreshSpecificData('rentals'), refreshSpecificData('stats')]);\n\n        // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ù„Ø·ÙŠÙØ©\n        alert(`\n        ðŸŽ‰ ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!\n        ======================\n        \n        ${response.message}\n        \n        ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø§Ù‹.\n        \n        Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ùƒ! ðŸ‘\n      `);\n      } else {\n        // Ø­ØªÙ‰ Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ù†Ø­Ø§ÙˆÙ„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\n        setCurrentShift(null);\n        alert('âš ï¸ ØªÙ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ùˆ Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹.');\n      }\n    } catch (error) {\n      console.error('âš ï¸ ØªØ­Ø°ÙŠØ± ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\n      alert('âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\n    } finally {\n      setLoading(prev => ({\n        ...prev,\n        shift: false\n      }));\n    }\n  };\n\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\n  const handleSelectGame = game => {\n    if (!currentShift) {\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\n      startShift();\n      return;\n    }\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\n    if (!isAlreadySelected) {\n      setSelectedGames([...selectedGames, game]);\n      setShowRentalModal(true);\n    } else {\n      setShowRentalModal(true);\n    }\n  };\n  const handleRentalAction = async (action, rental) => {\n    switch (action) {\n      case 'details':\n        {\n          const details = `\n          ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}\n          ---------------------------\n          Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\n          Ø§Ù„Ù‡Ø§ØªÙ: ${rental.customer_phone}\n          Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\n          Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: ${rental.payment_status}\n          Ø§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount)}\n          ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\n          ${rental.end_time ? `ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${formatDateTime(rental.end_time)}` : ''}\n          ${rental.notes ? `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${rental.notes}` : ''}\n        `;\n          alert(details);\n          break;\n        }\n      case 'end':\n        {\n          try {\n            const confirmed = window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ');\n            if (!confirmed) return;\n            const response = await api.post(`/rentals/${rental.id}/complete`, {\n              payment_method: rental.payment_method || 'ÙƒØ§Ø´'\n            });\n            if (response.success) {\n              alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\n              await refreshSpecificData('rentals');\n            } else {\n              alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n            }\n          } catch (error) {\n            console.error('Error ending rental:', error);\n            alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\n          }\n          break;\n        }\n      case 'cancel':\n        {\n          if (window.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ`)) {\n            try {\n              const response = await api.post(`/rentals/${rental.id}/cancel`, {\n                refund_amount: rental.total_amount || 0,\n                notes: 'Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¸Ù'\n              });\n              if (response.success) {\n                alert('âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\n                await refreshSpecificData('all');\n              } else {\n                alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n              }\n            } catch (error) {\n              console.error('Error cancelling rental:', error);\n              alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n            }\n          }\n          break;\n        }\n      case 'extend':\n        {\n          const extendMinutes = prompt('ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙŠØ¯ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ', '15');\n          if (extendMinutes && !isNaN(extendMinutes) && parseInt(extendMinutes) > 0) {\n            try {\n              const response = await api.post(`/rentals/${rental.id}/extend`, {\n                additional_minutes: parseInt(extendMinutes)\n              });\n              if (response.success) {\n                alert(`âœ… ØªÙ… ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${extendMinutes} Ø¯Ù‚ÙŠÙ‚Ø©`);\n                await refreshSpecificData('rentals');\n              }\n            } catch (error) {\n              console.error('Error extending rental:', error);\n              alert('âŒ ÙØ´Ù„ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\n            }\n          }\n          break;\n        }\n      default:\n        break;\n    }\n  };\n  const handleExportCompleted = (rentals, period) => {\n    try {\n      const dataStr = JSON.stringify(rentals, null, 2);\n      const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);\n      const exportFileDefaultName = `ØªØ£Ø¬ÙŠØ±Ø§Øª_${period}_${new Date().toISOString().split('T')[0]}.json`;\n      const linkElement = document.createElement('a');\n      linkElement.setAttribute('href', dataUri);\n      linkElement.setAttribute('download', exportFileDefaultName);\n      linkElement.click();\n      alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${rentals.length} ØªØ£Ø¬ÙŠØ±`);\n    } catch (error) {\n      console.error('Error exporting data:', error);\n      alert('âŒ ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\n    }\n  };\n  const handlePrintCompleted = (rentals, period) => {\n    try {\n      const printWindow = window.open('', '_blank');\n      const totalRevenue = rentals.reduce((sum, r) => sum + (parseFloat(r.total_amount) || 0), 0);\n      const content = `\n        <html>\n          <head>\n            <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª - ${period}</title>\n            <style>\n              body { \n                font-family: 'Arial', 'Tahoma', sans-serif; \n                direction: rtl; \n                padding: 20px; \n                line-height: 1.6;\n                color: #333;\n              }\n              h1 { \n                text-align: center; \n                color: #2c3e50; \n                margin-bottom: 10px;\n                border-bottom: 2px solid #3498db;\n                padding-bottom: 10px;\n              }\n              .header-info {\n                text-align: center;\n                margin-bottom: 20px;\n                color: #7f8c8d;\n              }\n              table { \n                width: 100%; \n                border-collapse: collapse; \n                margin-top: 20px; \n                font-size: 14px;\n              }\n              th { \n                background-color: #3498db; \n                color: white;\n                padding: 12px 8px;\n                text-align: center;\n                border: 1px solid #2980b9;\n              }\n              td { \n                border: 1px solid #ddd; \n                padding: 10px 8px; \n                text-align: center; \n              }\n              tr:nth-child(even) {\n                background-color: #f9f9f9;\n              }\n              tr:hover {\n                background-color: #f5f5f5;\n              }\n              .total { \n                font-weight: bold; \n                color: #2c3e50; \n                font-size: 16px;\n                margin-top: 20px;\n                padding: 15px;\n                background-color: #ecf0f1;\n                border-radius: 5px;\n                text-align: center;\n              }\n              .print-footer {\n                margin-top: 30px;\n                padding-top: 20px;\n                border-top: 1px solid #ddd;\n                text-align: center;\n                color: #7f8c8d;\n                font-size: 12px;\n              }\n              @media print {\n                body { padding: 0; }\n                .no-print { display: none; }\n                table { font-size: 12px; }\n                .total { page-break-inside: avoid; }\n              }\n            </style>\n          </head>\n          <body>\n            <h1>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h1>\n            <div class=\"header-info\">\n              <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${period === 'today' ? 'Ø§Ù„ÙŠÙˆÙ…' : period === 'week' ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…' : period === 'month' ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…' : 'Ø§Ù„ÙƒÙ„'}</p>\n              <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:</strong> ${rentals.length}</p>\n              <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${new Date().toLocaleDateString('ar-EG')}</p>\n            </div>\n            \n            <table>\n              <thead>\n                <tr>\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\n                </tr>\n              </thead>\n              <tbody>\n                ${rentals.map(rental => `\n                  <tr>\n                    <td>${rental.rental_number || rental.id}</td>\n                    <td>${rental.customer_name}</td>\n                    <td>${rental.game_name}</td>\n                    <td>${formatTime(rental.start_time)}</td>\n                    <td>${formatTime(rental.end_time)}</td>\n                    <td>${calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\n                    <td>${formatCurrency(rental.total_amount)}</td>\n                    <td>${rental.payment_status}</td>\n                  </tr>\n                `).join('')}\n              </tbody>\n            </table>\n            \n            <div class=\"total\">\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${formatCurrency(totalRevenue)}\n            </div>\n            \n            <div class=\"print-footer\">\n              <p>ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ø¸Ø§Ù… L3BTY Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\n              <p>${new Date().toLocaleString('ar-EG')}</p>\n            </div>\n            \n            <button class=\"no-print\" onclick=\"window.print()\" \n              style=\"\n                margin-top: 20px; \n                padding: 12px 24px; \n                background: #3498db; \n                color: white; \n                border: none; \n                border-radius: 5px;\n                cursor: pointer;\n                font-size: 16px;\n                display: block;\n                margin: 30px auto;\n              \">\n              ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\n            </button>\n            \n            <script>\n              window.onload = function() {\n                // Ø·Ø¨Ø§Ø¹Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©\n                setTimeout(function() {\n                  window.print();\n                }, 1000);\n              };\n            </script>\n          </body>\n        </html>\n      `;\n      printWindow.document.write(content);\n      printWindow.document.close();\n    } catch (error) {\n      console.error('Error printing report:', error);\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±');\n    }\n  };\n\n  // ==================== useEffect ====================\n  useEffect(() => {\n    loadAllData();\n\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\n    let intervalId = null;\n    if (currentShift) {\n      intervalId = setInterval(() => {\n        refreshSpecificData('rentals');\n      }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\n    }\n    return () => {\n      if (intervalId) {\n        clearInterval(intervalId);\n      }\n    };\n  }, [currentShift, loadAllData, refreshSpecificData]);\n\n  // ==================== Ø§Ù„ØªØµÙŠÙŠØ± ====================\n  if (loading.all && games.length === 0 && activeRentals.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"spinner large\",\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-subtext\",\n        children: \"\\u064A\\u0631\\u062C\\u0649 \\u0627\\u0644\\u0627\\u0646\\u062A\\u0638\\u0627\\u0631\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2299,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2296,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-icon\",\n          children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u062D\\u062F\\u062B \\u062E\\u0637\\u0623\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => loadAllData(true),\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2315,\n              columnNumber: 15\n            }, this), \"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u0645\\u062D\\u0627\\u0648\\u0644\\u0629\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"btn btn-secondary\",\n            children: \"\\u21BB \\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0635\\u0641\\u062D\\u0629\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2307,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2306,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rentals-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"title-icon\",\n              children: \"\\uD83C\\uDFAE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2334,\n              columnNumber: 15\n            }, this), \"\\u0646\\u0638\\u0627\\u0645 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"page-subtitle\",\n            children: (user === null || user === void 0 ? void 0 : user.branch_name) || 'Ø§Ù„Ù†Ø¸Ø§Ù…'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-badge\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-name\",\n                children: (user === null || user === void 0 ? void 0 : user.name) || 'Ù…Ø³ØªØ®Ø¯Ù…'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"user-role\",\n                children: isManager ? 'ðŸ‘‘ Ù…Ø¯ÙŠØ±' : 'ðŸ‘· Ù…ÙˆØ¸Ù'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2346,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"branch-info\",\n            children: [/*#__PURE__*/_jsxDEV(Building, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2352,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"branch-name\",\n              children: (user === null || user === void 0 ? void 0 : user.branch_name) || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2353,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2351,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [selectedGames.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowRentalModal(true),\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2364,\n            columnNumber: 15\n          }, this), \"\\u0628\\u062F\\u0621 \\u062A\\u0623\\u062C\\u064A\\u0631 (\", selectedGames.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => refreshSpecificData('all'),\n            className: \"btn btn-secondary\",\n            disabled: loading.all,\n            children: [loading.all ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"spinner\",\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2376,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2378,\n              columnNumber: 17\n            }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0643\\u0644\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2370,\n            columnNumber: 13\n          }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shift-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u0634\\u064A\\u0641\\u062A #\", currentShift.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"shift-time\",\n              children: formatTime(currentShift.start_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2384,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2369,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2330,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DashboardStats, {\n      stats: stats,\n      currentShift: currentShift,\n      onStartShift: startShift,\n      onEndShift: endShift,\n      loading: loading.shift || loading.stats\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2397,\n      columnNumber: 7\n    }, this), !currentShift && !loading.shift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-shift-alert\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-icon\",\n          children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2410,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2409,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-text\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0634\\u064A\\u0641\\u062A \\u0646\\u0634\\u0637\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u064A\\u062C\\u0628 \\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F \\u0644\\u0644\\u062A\\u0645\\u0643\\u0646 \\u0645\\u0646 \\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2414,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2412,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startShift,\n          className: \"btn btn-success\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2417,\n            columnNumber: 15\n          }, this), \"\\u0628\\u062F\\u0621 \\u0634\\u064A\\u0641\\u062A \\u062C\\u062F\\u064A\\u062F\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2416,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2408,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2407,\n      columnNumber: 9\n    }, this), currentShift && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(GamesGrid, {\n        games: games,\n        branchId: user === null || user === void 0 ? void 0 : user.branch_id,\n        onSelectGame: handleSelectGame,\n        loading: loading.games\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2428,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ActiveRentalsTable, {\n        rentals: activeRentals,\n        onAction: handleRentalAction,\n        onRefresh: () => refreshSpecificData('rentals'),\n        loading: loading.rentals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2436,\n        columnNumber: 11\n      }, this), isManager && /*#__PURE__*/_jsxDEV(CompletedRentalsTable, {\n        rentals: completedRentals,\n        onExport: handleExportCompleted,\n        onPrint: handlePrintCompleted,\n        loading: loading.all\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2445,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2426,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MultiRentalModal, {\n      show: showRentalModal,\n      onClose: () => {\n        setShowRentalModal(false);\n        setSelectedGames([]);\n      },\n      selectedGames: selectedGames,\n      currentShift: currentShift,\n      onConfirmRental: handleCreateRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2456,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2328,\n    columnNumber: 5\n  }, this);\n};\n_s6(Rentals, \"b3hV4LyiOZZFXczKQbQ9MH1uVgA=\", false, function () {\n  return [useAuth];\n});\n_c1 = Rentals;\nexport default Rentals;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1;\n$RefreshReg$(_c, \"GamesGridComponent\");\n$RefreshReg$(_c2, \"GamesGrid\");\n$RefreshReg$(_c3, \"MultiRentalModalComponent\");\n$RefreshReg$(_c4, \"MultiRentalModal\");\n$RefreshReg$(_c5, \"ActiveRentalsTableComponent\");\n$RefreshReg$(_c6, \"ActiveRentalsTable\");\n$RefreshReg$(_c7, \"CompletedRentalsTableComponent\");\n$RefreshReg$(_c8, \"CompletedRentalsTable\");\n$RefreshReg$(_c9, \"DashboardStatsComponent\");\n$RefreshReg$(_c0, \"DashboardStats\");\n$RefreshReg$(_c1, \"Rentals\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","useRef","Search","Download","RefreshCw","Calendar","DollarSign","TrendingUp","BarChart3","FileText","CheckCircle","XCircle","Eye","Printer","Clock","Users","ChevronLeft","ChevronRight","AlertCircle","Check","X","Plus","Minus","Calculator","Lock","Unlock","Edit","Trash2","User","Gamepad2","CreditCard","CalendarIcon","ClockIcon","Phone","Mail","MapPin","Package","Building","Zap","Filter","ShoppingCart","Loader2","useAuth","api","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatDateTime","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","validatePhone","phone","cleaned","replace","length","startsWith","calculateDuration","startTime","endTime","start","end","Math","round","GamesGridComponent","games","branchId","onSelectGame","loading","_s","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","availableGames","setAvailableGames","console","log","branchGames","filter","game","gameBranchId","parseInt","branch_id","currentBranchId","getGameImage","imageMap","image_url","external_image_url","imageName","name","filteredGames","gameName","gameCategory","category","gameDescription","description","matchesSearch","toLowerCase","includes","matchesCategory","categories","cats","Set","forEach","add","Array","from","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","type","placeholder","value","onChange","e","target","onClick","map","cat","window","open","title","src","alt","onError","warn","price_per_15min","id","price_per_hour","_c","displayName","GamesGrid","memo","_c2","MultiRentalModalComponent","show","onClose","selectedGames","onConfirmRental","currentShift","_s2","customerInfo","setCustomerInfo","email","address","rentalItems","setRentalItems","paymentMethod","setPaymentMethod","paymentStatus","setPaymentStatus","notes","setNotes","isSubmitting","setIsSubmitting","items","now","random","gameId","gameImage","rentalType","duration","pricePer15min","quantity","updateRentalItem","updates","item","removeRentalItem","calculateItemPrice","units","ceil","calculateTotal","reduce","total","handleSubmit","alert","rentalData","totalAmount","shiftId","timestamp","toISOString","error","stopPropagation","required","maxLength","disabled","minutes","max","rows","sum","_c3","MultiRentalModal","_c4","ActiveRentalsTableComponent","rentals","onAction","onRefresh","_s3","countdowns","setCountdowns","updateCountdowns","newCountdowns","rental","isOpenTime","is_open_time","rental_type","start_time","setMinutes","getMinutes","duration_minutes","diffMs","floor","seconds","toString","padStart","interval","setInterval","clearInterval","getRentalTimeInfo","remaining","calculateRemainingMinutes","calculateRentalAmount","total_amount","pricePer15Min","timeInfo","remainingMinutes","rental_number","customer_name","customer_phone","game_name","payment_status","_c5","ActiveRentalsTable","_c6","CompletedRentalsTableComponent","onExport","onPrint","_s4","selectedPeriod","setSelectedPeriod","filteredRentals","setFilteredRentals","filterRentals","filtered","today","split","r","end_time","weekAgo","setDate","getDate","monthAgo","setMonth","getMonth","totalRevenue","_c7","CompletedRentalsTable","_c8","DashboardStatsComponent","stats","onStartShift","onEndShift","_s5","shiftTime","i","totalGames","activeRentals","todayRevenue","todayRentals","_c9","DashboardStats","_c0","Rentals","_s6","user","isManager","role","setLoading","all","shift","setError","setGames","setActiveRentals","completedRentals","setCompletedRentals","setCurrentShift","setSelectedGames","showRentalModal","setShowRentalModal","setStats","loadingRef","lastLoadTimeRef","loadGames","force","prev","response","get","params","is_active","success","data","loadActiveRentals","loadCurrentShift","localStorage","setItem","JSON","stringify","removeItem","loadStats","loadCompletedRentals","status","start_date","limit","loadAllData","current","Error","Promise","allSettled","message","savedShift","getItem","parse","refreshSpecificData","dataType","startShift","post","setTimeout","handleCreateRental","results","index","entries","_result$data","_result$data2","result","createRentalUnbreakable","game_id","push","local","resolve","localCount","serverCount","syncLocalRentals","localRentals","createSimpleRental","splice","indexOf","syncInterval","handleEndRental","confirmed","confirm","completeRental","payment_method","validateSystem","healthCheck","checkSystemHealth","checks","some","c","gamesResponse","getGamesSmart","details","suggestion","initializeSystem","systemCheck","intervalId","endShift","confirmMessage","endShiftSmart","toLocaleString","handleSelectGame","isAlreadySelected","g","handleRentalAction","action","refund_amount","extendMinutes","prompt","isNaN","additional_minutes","handleExportCompleted","period","dataStr","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","handlePrintCompleted","printWindow","content","join","write","close","location","reload","branch_name","_c1","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/employee/Rentals.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';\r\nimport { \r\n  Search, Download, RefreshCw, Calendar, \r\n  DollarSign, TrendingUp, BarChart3, FileText,\r\n  CheckCircle, XCircle, Eye, Printer,\r\n  Clock, Users, ChevronLeft, ChevronRight, \r\n  AlertCircle, Check, X, Plus, Minus, Calculator,\r\n  Lock, Unlock, Edit, Trash2, User, Gamepad2, CreditCard,\r\n  Calendar as CalendarIcon, Clock as ClockIcon,\r\n  Phone, Mail, MapPin, Package, Building,\r\n  Zap, Filter, ShoppingCart, Loader2\r\n} from 'lucide-react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport './Rentals.css';\r\n\r\n// ==================== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ====================\r\nconst formatCurrency = (amount) => {\r\n  if (!amount && amount !== 0) return '0 Ø¬.Ù…';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst validatePhone = (phone) => {\r\n  if (!phone) return false;\r\n  const cleaned = phone.replace(/\\D/g, '');\r\n  return cleaned.length === 11 && cleaned.startsWith('01');\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  return Math.round((end - start) / (1000 * 60));\r\n};\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\r\nconst GamesGridComponent = ({ games, branchId, onSelectGame, loading }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [availableGames, setAvailableGames] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!branchId || !games) return;\r\n    \r\n    console.log(`ðŸŽ® ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}`);\r\n    \r\n    // ðŸ”§ **ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ÙÙ‚Ø·**\r\n    const branchGames = games.filter(game => {\r\n      if (!game) return false;\r\n      \r\n      const gameBranchId = parseInt(game.branch_id);\r\n      const currentBranchId = parseInt(branchId);\r\n      \r\n      return gameBranchId === currentBranchId;\r\n    });\r\n    \r\n    console.log(`ðŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ${branchId}: ${branchGames.length}`);\r\n    setAvailableGames(branchGames);\r\n  }, [games, branchId]);\r\n\r\n  const getGameImage = useCallback((game) => {\r\n    if (!game) return '/images/default-game.jpg';\r\n    \r\n    const imageMap = {\r\n      'Ø¯Ø±ÙŠÙØª ÙƒØ§Ø±': '/images/Driftcar.jpg',\r\n      'Ù‡Ø§ÙØ± Ø¨ÙˆØ±Ø¯': '/images/Hoverboard.jpg',\r\n      'Ø³ÙƒÙˆØªØ±': '/images/Scooter.jpg',\r\n      'Ø¹Ø±Ø¨Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\r\n      'Ù…ÙˆØªÙˆØ³ÙŠÙƒÙ„ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Motor.jpg',\r\n      'Ù‡Ø§Ø±Ù„ÙŠ': '/images/harley.jpg',\r\n      'Ø³ÙŠØ¬ÙˆØ§ÙŠ': '/images/Segway.jpg',\r\n      'ÙƒØ±Ø§Ø²ÙŠ ÙƒØ§Ø±': '/images/Ninebot.jpg',\r\n      'Ø³ÙƒÙŠØª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ': '/images/Skate.jpg',\r\n      'ØªØ±Ø§Ù…Ø¨ÙˆÙ„ÙŠÙ†': '/images/Trampoline.jpg',\r\n      'Ù…Ø­Ø§ÙƒÙŠ': '/images/Simulator.jpg',\r\n      'Ø³ÙŠØ§Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©': '/images/Car.jpg',\r\n      'Ø¯Ø±Ø§Ø¬Ø© Ù†Ø§Ø±ÙŠØ©': '/images/Motor.jpg',\r\n      'hoverboard': '/images/Hoverboard.jpg',\r\n      'Ø³ÙƒÙŠØª': '/images/Skate.jpg'\r\n    };\r\n    \r\n    // Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©: image_url Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n    if (game.image_url && game.image_url !== 'default-game.jpg' && game.image_url !== '') {\r\n      return game.image_url.startsWith('http') ? game.image_url : `/images/${game.image_url}`;\r\n    }\r\n    \r\n    // Ø§Ù„Ø«Ø§Ù†ÙŠ: external_image_url\r\n    if (game.external_image_url) {\r\n      return game.external_image_url;\r\n    }\r\n    \r\n    // Ø§Ù„Ø«Ø§Ù„Ø«: Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø«Ø§Ø¨ØªØ©\r\n    const imageName = imageMap[game.name] || '/images/default-game.jpg';\r\n    return imageName;\r\n  }, []);\r\n\r\n  const filteredGames = useMemo(() => {\r\n    if (!availableGames.length) return [];\r\n    \r\n    return availableGames.filter(game => {\r\n      if (!game) return false;\r\n      \r\n      const gameName = game.name || '';\r\n      const gameCategory = game.category || '';\r\n      const gameDescription = game.description || '';\r\n      \r\n      const matchesSearch = gameName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                          gameCategory.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                          gameDescription.toLowerCase().includes(searchTerm.toLowerCase());\r\n      \r\n      const matchesCategory = selectedCategory === 'all' || game.category === selectedCategory;\r\n      \r\n      return matchesSearch && matchesCategory;\r\n    });\r\n  }, [availableGames, searchTerm, selectedCategory]);\r\n\r\n  const categories = useMemo(() => {\r\n    if (!availableGames.length) return ['all'];\r\n    \r\n    const cats = new Set(['all']);\r\n    availableGames.forEach(game => {\r\n      if (game && game.category) {\r\n        cats.add(game.category);\r\n      }\r\n    });\r\n    return Array.from(cats);\r\n  }, [availableGames]);\r\n\r\n  if (!branchId) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ¬</div>\r\n          <h3>Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ ÙØ±Ø¹</h3>\r\n          <p>ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ¯ ÙØ±Ø¹ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"games-grid-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"games-grid-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">ðŸŽ®</span>\r\n          Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø©\r\n          <span className=\"section-count\">({availableGames.length})</span>\r\n          <span className=\"branch-badge\">Ø§Ù„ÙØ±Ø¹ #{branchId}</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"search-box\">\r\n            <Search size={18} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨Ø©...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n            {searchTerm && (\r\n              <button onClick={() => setSearchTerm('')} className=\"clear-search\">\r\n                <X size={16} />\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          {categories.length > 1 && (\r\n            <div className=\"filter-controls\">\r\n              <select \r\n                value={selectedCategory}\r\n                onChange={(e) => setSelectedCategory(e.target.value)}\r\n                className=\"filter-select\"\r\n              >\r\n                {categories.map(cat => (\r\n                  <option key={cat} value={cat}>\r\n                    {cat === 'all' ? 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª' : cat}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      \r\n      {availableGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸŽ®</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù‡Ø°Ø§ Ø§Ù„ÙØ±Ø¹</h3>\r\n          <p>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„ÙØ±Ø¹ Ù…Ù† ØµÙØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙˆØ¹</p>\r\n          <div className=\"empty-actions\">\r\n            <button \r\n              className=\"btn btn-primary\"\r\n              onClick={() => window.open('/branches', '_blank')}\r\n            >\r\n              <Plus size={16} />\r\n              Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : filteredGames.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ”</div>\r\n          <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ù„Ø¹Ø§Ø¨</h3>\r\n          <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ ØªØ·Ø§Ø¨Ù‚ &quot;{searchTerm}&quot;</p>\r\n          <button \r\n            className=\"btn btn-secondary\"\r\n            onClick={() => {\r\n              setSearchTerm('');\r\n              setSelectedCategory('all');\r\n            }}\r\n          >\r\n            Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"games-stats\">\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:</span>\r\n              <span className=\"stat-value\">{availableGames.length}</span>\r\n            </div>\r\n            <div className=\"stat-item\">\r\n              <span className=\"stat-label\">ØªÙ…Øª ØªØµÙÙŠØªÙ‡Ø§:</span>\r\n              <span className=\"stat-value\">{filteredGames.length}</span>\r\n            </div>\r\n            {selectedCategory !== 'all' && (\r\n              <div className=\"stat-item\">\r\n                <span className=\"stat-label\">Ø§Ù„ÙØ¦Ø©:</span>\r\n                <span className=\"stat-value\">{selectedCategory}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"games-grid\">\r\n            {filteredGames.map(game => (\r\n              <div \r\n                key={game.id} \r\n                className=\"game-card\"\r\n                onClick={() => onSelectGame(game)}\r\n                title={`Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© ${game.name} Ù„Ù„ØªØ£Ø¬ÙŠØ±`}\r\n              >\r\n                <div className=\"game-image-container\">\r\n                  <img \r\n                    src={getGameImage(game)} \r\n                    alt={game.name}\r\n                    className=\"game-image\"\r\n                    loading=\"lazy\"\r\n                    onError={(e) => {\r\n                      console.warn(`ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© ${game.name}`);\r\n                      e.target.src = '/images/default-game.jpg';\r\n                    }}\r\n                  />\r\n                  <div className=\"game-status-badge available\">\r\n                    <CheckCircle size={14} />\r\n                    <span>Ù…ØªØ§Ø­</span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"game-info\">\r\n                  <h4 className=\"game-name\">{game.name}</h4>\r\n                  {game.description && (\r\n                    <p className=\"game-description\">{game.description}</p>\r\n                  )}\r\n                  \r\n                  <div className=\"game-details\">\r\n                    <span className=\"game-category\">{game.category || 'Ø¹Ø§Ù…'}</span>\r\n                    <span className=\"game-price\">\r\n                      {formatCurrency(game.price_per_15min)} / 15 Ø¯Ù‚ÙŠÙ‚Ø©\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"game-meta\">\r\n                    <span className=\"game-id\">#{game.id}</span>\r\n                    <span className=\"game-price-hour\">\r\n                      {formatCurrency(game.price_per_hour || (game.price_per_15min * 4))} / Ø³Ø§Ø¹Ø©\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  <div className=\"game-actions\">\r\n                    <button className=\"select-game-btn\">\r\n                      <span className=\"btn-icon\">âž•</span>\r\n                      <span className=\"btn-text\">Ø¥Ø¶Ø§ÙØ© Ù„Ù„ØªØ£Ø¬ÙŠØ±</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nGamesGridComponent.displayName = 'GamesGrid';\r\n\r\nconst GamesGrid = React.memo(GamesGridComponent);\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ ====================\r\nconst MultiRentalModalComponent = ({ \r\n  show, \r\n  onClose, \r\n  selectedGames, \r\n  onConfirmRental, \r\n  currentShift \r\n}) => {\r\n  const [customerInfo, setCustomerInfo] = useState({\r\n    name: '',\r\n    phone: '',\r\n    email: '',\r\n    address: ''\r\n  });\r\n  \r\n  const [rentalItems, setRentalItems] = useState([]);\r\n  const [paymentMethod, setPaymentMethod] = useState('ÙƒØ§Ø´');\r\n  const [paymentStatus, setPaymentStatus] = useState('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\r\n  const [notes, setNotes] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (show && selectedGames.length > 0) {\r\n      const items = selectedGames.map(game => ({\r\n        id: Date.now() + Math.random(),\r\n        gameId: game.id,\r\n        gameName: game.name,\r\n        gameImage: '/images/default-game.jpg',\r\n        rentalType: 'fixed',\r\n        duration: 15,\r\n        pricePer15min: game.price_per_15min || 100,\r\n        quantity: 1,\r\n        notes: ''\r\n      }));\r\n      setRentalItems(items);\r\n    }\r\n  }, [show, selectedGames]);\r\n\r\n  const updateRentalItem = (id, updates) => {\r\n    setRentalItems(items => \r\n      items.map(item => \r\n        item.id === id ? { ...item, ...updates } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const removeRentalItem = (id) => {\r\n    setRentalItems(items => items.filter(item => item.id !== id));\r\n  };\r\n\r\n  const calculateItemPrice = useCallback((item) => {\r\n    if (item.rentalType === 'open') return 0;\r\n    const units = Math.ceil(item.duration / 15);\r\n    return (item.pricePer15min * units * item.quantity) || 0;\r\n  }, []);\r\n\r\n  const calculateTotal = useCallback(() => {\r\n    return rentalItems.reduce((total, item) => {\r\n      return total + calculateItemPrice(item);\r\n    }, 0);\r\n  }, [rentalItems, calculateItemPrice]);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!customerInfo.name || !customerInfo.phone) {\r\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙˆØ±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ');\r\n      return;\r\n    }\r\n    \r\n    if (!validatePhone(customerInfo.phone)) {\r\n      alert('Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 11 Ø±Ù‚Ù…Ø§Ù‹ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01');\r\n      return;\r\n    }\r\n    \r\n    if (rentalItems.length === 0) {\r\n      alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ØªØ£Ø¬ÙŠØ±');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const rentalData = {\r\n        customerInfo,\r\n        rentalItems,\r\n        paymentMethod,\r\n        paymentStatus,\r\n        notes,\r\n        totalAmount: calculateTotal(),\r\n        shiftId: currentShift?.id,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n\r\n      await onConfirmRental(rentalData);\r\n      \r\n      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬\r\n      setCustomerInfo({ name: '', phone: '', email: '', address: '' });\r\n      setRentalItems([]);\r\n      setPaymentMethod('ÙƒØ§Ø´');\r\n      setPaymentStatus('Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡');\r\n      setNotes('');\r\n      \r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±:', error);\r\n      alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!show) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal multi-rental-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <div className=\"modal-title\">\r\n            <h2>\r\n              <span className=\"modal-icon\">ðŸŽ¯</span>\r\n              ØªØ£Ø¬ÙŠØ± Ø¬Ø¯ÙŠØ¯\r\n              {currentShift && (\r\n                <span className=\"shift-badge\">Ø§Ù„Ø´ÙŠÙØª #{currentShift.id}</span>\r\n              )}\r\n            </h2>\r\n            <p className=\"modal-subtitle\">Ø¥Ø¶Ø§ÙØ© {selectedGames.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n          </div>\r\n          <button onClick={onClose} className=\"modal-close\">âœ•</button>\r\n        </div>\r\n        \r\n        <div className=\"modal-body\">\r\n          {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ */}\r\n          <div className=\"customer-section\">\r\n            <h3 className=\"section-title\">\r\n              <User size={20} />\r\n              Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„\r\n            </h3>\r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <User size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.name}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, name: e.target.value})}\r\n                    placeholder=\"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„\"\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Phone size={18} />\r\n                  <input\r\n                    type=\"tel\"\r\n                    value={customerInfo.phone}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, phone: e.target.value})}\r\n                    placeholder=\"01xxxxxxxxx\"\r\n                    maxLength={11}\r\n                    className=\"form-input\"\r\n                    required\r\n                  />\r\n                </div>\r\n                {customerInfo.phone && !validatePhone(customerInfo.phone) && (\r\n                  <span className=\"error-text\">Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­</span>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>\r\n                <div className=\"input-with-icon\">\r\n                  <Mail size={18} />\r\n                  <input\r\n                    type=\"email\"\r\n                    value={customerInfo.email}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, email: e.target.value})}\r\n                    placeholder=\"email@example.com\"\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"form-group full-width\">\r\n                <label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>\r\n                <div className=\"input-with-icon\">\r\n                  <MapPin size={18} />\r\n                  <input\r\n                    type=\"text\"\r\n                    value={customerInfo.address}\r\n                    onChange={(e) => setCustomerInfo({...customerInfo, address: e.target.value})}\r\n                    placeholder=\"Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„\"\r\n                    className=\"form-input\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª */}\r\n          <div className=\"rentals-section\">\r\n            <h3 className=\"section-title\">\r\n              <ShoppingCart size={20} />\r\n              Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ({rentalItems.length})\r\n            </h3>\r\n            \r\n            {rentalItems.map(item => (\r\n              <div key={item.id} className=\"rental-item-card\">\r\n                <div className=\"rental-item-header\">\r\n                  <div className=\"item-info\">\r\n                    <div className=\"item-image-container\">\r\n                      <img src={item.gameImage} alt={item.gameName} className=\"item-image\" />\r\n                    </div>\r\n                    <div className=\"item-details\">\r\n                      <h4>{item.gameName}</h4>\r\n                      <span className=\"item-price\">\r\n                        {formatCurrency(item.pricePer15min)} / 15 Ø¯Ù‚ÙŠÙ‚Ø©\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <button \r\n                    onClick={() => removeRentalItem(item.id)}\r\n                    className=\"remove-item-btn\"\r\n                    title=\"Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <Trash2 size={18} />\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"rental-item-options\">\r\n                  <div className=\"options-grid\">\r\n                    <div className=\"option-group\">\r\n                      <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±:</label>\r\n                      <div className=\"toggle-buttons\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'fixed' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'fixed', duration: 15 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <ClockIcon size={16} />\r\n                          ÙˆÙ‚Øª Ø«Ø§Ø¨Øª\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`toggle-btn ${item.rentalType === 'open' ? 'active' : ''}`}\r\n                          onClick={() => updateRentalItem(item.id, { rentalType: 'open', duration: 0 })}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Unlock size={16} />\r\n                          ÙˆÙ‚Øª Ù…ÙØªÙˆØ­\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {item.rentalType === 'fixed' && (\r\n                      <div className=\"option-group\">\r\n                        <label>Ø§Ù„Ù…Ø¯Ø©:</label>\r\n                        <div className=\"duration-options\">\r\n                          {[15, 30, 45, 60, 90, 120].map(minutes => (\r\n                            <button\r\n                              key={minutes}\r\n                              type=\"button\"\r\n                              className={`duration-btn ${item.duration === minutes ? 'active' : ''}`}\r\n                              onClick={() => updateRentalItem(item.id, { duration: minutes })}\r\n                              disabled={isSubmitting}\r\n                            >\r\n                              {minutes} Ø¯Ù‚ÙŠÙ‚Ø©\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"option-group\">\r\n                      <label>Ø§Ù„ÙƒÙ…ÙŠØ©:</label>\r\n                      <div className=\"quantity-control\">\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: Math.max(1, item.quantity - 1) \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Minus size={16} />\r\n                        </button>\r\n                        <span className=\"quantity-value\">{item.quantity}</span>\r\n                        <button \r\n                          type=\"button\"\r\n                          onClick={() => updateRentalItem(item.id, { \r\n                            quantity: item.quantity + 1 \r\n                          })}\r\n                          className=\"quantity-btn\"\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <Plus size={16} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"item-notes\">\r\n                    <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ©:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={item.notes}\r\n                      onChange={(e) => updateRentalItem(item.id, { notes: e.target.value })}\r\n                      placeholder=\"Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø©...\"\r\n                      className=\"notes-input\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"item-summary\">\r\n                    <span className=\"summary-label\">Ø§Ù„Ù…Ø¨Ù„Øº:</span>\r\n                    <span className=\"summary-value\">\r\n                      {item.rentalType === 'open' \r\n                        ? 'â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡' \r\n                        : formatCurrency(calculateItemPrice(item))}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            \r\n            {rentalItems.length === 0 && (\r\n              <div className=\"empty-items\">\r\n                <Package size={48} />\r\n                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n                <small>Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</small>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© */}\r\n          <div className=\"payment-section\">\r\n            <h3 className=\"section-title\">\r\n              <CreditCard size={20} />\r\n              Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©\r\n            </h3>\r\n            \r\n            <div className=\"form-grid\">\r\n              <div className=\"form-group\">\r\n                <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>\r\n                <select \r\n                  value={paymentMethod}\r\n                  onChange={(e) => setPaymentMethod(e.target.value)}\r\n                  className=\"form-input\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"ÙƒØ§Ø´\">ðŸ’µ Ù†Ù‚Ø¯ÙŠ</option>\r\n                  <option value=\"Ø¨Ø·Ø§Ù‚Ø©\">ðŸ’³ Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†</option>\r\n                  <option value=\"Ù…Ø­ÙØ¸Ø©\">ðŸ“± Ù…Ø­ÙØ¸Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>\r\n                  <option value=\"ØªØ­ÙˆÙŠÙ„\">ðŸ¦ ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹:</label>\r\n                <select \r\n                  value={paymentStatus}\r\n                  onChange={(e) => setPaymentStatus(e.target.value)}\r\n                  className=\"form-input\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <option value=\"Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡\">â³ Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡</option>\r\n                  <option value=\"Ù…Ø¯ÙÙˆØ¹\">âœ… Ù…Ø¯ÙÙˆØ¹</option>\r\n                  <option value=\"Ø¬Ø²Ø¦ÙŠ\">ðŸ’° Ù…Ø¯ÙÙˆØ¹ Ø¬Ø²Ø¦ÙŠØ§Ù‹</option>\r\n                  <option value=\"Ù…Ø¬Ø§Ù†ÙŠ\">ðŸŽ Ù…Ø¬Ø§Ù†ÙŠ</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"form-group full-width\">\r\n                <label>Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©:</label>\r\n                <textarea\r\n                  value={notes}\r\n                  onChange={(e) => setNotes(e.target.value)}\r\n                  placeholder=\"Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ø¹Ù† Ø§Ù„ØªØ£Ø¬ÙŠØ±...\"\r\n                  rows=\"3\"\r\n                  className=\"form-textarea\"\r\n                  disabled={isSubmitting}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ */}\r\n          <div className=\"summary-section\">\r\n            <h3 className=\"section-title\">\r\n              <Calculator size={20} />\r\n              Ø§Ù„Ù…Ù„Ø®Øµ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ\r\n            </h3>\r\n            \r\n            <div className=\"summary-grid\">\r\n              <div className=\"summary-item\">\r\n                <span>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:</span>\r\n                <span className=\"summary-value\">{rentalItems.length}</span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹:</span>\r\n                <span className=\"summary-value\">\r\n                  {rentalItems.reduce((sum, item) => sum + item.quantity, 0)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"summary-item\">\r\n                <span>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>\r\n                <span className=\"summary-value total-amount\">\r\n                  {formatCurrency(calculateTotal())}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"modal-footer\">\r\n          <div className=\"footer-info\">\r\n            <div className=\"timestamp\">\r\n              <CalendarIcon size={14} />\r\n              <span>{formatDateTime(new Date().toISOString())}</span>\r\n            </div>\r\n            {currentShift && (\r\n              <div className=\"shift-info\">\r\n                <span className=\"shift-label\">Ø§Ù„Ø´ÙŠÙØª:</span>\r\n                <span className=\"shift-value\">#{currentShift.id}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"footer-actions\">\r\n            <button \r\n              onClick={onClose} \r\n              className=\"btn btn-secondary\"\r\n              disabled={isSubmitting}\r\n            >\r\n              <X size={18} />\r\n              Ø¥Ù„ØºØ§Ø¡\r\n            </button>\r\n            <button \r\n              onClick={handleSubmit} \r\n              className=\"btn btn-primary\"\r\n              disabled={isSubmitting || rentalItems.length === 0}\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"spinner\" size={18} />\r\n                  Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Check size={18} />\r\n                  Ø¨Ø¯Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nMultiRentalModalComponent.displayName = 'MultiRentalModal';\r\n\r\nconst MultiRentalModal = React.memo(MultiRentalModalComponent);\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ====================\r\nconst ActiveRentalsTableComponent = ({ rentals, onAction, onRefresh, loading }) => {\r\n  const [countdowns, setCountdowns] = useState({});\r\n\r\n  useEffect(() => {\r\n    const updateCountdowns = () => {\r\n      const newCountdowns = {};\r\n      \r\n      rentals.forEach(rental => {\r\n        if (!rental) return;\r\n        \r\n        const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n        \r\n        if (!isOpenTime && rental.rental_type !== 'open') {\r\n          const endTime = new Date(rental.start_time);\r\n          endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n          const now = new Date();\r\n          \r\n          if (now > endTime) {\r\n            newCountdowns[rental.id] = 'â° Ø§Ù†ØªÙ‡Ù‰';\r\n          } else {\r\n            const diffMs = endTime - now;\r\n            const minutes = Math.floor(diffMs / 60000);\r\n            const seconds = Math.floor((diffMs % 60000) / 1000);\r\n            newCountdowns[rental.id] = `${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n          }\r\n        } else {\r\n          // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ù†Ù‚Ø¶ÙŠ Ù„Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ÙØªÙˆØ­\r\n          const startTime = new Date(rental.start_time);\r\n          const now = new Date();\r\n          const diffMs = now - startTime;\r\n          const minutes = Math.floor(diffMs / 60000);\r\n          const seconds = Math.floor((diffMs % 60000) / 1000);\r\n          newCountdowns[rental.id] = `â³ ${minutes}:${seconds.toString().padStart(2, '0')}`;\r\n        }\r\n      });\r\n      \r\n      setCountdowns(newCountdowns);\r\n    };\r\n\r\n    updateCountdowns();\r\n    const interval = setInterval(updateCountdowns, 1000);\r\n    \r\n    return () => clearInterval(interval);\r\n  }, [rentals]);\r\n\r\n  const getRentalTimeInfo = useCallback((rental) => {\r\n    if (!rental) return { type: '', remaining: '' };\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    \r\n    if (isOpenTime) {\r\n      return {\r\n        type: 'â³ ÙˆÙ‚Øª Ù…ÙØªÙˆØ­',\r\n        remaining: countdowns[rental.id] || 'â³ 0:00'\r\n      };\r\n    }\r\n    \r\n    const endTime = new Date(rental.start_time);\r\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n    const now = new Date();\r\n    \r\n    if (now > endTime) {\r\n      return {\r\n        type: 'â° Ø§Ù†ØªÙ‡Ù‰',\r\n        remaining: 'â° 0:00'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      type: `${rental.duration_minutes} Ø¯Ù‚ÙŠÙ‚Ø©`,\r\n      remaining: countdowns[rental.id] || `${rental.duration_minutes || 0}:00`\r\n    };\r\n  }, [countdowns]);\r\n\r\n  const calculateRemainingMinutes = useCallback((rental) => {\r\n    if (!rental) return null;\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    if (isOpenTime) return null;\r\n    \r\n    const endTime = new Date(rental.start_time);\r\n    endTime.setMinutes(endTime.getMinutes() + (rental.duration_minutes || 0));\r\n    const now = new Date();\r\n    \r\n    return Math.max(0, Math.floor((endTime - now) / 60000));\r\n  }, []);\r\n\r\n  const calculateRentalAmount = useCallback((rental) => {\r\n    if (!rental) return formatCurrency(0);\r\n    \r\n    if (rental.total_amount && rental.total_amount > 0) {\r\n      return formatCurrency(rental.total_amount);\r\n    }\r\n    \r\n    const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n    if (isOpenTime) {\r\n      const startTime = new Date(rental.start_time);\r\n      const now = new Date();\r\n      const minutes = Math.floor((now - startTime) / 60000);\r\n      const units = Math.ceil(minutes / 15);\r\n      const pricePer15Min = rental.price_per_15min || 100;\r\n      \r\n      return formatCurrency(units * pricePer15Min);\r\n    }\r\n    \r\n    return formatCurrency(rental.total_amount || 0);\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"active-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"active-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">ðŸ”¥</span>\r\n          Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©\r\n          <span className=\"section-count\">({rentals.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <button\r\n            onClick={onRefresh}\r\n            className=\"btn btn-sm btn-secondary\"\r\n            disabled={loading}\r\n          >\r\n            <RefreshCw size={16} />\r\n            ØªØ­Ø¯ÙŠØ«\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {rentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">â±ï¸</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©</h3>\r\n          <p>Ø§Ø¨Ø¯Ø£ ØªØ£Ø¬ÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"table-container\">\r\n          <div className=\"table-responsive\">\r\n            <table className=\"rentals-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                  <th>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</th>\r\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                  <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {rentals.map(rental => {\r\n                  if (!rental) return null;\r\n                  \r\n                  const timeInfo = getRentalTimeInfo(rental);\r\n                  const remainingMinutes = calculateRemainingMinutes(rental);\r\n                  const isOpenTime = rental.is_open_time || rental.rental_type === 'open';\r\n                  \r\n                  return (\r\n                    <tr key={rental.id} className={\r\n                      timeInfo.type === 'â° Ø§Ù†ØªÙ‡Ù‰' ? 'expired-rental' : ''\r\n                    }>\r\n                      <td className=\"rental-number\">\r\n                        <strong>#{rental.rental_number || rental.id}</strong>\r\n                        {isOpenTime && (\r\n                          <span className=\"badge badge-warning\">Ù…ÙØªÙˆØ­</span>\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"customer-cell\">\r\n                          <div className=\"customer-name\">\r\n                            <User size={14} />\r\n                            {rental.customer_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}\r\n                          </div>\r\n                          <div className=\"customer-phone\">\r\n                            <Phone size={12} />\r\n                            {rental.customer_phone || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯'}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"game-cell\">\r\n                        <Gamepad2 size={14} />\r\n                        {rental.game_name || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©'}\r\n                      </td>\r\n                      <td>\r\n                        {timeInfo.type}\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"countdown-cell\">\r\n                          <Clock size={14} />\r\n                          <span className={timeInfo.remaining.startsWith('â°') ? 'expired' : ''}>\r\n                            {timeInfo.remaining}\r\n                          </span>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"amount-cell\">\r\n                        {calculateRentalAmount(rental)}\r\n                      </td>\r\n                      <td>\r\n                        <span className={`payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'pending'}`}>\r\n                          {rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' \r\n                            ? <><CheckCircle size={14} /> Ù…Ø¯ÙÙˆØ¹</>\r\n                            : <><Clock size={14} /> {rental.payment_status || 'Ø¹Ù†Ø¯ Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡'}</>\r\n                          }\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <div className=\"action-buttons\">\r\n                          <button\r\n                            onClick={() => onAction('details', rental)}\r\n                            className=\"action-btn view-btn\"\r\n                            title=\"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„\"\r\n                          >\r\n                            <Eye size={16} />\r\n                          </button>\r\n                          \r\n                          {isOpenTime && (\r\n                            <button\r\n                              onClick={() => onAction('end', rental)}\r\n                              className=\"action-btn end-btn\"\r\n                              title=\"Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª\"\r\n                            >\r\n                              <Clock size={16} />\r\n                            </button>\r\n                          )}\r\n                          \r\n                          {!isOpenTime && \r\n                           remainingMinutes !== null && remainingMinutes < 30 && (\r\n                            <button\r\n                              onClick={() => onAction('extend', rental)}\r\n                              className=\"action-btn extend-btn\"\r\n                              title=\"ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ÙˆÙ‚Øª\"\r\n                            >\r\n                              <Plus size={16} />\r\n                            </button>\r\n                          )}\r\n                          \r\n                          <button\r\n                            onClick={() => onAction('cancel', rental)}\r\n                            className=\"action-btn cancel-btn\"\r\n                            title=\"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\"\r\n                          >\r\n                            <XCircle size={16} />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nActiveRentalsTableComponent.displayName = 'ActiveRentalsTable';\r\n\r\nconst ActiveRentalsTable = React.memo(ActiveRentalsTableComponent);\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© ====================\r\nconst CompletedRentalsTableComponent = ({ rentals, onExport, onPrint, loading }) => {\r\n  const [selectedPeriod, setSelectedPeriod] = useState('today');\r\n  const [filteredRentals, setFilteredRentals] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const filterRentals = () => {\r\n      if (!rentals || rentals.length === 0) {\r\n        setFilteredRentals([]);\r\n        return;\r\n      }\r\n\r\n      const now = new Date();\r\n      let filtered = [...rentals];\r\n\r\n      switch (selectedPeriod) {\r\n        case 'today': {\r\n          const today = now.toISOString().split('T')[0];\r\n          filtered = rentals.filter(r => r.end_time && r.end_time.split('T')[0] === today);\r\n          break;\r\n        }\r\n        case 'week': {\r\n          const weekAgo = new Date();\r\n          weekAgo.setDate(weekAgo.getDate() - 7);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= weekAgo);\r\n          break;\r\n        }\r\n        case 'month': {\r\n          const monthAgo = new Date();\r\n          monthAgo.setMonth(monthAgo.getMonth() - 1);\r\n          filtered = rentals.filter(r => r.end_time && new Date(r.end_time) >= monthAgo);\r\n          break;\r\n        }\r\n        default:\r\n          // \"all\" - no filtering\r\n          break;\r\n      }\r\n\r\n      setFilteredRentals(filtered);\r\n    };\r\n\r\n    filterRentals();\r\n  }, [rentals, selectedPeriod]);\r\n\r\n  const totalRevenue = useMemo(() => {\r\n    return filteredRentals.reduce((sum, rental) => \r\n      sum + (parseFloat(rental.total_amount) || 0), 0\r\n    );\r\n  }, [filteredRentals]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"completed-rentals-section\">\r\n        <div className=\"loading-state\">\r\n          <Loader2 className=\"spinner\" size={32} />\r\n          <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"completed-rentals-section\">\r\n      <div className=\"section-header\">\r\n        <h3 className=\"section-title\">\r\n          <span className=\"section-icon\">âœ…</span>\r\n          Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©\r\n          <span className=\"section-count\">({filteredRentals.length})</span>\r\n        </h3>\r\n        \r\n        <div className=\"section-controls\">\r\n          <div className=\"period-selector\">\r\n            <select\r\n              value={selectedPeriod}\r\n              onChange={(e) => setSelectedPeriod(e.target.value)}\r\n              className=\"period-select\"\r\n            >\r\n              <option value=\"today\">Ø§Ù„ÙŠÙˆÙ…</option>\r\n              <option value=\"week\">Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…</option>\r\n              <option value=\"month\">Ø¢Ø®Ø± 30 ÙŠÙˆÙ…</option>\r\n              <option value=\"all\">Ø§Ù„ÙƒÙ„</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <button\r\n            onClick={() => onExport(filteredRentals, selectedPeriod)}\r\n            className=\"btn btn-sm btn-success\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Download size={16} />\r\n            ØªØµØ¯ÙŠØ±\r\n          </button>\r\n          \r\n          <button\r\n            onClick={() => onPrint(filteredRentals, selectedPeriod)}\r\n            className=\"btn btn-sm btn-primary\"\r\n            disabled={filteredRentals.length === 0}\r\n          >\r\n            <Printer size={16} />\r\n            Ø·Ø¨Ø§Ø¹Ø©\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {filteredRentals.length === 0 ? (\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">ðŸ“­</div>\r\n          <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ£Ø¬ÙŠØ±Ø§Øª Ù…ÙƒØªÙ…Ù„Ø©</h3>\r\n          <p>Ù„Ù… ØªÙƒØªÙ…Ù„ Ø£ÙŠ ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"revenue-summary\">\r\n            <div className=\"summary-card\">\r\n              <div className=\"summary-icon\">\r\n                <DollarSign size={24} />\r\n              </div>\r\n              <div className=\"summary-content\">\r\n                <div className=\"summary-label\">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</div>\r\n                <div className=\"summary-value\">{formatCurrency(totalRevenue)}</div>\r\n                <div className=\"summary-period\">\r\n                  {selectedPeriod === 'today' && 'Ù„Ù„ÙŠÙˆÙ…'}\r\n                  {selectedPeriod === 'week' && 'Ù„Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…'}\r\n                  {selectedPeriod === 'month' && 'Ù„Ø¢Ø®Ø± 30 ÙŠÙˆÙ…'}\r\n                  {selectedPeriod === 'all' && 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"table-container\">\r\n            <div className=\"table-responsive\">\r\n              <table className=\"rentals-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                    <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                    <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                    <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\r\n                    <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\r\n                    <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                    <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                    <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredRentals.map(rental => (\r\n                    <tr key={rental.id}>\r\n                      <td>#{rental.rental_number || rental.id}</td>\r\n                      <td>\r\n                        <div className=\"customer-info\">\r\n                          <div className=\"customer-name\">{rental.customer_name}</div>\r\n                          <div className=\"customer-phone\">{rental.customer_phone}</div>\r\n                        </div>\r\n                      </td>\r\n                      <td>{rental.game_name}</td>\r\n                      <td>{formatTime(rental.start_time)}</td>\r\n                      <td>{formatTime(rental.end_time)}</td>\r\n                      <td>{calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\r\n                      <td className=\"amount-cell\">{formatCurrency(rental.total_amount)}</td>\r\n                      <td>\r\n                        <span className={`payment-status ${rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' ? 'paid' : 'partial'}`}>\r\n                          {rental.payment_status === 'Ù…Ø¯ÙÙˆØ¹' \r\n                            ? <><CheckCircle size={12} /> Ù…Ø¯ÙÙˆØ¹</>\r\n                            : <><AlertCircle size={12} /> {rental.payment_status}</>\r\n                          }\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nCompletedRentalsTableComponent.displayName = 'CompletedRentalsTable';\r\n\r\nconst CompletedRentalsTable = React.memo(CompletedRentalsTableComponent);\r\n\r\n// ==================== Ù…ÙƒÙˆÙ† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ====================\r\nconst DashboardStatsComponent = ({ stats, currentShift, onStartShift, onEndShift, loading }) => {\r\n  const shiftTime = useMemo(() => {\r\n    if (!currentShift || !currentShift.start_time) return '--:--';\r\n    return formatTime(currentShift.start_time);\r\n  }, [currentShift]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-stats\">\r\n        <div className=\"stats-grid\">\r\n          {[1, 2, 3, 4].map(i => (\r\n            <div key={i} className=\"stat-card skeleton\">\r\n              <div className=\"skeleton-loader\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-stats\">\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card primary\">\r\n          <div className=\"stat-icon\">\r\n            <Gamepad2 size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.availableGames || 0}</div>\r\n            <div className=\"stat-label\">Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ§Ø­Ø©</div>\r\n            <div className=\"stat-subtext\">Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ {stats.totalGames || 0}</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card success\">\r\n          <div className=\"stat-icon\">\r\n            <Zap size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{stats.activeRentals || 0}</div>\r\n            <div className=\"stat-label\">ØªØ£Ø¬ÙŠØ±Ø§Øª Ù†Ø´Ø·Ø©</div>\r\n            <div className=\"stat-subtext\">Ù‚ÙŠØ¯ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¢Ù†</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card warning\">\r\n          <div className=\"stat-icon\">\r\n            <DollarSign size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">{formatCurrency(stats.todayRevenue || 0)}</div>\r\n            <div className=\"stat-label\">Ø¥ÙŠØ±Ø§Ø¯ Ø§Ù„ÙŠÙˆÙ…</div>\r\n            <div className=\"stat-subtext\">{stats.todayRentals || 0} ØªØ£Ø¬ÙŠØ±</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card info shift-card\">\r\n          <div className=\"stat-icon\">\r\n            <Clock size={24} />\r\n          </div>\r\n          <div className=\"stat-content\">\r\n            <div className=\"stat-value\">\r\n              {currentShift ? `#${currentShift.id}` : '--'}\r\n            </div>\r\n            <div className=\"stat-label\">Ø§Ù„Ø´ÙŠÙØª Ø§Ù„Ø­Ø§Ù„ÙŠ</div>\r\n            <div className=\"stat-subtext\">Ø¨Ø¯Ø£ {shiftTime}</div>\r\n            <div className=\"shift-actions\">\r\n              {!currentShift ? (\r\n                <button onClick={onStartShift} className=\"btn btn-sm btn-success\">\r\n                  <Zap size={14} />\r\n                  Ø¨Ø¯Ø¡ Ø´ÙŠÙØª\r\n                </button>\r\n              ) : (\r\n                <button onClick={onEndShift} className=\"btn btn-sm btn-warning\">\r\n                  <Lock size={14} />\r\n                  Ø¥Ù†Ù‡Ø§Ø¡ Ø´ÙŠÙØª\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nDashboardStatsComponent.displayName = 'DashboardStats';\r\n\r\nconst DashboardStats = React.memo(DashboardStatsComponent);\r\n\r\n// ==================== Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ====================\r\nconst Rentals = () => {\r\n  const { user } = useAuth();\r\n  const isManager = user?.role === 'admin' || user?.role === 'branch_manager';\r\n\r\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©\r\n  const [loading, setLoading] = useState({\r\n    all: true,\r\n    games: false,\r\n    rentals: false,\r\n    shift: false,\r\n    stats: false\r\n  });\r\n  \r\n  const [error, setError] = useState(null);\r\n  const [games, setGames] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [currentShift, setCurrentShift] = useState(null);\r\n  \r\n  // Ø§Ù„Ø­Ø§Ù„Ø§Øª Ù„Ù„ÙˆØ§Ø¬Ù‡Ø©\r\n  const [selectedGames, setSelectedGames] = useState([]);\r\n  const [showRentalModal, setShowRentalModal] = useState(false);\r\n  \r\n  // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\r\n  const [stats, setStats] = useState({\r\n    availableGames: 0,\r\n    totalGames: 0,\r\n    activeRentals: 0,\r\n    todayRevenue: 0,\r\n    todayRentals: 0\r\n  });\r\n\r\n  // Refs Ù„Ù„ØªØ­ÙƒÙ…\r\n  const loadingRef = useRef(false);\r\n  const lastLoadTimeRef = useRef(0);\r\n\r\n// ==================== Ø¥ØµÙ„Ø§Ø­ Ø¯Ø§Ù„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ====================\r\n\r\nconst loadGames = async (force = false) => {\r\n  if (loading.games && !force) return;\r\n  \r\n  setLoading(prev => ({ ...prev, games: true }));\r\n  \r\n  try {\r\n    const response = await api.get('/games', {\r\n      params: { \r\n        branch_id: user?.branch_id,\r\n        is_active: 1\r\n      }\r\n    });\r\n    \r\n    if (response.success && response.data) {\r\n      // ðŸ”§ **ØªØµÙÙŠØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„Ù„ÙØ±Ø¹ ÙÙ‚Ø·**\r\n      const branchGames = response.data.filter(game => {\r\n        if (!game) return false;\r\n        \r\n        const gameBranchId = parseInt(game.branch_id);\r\n        const currentBranchId = parseInt(user?.branch_id);\r\n        \r\n        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ§Ø¨Ø¹Ø© Ù„Ù„ÙØ±Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ\r\n        return gameBranchId === currentBranchId;\r\n      });\r\n      \r\n      setGames(branchGames);\r\n      \r\n      // ðŸ”§ **Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø© (Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„ÙØ±Ø¹ ØªØ¹ØªØ¨Ø± Ù…ØªØ§Ø­Ø©)**\r\n      setStats(prev => ({\r\n        ...prev,\r\n        availableGames: branchGames.length,\r\n        totalGames: branchGames.length\r\n      }));\r\n      \r\n      console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${branchGames.length} Ù„Ø¹Ø¨Ø© Ù„Ù„ÙØ±Ø¹ ${user?.branch_id}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);\r\n  } finally {\r\n    setLoading(prev => ({ ...prev, games: false }));\r\n  }\r\n};\r\n\r\n  const loadActiveRentals = useCallback(async (force = false) => {\r\n    if (loading.rentals && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, rentals: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/rentals/active');\r\n      \r\n      if (response.success && response.data) {\r\n        setActiveRentals(response.data);\r\n        setStats(prev => ({\r\n          ...prev,\r\n          activeRentals: response.data.length\r\n        }));\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù†Ø´Ø·`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, rentals: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadCurrentShift = useCallback(async (force = false) => {\r\n    if (loading.shift && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, shift: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/shifts/simple');\r\n      \r\n      if (response.success) {\r\n        if (response.data) {\r\n          setCurrentShift(response.data);\r\n          localStorage.setItem('current_shift', JSON.stringify(response.data));\r\n          console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø´ÙŠÙØª #${response.data.id}`);\r\n        } else {\r\n          setCurrentShift(null);\r\n          localStorage.removeItem('current_shift');\r\n          console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      setCurrentShift(null);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadStats = useCallback(async (force = false) => {\r\n    if (loading.stats && !force) return;\r\n    \r\n    setLoading(prev => ({ ...prev, stats: true }));\r\n    \r\n    try {\r\n      const response = await api.get('/dashboard/stats/simple');\r\n      \r\n      if (response.success && response.data) {\r\n        setStats(prev => ({\r\n          ...prev,\r\n          ...response.data\r\n        }));\r\n        console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, stats: false }));\r\n    }\r\n  }, []);\r\n\r\n  const loadCompletedRentals = useCallback(async (force = false) => {\r\n    if (!isManager) return;\r\n    \r\n    try {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const response = await api.get('/rentals', {\r\n        params: { \r\n          branch_id: user.branch_id,\r\n          status: 'Ù…ÙƒØªÙ…Ù„',\r\n          start_date: today,\r\n          limit: 100\r\n        }\r\n      });\r\n      \r\n      if (response.success && response.data) {\r\n        setCompletedRentals(response.data);\r\n        \r\n        const todayRentals = response.data.filter(r => \r\n          r.end_time && r.end_time.split('T')[0] === today\r\n        );\r\n        \r\n        const todayRevenue = todayRentals.reduce((sum, rental) => \r\n          sum + (parseFloat(rental.total_amount) || 0), 0\r\n        );\r\n        \r\n        setStats(prev => ({\r\n          ...prev,\r\n          todayRevenue: todayRevenue,\r\n          todayRentals: todayRentals.length\r\n        }));\r\n        \r\n        console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${response.data.length} ØªØ£Ø¬ÙŠØ± Ù…ÙƒØªÙ…Ù„`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:', error);\r\n    }\r\n  }, [user.branch_id, isManager]);\r\n\r\n  const loadAllData = useCallback(async (force = false) => {\r\n    // Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ±Ø± Ø®Ù„Ø§Ù„ 3 Ø«ÙˆØ§Ù†ÙŠ\r\n    const now = Date.now();\r\n    if (now - lastLoadTimeRef.current < 3000 && !force) {\r\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù…ØªÙƒØ±Ø± Ø¬Ø¯Ø§Ù‹');\r\n      return;\r\n    }\r\n    \r\n    if (loadingRef.current && !force) {\r\n      console.log('â­ï¸ ØªØ®Ø·ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„ - Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹');\r\n      return;\r\n    }\r\n    \r\n    loadingRef.current = true;\r\n    lastLoadTimeRef.current = now;\r\n    setLoading(prev => ({ ...prev, all: true }));\r\n    setError(null);\r\n    \r\n    try {\r\n      console.log('ðŸ”„ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');\r\n      \r\n      if (!user?.branch_id) {\r\n        throw new Error('ÙŠØ¬Ø¨ ØªØ¹ÙŠÙŠÙ† ÙØ±Ø¹ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹');\r\n      }\r\n\r\n      // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø´ÙƒÙ„ Ù…ØªÙˆØ§Ø²ÙŠ\r\n      await Promise.allSettled([\r\n        loadGames(true),\r\n        loadActiveRentals(true),\r\n        loadCurrentShift(true),\r\n        loadStats(true)\r\n      ]);\r\n\r\n      // Ø¬Ù„Ø¨ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¯ÙŠØ±Ø§Ù‹\r\n      if (isManager) {\r\n        await loadCompletedRentals(true);\r\n      }\r\n      \r\n      console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');\r\n      \r\n    } catch (error) {\r\n      console.error('ðŸ”¥ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);\r\n      setError(error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\r\n      \r\n      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø´ÙŠÙØª Ù…Ù† localStorage\r\n      try {\r\n        const savedShift = localStorage.getItem('current_shift');\r\n        if (savedShift) {\r\n          setCurrentShift(JSON.parse(savedShift));\r\n        }\r\n      } catch (e) {\r\n        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©:', e);\r\n      }\r\n    } finally {\r\n      loadingRef.current = false;\r\n      setLoading(prev => ({ ...prev, all: false }));\r\n    }\r\n  }, [user?.branch_id, isManager, loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadCompletedRentals]);\r\n\r\n  const refreshSpecificData = useCallback(async (dataType) => {\r\n    switch(dataType) {\r\n      case 'games':\r\n        await loadGames(true);\r\n        break;\r\n      case 'rentals':\r\n        await loadActiveRentals(true);\r\n        break;\r\n      case 'shift':\r\n        await loadCurrentShift(true);\r\n        break;\r\n      case 'stats':\r\n        await loadStats(true);\r\n        break;\r\n      case 'all':\r\n      default:\r\n        await loadAllData(true);\r\n        break;\r\n    }\r\n  }, [loadGames, loadActiveRentals, loadCurrentShift, loadStats, loadAllData]);\r\n\r\n  const startShift = async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, shift: true }));\r\n      \r\n      const response = await api.post('/shifts/start-clean');\r\n      \r\n      if (response.success) {\r\n        setCurrentShift(response.data);\r\n        localStorage.setItem('current_shift', JSON.stringify(response.data));\r\n        \r\n        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\n        setTimeout(() => {\r\n          refreshSpecificData('all');\r\n        }, 1000);\r\n        \r\n        alert('ØªÙ… Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ø®Ø·Ø£ ÙÙŠ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n      alert('ÙØ´Ù„ Ø¨Ø¯Ø¡ Ø§Ù„Ø´ÙŠÙØª: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'));\r\n    } finally {\r\n      setLoading(prev => ({ ...prev, shift: false }));\r\n    }\r\n  };\r\n\r\nconst handleCreateRental = async (rentalData) => {\r\n  const { customerInfo, rentalItems } = rentalData;\r\n  \r\n  console.log('ðŸš€ Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±...');\r\n  \r\n  try {\r\n    const results = [];\r\n    \r\n    for (const [index, item] of rentalItems.entries()) {\r\n      console.log(`ðŸ“ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¹Ù†ØµØ± ${index + 1}/${rentalItems.length}...`);\r\n      \r\n      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© ØºÙŠØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ÙƒØ³Ø±\r\n      const result = await api.createRentalUnbreakable({\r\n        game_id: item.gameId,\r\n        game_name: item.gameName,\r\n        customer_name: customerInfo.name,\r\n        customer_phone: customerInfo.phone,\r\n        duration_minutes: item.rentalType === 'fixed' ? item.duration : 15\r\n      });\r\n      \r\n      results.push({\r\n        item: item.gameName,\r\n        success: true,\r\n        rental_number: result.data?.rental_number || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ',\r\n        local: result.local || false\r\n      });\r\n      \r\n      console.log(`âœ… ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© ${item.gameName}: ${result.data?.rental_number}`);\r\n      \r\n      // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª\r\n      await new Promise(resolve => setTimeout(resolve, 200));\r\n    }\r\n    \r\n    // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬\r\n    const localCount = results.filter(r => r.local).length;\r\n    const serverCount = results.length - localCount;\r\n    \r\n    let message = `ðŸŽ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ${results.length} ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­!\\n\\n`;\r\n    \r\n    if (serverCount > 0) {\r\n      message += `âœ… ${serverCount} Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…\\n`;\r\n    }\r\n    \r\n    if (localCount > 0) {\r\n      message += `ðŸ“± ${localCount} Ù…Ø­Ù„ÙŠØ§Ù‹ (Ø³ÙŠØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)\\n`;\r\n    }\r\n    \r\n    message += `\\nØ£Ø±Ù‚Ø§Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±:\\n`;\r\n    results.forEach((r, i) => {\r\n      message += `${i + 1}. ${r.item}: ${r.rental_number} ${r.local ? '(Ù…Ø­Ù„ÙŠ)' : ''}\\n`;\r\n    });\r\n    \r\n    alert(message);\r\n    \r\n    // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n    setShowRentalModal(false);\r\n    setSelectedGames([]);\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…\r\n    setTimeout(() => {\r\n      refreshSpecificData('rentals');\r\n      refreshSpecificData('stats');\r\n    }, 1000);\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ”¥ Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹:', error);\r\n    alert('âš ï¸ ØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ ÙˆÙ„ÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„. ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª.');\r\n    \r\n    // Ù…Ø¹ Ø°Ù„ÙƒØŒ Ù†ØºÙ„Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© ÙˆÙ†Ø­Ø¯Ø« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n    setShowRentalModal(false);\r\n    setSelectedGames([]);\r\n    refreshSpecificData('rentals');\r\n  }\r\n};\r\n\r\n\r\nconst syncLocalRentals = async () => {\r\n  try {\r\n    const localRentals = JSON.parse(localStorage.getItem('local_rentals') || '[]');\r\n    \r\n    if (localRentals.length === 0) return;\r\n    \r\n    console.log(`ðŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø²Ø§Ù…Ù†Ø© ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù…Ø­Ù„ÙŠ...`);\r\n    \r\n    for (const rental of localRentals) {\r\n      try {\r\n        // Ø­Ø§ÙˆÙ„ Ø±ÙØ¹Ù‡ Ù„Ù„Ø®Ø§Ø¯Ù…\r\n        const response = await api.createSimpleRental({\r\n          game_id: rental.game_id,\r\n          customer_name: rental.customer_name,\r\n          customer_phone: rental.customer_phone || '00000000000'\r\n        });\r\n        \r\n        if (response.success) {\r\n          console.log(`âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…Ø­Ù„ÙŠ: ${rental.rental_number}`);\r\n          // Ø¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©\r\n          localRentals.splice(localRentals.indexOf(rental), 1);\r\n        }\r\n      } catch (error) {\r\n        console.warn(`âš ï¸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± ${rental.rental_number}:`, error.message);\r\n      }\r\n    }\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« localStorage\r\n    localStorage.setItem('local_rentals', JSON.stringify(localRentals));\r\n    \r\n    if (localRentals.length === 0) {\r\n      console.log('âœ… ØªÙ…Øª Ù…Ø²Ø§Ù…Ù†Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');\r\n    } else {\r\n      console.log(`âš ï¸ Ø¨Ù‚ÙŠ ${localRentals.length} ØªØ£Ø¬ÙŠØ± Ù„Ù… ØªØªÙ… Ù…Ø²Ø§Ù…Ù†ØªÙ‡`);\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);\r\n  }\r\n};\r\n\r\n// Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\r\nuseEffect(() => {\r\n  if (currentShift) {\r\n    // Ù…Ø²Ø§Ù…Ù†Ø© ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\r\n    const syncInterval = setInterval(syncLocalRentals, 60000);\r\n    \r\n    // Ù…Ø²Ø§Ù…Ù†Ø© ÙÙˆØ±ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©\r\n    syncLocalRentals();\r\n    \r\n    return () => clearInterval(syncInterval);\r\n  }\r\n}, [currentShift]);\r\n\r\n// ØªØ­Ø¯ÙŠØ« Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±\r\nconst handleEndRental = async (rental) => {\r\n  try {\r\n    const confirmed = window.confirm(\r\n      `Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ\r\n      Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\r\n      Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}`\r\n    );\r\n    \r\n    if (!confirmed) return;\r\n    \r\n    const response = await api.completeRental(rental.id, {\r\n      payment_method: rental.payment_method || 'ÙƒØ§Ø´'\r\n    });\r\n    \r\n    if (response.success) {\r\n      alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø­Ø©');\r\n      await refreshSpecificData('rentals');\r\n      await refreshSpecificData('games');\r\n    } else {\r\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error ending rental:', error);\r\n    alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\r\n  }\r\n};\r\n\r\n// ==================== Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… ====================\r\n\r\n// 1. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…\r\nconst validateSystem = async () => {\r\n  try {\r\n    console.log('ðŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø´ÙƒÙ„ Ù…Ø­Ø³Ù‘Ù†...');\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©\r\n    const healthCheck = await api.checkSystemHealth();\r\n    \r\n    if (!healthCheck.success) {\r\n      console.warn('âš ï¸ Ù‡Ù†Ø§Ùƒ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…:', healthCheck.message);\r\n      \r\n      // Ø¹Ø±Ø¶ ØªØ­Ø°ÙŠØ±Ø§Øª Ù„ÙƒÙ† Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„Ù†Ø¸Ø§Ù…\r\n      if (healthCheck.checks.some(c => c.status === 'error')) {\r\n        console.warn('âŒ Ø£Ø®Ø·Ø§Ø¡ Ø­Ø±Ø¬Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…');\r\n      }\r\n    }\r\n    \r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ±Ø¹\r\n    if (!user?.branch_id) {\r\n      console.warn('âš ï¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø±ØªØ¨Ø· Ø¨ÙØ±Ø¹ØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ');\r\n      // Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„ÙØ±Ø¹ 1 ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ\r\n      user.branch_id = 1;\r\n    }\r\n    \r\n    // Ø¬Ù„Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø°ÙƒÙŠØ©\r\n    const gamesResponse = await api.getGamesSmart({ \r\n      branch_id: user.branch_id \r\n    });\r\n    \r\n    if (gamesResponse.success && gamesResponse.data.length === 0) {\r\n      console.warn('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ§Ø­Ø©ØŒ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ©');\r\n      // Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø·Ù„Ø¨\r\n    }\r\n    \r\n    console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„ (Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª)');\r\n    \r\n    return { \r\n      success: true, \r\n      message: 'Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„',\r\n      details: healthCheck\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('ðŸ”¥ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…:', error);\r\n    \r\n    // Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ³ØªÙ…Ø± Ø­ØªÙ‰ Ù…Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡\r\n    return { \r\n      success: true, // Ù†Ø¬Ø¹Ù„Ù‡ true Ù„ÙƒÙŠ ÙŠØ³ØªÙ…Ø± Ø§Ù„Ù†Ø¸Ø§Ù…\r\n      message: 'Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­Ø°ÙŠØ±Ø§Øª',\r\n      error: error.message,\r\n      suggestion: 'ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„'\r\n    };\r\n  }\r\n};\r\n\r\n// 2. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©\r\nuseEffect(() => {\r\n  const initializeSystem = async () => {\r\n    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… (Ù„Ø§ Ù†ÙˆÙ‚Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£Ø®Ø·Ø§Ø¡)\r\n    const systemCheck = await validateSystem();\r\n    \r\n    // Ù†Ø­Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ØªÙ‰ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ØªØ­Ø°ÙŠØ±Ø§Øª\r\n    await loadAllData();\r\n    \r\n    // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØªØŒ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ø·ÙŠÙØ©\r\n    if (!currentShift && !loading.shift) {\r\n      console.log('â„¹ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø· - Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯');\r\n      // Ù„Ø§ Ù†Ø¨Ø¯Ø£ Ø´ÙŠÙØª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ØŒ Ù†ØªØ±Ùƒ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®ÙŠØ§Ø±\r\n    }\r\n  };\r\n  \r\n  initializeSystem();\r\n  \r\n  // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©\r\n  const intervalId = setInterval(() => {\r\n    if (currentShift) {\r\n      refreshSpecificData('rentals');\r\n    }\r\n  }, 30000);\r\n  \r\n  return () => clearInterval(intervalId);\r\n}, [currentShift]);\r\n\r\n\r\n\r\n// 4. ØªØ­Ø³ÙŠÙ† Ø¯Ø§Ù„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª\r\nconst endShift = async () => {\r\n  if (!currentShift) return;\r\n  \r\n  const confirmMessage = `\r\n    Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª #${currentShift.id}\r\n    ============================\r\n    \r\n    âš ï¸ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØªØŸ\r\n    \r\n    Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªÙŠ Ø³ØªØ­Ø¯Ø«:\r\n    1. Ø³ÙŠØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠÙØª\r\n    2. Ø³ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© \"Ù…ØªØ§Ø­\"\r\n    3. Ø³ÙŠØªÙ… Ø±Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© Ø§Ù„ÙŠÙˆÙ… Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø´ÙŠÙØª\r\n    4. Ù„Ù† ØªØ¸Ù‡Ø± Ù‡Ø°Ù‡ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ÙÙŠ Ø£ÙŠ Ø´ÙŠÙØª Ø¢Ø®Ø±\r\n    \r\n    Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¹Ø¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØªØŒ \r\n    Ù„ÙƒÙ† ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø¬ÙŠØ±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.\r\n    \r\n    Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ\r\n  `;\r\n  \r\n  if (!window.confirm(confirmMessage)) return;\r\n  \r\n  try {\r\n    setLoading(prev => ({ ...prev, shift: true }));\r\n    \r\n    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ©\r\n    const response = await api.endShiftSmart(currentShift.id, {\r\n      notes: `ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨ÙˆØ§Ø³Ø·Ø© ${user.name} - ${new Date().toLocaleString('ar-EG')}`\r\n    });\r\n    \r\n    if (response.success) {\r\n      console.log('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', response.message);\r\n      \r\n      setCurrentShift(null);\r\n      setActiveRentals([]);\r\n      localStorage.removeItem('current_shift');\r\n      \r\n      // ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª\r\n      await Promise.all([\r\n        refreshSpecificData('games'),\r\n        refreshSpecificData('rentals'),\r\n        refreshSpecificData('stats')\r\n      ]);\r\n      \r\n      // Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ Ù„Ø·ÙŠÙØ©\r\n      alert(`\r\n        ðŸŽ‰ ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª Ø¨Ù†Ø¬Ø§Ø­!\r\n        ======================\r\n        \r\n        ${response.message}\r\n        \r\n        ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø§Ù‹.\r\n        \r\n        Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ùƒ! ðŸ‘\r\n      `);\r\n      \r\n    } else {\r\n      // Ø­ØªÙ‰ Ø¥Ø°Ø§ ÙØ´Ù„ØŒ Ù†Ø­Ø§ÙˆÙ„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©\r\n      setCurrentShift(null);\r\n      alert('âš ï¸ ØªÙ… Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ùˆ Ø­Ø§ÙˆÙ„ ÙŠØ¯ÙˆÙŠØ§Ù‹.');\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('âš ï¸ ØªØ­Ø°ÙŠØ± ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª:', error);\r\n    alert('âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø´ÙŠÙØª. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');\r\n  } finally {\r\n    setLoading(prev => ({ ...prev, shift: false }));\r\n  }\r\n};\r\n\r\n\r\n  // ==================== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª ====================\r\n  const handleSelectGame = (game) => {\r\n    if (!currentShift) {\r\n      alert('ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø£ÙˆÙ„Ø§Ù‹');\r\n      startShift();\r\n      return;\r\n    }\r\n    \r\n    const isAlreadySelected = selectedGames.some(g => g.id === game.id);\r\n    \r\n    if (!isAlreadySelected) {\r\n      setSelectedGames([...selectedGames, game]);\r\n      setShowRentalModal(true);\r\n    } else {\r\n      setShowRentalModal(true);\r\n    }\r\n  };\r\n\r\n\r\n  const handleRentalAction = async (action, rental) => {\r\n    switch(action) {\r\n      case 'details': {\r\n        const details = `\r\n          ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}\r\n          ---------------------------\r\n          Ø§Ù„Ø¹Ù…ÙŠÙ„: ${rental.customer_name}\r\n          Ø§Ù„Ù‡Ø§ØªÙ: ${rental.customer_phone}\r\n          Ø§Ù„Ù„Ø¹Ø¨Ø©: ${rental.game_name}\r\n          Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹: ${rental.payment_status}\r\n          Ø§Ù„Ù…Ø¨Ù„Øº: ${formatCurrency(rental.total_amount)}\r\n          ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡: ${formatDateTime(rental.start_time)}\r\n          ${rental.end_time ? `ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: ${formatDateTime(rental.end_time)}` : ''}\r\n          ${rental.notes ? `Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${rental.notes}` : ''}\r\n        `;\r\n        alert(details);\r\n        break;\r\n      }\r\n        \r\n      case 'end': {\r\n        try {\r\n          const confirmed = window.confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ');\r\n          if (!confirmed) return;\r\n          \r\n          const response = await api.post(`/rentals/${rental.id}/complete`, {\r\n            payment_method: rental.payment_method || 'ÙƒØ§Ø´'\r\n          });\r\n          \r\n          if (response.success) {\r\n            alert('âœ… ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\r\n            await refreshSpecificData('rentals');\r\n          } else {\r\n            alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        } catch (error) {\r\n          console.error('Error ending rental:', error);\r\n          alert('âŒ ÙØ´Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±: ' + (error.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£'));\r\n        }\r\n        break;\r\n      }\r\n          \r\n      case 'cancel': {\r\n        if (window.confirm(`Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù„ØºØ§Ø¡ ØªØ£Ø¬ÙŠØ± #${rental.rental_number || rental.id}ØŸ`)) {\r\n          try {\r\n            const response = await api.post(`/rentals/${rental.id}/cancel`, {\r\n              refund_amount: rental.total_amount || 0,\r\n              notes: 'Ø¥Ù„ØºØ§Ø¡ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ¸Ù'\r\n            });\r\n            \r\n            if (response.success) {\r\n              alert('âœ… ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­');\r\n              await refreshSpecificData('all');\r\n            } else {\r\n              alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n            }\r\n          } catch (error) {\r\n            console.error('Error cancelling rental:', error);\r\n            alert('âŒ ÙØ´Ù„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        }\r\n        break;\r\n      }\r\n        \r\n      case 'extend': {\r\n        const extendMinutes = prompt('ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© ØªØ±ÙŠØ¯ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±ØŸ', '15');\r\n        if (extendMinutes && !isNaN(extendMinutes) && parseInt(extendMinutes) > 0) {\r\n          try {\r\n            const response = await api.post(`/rentals/${rental.id}/extend`, {\r\n              additional_minutes: parseInt(extendMinutes)\r\n            });\r\n            \r\n            if (response.success) {\r\n              alert(`âœ… ØªÙ… ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ± ${extendMinutes} Ø¯Ù‚ÙŠÙ‚Ø©`);\r\n              await refreshSpecificData('rentals');\r\n            }\r\n          } catch (error) {\r\n            console.error('Error extending rental:', error);\r\n            alert('âŒ ÙØ´Ù„ ØªÙ…Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±');\r\n          }\r\n        }\r\n        break;\r\n      }\r\n        \r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleExportCompleted = (rentals, period) => {\r\n    try {\r\n      const dataStr = JSON.stringify(rentals, null, 2);\r\n      const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);\r\n      \r\n      const exportFileDefaultName = `ØªØ£Ø¬ÙŠØ±Ø§Øª_${period}_${new Date().toISOString().split('T')[0]}.json`;\r\n      \r\n      const linkElement = document.createElement('a');\r\n      linkElement.setAttribute('href', dataUri);\r\n      linkElement.setAttribute('download', exportFileDefaultName);\r\n      linkElement.click();\r\n      \r\n      alert(`âœ… ØªÙ… ØªØµØ¯ÙŠØ± ${rentals.length} ØªØ£Ø¬ÙŠØ±`);\r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      alert('âŒ ÙØ´Ù„ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');\r\n    }\r\n  };\r\n\r\n  const handlePrintCompleted = (rentals, period) => {\r\n    try {\r\n      const printWindow = window.open('', '_blank');\r\n      const totalRevenue = rentals.reduce((sum, r) => sum + (parseFloat(r.total_amount) || 0), 0);\r\n      \r\n      const content = `\r\n        <html>\r\n          <head>\r\n            <title>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª - ${period}</title>\r\n            <style>\r\n              body { \r\n                font-family: 'Arial', 'Tahoma', sans-serif; \r\n                direction: rtl; \r\n                padding: 20px; \r\n                line-height: 1.6;\r\n                color: #333;\r\n              }\r\n              h1 { \r\n                text-align: center; \r\n                color: #2c3e50; \r\n                margin-bottom: 10px;\r\n                border-bottom: 2px solid #3498db;\r\n                padding-bottom: 10px;\r\n              }\r\n              .header-info {\r\n                text-align: center;\r\n                margin-bottom: 20px;\r\n                color: #7f8c8d;\r\n              }\r\n              table { \r\n                width: 100%; \r\n                border-collapse: collapse; \r\n                margin-top: 20px; \r\n                font-size: 14px;\r\n              }\r\n              th { \r\n                background-color: #3498db; \r\n                color: white;\r\n                padding: 12px 8px;\r\n                text-align: center;\r\n                border: 1px solid #2980b9;\r\n              }\r\n              td { \r\n                border: 1px solid #ddd; \r\n                padding: 10px 8px; \r\n                text-align: center; \r\n              }\r\n              tr:nth-child(even) {\r\n                background-color: #f9f9f9;\r\n              }\r\n              tr:hover {\r\n                background-color: #f5f5f5;\r\n              }\r\n              .total { \r\n                font-weight: bold; \r\n                color: #2c3e50; \r\n                font-size: 16px;\r\n                margin-top: 20px;\r\n                padding: 15px;\r\n                background-color: #ecf0f1;\r\n                border-radius: 5px;\r\n                text-align: center;\r\n              }\r\n              .print-footer {\r\n                margin-top: 30px;\r\n                padding-top: 20px;\r\n                border-top: 1px solid #ddd;\r\n                text-align: center;\r\n                color: #7f8c8d;\r\n                font-size: 12px;\r\n              }\r\n              @media print {\r\n                body { padding: 0; }\r\n                .no-print { display: none; }\r\n                table { font-size: 12px; }\r\n                .total { page-break-inside: avoid; }\r\n              }\r\n            </style>\r\n          </head>\r\n          <body>\r\n            <h1>ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</h1>\r\n            <div class=\"header-info\">\r\n              <p><strong>Ø§Ù„ÙØªØ±Ø©:</strong> ${period === 'today' ? 'Ø§Ù„ÙŠÙˆÙ…' : \r\n                 period === 'week' ? 'Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…' : \r\n                 period === 'month' ? 'Ø¢Ø®Ø± 30 ÙŠÙˆÙ…' : 'Ø§Ù„ÙƒÙ„'}</p>\r\n              <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª:</strong> ${rentals.length}</p>\r\n              <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${new Date().toLocaleDateString('ar-EG')}</p>\r\n            </div>\r\n            \r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Ø±Ù‚Ù… Ø§Ù„ØªØ£Ø¬ÙŠØ±</th>\r\n                  <th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th>\r\n                  <th>Ø§Ù„Ù„Ø¹Ø¨Ø©</th>\r\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø¨Ø¯Ø¡</th>\r\n                  <th>ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>\r\n                  <th>Ø§Ù„Ù…Ø¯Ø©</th>\r\n                  <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>\r\n                  <th>Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rentals.map(rental => `\r\n                  <tr>\r\n                    <td>${rental.rental_number || rental.id}</td>\r\n                    <td>${rental.customer_name}</td>\r\n                    <td>${rental.game_name}</td>\r\n                    <td>${formatTime(rental.start_time)}</td>\r\n                    <td>${formatTime(rental.end_time)}</td>\r\n                    <td>${calculateDuration(rental.start_time, rental.end_time)} Ø¯Ù‚ÙŠÙ‚Ø©</td>\r\n                    <td>${formatCurrency(rental.total_amount)}</td>\r\n                    <td>${rental.payment_status}</td>\r\n                  </tr>\r\n                `).join('')}\r\n              </tbody>\r\n            </table>\r\n            \r\n            <div class=\"total\">\r\n              Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${formatCurrency(totalRevenue)}\r\n            </div>\r\n            \r\n            <div class=\"print-footer\">\r\n              <p>ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø© Ù†Ø¸Ø§Ù… L3BTY Ù„Ù„ØªØ£Ø¬ÙŠØ±</p>\r\n              <p>${new Date().toLocaleString('ar-EG')}</p>\r\n            </div>\r\n            \r\n            <button class=\"no-print\" onclick=\"window.print()\" \r\n              style=\"\r\n                margin-top: 20px; \r\n                padding: 12px 24px; \r\n                background: #3498db; \r\n                color: white; \r\n                border: none; \r\n                border-radius: 5px;\r\n                cursor: pointer;\r\n                font-size: 16px;\r\n                display: block;\r\n                margin: 30px auto;\r\n              \">\r\n              ðŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ±\r\n            </button>\r\n            \r\n            <script>\r\n              window.onload = function() {\r\n                // Ø·Ø¨Ø§Ø¹Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©\r\n                setTimeout(function() {\r\n                  window.print();\r\n                }, 1000);\r\n              };\r\n            </script>\r\n          </body>\r\n        </html>\r\n      `;\r\n      \r\n      printWindow.document.write(content);\r\n      printWindow.document.close();\r\n      \r\n    } catch (error) {\r\n      console.error('Error printing report:', error);\r\n      alert('âŒ ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±');\r\n    }\r\n  };\r\n\r\n  // ==================== useEffect ====================\r\n  useEffect(() => {\r\n    loadAllData();\r\n    \r\n    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ© ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´ÙŠÙØª\r\n    let intervalId = null;\r\n    \r\n    if (currentShift) {\r\n      intervalId = setInterval(() => {\r\n        refreshSpecificData('rentals');\r\n      }, 30000); // 30 Ø«Ø§Ù†ÙŠØ©\r\n    }\r\n    \r\n    return () => {\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n      }\r\n    };\r\n  }, [currentShift, loadAllData, refreshSpecificData]);\r\n\r\n  // ==================== Ø§Ù„ØªØµÙŠÙŠØ± ====================\r\n  if (loading.all && games.length === 0 && activeRentals.length === 0) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <Loader2 className=\"spinner large\" size={48} />\r\n        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…...</p>\r\n        <p className=\"loading-subtext\">ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <div className=\"error-content\">\r\n          <div className=\"error-icon\">\r\n            <AlertCircle size={48} />\r\n          </div>\r\n          <h2>Ø­Ø¯Ø« Ø®Ø·Ø£</h2>\r\n          <p className=\"error-message\">{error}</p>\r\n          <div className=\"error-actions\">\r\n            <button onClick={() => loadAllData(true)} className=\"btn btn-primary\">\r\n              <RefreshCw size={18} />\r\n              Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©\r\n            </button>\r\n            <button onClick={() => window.location.reload()} className=\"btn btn-secondary\">\r\n              â†» ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø©\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rentals-page\">\r\n      {/* Ø§Ù„Ø±Ø£Ø³ */}\r\n      <header className=\"page-header\">\r\n        <div className=\"header-content\">\r\n          <div className=\"header-title\">\r\n            <h1 className=\"page-title\">\r\n              <span className=\"title-icon\">ðŸŽ®</span>\r\n              Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª\r\n            </h1>\r\n            <div className=\"page-subtitle\">\r\n              {user?.branch_name || 'Ø§Ù„Ù†Ø¸Ø§Ù…'}\r\n            </div>\r\n          </div>\r\n          <div className=\"user-info\">\r\n            <div className=\"user-badge\">\r\n              <User size={18} />\r\n              <div className=\"user-details\">\r\n                <span className=\"user-name\">{user?.name || 'Ù…Ø³ØªØ®Ø¯Ù…'}</span>\r\n                <span className=\"user-role\">\r\n                  {isManager ? 'ðŸ‘‘ Ù…Ø¯ÙŠØ±' : 'ðŸ‘· Ù…ÙˆØ¸Ù'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"branch-info\">\r\n              <Building size={16} />\r\n              <span className=\"branch-name\">{user?.branch_name || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"header-actions\">\r\n          {selectedGames.length > 0 && (\r\n            <button \r\n              onClick={() => setShowRentalModal(true)}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              <ShoppingCart size={18} />\r\n              Ø¨Ø¯Ø¡ ØªØ£Ø¬ÙŠØ± ({selectedGames.length})\r\n            </button>\r\n          )}\r\n          \r\n          <div className=\"action-buttons\">\r\n            <button \r\n              onClick={() => refreshSpecificData('all')}\r\n              className=\"btn btn-secondary\"\r\n              disabled={loading.all}\r\n            >\r\n              {loading.all ? (\r\n                <Loader2 className=\"spinner\" size={18} />\r\n              ) : (\r\n                <RefreshCw size={18} />\r\n              )}\r\n              ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙ„\r\n            </button>\r\n            \r\n            {currentShift && (\r\n              <div className=\"shift-indicator\">\r\n                <Clock size={16} />\r\n                <span>Ø´ÙŠÙØª #{currentShift.id}</span>\r\n                <span className=\"shift-time\">\r\n                  {formatTime(currentShift.start_time)}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </header>\r\n      \r\n      {/* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */}\r\n      <DashboardStats \r\n        stats={stats}\r\n        currentShift={currentShift}\r\n        onStartShift={startShift}\r\n        onEndShift={endShift}\r\n        loading={loading.shift || loading.stats}\r\n      />\r\n      \r\n      {/* Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø´ÙŠÙØª */}\r\n      {!currentShift && !loading.shift && (\r\n        <div className=\"no-shift-alert\">\r\n          <div className=\"alert-content\">\r\n            <div className=\"alert-icon\">\r\n              <AlertCircle size={24} />\r\n            </div>\r\n            <div className=\"alert-text\">\r\n              <h3>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠÙØª Ù†Ø´Ø·</h3>\r\n              <p>ÙŠØ¬Ø¨ Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯ Ù„Ù„ØªÙ…ÙƒÙ† Ù…Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª</p>\r\n            </div>\r\n            <button onClick={startShift} className=\"btn btn-success\">\r\n              <Zap size={18} />\r\n              Ø¨Ø¯Ø¡ Ø´ÙŠÙØª Ø¬Ø¯ÙŠØ¯\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */}\r\n      {currentShift && (\r\n        <div className=\"main-content\">\r\n          {/* Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…ØªØ§Ø­Ø© */}\r\n          <GamesGrid \r\n            games={games}\r\n            branchId={user?.branch_id}\r\n            onSelectGame={handleSelectGame}\r\n            loading={loading.games}\r\n          />\r\n          \r\n          {/* Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø© */}\r\n          <ActiveRentalsTable \r\n            rentals={activeRentals}\r\n            onAction={handleRentalAction}\r\n            onRefresh={() => refreshSpecificData('rentals')}\r\n            loading={loading.rentals}\r\n          />\r\n          \r\n          {/* Ø§Ù„ØªØ£Ø¬ÙŠØ±Ø§Øª Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø© (Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·) */}\r\n          {isManager && (\r\n            <CompletedRentalsTable \r\n              rentals={completedRentals}\r\n              onExport={handleExportCompleted}\r\n              onPrint={handlePrintCompleted}\r\n              loading={loading.all}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ£Ø¬ÙŠØ± Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ */}\r\n      <MultiRentalModal \r\n        show={showRentalModal}\r\n        onClose={() => {\r\n          setShowRentalModal(false);\r\n          setSelectedGames([]);\r\n        }}\r\n        selectedGames={selectedGames}\r\n        currentShift={currentShift}\r\n        onConfirmRental={handleCreateRental}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Rentals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}