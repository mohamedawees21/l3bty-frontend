{"ast":null,"code":"import api from './api';\nconst authService = {\n  login: async (email, password) => {\n    try {\n      console.log('üîê ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ:', email);\n      const response = await api.login(email, password);\n\n      // üëá ŸÖŸáŸÖ ÿ¨ÿØŸãÿß - ŸÇÿ±ÿßÿ°ÿ© response.data ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠\n      const data = response.data;\n      if (data.success) {\n        var _data$data;\n        const token = data.token;\n\n        // ‚úÖ ÿßŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ Ÿàÿ¨ŸàÿØ user ŸÅŸä ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©\n        let user = data.user;\n        if (!user && (_data$data = data.data) !== null && _data$data !== void 0 && _data$data.user) {\n          user = data.data.user;\n        }\n        if (!token) {\n          return {\n            success: false,\n            message: 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ'\n          };\n        }\n        if (!user) {\n          console.warn('‚ö†Ô∏è ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ');\n          // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° user ÿ®ÿ≥Ÿäÿ∑ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ™ŸàŸÅÿ±ÿ©\n          user = {\n            id: data.user_id || data.id || 1,\n            email: email,\n            name: data.name || email.split('@')[0],\n            role: data.role || 'admin' // ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä admin ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØŸá\n          };\n        }\n\n        // ‚úÖ ÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ®ÿßÿ¥ÿ± ŸàŸàÿßÿ∂ÿ≠\n        localStorage.setItem('token', token);\n        localStorage.setItem('user', JSON.stringify(user));\n        console.log('‚úÖ ÿ™ŸÖ ÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑÿ™ŸàŸÉŸÜ ŸàÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ®ŸÜÿ¨ÿßÿ≠:', user);\n        return {\n          success: true,\n          data: {\n            token,\n            user\n          },\n          message: 'ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠'\n        };\n      }\n      return {\n        success: false,\n        message: data.message || 'ŸÅÿ¥ŸÑ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ'\n      };\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\n      };\n    }\n  },\n  logout: () => {\n    console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('lastLogin');\n    // ŸÑÿß ÿ≠ÿßÿ¨ÿ© ŸÑŸÄ api.setToken(null) ŸÑÿ£ŸÜ interceptor ŸäŸÇÿ±ÿ£ ŸÖŸÜ localStorage\n  },\n  getToken: () => {\n    const token = localStorage.getItem('token');\n    console.log('üîë ÿ¨ŸÑÿ® ÿßŸÑÿ™ŸàŸÉŸÜ:', token ? '‚úÖ ŸÖŸàÿ¨ŸàÿØ' : '‚ùå ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ');\n    return token;\n  },\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n      return null;\n    }\n  },\n  isAuthenticated: () => {\n    const token = authService.getToken();\n    const user = authService.getCurrentUser();\n    return !!(token && user);\n  },\n  // ================= BRANCHES MANAGEMENT =================\n  getBranches: async () => {\n    return await api.getBranches();\n  },\n  // ÿØÿßŸÑÿ© ŸÖÿ≥ÿßÿπÿØÿ© ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© 401\n  handleAuthError: error => {\n    if (error.response && error.response.status === 401) {\n      console.log('üîí ÿ™ŸàŸÉŸÜ ŸÖŸÜÿ™ŸáŸä ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ© - ÿ™ÿ≥ÿ¨ŸäŸÑ ÿÆÿ±Ÿàÿ¨ ÿ™ŸÑŸÇÿßÿ¶Ÿä');\n      authService.logout();\n      return true;\n    }\n    return false;\n  },\n  createBranch: async branchData => {\n    try {\n      console.log('üîë ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ≠ÿßŸÑŸä:', authService.getToken());\n      console.log('üë§ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä:', authService.getCurrentUser());\n      const response = await api.createBranch(branchData);\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÅÿ±ÿπ:', response);\n      return response;\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä createBranch:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÅÿ±ÿπ: ' + error.message\n      };\n    }\n  },\n  updateBranch: async (id, branchData) => {\n    return await api.updateBranch(id, branchData);\n  },\n  deleteBranch: async id => {\n    return await api.deleteBranch(id, false);\n  },\n  deleteBranchPermanent: async id => {\n    try {\n      console.log('üóëÔ∏è [AUTH SERVICE] ÿ≠ÿ∞ŸÅ ŸÅÿ±ÿπ ŸÜŸáÿßÿ¶ŸäÿßŸã:', id);\n      const response = await api.deleteBranch(id, true);\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', response);\n      return response;\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ: ' + error.message\n      };\n    }\n  },\n  getBranchGames: async branchId => {\n    return await api.getBranchGames(branchId);\n  },\n  // ================= GAMES MANAGEMENT =================\n  getGames: async (params = {}) => {\n    return await api.getGames(params);\n  },\n  createGame: async gameData => {\n    return await api.createGame(gameData);\n  },\n  // ÿØÿßŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ŸÑÿπÿ®ÿ© ŸÖÿ≠ÿ≥ŸÜÿ©\n  updateGame: async (gameId, gameData) => {\n    try {\n      console.log(`üéÆ ÿ™ÿ≠ÿØŸäÿ´ ŸÑÿπÿ®ÿ© ${gameId}:`, gameData);\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©\n      try {\n        const response = await api.put(`/games/${gameId}`, gameData);\n        if (response && response.success) {\n          return response;\n        }\n      } catch (error1) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', error1.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ®ÿØŸäŸÑÿ©\n      try {\n        const response = await api.put(`/games/update/${gameId}`, gameData);\n        if (response && response.success) {\n          return response;\n        }\n      } catch (error2) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', error2.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ POST\n      try {\n        const response = await api.post(`/games/${gameId}/update`, gameData);\n        if (response && response.success) {\n          return response;\n        }\n      } catch (error3) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', error3.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿ®ÿßÿ¥ÿ±\n      try {\n        const token = authService.getToken();\n        const response = await fetch(`http://localhost:5000/api/games/${gameId}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gameData)\n        });\n        if (response.ok) {\n          const result = await response.json();\n          return result;\n        }\n      } catch (error4) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', error4.message);\n      }\n\n      // ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™ ŸÅÿ¥ŸÑÿ™\n      return {\n        success: false,\n        message: 'ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ© ÿ®ÿπÿØ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™'\n      };\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ÿ¥ÿßŸÖŸÑ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ©:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ©: ' + error.message\n      };\n    }\n  },\n  deleteGame: async id => {\n    return await api.deleteGame(id);\n  },\n  // ================= SHIFTS MANAGEMENT =================\n  getActiveShift: async () => {\n    return await api.getActiveShift();\n  },\n  startShift: async () => {\n    return await api.startShift();\n  },\n  endShift: async shiftId => {\n    return await api.endShift(shiftId);\n  },\n  getBranchShifts: async branchId => {\n    try {\n      console.log(`üìã ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ ${branchId}`);\n      const response = await api.getShifts({\n        branch_id: branchId\n      });\n      return response;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ:', error);\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ',\n        data: []\n      };\n    }\n  },\n  // ================= RENTALS MANAGEMENT =================\n  getRentals: async (params = {}) => {\n    return await api.getRentals(params);\n  },\n  createRental: async rentalData => {\n    return await api.createRental(rentalData);\n  },\n  completeRental: async (rentalId, paymentData = {}) => {\n    return await api.completeRental(rentalId, paymentData);\n  },\n  cancelRental: async rentalId => {\n    return await api.cancelRental(rentalId);\n  },\n  getActiveRentals: async (branchId = null) => {\n    return await api.getActiveRentals(branchId);\n  },\n  getCompletedRentals: async (params = {}) => {\n    return await api.getCompletedRentals(params);\n  },\n  // ================= CUSTOMERS MANAGEMENT =================\n  getCustomers: async (search = '') => {\n    return await api.getCustomers(search);\n  },\n  createCustomer: async customerData => {\n    return await api.createCustomer(customerData);\n  },\n  // ================= USERS MANAGEMENT =================\n  getUsers: async (params = {}) => {\n    return await api.getUsers(params);\n  },\n  createUser: async userData => {\n    return await api.createUser(userData);\n  },\n  updateUser: async (id, userData) => {\n    return await api.updateUser(id, userData);\n  },\n  deleteUser: async id => {\n    return await api.deleteUser(id);\n  },\n  // ================= STATISTICS =================\n  getSimpleStats: async () => {\n    return await api.getSimpleStats();\n  },\n  getDashboardStats: async () => {\n    try {\n      const response = await api.get('/dashboard/stats');\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™',\n        data: {\n          summary: {},\n          today_revenue: 0,\n          today_rentals: 0,\n          active_rentals: 0,\n          total_games: 0,\n          available_games: 0\n        }\n      };\n    }\n  },\n  getDashboardAllStats: async () => {\n    return await api.getDashboardAllStats();\n  },\n  // ================= HEALTH CHECK =================\n  healthCheck: async () => {\n    return await api.healthCheck();\n  },\n  testApiConnection: async () => {\n    return await api.testConnection();\n  },\n  // ================= CURRENT BRANCH OPERATIONS =================\n  getAvailableGamesForCurrentBranch: async () => {\n    try {\n      const user = authService.getCurrentUser();\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        return {\n          success: false,\n          message: 'ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ∫Ÿäÿ± ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ŸÅÿ±ÿπ',\n          data: []\n        };\n      }\n      const response = await api.getBranchGames(user.branch_id);\n      if (response.success) {\n        const availableGames = response.data.filter(game => game.status === 'ŸÖÿ™ÿßÿ≠');\n        return {\n          success: true,\n          data: availableGames,\n          message: `ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${availableGames.length} ŸÑÿπÿ®ÿ© ŸÖÿ™ÿßÿ≠ÿ©`\n        };\n      }\n      return response;\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÅÿ±ÿπ',\n        data: []\n      };\n    }\n  },\n  getCurrentUserBranch: async () => {\n    try {\n      const user = authService.getCurrentUser();\n      if (!(user !== null && user !== void 0 && user.branch_id)) {\n        return {\n          success: false,\n          message: 'ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ∫Ÿäÿ± ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ŸÅÿ±ÿπ',\n          data: null\n        };\n      }\n      return await api.getBranchById(user.branch_id);\n    } catch (error) {\n      return {\n        success: false,\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÅÿ±ÿπ',\n        data: null\n      };\n    }\n  },\n  // ÿØÿßŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ŸÑÿπÿ®ÿ© ÿ®ÿ£Ÿä ÿ∑ÿ±ŸäŸÇÿ© ŸÖŸÖŸÉŸÜÿ©\n  createGameUnbreakable: async gameData => {\n    try {\n      console.log('üõ°Ô∏è [UNBREAKABLE] ŸÖÿ≠ÿßŸàŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ŸÑÿπÿ®ÿ© ÿ®ÿ£Ÿä ÿ∑ÿ±ŸäŸÇÿ©:', gameData);\n      const token = authService.getToken();\n      const user = authService.getCurrentUser();\n      if (!token || !user) {\n        return {\n          success: false,\n          message: 'Ÿäÿ¨ÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã'\n        };\n      }\n      const branchId = gameData.branch_id || user.branch_id || 1;\n      const gamePayload = {\n        name: gameData.name,\n        description: gameData.description || `${gameData.name}`,\n        category: gameData.category || 'ÿ≥Ÿäÿßÿ±ÿßÿ™',\n        price_per_15min: parseFloat(gameData.price_per_15min) || 50,\n        price_per_hour: Math.ceil((parseFloat(gameData.price_per_15min) || 50) * 4),\n        branch_id: branchId,\n        status: gameData.status || 'ŸÖÿ™ÿßÿ≠',\n        min_rental_time: gameData.min_rental_time || 15,\n        max_rental_time: gameData.max_rental_time || 120,\n        minimum_age: gameData.minimum_age || 16,\n        image_url: gameData.image_url || 'default-game.jpg',\n        external_image_url: gameData.external_image_url || ''\n      };\n      console.log('üì§ ÿßŸÑÿ≠ŸÖŸàŸÑÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©:', gamePayload);\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©\n      try {\n        console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: /api/games');\n        const response1 = await fetch('http://localhost:5000/api/games', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gamePayload)\n        });\n        console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', response1.status);\n        if (response1.ok) {\n          const result = await response1.json();\n          console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', result);\n          return result;\n        }\n      } catch (error1) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', error1.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ®ÿØŸäŸÑÿ©\n      try {\n        console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: /api/games/create');\n        const response2 = await fetch('http://localhost:5000/api/games/create', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gamePayload)\n        });\n        console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', response2.status);\n        if (response2.ok) {\n          const result = await response2.json();\n          console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', result);\n          return result;\n        }\n      } catch (error2) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', error2.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÑÿπÿ®ÿ© ŸÑŸÑŸÅÿ±ÿπ ŸÖÿ®ÿßÿ¥ÿ±ÿ©\n      try {\n        console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: /api/branches/[id]/add-game');\n        const response3 = await fetch(`http://localhost:5000/api/branches/${branchId}/add-game`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(gamePayload)\n        });\n        console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', response3.status);\n        if (response3.ok) {\n          const result = await response3.json();\n          console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', result);\n          return result;\n        }\n      } catch (error3) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', error3.message);\n      }\n\n      // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ£ÿ®ÿ≥ÿ∑ ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ŸÖŸÖŸÉŸÜ\n      try {\n        console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ£ÿ®ÿ≥ÿ∑ ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ');\n        const simplePayload = {\n          name: gameData.name,\n          price_per_15min: parseFloat(gameData.price_per_15min) || 50,\n          branch_id: branchId\n        };\n        const response4 = await fetch('http://localhost:5000/api/games/simple', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify(simplePayload)\n        });\n        console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', response4.status);\n        if (response4.ok) {\n          const result = await response4.json();\n          console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', result);\n          return result;\n        }\n      } catch (error4) {\n        console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', error4.message);\n      }\n\n      // ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™ ŸÅÿ¥ŸÑÿ™\n      console.error('‚ùå ÿ¨ŸÖŸäÿπ ŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ© ŸÅÿ¥ŸÑÿ™');\n\n      // ÿßŸÑÿ≠ŸÑ ÿßŸÑÿ£ÿÆŸäÿ±: ÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ≠ŸÑŸä\n      const localGame = {\n        id: 'local-' + Date.now(),\n        name: gameData.name,\n        price_per_15min: parseFloat(gameData.price_per_15min) || 50,\n        branch_id: branchId,\n        status: 'ŸÖÿ™ÿßÿ≠ (ŸÖÿ≠ŸÑŸä)',\n        local: true,\n        created_at: new Date().toISOString()\n      };\n\n      // ÿ≠ŸÅÿ∏ ŸÅŸä localStorage\n      try {\n        const localGames = JSON.parse(localStorage.getItem('local_games') || '[]');\n        localGames.push(localGame);\n        localStorage.setItem('local_games', JSON.stringify(localGames));\n        console.log('üíæ ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã:', localGame.id);\n      } catch (e) {\n        console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã:', e.message);\n      }\n      return {\n        success: true,\n        data: localGame,\n        message: 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã (ÿ≥Ÿäÿ™ŸÖ ŸÖÿ≤ÿßŸÖŸÜÿ™Ÿáÿß ŸÑÿßÿ≠ŸÇÿßŸã)',\n        local: true,\n        emergency: true\n      };\n    } catch (error) {\n      console.error('üî• ÿÆÿ∑ÿ£ ÿ¥ÿßŸÖŸÑ ŸÅŸä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©:', error);\n      return {\n        success: false,\n        message: 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ: ' + error.message\n      };\n    }\n  },\n  // ================= UTILITY FUNCTIONS =================\n  formatError: error => {\n    if (error.response) {\n      var _error$response$data;\n      return ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || `ÿÆÿ∑ÿ£ ${error.response.status}: ${error.response.statusText}`;\n    } else if (error.request) {\n      return 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿÆÿßÿØŸÖ';\n    } else {\n      return error.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ';\n    }\n  },\n  hasRole: role => {\n    const user = authService.getCurrentUser();\n    return (user === null || user === void 0 ? void 0 : user.role) === role;\n  },\n  hasAnyRole: roles => {\n    const user = authService.getCurrentUser();\n    return roles.includes(user === null || user === void 0 ? void 0 : user.role);\n  },\n  validateCustomerPhone: phone => {\n    const phoneRegex = /^01[0-9]{9}$/;\n    return phoneRegex.test(phone);\n  },\n  formatCurrency: amount => {\n    const num = parseFloat(amount) || 0;\n    return new Intl.NumberFormat('ar-EG', {\n      style: 'currency',\n      currency: 'EGP',\n      minimumFractionDigits: 0\n    }).format(num);\n  },\n  formatDuration: minutes => {\n    if (!minutes || minutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\n    if (minutes < 60) return `${minutes} ÿØŸÇŸäŸÇÿ©`;\n    const hours = Math.floor(minutes / 60);\n    const remainingMinutes = minutes % 60;\n    return `${hours} ÿ≥ÿßÿπÿ©${remainingMinutes > 0 ? ` ${remainingMinutes} ÿØŸÇŸäŸÇÿ©` : ''}`;\n  },\n  formatTime: dateString => {\n    try {\n      return new Date(dateString).toLocaleTimeString('ar-EG', {\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch {\n      return '--:--';\n    }\n  },\n  formatDate: dateString => {\n    try {\n      return new Date(dateString).toLocaleDateString('ar-EG', {\n        weekday: 'short',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch {\n      return '--/--/----';\n    }\n  },\n  showNotification: (type, message) => {\n    const messages = {\n      error: `‚ùå ${message}`,\n      success: `‚úÖ ${message}`,\n      warning: `‚ö†Ô∏è ${message}`,\n      info: `‚ÑπÔ∏è ${message}`\n    };\n    alert(messages[type] || message);\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","console","log","response","data","success","_data$data","token","user","message","warn","id","user_id","name","split","role","localStorage","setItem","JSON","stringify","error","logout","removeItem","getToken","getItem","getCurrentUser","userStr","parse","isAuthenticated","getBranches","handleAuthError","status","createBranch","branchData","updateBranch","deleteBranch","deleteBranchPermanent","getBranchGames","branchId","getGames","params","createGame","gameData","updateGame","gameId","put","error1","error2","post","error3","fetch","method","headers","body","ok","result","json","error4","deleteGame","getActiveShift","startShift","endShift","shiftId","getBranchShifts","getShifts","branch_id","getRentals","createRental","rentalData","completeRental","rentalId","paymentData","cancelRental","getActiveRentals","getCompletedRentals","getCustomers","search","createCustomer","customerData","getUsers","createUser","userData","updateUser","deleteUser","getSimpleStats","getDashboardStats","get","summary","today_revenue","today_rentals","active_rentals","total_games","available_games","getDashboardAllStats","healthCheck","testApiConnection","testConnection","getAvailableGamesForCurrentBranch","availableGames","filter","game","length","getCurrentUserBranch","getBranchById","createGameUnbreakable","gamePayload","description","category","price_per_15min","parseFloat","price_per_hour","Math","ceil","min_rental_time","max_rental_time","minimum_age","image_url","external_image_url","response1","response2","response3","simplePayload","response4","localGame","Date","now","local","created_at","toISOString","localGames","push","e","emergency","formatError","_error$response$data","statusText","request","hasRole","hasAnyRole","roles","includes","validateCustomerPhone","phone","phoneRegex","test","formatCurrency","amount","num","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDuration","minutes","hours","floor","remainingMinutes","formatTime","dateString","toLocaleTimeString","hour","minute","formatDate","toLocaleDateString","weekday","year","month","day","showNotification","type","messages","warning","info","alert"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst authService = {\r\n  \r\nlogin: async (email, password) => {\r\n  try {\r\n    console.log('üîê ŸÖÿ≠ÿßŸàŸÑÿ© ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ:', email);\r\n\r\n    const response = await api.login(email, password);\r\n\r\n    // üëá ŸÖŸáŸÖ ÿ¨ÿØŸãÿß - ŸÇÿ±ÿßÿ°ÿ© response.data ÿ®ÿ¥ŸÉŸÑ ÿµÿ≠Ÿäÿ≠\r\n    const data = response.data;\r\n\r\n    if (data.success) {\r\n      const token = data.token;\r\n      \r\n      // ‚úÖ ÿßŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ Ÿàÿ¨ŸàÿØ user ŸÅŸä ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©\r\n      let user = data.user;\r\n      \r\n      if (!user && data.data?.user) {\r\n        user = data.data.user;\r\n      }\r\n\r\n      if (!token) {\r\n        return {\r\n          success: false,\r\n          message: 'ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿßŸÑÿ™ŸàŸÉŸÜ ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ'\r\n        };\r\n      }\r\n\r\n      if (!user) {\r\n        console.warn('‚ö†Ô∏è ŸÑŸÖ Ÿäÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖŸÜ ÿßŸÑÿÆÿßÿØŸÖ');\r\n        // ŸÖÿ≠ÿßŸàŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° user ÿ®ÿ≥Ÿäÿ∑ ŸÖŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ™ŸàŸÅÿ±ÿ©\r\n        user = {\r\n          id: data.user_id || data.id || 1,\r\n          email: email,\r\n          name: data.name || email.split('@')[0],\r\n          role: data.role || 'admin' // ÿßŸÅÿ™ÿ±ÿßÿ∂Ÿä admin ÿ•ÿ∞ÿß ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØŸá\r\n        };\r\n      }\r\n\r\n      // ‚úÖ ÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ®ÿßÿ¥ÿ± ŸàŸàÿßÿ∂ÿ≠\r\n      localStorage.setItem('token', token);\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n\r\n      console.log('‚úÖ ÿ™ŸÖ ÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑÿ™ŸàŸÉŸÜ ŸàÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ®ŸÜÿ¨ÿßÿ≠:', user);\r\n\r\n      return {\r\n        success: true,\r\n        data: {\r\n          token,\r\n          user\r\n        },\r\n        message: 'ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠'\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: false,\r\n      message: data.message || 'ŸÅÿ¥ŸÑ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ'\r\n    };\r\n\r\n  } catch (error) {\r\n    console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\r\n    };\r\n  }\r\n},\r\n\r\nlogout: () => {\r\n  console.log('üö™ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨...');\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  localStorage.removeItem('lastLogin');\r\n  // ŸÑÿß ÿ≠ÿßÿ¨ÿ© ŸÑŸÄ api.setToken(null) ŸÑÿ£ŸÜ interceptor ŸäŸÇÿ±ÿ£ ŸÖŸÜ localStorage\r\n},\r\n\r\n  getToken: () => {\r\n    const token = localStorage.getItem('token');\r\n    console.log('üîë ÿ¨ŸÑÿ® ÿßŸÑÿ™ŸàŸÉŸÜ:', token ? '‚úÖ ŸÖŸàÿ¨ŸàÿØ' : '‚ùå ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ');\r\n    return token;\r\n  },\r\n\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      return userStr ? JSON.parse(userStr) : null;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  },\r\n\r\n\r\n\r\n  isAuthenticated: () => {\r\n    const token = authService.getToken();\r\n    const user = authService.getCurrentUser();\r\n    return !!(token && user);\r\n  },\r\n\r\n  // ================= BRANCHES MANAGEMENT =================\r\n  getBranches: async () => {\r\n    return await api.getBranches();\r\n  },\r\n\r\n\r\n\r\n  // ÿØÿßŸÑÿ© ŸÖÿ≥ÿßÿπÿØÿ© ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© 401\r\nhandleAuthError: (error) => {\r\n  if (error.response && error.response.status === 401) {\r\n    console.log('üîí ÿ™ŸàŸÉŸÜ ŸÖŸÜÿ™ŸáŸä ÿßŸÑÿµŸÑÿßÿ≠Ÿäÿ© - ÿ™ÿ≥ÿ¨ŸäŸÑ ÿÆÿ±Ÿàÿ¨ ÿ™ŸÑŸÇÿßÿ¶Ÿä');\r\n    authService.logout();\r\n    return true;\r\n  }\r\n  return false;\r\n},\r\n\r\n  createBranch: async (branchData) => {\r\n    try {\r\n      console.log('üîë ÿßŸÑÿ™ŸàŸÉŸÜ ÿßŸÑÿ≠ÿßŸÑŸä:', authService.getToken());\r\n      console.log('üë§ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä:', authService.getCurrentUser());\r\n      \r\n      const response = await api.createBranch(branchData);\r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÅÿ±ÿπ:', response);\r\n      return response;\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä createBranch:', error);\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÅÿ±ÿπ: ' + error.message\r\n      };\r\n    }\r\n  },\r\n\r\n  updateBranch: async (id, branchData) => {\r\n    return await api.updateBranch(id, branchData);\r\n  },\r\n\r\n  deleteBranch: async (id) => {\r\n    return await api.deleteBranch(id, false);\r\n  },\r\n\r\n  deleteBranchPermanent: async (id) => {\r\n    try {\r\n      console.log('üóëÔ∏è [AUTH SERVICE] ÿ≠ÿ∞ŸÅ ŸÅÿ±ÿπ ŸÜŸáÿßÿ¶ŸäÿßŸã:', id);\r\n      const response = await api.deleteBranch(id, true);\r\n      console.log('üì• ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', response);\r\n      return response;\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ:', error);\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ≠ÿ∞ŸÅ ÿßŸÑŸÅÿ±ÿπ: ' + error.message\r\n      };\r\n    }\r\n  },\r\n\r\n  getBranchGames: async (branchId) => {\r\n    return await api.getBranchGames(branchId);\r\n  },\r\n\r\n  // ================= GAMES MANAGEMENT =================\r\n  getGames: async (params = {}) => {\r\n    return await api.getGames(params);\r\n  },\r\n\r\n  createGame: async (gameData) => {\r\n    return await api.createGame(gameData);\r\n  },\r\n\r\n// ÿØÿßŸÑÿ© ÿ™ÿ≠ÿØŸäÿ´ ŸÑÿπÿ®ÿ© ŸÖÿ≠ÿ≥ŸÜÿ©\r\nupdateGame: async (gameId, gameData) => {\r\n  try {\r\n    console.log(`üéÆ ÿ™ÿ≠ÿØŸäÿ´ ŸÑÿπÿ®ÿ© ${gameId}:`, gameData);\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©\r\n    try {\r\n      const response = await api.put(`/games/${gameId}`, gameData);\r\n      if (response && response.success) {\r\n        return response;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', error1.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ®ÿØŸäŸÑÿ©\r\n    try {\r\n      const response = await api.put(`/games/update/${gameId}`, gameData);\r\n      if (response && response.success) {\r\n        return response;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', error2.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ POST\r\n    try {\r\n      const response = await api.post(`/games/${gameId}/update`, gameData);\r\n      if (response && response.success) {\r\n        return response;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', error3.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ™ÿ≠ÿØŸäÿ´ ŸÖÿ®ÿßÿ¥ÿ±\r\n    try {\r\n      const token = authService.getToken();\r\n      const response = await fetch(`http://localhost:5000/api/games/${gameId}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(gameData)\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        return result;\r\n      }\r\n    } catch (error4) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', error4.message);\r\n    }\r\n    \r\n    // ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™ ŸÅÿ¥ŸÑÿ™\r\n    return {\r\n      success: false,\r\n      message: 'ŸÅÿ¥ŸÑ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ© ÿ®ÿπÿØ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™'\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('‚ùå ÿÆÿ∑ÿ£ ÿ¥ÿßŸÖŸÑ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÑÿπÿ®ÿ©: ' + error.message\r\n    };\r\n  }\r\n},\r\n\r\n  deleteGame: async (id) => {\r\n    return await api.deleteGame(id);\r\n  },\r\n\r\n  // ================= SHIFTS MANAGEMENT =================\r\n  getActiveShift: async () => {\r\n    return await api.getActiveShift();\r\n  },\r\n\r\n  startShift: async () => {\r\n    return await api.startShift();\r\n  },\r\n\r\n  endShift: async (shiftId) => {\r\n    return await api.endShift(shiftId);\r\n  },\r\n\r\n  getBranchShifts: async (branchId) => {\r\n    try {\r\n      console.log(`üìã ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ ${branchId}`);\r\n      const response = await api.getShifts({ branch_id: branchId });\r\n      return response;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ:', error);\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ¨ŸÑÿ® ÿ¥ŸäŸÅÿ™ÿßÿ™ ÿßŸÑŸÅÿ±ÿπ',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  // ================= RENTALS MANAGEMENT =================\r\n  getRentals: async (params = {}) => {\r\n    return await api.getRentals(params);\r\n  },\r\n\r\n  createRental: async (rentalData) => {\r\n    return await api.createRental(rentalData);\r\n  },\r\n\r\n  completeRental: async (rentalId, paymentData = {}) => {\r\n    return await api.completeRental(rentalId, paymentData);\r\n  },\r\n\r\n  cancelRental: async (rentalId) => {\r\n    return await api.cancelRental(rentalId);\r\n  },\r\n\r\n  getActiveRentals: async (branchId = null) => {\r\n    return await api.getActiveRentals(branchId);\r\n  },\r\n\r\n  getCompletedRentals: async (params = {}) => {\r\n    return await api.getCompletedRentals(params);\r\n  },\r\n\r\n  // ================= CUSTOMERS MANAGEMENT =================\r\n  getCustomers: async (search = '') => {\r\n    return await api.getCustomers(search);\r\n  },\r\n\r\n  createCustomer: async (customerData) => {\r\n    return await api.createCustomer(customerData);\r\n  },\r\n\r\n  // ================= USERS MANAGEMENT =================\r\n  getUsers: async (params = {}) => {\r\n    return await api.getUsers(params);\r\n  },\r\n\r\n  createUser: async (userData) => {\r\n    return await api.createUser(userData);\r\n  },\r\n\r\n  updateUser: async (id, userData) => {\r\n    return await api.updateUser(id, userData);\r\n  },\r\n\r\n  deleteUser: async (id) => {\r\n    return await api.deleteUser(id);\r\n  },\r\n\r\n  // ================= STATISTICS =================\r\n  getSimpleStats: async () => {\r\n    return await api.getSimpleStats();\r\n  },\r\n\r\n  getDashboardStats: async () => {\r\n    try {\r\n      const response = await api.get('/dashboard/stats');\r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ•ÿ≠ÿµÿßÿ¶Ÿäÿßÿ™',\r\n        data: { \r\n          summary: {},\r\n          today_revenue: 0,\r\n          today_rentals: 0,\r\n          active_rentals: 0,\r\n          total_games: 0,\r\n          available_games: 0\r\n        }\r\n      };\r\n    }\r\n  },\r\n\r\n  getDashboardAllStats: async () => {\r\n    return await api.getDashboardAllStats();\r\n  },\r\n\r\n  // ================= HEALTH CHECK =================\r\n  healthCheck: async () => {\r\n    return await api.healthCheck();\r\n  },\r\n\r\n  testApiConnection: async () => {\r\n    return await api.testConnection();\r\n  },\r\n\r\n  // ================= CURRENT BRANCH OPERATIONS =================\r\n  getAvailableGamesForCurrentBranch: async () => {\r\n    try {\r\n      const user = authService.getCurrentUser();\r\n      if (!user?.branch_id) {\r\n        return {\r\n          success: false,\r\n          message: 'ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ∫Ÿäÿ± ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ŸÅÿ±ÿπ',\r\n          data: []\r\n        };\r\n      }\r\n      \r\n      const response = await api.getBranchGames(user.branch_id);\r\n      \r\n      if (response.success) {\r\n        const availableGames = response.data.filter(game => \r\n          game.status === 'ŸÖÿ™ÿßÿ≠'\r\n        );\r\n        \r\n        return {\r\n          success: true,\r\n          data: availableGames,\r\n          message: `ÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ${availableGames.length} ŸÑÿπÿ®ÿ© ŸÖÿ™ÿßÿ≠ÿ©`\r\n        };\r\n      }\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ£ŸÑÿπÿßÿ® ÿßŸÑŸÅÿ±ÿπ',\r\n        data: []\r\n      };\r\n    }\r\n  },\r\n\r\n  getCurrentUserBranch: async () => {\r\n    try {\r\n      const user = authService.getCurrentUser();\r\n      if (!user?.branch_id) {\r\n        return {\r\n          success: false,\r\n          message: 'ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ∫Ÿäÿ± ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ŸÅÿ±ÿπ',\r\n          data: null\r\n        };\r\n      }\r\n      \r\n      return await api.getBranchById(user.branch_id);\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        message: 'ÿ™ÿπÿ∞ÿ± ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÅÿ±ÿπ',\r\n        data: null\r\n      };\r\n    }\r\n  },\r\n\r\n\r\n  // ÿØÿßŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ŸÑÿπÿ®ÿ© ÿ®ÿ£Ÿä ÿ∑ÿ±ŸäŸÇÿ© ŸÖŸÖŸÉŸÜÿ©\r\ncreateGameUnbreakable: async (gameData) => {\r\n  try {\r\n    console.log('üõ°Ô∏è [UNBREAKABLE] ŸÖÿ≠ÿßŸàŸÑÿ© ÿ•ŸÜÿ¥ÿßÿ° ŸÑÿπÿ®ÿ© ÿ®ÿ£Ÿä ÿ∑ÿ±ŸäŸÇÿ©:', gameData);\r\n    \r\n    const token = authService.getToken();\r\n    const user = authService.getCurrentUser();\r\n    \r\n    if (!token || !user) {\r\n      return {\r\n        success: false,\r\n        message: 'Ÿäÿ¨ÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã'\r\n      };\r\n    }\r\n    \r\n    const branchId = gameData.branch_id || user.branch_id || 1;\r\n    \r\n    const gamePayload = {\r\n      name: gameData.name,\r\n      description: gameData.description || `${gameData.name}`,\r\n      category: gameData.category || 'ÿ≥Ÿäÿßÿ±ÿßÿ™',\r\n      price_per_15min: parseFloat(gameData.price_per_15min) || 50,\r\n      price_per_hour: Math.ceil((parseFloat(gameData.price_per_15min) || 50) * 4),\r\n      branch_id: branchId,\r\n      status: gameData.status || 'ŸÖÿ™ÿßÿ≠',\r\n      min_rental_time: gameData.min_rental_time || 15,\r\n      max_rental_time: gameData.max_rental_time || 120,\r\n      minimum_age: gameData.minimum_age || 16,\r\n      image_url: gameData.image_url || 'default-game.jpg',\r\n      external_image_url: gameData.external_image_url || ''\r\n    };\r\n    \r\n    console.log('üì§ ÿßŸÑÿ≠ŸÖŸàŸÑÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©:', gamePayload);\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©\r\n    try {\r\n      console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1: /api/games');\r\n      const response1 = await fetch('http://localhost:5000/api/games', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(gamePayload)\r\n      });\r\n      \r\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', response1.status);\r\n      \r\n      if (response1.ok) {\r\n        const result = await response1.json();\r\n        console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', result);\r\n        return result;\r\n      }\r\n    } catch (error1) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 1:', error1.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: ÿßŸÑŸÜŸÇÿ∑ÿ© ÿßŸÑÿ®ÿØŸäŸÑÿ©\r\n    try {\r\n      console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2: /api/games/create');\r\n      const response2 = await fetch('http://localhost:5000/api/games/create', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(gamePayload)\r\n      });\r\n      \r\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', response2.status);\r\n      \r\n      if (response2.ok) {\r\n        const result = await response2.json();\r\n        console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', result);\r\n        return result;\r\n      }\r\n    } catch (error2) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 2:', error2.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑŸÑÿπÿ®ÿ© ŸÑŸÑŸÅÿ±ÿπ ŸÖÿ®ÿßÿ¥ÿ±ÿ©\r\n    try {\r\n      console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3: /api/branches/[id]/add-game');\r\n      const response3 = await fetch(`http://localhost:5000/api/branches/${branchId}/add-game`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(gamePayload)\r\n      });\r\n      \r\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', response3.status);\r\n      \r\n      if (response3.ok) {\r\n        const result = await response3.json();\r\n        console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', result);\r\n        return result;\r\n      }\r\n    } catch (error3) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 3:', error3.message);\r\n    }\r\n    \r\n    // ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ£ÿ®ÿ≥ÿ∑ ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ ŸÖŸÖŸÉŸÜ\r\n    try {\r\n      console.log('üîÑ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4: ÿ£ÿ®ÿ≥ÿ∑ ÿßÿ≥ÿ™ÿπŸÑÿßŸÖ');\r\n      const simplePayload = {\r\n        name: gameData.name,\r\n        price_per_15min: parseFloat(gameData.price_per_15min) || 50,\r\n        branch_id: branchId\r\n      };\r\n      \r\n      const response4 = await fetch('http://localhost:5000/api/games/simple', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(simplePayload)\r\n      });\r\n      \r\n      console.log('üìä ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', response4.status);\r\n      \r\n      if (response4.ok) {\r\n        const result = await response4.json();\r\n        console.log('‚úÖ ŸÜÿ¨ÿ≠ÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', result);\r\n        return result;\r\n      }\r\n    } catch (error4) {\r\n      console.warn('‚ö†Ô∏è ŸÅÿ¥ŸÑÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© 4:', error4.message);\r\n    }\r\n    \r\n    // ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™ ŸÅÿ¥ŸÑÿ™\r\n    console.error('‚ùå ÿ¨ŸÖŸäÿπ ŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ© ŸÅÿ¥ŸÑÿ™');\r\n    \r\n    // ÿßŸÑÿ≠ŸÑ ÿßŸÑÿ£ÿÆŸäÿ±: ÿ™ÿÆÿ≤ŸäŸÜ ŸÖÿ≠ŸÑŸä\r\n    const localGame = {\r\n      id: 'local-' + Date.now(),\r\n      name: gameData.name,\r\n      price_per_15min: parseFloat(gameData.price_per_15min) || 50,\r\n      branch_id: branchId,\r\n      status: 'ŸÖÿ™ÿßÿ≠ (ŸÖÿ≠ŸÑŸä)',\r\n      local: true,\r\n      created_at: new Date().toISOString()\r\n    };\r\n    \r\n    // ÿ≠ŸÅÿ∏ ŸÅŸä localStorage\r\n    try {\r\n      const localGames = JSON.parse(localStorage.getItem('local_games') || '[]');\r\n      localGames.push(localGame);\r\n      localStorage.setItem('local_games', JSON.stringify(localGames));\r\n      console.log('üíæ ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã:', localGame.id);\r\n    } catch (e) {\r\n      console.warn('‚ö†Ô∏è ŸÑÿß ŸäŸÖŸÉŸÜ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã:', e.message);\r\n    }\r\n    \r\n    return {\r\n      success: true,\r\n      data: localGame,\r\n      message: 'ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑŸÑÿπÿ®ÿ© ŸÖÿ≠ŸÑŸäÿßŸã (ÿ≥Ÿäÿ™ŸÖ ŸÖÿ≤ÿßŸÖŸÜÿ™Ÿáÿß ŸÑÿßÿ≠ŸÇÿßŸã)',\r\n      local: true,\r\n      emergency: true\r\n    };\r\n    \r\n  } catch (error) {\r\n    console.error('üî• ÿÆÿ∑ÿ£ ÿ¥ÿßŸÖŸÑ ŸÅŸä ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑŸÑÿπÿ®ÿ©:', error);\r\n    return {\r\n      success: false,\r\n      message: 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÇÿπ: ' + error.message\r\n    };\r\n  }\r\n},\r\n\r\n  // ================= UTILITY FUNCTIONS =================\r\n  formatError: (error) => {\r\n    if (error.response) {\r\n      return error.response.data?.message || `ÿÆÿ∑ÿ£ ${error.response.status}: ${error.response.statusText}`;\r\n    } else if (error.request) {\r\n      return 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ. ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ¥ÿ∫ŸäŸÑ ÿßŸÑÿÆÿßÿØŸÖ';\r\n    } else {\r\n      return error.message || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ∫Ÿäÿ± ŸÖÿπÿ±ŸàŸÅ';\r\n    }\r\n  },\r\n\r\n  hasRole: (role) => {\r\n    const user = authService.getCurrentUser();\r\n    return user?.role === role;\r\n  },\r\n\r\n  hasAnyRole: (roles) => {\r\n    const user = authService.getCurrentUser();\r\n    return roles.includes(user?.role);\r\n  },\r\n\r\n  validateCustomerPhone: (phone) => {\r\n    const phoneRegex = /^01[0-9]{9}$/;\r\n    return phoneRegex.test(phone);\r\n  },\r\n\r\n  formatCurrency: (amount) => {\r\n    const num = parseFloat(amount) || 0;\r\n    return new Intl.NumberFormat('ar-EG', {\r\n      style: 'currency',\r\n      currency: 'EGP',\r\n      minimumFractionDigits: 0\r\n    }).format(num);\r\n  },\r\n\r\n  formatDuration: (minutes) => {\r\n    if (!minutes || minutes === 0) return 'ŸàŸÇÿ™ ŸÖŸÅÿ™Ÿàÿ≠';\r\n    if (minutes < 60) return `${minutes} ÿØŸÇŸäŸÇÿ©`;\r\n    \r\n    const hours = Math.floor(minutes / 60);\r\n    const remainingMinutes = minutes % 60;\r\n    return `${hours} ÿ≥ÿßÿπÿ©${remainingMinutes > 0 ? ` ${remainingMinutes} ÿØŸÇŸäŸÇÿ©` : ''}`;\r\n  },\r\n\r\n  formatTime: (dateString) => {\r\n    try {\r\n      return new Date(dateString).toLocaleTimeString('ar-EG', {\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    } catch {\r\n      return '--:--';\r\n    }\r\n  },\r\n\r\n  formatDate: (dateString) => {\r\n    try {\r\n      return new Date(dateString).toLocaleDateString('ar-EG', {\r\n        weekday: 'short',\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    } catch {\r\n      return '--/--/----';\r\n    }\r\n  },\r\n\r\n  showNotification: (type, message) => {\r\n    const messages = {\r\n      error: `‚ùå ${message}`,\r\n      success: `‚úÖ ${message}`,\r\n      warning: `‚ö†Ô∏è ${message}`,\r\n      info: `‚ÑπÔ∏è ${message}`\r\n    };\r\n    alert(messages[type] || message);\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}