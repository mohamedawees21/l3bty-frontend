{"ast":null,"code":"// frontend/src/services/authService.js\nimport api from './api';\nclass AuthService {\n  constructor() {\n    this.token = localStorage.getItem('token');\n    this.user = this.getUserFromStorage();\n  }\n  getUserFromStorage() {\n    try {\n      const userStr = localStorage.getItem('user');\n      return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n      console.error('Error parsing user:', error);\n      return null;\n    }\n  }\n  async login(email, password) {\n    try {\n      console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰:', api.defaults.baseURL);\n      const response = await api.post('/auth/login', {\n        email,\n        password\n      });\n      console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', response.data);\n      if (response.data.success) {\n        this.setAuthData(response.data.token, response.data.user);\n        return {\n          success: true,\n          data: response.data\n        };\n      } else {\n        return {\n          success: false,\n          message: response.data.message\n        };\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\n      if (error.code === 'ECONNREFUSED') {\n        return {\n          success: false,\n          message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ http://localhost:5000'\n        };\n      }\n      return {\n        success: false,\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\n      };\n    }\n  }\n  setAuthData(token, user) {\n    this.token = token;\n    this.user = user;\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(user));\n    console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©');\n  }\n\n  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„\n}\nexport default new AuthService();","map":{"version":3,"names":["api","AuthService","constructor","token","localStorage","getItem","user","getUserFromStorage","userStr","JSON","parse","error","console","login","email","password","log","defaults","baseURL","response","post","data","success","setAuthData","message","_error$response","_error$response$data","code","setItem","stringify"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["// frontend/src/services/authService.js\r\nimport api from './api';\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.token = localStorage.getItem('token');\r\n    this.user = this.getUserFromStorage();\r\n  }\r\n\r\n  getUserFromStorage() {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      return userStr ? JSON.parse(userStr) : null;\r\n    } catch (error) {\r\n      console.error('Error parsing user:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async login(email, password) {\r\n    try {\r\n      console.log('ğŸ” Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰:', api.defaults.baseURL);\r\n      \r\n      const response = await api.post('/auth/login', { \r\n        email, \r\n        password \r\n      });\r\n      \r\n      console.log('âœ… Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', response.data);\r\n      \r\n      if (response.data.success) {\r\n        this.setAuthData(response.data.token, response.data.user);\r\n        return {\r\n          success: true,\r\n          data: response.data\r\n        };\r\n      } else {\r\n        return {\r\n          success: false,\r\n          message: response.data.message\r\n        };\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);\r\n      \r\n      if (error.code === 'ECONNREFUSED') {\r\n        return {\r\n          success: false,\r\n          message: 'ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ http://localhost:5000'\r\n        };\r\n      }\r\n      \r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…'\r\n      };\r\n    }\r\n  }\r\n\r\n  setAuthData(token, user) {\r\n    this.token = token;\r\n    this.user = user;\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n    console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©');\r\n  }\r\n\r\n  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„\r\n}\r\n\r\nexport default new AuthService();"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,OAAO;AAEvB,MAAMC,WAAW,CAAC;EAChBC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC1C,IAAI,CAACC,IAAI,GAAG,IAAI,CAACC,kBAAkB,CAAC,CAAC;EACvC;EAEAA,kBAAkBA,CAAA,EAAG;IACnB,IAAI;MACF,MAAMC,OAAO,GAAGJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC5C,OAAOG,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACF,OAAO,CAAC,GAAG,IAAI;IAC7C,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,OAAO,IAAI;IACb;EACF;EAEA,MAAME,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAC3B,IAAI;MACFH,OAAO,CAACI,GAAG,CAAC,2BAA2B,EAAEhB,GAAG,CAACiB,QAAQ,CAACC,OAAO,CAAC;MAE9D,MAAMC,QAAQ,GAAG,MAAMnB,GAAG,CAACoB,IAAI,CAAC,aAAa,EAAE;QAC7CN,KAAK;QACLC;MACF,CAAC,CAAC;MAEFH,OAAO,CAACI,GAAG,CAAC,yBAAyB,EAAEG,QAAQ,CAACE,IAAI,CAAC;MAErD,IAAIF,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE;QACzB,IAAI,CAACC,WAAW,CAACJ,QAAQ,CAACE,IAAI,CAAClB,KAAK,EAAEgB,QAAQ,CAACE,IAAI,CAACf,IAAI,CAAC;QACzD,OAAO;UACLgB,OAAO,EAAE,IAAI;UACbD,IAAI,EAAEF,QAAQ,CAACE;QACjB,CAAC;MACH,CAAC,MAAM;QACL,OAAO;UACLC,OAAO,EAAE,KAAK;UACdE,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACG;QACzB,CAAC;MACH;IAEF,CAAC,CAAC,OAAOb,KAAK,EAAE;MAAA,IAAAc,eAAA,EAAAC,oBAAA;MACdd,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAE9C,IAAIA,KAAK,CAACgB,IAAI,KAAK,cAAc,EAAE;QACjC,OAAO;UACLL,OAAO,EAAE,KAAK;UACdE,OAAO,EAAE;QACX,CAAC;MACH;MAEA,OAAO;QACLF,OAAO,EAAE,KAAK;QACdE,OAAO,EAAE,EAAAC,eAAA,GAAAd,KAAK,CAACQ,QAAQ,cAAAM,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBJ,IAAI,cAAAK,oBAAA,uBAApBA,oBAAA,CAAsBF,OAAO,KAAI;MAC5C,CAAC;IACH;EACF;EAEAD,WAAWA,CAACpB,KAAK,EAAEG,IAAI,EAAE;IACvB,IAAI,CAACH,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACG,IAAI,GAAGA,IAAI;IAChBF,YAAY,CAACwB,OAAO,CAAC,OAAO,EAAEzB,KAAK,CAAC;IACpCC,YAAY,CAACwB,OAAO,CAAC,MAAM,EAAEnB,IAAI,CAACoB,SAAS,CAACvB,IAAI,CAAC,CAAC;IAClDM,OAAO,CAACI,GAAG,CAAC,2BAA2B,CAAC;EAC1C;;EAEA;AACF;AAEA,eAAe,IAAIf,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}