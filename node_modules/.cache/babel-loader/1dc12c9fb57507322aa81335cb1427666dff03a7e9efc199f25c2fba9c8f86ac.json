{"ast":null,"code":"import api from './api';\nconst authService = {\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\n  login: async (email, password) => {\n    try {\n      console.log('üì§ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ...');\n      const response = await api.post('/auth/login', {\n        email,\n        password\n      });\n      if (response.data.success) {\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠');\n        const {\n          token,\n          user\n        } = response.data;\n\n        // ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ŸàŸÉŸÜ ŸàÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä localStorage\n        localStorage.setItem('token', token);\n        localStorage.setItem('user', JSON.stringify(user));\n\n        // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ™ŸàŸÉŸÜ ÿ•ŸÑŸâ ÿ±ÿ£ÿ≥ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑŸäÿ©\n        api.setToken(token);\n        return {\n          success: true,\n          data: {\n            token,\n            user\n          }\n        };\n      } else {\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.data.message);\n        return response.data;\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\n      return {\n        success: false,\n        message: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\n      };\n    }\n  },\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\n  logout: () => {\n    console.log('üßπ ŸÖÿ≥ÿ≠ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¨ŸÑÿ≥ÿ©...');\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    api.setToken(null);\n  },\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\n  getCurrentUser: () => {\n    try {\n      const userStr = localStorage.getItem('user');\n      if (!userStr) {\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä localStorage');\n        return null;\n      }\n      const user = JSON.parse(userStr);\n      console.log('üë§ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿÆÿ≤ŸÜ:', user);\n      return user;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  },\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ™ŸàŸÉŸÜ\n  getToken: () => {\n    return localStorage.getItem('token');\n  },\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿßŸÑÿ¨ŸÑÿ≥ÿ©\n  checkAuth: async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const user = localStorage.getItem('user');\n      if (!token || !user) {\n        console.log('üîê ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¨ŸÑÿ≥ÿ© ŸÜÿ¥ÿ∑ÿ©');\n        return false;\n      }\n\n      // ŸäŸÖŸÉŸÜ ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµŸÑÿßÿ≠Ÿäÿ© ÿßŸÑÿ™ŸàŸÉŸÜ ŸáŸÜÿß\n      return true;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿ≥ÿ©:', error);\n      return false;\n    }\n  },\n  // ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\n  updateUser: userData => {\n    try {\n      const currentUser = authService.getCurrentUser();\n      if (currentUser) {\n        const updatedUser = {\n          ...currentUser,\n          ...userData\n        };\n        localStorage.setItem('user', JSON.stringify(updatedUser));\n        return updatedUser;\n      }\n      return null;\n    } catch (error) {\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\n      return null;\n    }\n  }\n};\nexport default authService;","map":{"version":3,"names":["api","authService","login","email","password","console","log","response","post","data","success","token","user","localStorage","setItem","JSON","stringify","setToken","message","error","_error$response","_error$response$data","logout","removeItem","getCurrentUser","userStr","getItem","parse","getToken","checkAuth","updateUser","userData","currentUser","updatedUser"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/services/authService.js"],"sourcesContent":["import api from './api';\r\n\r\nconst authService = {\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ\r\n  login: async (email, password) => {\r\n    try {\r\n      console.log('üì§ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ® ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ...');\r\n      const response = await api.post('/auth/login', { email, password });\r\n      \r\n      if (response.data.success) {\r\n        console.log('‚úÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÜÿßÿ¨ÿ≠');\r\n        const { token, user } = response.data;\r\n        \r\n        // ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ŸàŸÉŸÜ ŸàÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä localStorage\r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n        \r\n        // ÿ•ÿ∂ÿßŸÅÿ© ÿßŸÑÿ™ŸàŸÉŸÜ ÿ•ŸÑŸâ ÿ±ÿ£ÿ≥ ÿßŸÑÿ∑ŸÑÿ®ÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ŸÇÿ®ŸÑŸäÿ©\r\n        api.setToken(token);\r\n        \r\n        return {\r\n          success: true,\r\n          data: { token, user }\r\n        };\r\n      } else {\r\n        console.log('‚ùå ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ŸÅÿ¥ŸÑ:', response.data.message);\r\n        return response.data;\r\n      }\r\n    } catch (error) {\r\n      console.error('üî• ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:', error);\r\n      return {\r\n        success: false,\r\n        message: error.response?.data?.message || 'ÿ™ÿπÿ∞ÿ± ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ'\r\n      };\r\n    }\r\n  },\r\n\r\n  // ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨\r\n  logout: () => {\r\n    console.log('üßπ ŸÖÿ≥ÿ≠ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ¨ŸÑÿ≥ÿ©...');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    api.setToken(null);\r\n  },\r\n\r\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ≠ÿßŸÑŸä\r\n  getCurrentUser: () => {\r\n    try {\r\n      const userStr = localStorage.getItem('user');\r\n      if (!userStr) {\r\n        console.log('‚ÑπÔ∏è ŸÑÿß ŸäŸàÿ¨ÿØ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÅŸä localStorage');\r\n        return null;\r\n      }\r\n      \r\n      const user = JSON.parse(userStr);\r\n      console.log('üë§ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿÆÿ≤ŸÜ:', user);\r\n      return user;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  // ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿßŸÑÿ™ŸàŸÉŸÜ\r\n  getToken: () => {\r\n    return localStorage.getItem('token');\r\n  },\r\n\r\n  // ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµÿ≠ÿ© ÿßŸÑÿ¨ŸÑÿ≥ÿ©\r\n  checkAuth: async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const user = localStorage.getItem('user');\r\n      \r\n      if (!token || !user) {\r\n        console.log('üîê ŸÑÿß ŸäŸàÿ¨ÿØ ÿ¨ŸÑÿ≥ÿ© ŸÜÿ¥ÿ∑ÿ©');\r\n        return false;\r\n      }\r\n      \r\n      // ŸäŸÖŸÉŸÜ ÿ•ÿ∂ÿßŸÅÿ© ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿµŸÑÿßÿ≠Ÿäÿ© ÿßŸÑÿ™ŸàŸÉŸÜ ŸáŸÜÿß\r\n      return true;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑÿ¨ŸÑÿ≥ÿ©:', error);\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ\r\n  updateUser: (userData) => {\r\n    try {\r\n      const currentUser = authService.getCurrentUser();\r\n      if (currentUser) {\r\n        const updatedUser = { ...currentUser, ...userData };\r\n        localStorage.setItem('user', JSON.stringify(updatedUser));\r\n        return updatedUser;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ÿØŸäÿ´ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ:', error);\r\n      return null;\r\n    }\r\n  }\r\n};\r\n\r\nexport default authService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}