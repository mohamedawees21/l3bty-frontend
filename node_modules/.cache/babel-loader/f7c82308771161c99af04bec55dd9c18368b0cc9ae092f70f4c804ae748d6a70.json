{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\project\\\\l3bty-rental-system\\\\frontend\\\\src\\\\pages\\\\admin\\\\Dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport api from '../../services/api';\nimport { Building2, Users, Gamepad2, Clock, DollarSign, ShoppingCart, CheckCircle, XCircle, AlertCircle, TrendingUp, Calendar, Printer, Download, RefreshCw, Eye, User, Phone, MapPin, ChevronLeft, ChevronRight, BarChart3, PieChart, Filter, TrendingDown, Activity, Zap, Award, Target, CreditCard, ArrowUp, ArrowDown, Loader2, Search, Mail, Package, Settings, LogOut, Bell, Moon, Sun, LayoutDashboard, Briefcase, Wallet, Receipt, FileText, Smartphone, Tablet, Laptop, Watch, Headphones, Camera, Speaker, Tv, Printer as PrinterIcon, Copy, Check, X } from 'lucide-react';\nimport './AdminPages.css';\n\n// ==================== دوال المساعدة العامة ====================\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst formatCurrency = amount => {\n  if (amount === null || amount === undefined || amount === '') return '0 ج.م';\n  const num = parseFloat(amount) || 0;\n  return new Intl.NumberFormat('ar-EG', {\n    style: 'currency',\n    currency: 'EGP',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 2\n  }).format(num);\n};\nconst formatNumber = num => {\n  if (num === null || num === undefined) return '0';\n  return new Intl.NumberFormat('ar-EG').format(num);\n};\nconst formatDateTime = dateString => {\n  if (!dateString) return '--/--/---- --:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--/--/---- --:--';\n  }\n};\nconst formatTime = dateString => {\n  if (!dateString) return '--:--';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--:--';\n    return date.toLocaleTimeString('ar-EG', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  } catch {\n    return '--:--';\n  }\n};\nconst formatDate = dateString => {\n  if (!dateString) return '--/--/----';\n  try {\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return '--/--/----';\n    return date.toLocaleDateString('ar-EG', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit'\n    });\n  } catch {\n    return '--/--/----';\n  }\n};\nconst calculateDuration = (startTime, endTime) => {\n  if (!startTime || !endTime) return 0;\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\n};\nconst getStatusColor = status => {\n  switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n    case 'نشط':\n    case 'active':\n      return 'success';\n    case 'مكتمل':\n    case 'completed':\n      return 'info';\n    case 'ملغي':\n    case 'cancelled':\n      return 'danger';\n    case 'معلق':\n    case 'pending':\n      return 'warning';\n    default:\n      return 'secondary';\n  }\n};\nconst getStatusText = status => {\n  switch (status === null || status === void 0 ? void 0 : status.toLowerCase()) {\n    case 'active':\n      return 'نشط';\n    case 'completed':\n      return 'مكتمل';\n    case 'cancelled':\n      return 'ملغي';\n    case 'pending':\n      return 'معلق';\n    default:\n      return status || 'غير معروف';\n  }\n};\n\n// ==================== المكونات الفرعية ====================\n\n// مكون بطاقة الإحصاء\nconst StatCard = props => {\n  const {\n    title,\n    value,\n    icon: Icon,\n    color,\n    trend,\n    trendValue,\n    subtitle,\n    loading\n  } = props;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stat-card admin-skeleton\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-skeleton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `admin-stat-card admin-stat-${color}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stat-icon\",\n      children: /*#__PURE__*/_jsxDEV(Icon, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stat-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-title\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-value\",\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), subtitle && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-subtitle\",\n        children: subtitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 22\n      }, this), trend && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `admin-stat-trend admin-trend-${trend > 0 ? 'up' : 'down'}`,\n        children: [trend > 0 ? /*#__PURE__*/_jsxDEV(ArrowUp, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(ArrowDown, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 50\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.abs(trend), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_c = StatCard;\nconst MemoizedStatCard = /*#__PURE__*/React.memo(StatCard);\n_c2 = MemoizedStatCard;\nMemoizedStatCard.displayName = 'StatCard';\n\n// مكون بطاقة الفرع\nconst BranchCard = props => {\n  const {\n    branch,\n    onClick\n  } = props;\n  const occupancyRate = branch.total_games > 0 ? Math.round((branch.total_games - branch.available_games) / branch.total_games * 100) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-branch-card\",\n    onClick: () => onClick(branch),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-branch-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branch-icon\",\n        children: /*#__PURE__*/_jsxDEV(Building2, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branch-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: branch.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-branch-location\",\n          children: [/*#__PURE__*/_jsxDEV(MapPin, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), branch.location || 'موقع غير محدد']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-branch-stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value\",\n          children: branch.total_games || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0645\\u062A\\u0627\\u062D\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value admin-available\",\n          children: branch.available_games || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branch-stat\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0645\\u0624\\u062C\\u0631\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value admin-rented\",\n          children: (branch.total_games || 0) - (branch.available_games || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-branch-occupancy\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-occupancy-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u0625\\u0634\\u063A\\u0627\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [occupancyRate, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `admin-progress-fill ${occupancyRate > 70 ? 'admin-progress-high' : occupancyRate > 30 ? 'admin-progress-medium' : 'admin-progress-low'}`,\n          style: {\n            width: `${occupancyRate}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-branch-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"admin-branch-revenue\",\n        children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), formatCurrency(branch.today_revenue || 0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"admin-branch-rentals\",\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), branch.active_rentals || 0, \" \\u0646\\u0634\\u0637\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n_c3 = BranchCard;\nconst MemoizedBranchCard = /*#__PURE__*/React.memo(BranchCard);\n_c4 = MemoizedBranchCard;\nMemoizedBranchCard.displayName = 'BranchCard';\n\n// مكون جدول التأجيرات\nconst RentalsTable = props => {\n  _s();\n  const {\n    rentals,\n    loading,\n    onViewDetails,\n    type = 'all'\n  } = props;\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const filteredRentals = useMemo(() => {\n    if (!(rentals !== null && rentals !== void 0 && rentals.length)) return [];\n    return rentals.filter(rental => {\n      // تصفية حسب النوع\n      if (type === 'active' && rental.status !== 'نشط') return false;\n      if (type === 'completed' && rental.status !== 'مكتمل') return false;\n\n      // تصفية حسب البحث\n      if (searchTerm) {\n        var _rental$customer_name, _rental$customer_phon, _rental$game_name, _rental$branch_name;\n        const term = searchTerm.toLowerCase();\n        const matchesSearch = ((_rental$customer_name = rental.customer_name) === null || _rental$customer_name === void 0 ? void 0 : _rental$customer_name.toLowerCase().includes(term)) || ((_rental$customer_phon = rental.customer_phone) === null || _rental$customer_phon === void 0 ? void 0 : _rental$customer_phon.includes(term)) || ((_rental$game_name = rental.game_name) === null || _rental$game_name === void 0 ? void 0 : _rental$game_name.toLowerCase().includes(term)) || ((_rental$branch_name = rental.branch_name) === null || _rental$branch_name === void 0 ? void 0 : _rental$branch_name.toLowerCase().includes(term));\n        if (!matchesSearch) return false;\n      }\n\n      // تصفية حسب الحالة\n      if (filterStatus !== 'all') {\n        if (filterStatus === 'active' && rental.status !== 'نشط') return false;\n        if (filterStatus === 'completed' && rental.status !== 'مكتمل') return false;\n        if (filterStatus === 'cancelled' && rental.status !== 'ملغي') return false;\n      }\n      return true;\n    });\n  }, [rentals, searchTerm, filterStatus, type]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-loading-state\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"admin-spinner\",\n        size: 32\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-rentals-table-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-search-box\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u0628\\u062D\\u062B \\u0628\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644 \\u0623\\u0648 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629 \\u0623\\u0648 \\u0627\\u0644\\u0641\\u0631\\u0639...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSearchTerm(''),\n          className: \"admin-clear-search\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: filterStatus,\n        onChange: e => setFilterStatus(e.target.value),\n        className: \"admin-filter-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"all\",\n          children: \"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"active\",\n          children: \"\\u0646\\u0634\\u0637\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"completed\",\n          children: \"\\u0645\\u0643\\u062A\\u0645\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"cancelled\",\n          children: \"\\u0645\\u0644\\u063A\\u064A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-rentals-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-table-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0641\\u0631\\u0639\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0645\\u062F\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: \"\\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), filteredRentals.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-empty-state\",\n        children: searchTerm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0646\\u062A\\u0627\\u0626\\u062C \\u0645\\u0637\\u0627\\u0628\\u0642\\u0629 \\u0644\\u0644\\u0628\\u062D\\u062B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Receipt, {\n            size: 48\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0644\\u0639\\u0631\\u0636\\u0647\\u0627\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this) : filteredRentals.map((rental, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-table-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-customer-info\",\n            children: [/*#__PURE__*/_jsxDEV(User, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.customer_name || 'غير محدد'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), rental.customer_phone && rental.customer_phone !== '00000000000' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-customer-phone\",\n            children: [/*#__PURE__*/_jsxDEV(Phone, {\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.customer_phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-game-info\",\n            children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.game_name || 'غير محدد'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-branch-info\",\n            children: [/*#__PURE__*/_jsxDEV(Building2, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.branch_name || 'غير محدد'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-time-info\",\n            children: [/*#__PURE__*/_jsxDEV(Clock, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: formatDateTime(rental.start_time)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: rental.duration_minutes ? `${rental.duration_minutes} د` : '--'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"admin-amount\",\n            children: formatCurrency(rental.total_amount || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `admin-status-badge admin-status-${getStatusColor(rental.status)}`,\n            children: getStatusText(rental.status)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-cell\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => onViewDetails(rental),\n            className: \"admin-btn-icon\",\n            title: \"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\",\n            children: /*#__PURE__*/_jsxDEV(Eye, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this)]\n      }, rental.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s(RentalsTable, \"4O2tzQv2er+K1yOcM0bm/N53W2A=\");\n_c5 = RentalsTable;\nconst MemoizedRentalsTable = /*#__PURE__*/React.memo(RentalsTable);\n_c6 = MemoizedRentalsTable;\nMemoizedRentalsTable.displayName = 'RentalsTable';\n\n// مكون تفاصيل التأجير\nconst RentalDetailsModal = props => {\n  const {\n    show,\n    onClose,\n    rental\n  } = props;\n  if (!show || !rental) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(Receipt, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), \"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631 #\", rental.rental_number || rental.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"admin-modal-close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-modal-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-details-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-details-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0639\\u0645\\u064A\\u0644\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0627\\u0633\\u0645:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.customer_name || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0647\\u0627\\u062A\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.customer_phone || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-details-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0644\\u0639\\u0628\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.game_name || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0641\\u0631\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.branch_name || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-details-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0648\\u0642\\u062A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0628\\u062F\\u0621:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: formatDateTime(rental.start_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0627\\u0646\\u062A\\u0647\\u0627\\u0621:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: formatDateTime(rental.end_time)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0645\\u062F\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.duration_minutes ? `${rental.duration_minutes} دقيقة` : 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-details-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0627\\u0644\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0627\\u0644\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value admin-amount-large\",\n                children: formatCurrency(rental.total_amount || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062F\\u0641\\u0648\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: formatCurrency(rental.paid_amount || 0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u062D\\u0627\\u0644\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.payment_status || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-details-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0645\\u0639\\u0644\\u0648\\u0645\\u0627\\u062A \\u0625\\u0636\\u0627\\u0641\\u064A\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `admin-status-badge admin-status-${getStatusColor(rental.status)}`,\n                children: getStatusText(rental.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0627\\u0644\\u0645\\u0648\\u0638\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.employee_name || 'غير محدد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-details-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-label\",\n                children: \"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-details-value\",\n                children: rental.notes || 'لا توجد ملاحظات'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-modal-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"admin-btn admin-btn-secondary\",\n          children: \"\\u0625\\u063A\\u0644\\u0627\\u0642\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 414,\n    columnNumber: 5\n  }, this);\n};\n_c7 = RentalDetailsModal;\nconst MemoizedRentalDetailsModal = /*#__PURE__*/React.memo(RentalDetailsModal);\n_c8 = MemoizedRentalDetailsModal;\nMemoizedRentalDetailsModal.displayName = 'RentalDetailsModal';\n\n// مكون إحصائيات الفترة الزمنية\nconst TimeRangeStats = props => {\n  const {\n    stats,\n    loading\n  } = props;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-time-stats admin-skeleton\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stats-skeleton\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-time-stats\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stat-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value\",\n          children: formatCurrency(stats.total_revenue || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0639\\u062F\\u062F \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value\",\n          children: formatNumber(stats.total_rentals || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 546,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stat-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value\",\n          children: formatCurrency(stats.average_amount || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-stat-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-label\",\n          children: \"\\u0623\\u0639\\u0644\\u0649 \\u0625\\u064A\\u0631\\u0627\\u062F \\u0641\\u064A \\u064A\\u0648\\u0645\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-stat-value\",\n          children: formatCurrency(stats.max_daily_revenue || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 538,\n    columnNumber: 5\n  }, this);\n};\n_c9 = TimeRangeStats;\nconst MemoizedTimeRangeStats = /*#__PURE__*/React.memo(TimeRangeStats);\n_c0 = MemoizedTimeRangeStats;\nMemoizedTimeRangeStats.displayName = 'TimeRangeStats';\n\n// مكون الرسم البياني البسيط\nconst SimpleChart = props => {\n  const {\n    data,\n    type = 'bar',\n    height = 200\n  } = props;\n  if (!data || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-chart-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0643\\u0627\\u0641\\u064A\\u0629 \\u0644\\u0644\\u0639\\u0631\\u0636\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 7\n    }, this);\n  }\n  const maxValue = Math.max(...data.map(d => d.value), 1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-simple-chart\",\n    style: {\n      height\n    },\n    children: data.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-chart-bar-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-chart-bar\",\n        style: {\n          height: `${item.value / maxValue * 100}%`,\n          backgroundColor: item.color || '#3b82f6'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"admin-chart-value\",\n          children: item.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 585,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"admin-chart-label\",\n        children: item.label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 582,\n    columnNumber: 5\n  }, this);\n};\n_c1 = SimpleChart;\nconst MemoizedSimpleChart = /*#__PURE__*/React.memo(SimpleChart);\n_c10 = MemoizedSimpleChart;\nMemoizedSimpleChart.displayName = 'SimpleChart';\n\n// ==================== المكون الرئيسي ====================\nconst AdminDashboard = () => {\n  _s2();\n  const {\n    user\n  } = useAuth();\n\n  // حالات التحميل\n  const [loading, setLoading] = useState({\n    initial: true,\n    stats: false,\n    branches: false,\n    rentals: false,\n    games: false,\n    charts: false\n  });\n\n  // حالات البيانات\n  const [stats, setStats] = useState({\n    total_branches: 0,\n    total_users: 0,\n    total_games: 0,\n    available_games: 0,\n    active_rentals: 0,\n    today_revenue: 0,\n    today_rentals: 0,\n    today_completed: 0,\n    total_revenue: 0,\n    total_rentals: 0,\n    average_daily_revenue: 0\n  });\n  const [branches, setBranches] = useState([]);\n  const [rentals, setRentals] = useState([]);\n  const [recentRentals, setRecentRentals] = useState([]);\n  const [activeRentals, setActiveRentals] = useState([]);\n  const [completedRentals, setCompletedRentals] = useState([]);\n  const [games, setGames] = useState([]);\n\n  // حالات إضافية\n  const [error, setError] = useState(null);\n  const [selectedRental, setSelectedRental] = useState(null);\n  const [showRentalDetails, setShowRentalDetails] = useState(false);\n  const [timeRange, setTimeRange] = useState('today'); // today, week, month, year\n  const [viewMode, setViewMode] = useState('overview'); // overview, branches, rentals, games\n\n  // بيانات الرسوم البيانية\n  const [revenueChartData, setRevenueChartData] = useState([]);\n  const [rentalsChartData, setRentalsChartData] = useState([]);\n  const [branchesChartData, setBranchesChartData] = useState([]);\n\n  // Refs للتحكم في التحديثات\n  const isMountedRef = useRef(true);\n  const updateLockRef = useRef(false);\n  const refreshTimerRef = useRef(null);\n  const retryCountRef = useRef(0);\n\n  // ==================== دوال التحميل ====================\n\n  // تحميل جميع البيانات\n  const loadAllData = useCallback(async (force = false) => {\n    // منع التحميل المتزامن\n    if (updateLockRef.current && !force) {\n      console.log('⏳ [LOCKED] هناك تحميل قيد التنفيذ');\n      return;\n    }\n    try {\n      updateLockRef.current = true;\n      setLoading(prev => ({\n        ...prev,\n        initial: true\n      }));\n      setError(null);\n\n      // تحميل البيانات الأساسية أولاً\n      const [branchesRes, rentalsRes, gamesRes, statsRes] = await Promise.allSettled([api.get('/branches'), api.get('/rentals', {\n        params: {\n          limit: 1000\n        }\n      }), api.get('/games'), api.get('/stats/dashboard')]);\n\n      // معالجة الفروع\n      if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\n        const branchesData = branchesRes.value.data || [];\n        setBranches(branchesData);\n\n        // تحميل إحصائيات كل فرع\n        const branchStatsPromises = branchesData.map(async branch => {\n          try {\n            const [gamesRes, rentalsRes] = await Promise.allSettled([api.get(`/branches/${branch.id}/games`), api.get('/rentals', {\n              params: {\n                branch_id: branch.id,\n                limit: 1\n              }\n            })]);\n            const games = gamesRes.status === 'fulfilled' && gamesRes.value.success ? gamesRes.value.data || [] : [];\n            const today = new Date().toISOString().split('T')[0];\n            const todayRentals = rentalsRes.status === 'fulfilled' && rentalsRes.value.success ? (rentalsRes.value.data || []).filter(r => {\n              var _r$created_at;\n              return ((_r$created_at = r.created_at) === null || _r$created_at === void 0 ? void 0 : _r$created_at.startsWith(today)) && r.status === 'مكتمل';\n            }) : [];\n            const todayRevenue = todayRentals.reduce((sum, r) => sum + (r.total_amount || 0), 0);\n            return {\n              ...branch,\n              total_games: games.length,\n              available_games: games.filter(g => g.status === 'متاح').length,\n              active_rentals: rentalsRes.status === 'fulfilled' && rentalsRes.value.success ? (rentalsRes.value.data || []).filter(r => r.status === 'نشط').length : 0,\n              today_revenue: todayRevenue,\n              today_rentals: todayRentals.length\n            };\n          } catch (error) {\n            console.error(`خطأ في تحميل إحصائيات الفرع ${branch.id}:`, error);\n            return {\n              ...branch,\n              total_games: 0,\n              available_games: 0,\n              active_rentals: 0,\n              today_revenue: 0,\n              today_rentals: 0\n            };\n          }\n        });\n        const branchesWithStats = await Promise.all(branchStatsPromises);\n        setBranches(branchesWithStats);\n      }\n\n      // معالجة التأجيرات\n      if (rentalsRes.status === 'fulfilled' && rentalsRes.value.success) {\n        const rentalsData = rentalsRes.value.data || [];\n        setRentals(rentalsData);\n\n        // تصنيف التأجيرات\n        setActiveRentals(rentalsData.filter(r => r.status === 'نشط'));\n        setCompletedRentals(rentalsData.filter(r => r.status === 'مكتمل'));\n        setRecentRentals(rentalsData.slice(0, 10));\n      }\n\n      // معالجة الألعاب\n      if (gamesRes.status === 'fulfilled' && gamesRes.value.success) {\n        setGames(gamesRes.value.data || []);\n      }\n\n      // معالجة الإحصائيات\n      if (statsRes.status === 'fulfilled' && statsRes.value.success) {\n        setStats(statsRes.value.data);\n      } else {\n        // حساب الإحصائيات محلياً إذا فشل الطلب\n        calculateLocalStats(branchesRes, rentalsRes, gamesRes);\n      }\n\n      // تحميل بيانات الرسوم البيانية\n      await loadChartData();\n      retryCountRef.current = 0;\n    } catch (error) {\n      console.error('❌ خطأ في تحميل البيانات:', error);\n      setError('حدث خطأ في تحميل البيانات. يرجى المحاولة مرة أخرى.');\n\n      // محاولة إعادة التحميل\n      if (retryCountRef.current < 3) {\n        retryCountRef.current++;\n        const delay = Math.min(1000 * Math.pow(2, retryCountRef.current), 10000);\n        refreshTimerRef.current = setTimeout(() => {\n          loadAllData(force);\n        }, delay);\n      }\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(prev => ({\n          ...prev,\n          initial: false\n        }));\n      }\n      updateLockRef.current = false;\n    }\n  }, []);\n\n  // حساب الإحصائيات محلياً\n  const calculateLocalStats = useCallback((branchesRes, rentalsRes, gamesRes) => {\n    const branchesData = branchesRes.status === 'fulfilled' && branchesRes.value.success ? branchesRes.value.data || [] : [];\n    const rentalsData = rentalsRes.status === 'fulfilled' && rentalsRes.value.success ? rentalsRes.value.data || [] : [];\n    const gamesData = gamesRes.status === 'fulfilled' && gamesRes.value.success ? gamesRes.value.data || [] : [];\n    const today = new Date().toISOString().split('T')[0];\n    const todayRentals = rentalsData.filter(r => {\n      var _r$created_at2;\n      return ((_r$created_at2 = r.created_at) === null || _r$created_at2 === void 0 ? void 0 : _r$created_at2.startsWith(today)) && r.status === 'مكتمل';\n    });\n    const todayRevenue = todayRentals.reduce((sum, r) => sum + (r.total_amount || 0), 0);\n    const totalRevenue = rentalsData.filter(r => r.status === 'مكتمل').reduce((sum, r) => sum + (r.total_amount || 0), 0);\n    setStats({\n      total_branches: branchesData.length,\n      total_users: 0,\n      // سيتم تحميلها بشكل منفصل\n      total_games: gamesData.length,\n      available_games: gamesData.filter(g => g.status === 'متاح').length,\n      active_rentals: rentalsData.filter(r => r.status === 'نشط').length,\n      today_revenue: todayRevenue,\n      today_rentals: todayRentals.length,\n      today_completed: todayRentals.length,\n      total_revenue: totalRevenue,\n      total_rentals: rentalsData.length,\n      average_daily_revenue: totalRevenue / 30 || 0 // تقديري\n    });\n  }, []);\n\n  // تحميل بيانات الرسوم البيانية\n  const loadChartData = useCallback(async () => {\n    try {\n      setLoading(prev => ({\n        ...prev,\n        charts: true\n      }));\n\n      // بيانات الإيرادات لآخر 7 أيام\n      const last7Days = [];\n      const revenueData = [];\n      const rentalsData = [];\n      for (let i = 6; i >= 0; i--) {\n        const date = new Date();\n        date.setDate(date.getDate() - i);\n        const dateStr = date.toISOString().split('T')[0];\n        const dayRentals = rentals.filter(r => {\n          var _r$created_at3;\n          return ((_r$created_at3 = r.created_at) === null || _r$created_at3 === void 0 ? void 0 : _r$created_at3.startsWith(dateStr)) && r.status === 'مكتمل';\n        });\n        const dayRevenue = dayRentals.reduce((sum, r) => sum + (r.total_amount || 0), 0);\n        last7Days.push({\n          label: date.toLocaleDateString('ar-EG', {\n            weekday: 'short'\n          }),\n          date: dateStr,\n          revenue: dayRevenue,\n          rentals: dayRentals.length\n        });\n        revenueData.push({\n          label: date.toLocaleDateString('ar-EG', {\n            weekday: 'short'\n          }),\n          value: dayRevenue,\n          color: '#10b981'\n        });\n        rentalsData.push({\n          label: date.toLocaleDateString('ar-EG', {\n            weekday: 'short'\n          }),\n          value: dayRentals.length,\n          color: '#3b82f6'\n        });\n      }\n      setRevenueChartData(revenueData);\n      setRentalsChartData(rentalsData);\n\n      // بيانات الفروع\n      const branchData = branches.slice(0, 5).map(branch => ({\n        label: branch.name,\n        value: branch.today_revenue || 0,\n        color: `hsl(${Math.random() * 360}, 70%, 50%)`\n      }));\n      setBranchesChartData(branchData);\n    } catch (error) {\n      console.error('❌ خطأ في تحميل بيانات الرسوم البيانية:', error);\n    } finally {\n      if (isMountedRef.current) {\n        setLoading(prev => ({\n          ...prev,\n          charts: false\n        }));\n      }\n    }\n  }, [rentals, branches]);\n\n  // التحميل الأولي\n  useEffect(() => {\n    isMountedRef.current = true;\n    loadAllData(true);\n    return () => {\n      isMountedRef.current = false;\n      if (refreshTimerRef.current) {\n        clearTimeout(refreshTimerRef.current);\n      }\n    };\n  }, [loadAllData]);\n\n  // تحديث دوري كل 5 دقائق\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (isMountedRef.current && !updateLockRef.current) {\n        loadAllData();\n      }\n    }, 300000); // 5 دقائق\n\n    return () => clearInterval(interval);\n  }, [loadAllData]);\n\n  // ==================== دوال المساعدة ====================\n\n  const handleRefresh = useCallback(() => {\n    loadAllData(true);\n  }, [loadAllData]);\n  const handleViewRentalDetails = useCallback(rental => {\n    setSelectedRental(rental);\n    setShowRentalDetails(true);\n  }, []);\n  const handleViewBranch = useCallback(branch => {\n    // يمكن توجيه المستخدم إلى صفحة تفاصيل الفرع\n    window.location.href = `/admin/branches/${branch.id}`;\n  }, []);\n\n  // ==================== Render ====================\n\n  if (loading.initial) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-loading-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-spinner-large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 938,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u062C\\u0627\\u0631\\u064A \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u062A\\u062D\\u0643\\u0645...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 939,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"\\u064A\\u062A\\u0645 \\u062A\\u062D\\u0645\\u064A\\u0644 \\u0627\\u0644\\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0627\\u0644\\u062D\\u0642\\u064A\\u0642\\u064A\\u0629 \\u0645\\u0646 \\u0627\\u0644\\u0646\\u0638\\u0627\\u0645\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 937,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [/*#__PURE__*/_jsxDEV(LayoutDashboard, {\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 13\n          }, this), \"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u0645\\u062F\\u064A\\u0631\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 950,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-welcome\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"admin-greeting\",\n            children: \"\\u0645\\u0631\\u062D\\u0628\\u0627\\u064B\\u060C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"admin-user-name\",\n            children: user === null || user === void 0 ? void 0 : user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 956,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"admin-user-role\",\n            children: [\"(\", (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? 'مدير النظام' : 'مدير فرع', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 957,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 954,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 949,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-header-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-date-time\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date().toLocaleDateString('ar-EG', {\n              weekday: 'long',\n              year: 'numeric',\n              month: 'long',\n              day: 'numeric'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Clock, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 972,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: formatTime(new Date())\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 973,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          className: \"admin-btn admin-btn-outline\",\n          disabled: loading.stats,\n          children: [loading.stats ? /*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"admin-spinner\",\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(RefreshCw, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 984,\n            columnNumber: 15\n          }, this), \"\\u062A\\u062D\\u062F\\u064A\\u062B\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 976,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-btn admin-btn-primary\",\n          onClick: () => window.print(),\n          children: [/*#__PURE__*/_jsxDEV(Printer, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 993,\n            columnNumber: 13\n          }, this), \"\\u0637\\u0628\\u0627\\u0639\\u0629\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 989,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 963,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 948,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-alert admin-alert-error\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1002,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRefresh,\n        className: \"admin-alert-close\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1001,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\",\n        value: formatNumber(stats.total_branches),\n        icon: Building2,\n        color: \"primary\",\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645\\u064A\\u0646\",\n        value: formatNumber(stats.total_users),\n        icon: Users,\n        color: \"success\",\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\",\n        value: formatNumber(stats.total_games),\n        icon: Gamepad2,\n        color: \"info\",\n        subtitle: `${formatNumber(stats.available_games)} متاح`,\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1028,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A \\u0627\\u0644\\u0646\\u0634\\u0637\\u0629\",\n        value: formatNumber(stats.active_rentals),\n        icon: Activity,\n        color: \"warning\",\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1037,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\",\n        value: formatCurrency(stats.today_revenue),\n        icon: DollarSign,\n        color: \"success\",\n        subtitle: `${formatNumber(stats.today_rentals)} تأجير`,\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MemoizedStatCard, {\n        title: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A\",\n        value: formatCurrency(stats.total_revenue),\n        icon: TrendingUp,\n        color: \"primary\",\n        subtitle: `${formatNumber(stats.total_rentals)} تأجير`,\n        loading: loading.stats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1054,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-view-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-tab ${viewMode === 'overview' ? 'active' : ''}`,\n        onClick: () => setViewMode('overview'),\n        children: [/*#__PURE__*/_jsxDEV(PieChart, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1070,\n          columnNumber: 11\n        }, this), \"\\u0646\\u0638\\u0631\\u0629 \\u0639\\u0627\\u0645\\u0629\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1066,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-tab ${viewMode === 'branches' ? 'active' : ''}`,\n        onClick: () => setViewMode('branches'),\n        children: [/*#__PURE__*/_jsxDEV(Building2, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1073,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-tab ${viewMode === 'rentals' ? 'active' : ''}`,\n        onClick: () => setViewMode('rentals'),\n        children: [/*#__PURE__*/_jsxDEV(Receipt, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1080,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `admin-tab ${viewMode === 'games' ? 'active' : ''}`,\n        onClick: () => setViewMode('games'),\n        children: [/*#__PURE__*/_jsxDEV(Gamepad2, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 11\n        }, this), \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1087,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1065,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-view-content\",\n      children: [viewMode === 'overview' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-chart-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1104,\n                columnNumber: 19\n              }, this), \"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0625\\u064A\\u0631\\u0627\\u062F\\u0627\\u062A (\\u0622\\u062E\\u0631 7 \\u0623\\u064A\\u0627\\u0645)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1103,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: timeRange,\n              onChange: e => setTimeRange(e.target.value),\n              className: \"admin-chart-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"today\",\n                children: \"\\u0627\\u0644\\u064A\\u0648\\u0645\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"week\",\n                children: \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0623\\u0633\\u0628\\u0648\\u0639\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1113,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"month\",\n                children: \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0634\\u0647\\u0631\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"year\",\n                children: \"\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0639\\u0627\\u0645\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1115,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(MemoizedSimpleChart, {\n            data: revenueChartData,\n            type: \"bar\",\n            height: 250\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1118,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-dashboard-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(Clock, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1131,\n                  columnNumber: 21\n                }, this), \"\\u0622\\u062E\\u0631 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1130,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-badge\",\n                children: recentRentals.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1129,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-recent-list\",\n              children: recentRentals.slice(0, 5).map((rental, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-recent-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin-recent-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-recent-index\",\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1140,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"admin-recent-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"admin-recent-customer\",\n                      children: rental.customer_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1142,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"admin-recent-game\",\n                      children: rental.game_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1143,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1141,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1139,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin-recent-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-recent-time\",\n                    children: formatTime(rental.start_time)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1147,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `admin-status-dot admin-status-${getStatusColor(rental.status)}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1148,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 23\n                }, this)]\n              }, rental.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1138,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1136,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"admin-view-all\",\n              onClick: () => setViewMode('rentals'),\n              children: [\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0643\\u0644 \", /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1153,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(Target, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 21\n                }, this), \"\\u0623\\u062F\\u0627\\u0621 \\u0627\\u0644\\u0641\\u0631\\u0648\\u0639\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1164,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-badge\",\n                children: [branches.length, \" \\u0641\\u0631\\u0639\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1163,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-branches-mini\",\n              children: branches.slice(0, 3).map(branch => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-branch-mini\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin-branch-mini-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-branch-mini-name\",\n                    children: branch.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1174,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"admin-branch-mini-revenue\",\n                    children: formatCurrency(branch.today_revenue || 0)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1175,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"admin-branch-mini-stats\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83D\\uDCCA \", branch.active_rentals || 0, \" \\u0646\\u0634\\u0637\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1180,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\uD83C\\uDFAE \", branch.available_games || 0, \"/\", branch.total_games || 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1181,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 23\n                }, this)]\n              }, branch.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1172,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"admin-view-all\",\n              onClick: () => setViewMode('branches'),\n              children: [\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0643\\u0644 \", /*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1190,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1126,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), viewMode === 'branches' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-branches-grid\",\n        children: branches.map(branch => /*#__PURE__*/_jsxDEV(MemoizedBranchCard, {\n          branch: branch,\n          onClick: handleViewBranch\n        }, branch.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1200,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1198,\n        columnNumber: 11\n      }, this), viewMode === 'rentals' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-rentals-view\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-rentals-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-rentals-tab ${!(selectedRental !== null && selectedRental !== void 0 && selectedRental.type) ? 'active' : ''}`,\n            onClick: () => setSelectedRental(null),\n            children: [\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062A\\u0623\\u062C\\u064A\\u0631\\u0627\\u062A (\", rentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-rentals-tab ${(selectedRental === null || selectedRental === void 0 ? void 0 : selectedRental.type) === 'active' ? 'active' : ''}`,\n            onClick: () => setSelectedRental({\n              type: 'active'\n            }),\n            children: [\"\\u0627\\u0644\\u0646\\u0634\\u0637\\u0629 (\", activeRentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `admin-rentals-tab ${(selectedRental === null || selectedRental === void 0 ? void 0 : selectedRental.type) === 'completed' ? 'active' : ''}`,\n            onClick: () => setSelectedRental({\n              type: 'completed'\n            }),\n            children: [\"\\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629 (\", completedRentals.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MemoizedRentalsTable, {\n          rentals: (selectedRental === null || selectedRental === void 0 ? void 0 : selectedRental.type) === 'active' ? activeRentals : (selectedRental === null || selectedRental === void 0 ? void 0 : selectedRental.type) === 'completed' ? completedRentals : rentals,\n          loading: loading.rentals,\n          onViewDetails: handleViewRentalDetails,\n          type: (selectedRental === null || selectedRental === void 0 ? void 0 : selectedRental.type) || 'all'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1210,\n        columnNumber: 11\n      }, this), viewMode === 'games' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-games-view\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-games-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-games-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-label\",\n              children: \"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1246,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-value\",\n              children: formatNumber(stats.total_games)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1247,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-games-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-label\",\n              children: \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-value admin-available\",\n              children: formatNumber(stats.available_games)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1251,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-games-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-label\",\n              children: \"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628 \\u0627\\u0644\\u0645\\u0624\\u062C\\u0631\\u0629\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"admin-games-stat-value admin-rented\",\n              children: formatNumber(stats.total_games - stats.available_games)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1253,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-games-grid\",\n          children: games.slice(0, 12).map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-game-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-game-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: game.image_url || '/images/default-game.jpg',\n                alt: game.name,\n                onError: e => e.target.src = '/images/default-game.jpg'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1265,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-game-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: game.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1272,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-game-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"admin-game-price\",\n                  children: [formatCurrency(game.price_per_15min), \"/15\\u062F\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1274,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `admin-game-status ${game.status === 'متاح' ? 'admin-status-available' : 'admin-status-rented'}`,\n                  children: game.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1275,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1273,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1271,\n              columnNumber: 19\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1263,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1261,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1097,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MemoizedRentalDetailsModal, {\n      show: showRentalDetails,\n      onClose: () => setShowRentalDetails(false),\n      rental: selectedRental\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1288,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 946,\n    columnNumber: 5\n  }, this);\n};\n_s2(AdminDashboard, \"P9TxYEAuTV9n3wQMoXIJjSqiFmk=\", false, function () {\n  return [useAuth];\n});\n_c11 = AdminDashboard;\nexport default AdminDashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11;\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"MemoizedStatCard\");\n$RefreshReg$(_c3, \"BranchCard\");\n$RefreshReg$(_c4, \"MemoizedBranchCard\");\n$RefreshReg$(_c5, \"RentalsTable\");\n$RefreshReg$(_c6, \"MemoizedRentalsTable\");\n$RefreshReg$(_c7, \"RentalDetailsModal\");\n$RefreshReg$(_c8, \"MemoizedRentalDetailsModal\");\n$RefreshReg$(_c9, \"TimeRangeStats\");\n$RefreshReg$(_c0, \"MemoizedTimeRangeStats\");\n$RefreshReg$(_c1, \"SimpleChart\");\n$RefreshReg$(_c10, \"MemoizedSimpleChart\");\n$RefreshReg$(_c11, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","useAuth","api","Building2","Users","Gamepad2","Clock","DollarSign","ShoppingCart","CheckCircle","XCircle","AlertCircle","TrendingUp","Calendar","Printer","Download","RefreshCw","Eye","User","Phone","MapPin","ChevronLeft","ChevronRight","BarChart3","PieChart","Filter","TrendingDown","Activity","Zap","Award","Target","CreditCard","ArrowUp","ArrowDown","Loader2","Search","Mail","Package","Settings","LogOut","Bell","Moon","Sun","LayoutDashboard","Briefcase","Wallet","Receipt","FileText","Smartphone","Tablet","Laptop","Watch","Headphones","Camera","Speaker","Tv","PrinterIcon","Copy","Check","X","jsxDEV","_jsxDEV","Fragment","_Fragment","formatCurrency","amount","undefined","num","parseFloat","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatNumber","formatDateTime","dateString","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","hour","minute","formatTime","toLocaleTimeString","formatDate","calculateDuration","startTime","endTime","start","end","Math","max","round","getStatusColor","status","toLowerCase","getStatusText","StatCard","props","title","value","icon","Icon","color","trend","trendValue","subtitle","loading","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","abs","_c","MemoizedStatCard","memo","_c2","displayName","BranchCard","branch","onClick","occupancyRate","total_games","available_games","name","location","width","today_revenue","active_rentals","_c3","MemoizedBranchCard","_c4","RentalsTable","_s","rentals","onViewDetails","type","searchTerm","setSearchTerm","filterStatus","setFilterStatus","filteredRentals","length","filter","rental","_rental$customer_name","_rental$customer_phon","_rental$game_name","_rental$branch_name","term","matchesSearch","customer_name","includes","customer_phone","game_name","branch_name","placeholder","onChange","e","target","map","index","start_time","duration_minutes","total_amount","id","_c5","MemoizedRentalsTable","_c6","RentalDetailsModal","show","onClose","stopPropagation","rental_number","end_time","paid_amount","payment_status","employee_name","notes","_c7","MemoizedRentalDetailsModal","_c8","TimeRangeStats","stats","total_revenue","total_rentals","average_amount","max_daily_revenue","_c9","MemoizedTimeRangeStats","_c0","SimpleChart","data","height","maxValue","d","item","backgroundColor","label","_c1","MemoizedSimpleChart","_c10","AdminDashboard","_s2","user","setLoading","initial","branches","games","charts","setStats","total_branches","total_users","today_rentals","today_completed","average_daily_revenue","setBranches","setRentals","recentRentals","setRecentRentals","activeRentals","setActiveRentals","completedRentals","setCompletedRentals","setGames","error","setError","selectedRental","setSelectedRental","showRentalDetails","setShowRentalDetails","timeRange","setTimeRange","viewMode","setViewMode","revenueChartData","setRevenueChartData","rentalsChartData","setRentalsChartData","branchesChartData","setBranchesChartData","isMountedRef","updateLockRef","refreshTimerRef","retryCountRef","loadAllData","force","current","console","log","prev","branchesRes","rentalsRes","gamesRes","statsRes","Promise","allSettled","get","params","limit","success","branchesData","branchStatsPromises","branch_id","today","toISOString","split","todayRentals","r","_r$created_at","created_at","startsWith","todayRevenue","reduce","sum","g","branchesWithStats","all","rentalsData","slice","calculateLocalStats","loadChartData","delay","min","pow","setTimeout","gamesData","_r$created_at2","totalRevenue","last7Days","revenueData","i","setDate","getDate","dateStr","dayRentals","_r$created_at3","dayRevenue","push","weekday","revenue","branchData","random","clearTimeout","interval","setInterval","clearInterval","handleRefresh","handleViewRentalDetails","handleViewBranch","window","href","role","disabled","print","game","src","image_url","alt","onError","price_per_15min","_c11","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/project/l3bty-rental-system/frontend/src/pages/admin/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport api from '../../services/api';\r\nimport {\r\n  Building2, Users, Gamepad2, Clock, DollarSign, ShoppingCart,\r\n  CheckCircle, XCircle, AlertCircle, TrendingUp, Calendar,\r\n  Printer, Download, RefreshCw, Eye, User, Phone, MapPin,\r\n  ChevronLeft, ChevronRight, BarChart3, PieChart, Filter,\r\n  TrendingDown, Activity, Zap, Award, Target, CreditCard,\r\n  ArrowUp, ArrowDown, Loader2, Search, Mail, Package,\r\n  Settings, LogOut, Bell, Moon, Sun, LayoutDashboard,\r\n  Briefcase, Wallet, Receipt, FileText, Smartphone,\r\n  Tablet, Laptop, Watch, Headphones, Camera, Speaker,\r\n  Tv, Printer as PrinterIcon, Copy, Check, X\r\n} from 'lucide-react';\r\nimport './AdminPages.css';\r\n\r\n// ==================== دوال المساعدة العامة ====================\r\nconst formatCurrency = (amount) => {\r\n  if (amount === null || amount === undefined || amount === '') return '0 ج.م';\r\n  const num = parseFloat(amount) || 0;\r\n  return new Intl.NumberFormat('ar-EG', {\r\n    style: 'currency',\r\n    currency: 'EGP',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2\r\n  }).format(num);\r\n};\r\n\r\nconst formatNumber = (num) => {\r\n  if (num === null || num === undefined) return '0';\r\n  return new Intl.NumberFormat('ar-EG').format(num);\r\n};\r\n\r\nconst formatDateTime = (dateString) => {\r\n  if (!dateString) return '--/--/---- --:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--/--/---- --:--';\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/---- --:--';\r\n  }\r\n};\r\n\r\nconst formatTime = (dateString) => {\r\n  if (!dateString) return '--:--';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--:--';\r\n    return date.toLocaleTimeString('ar-EG', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--:--';\r\n  }\r\n};\r\n\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return '--/--/----';\r\n  try {\r\n    const date = new Date(dateString);\r\n    if (isNaN(date.getTime())) return '--/--/----';\r\n    return date.toLocaleDateString('ar-EG', {\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    });\r\n  } catch {\r\n    return '--/--/----';\r\n  }\r\n};\r\n\r\nconst calculateDuration = (startTime, endTime) => {\r\n  if (!startTime || !endTime) return 0;\r\n  const start = new Date(startTime);\r\n  const end = new Date(endTime);\r\n  if (isNaN(start.getTime()) || isNaN(end.getTime())) return 0;\r\n  return Math.max(0, Math.round((end - start) / (1000 * 60)));\r\n};\r\n\r\nconst getStatusColor = (status) => {\r\n  switch(status?.toLowerCase()) {\r\n    case 'نشط':\r\n    case 'active':\r\n      return 'success';\r\n    case 'مكتمل':\r\n    case 'completed':\r\n      return 'info';\r\n    case 'ملغي':\r\n    case 'cancelled':\r\n      return 'danger';\r\n    case 'معلق':\r\n    case 'pending':\r\n      return 'warning';\r\n    default:\r\n      return 'secondary';\r\n  }\r\n};\r\n\r\nconst getStatusText = (status) => {\r\n  switch(status?.toLowerCase()) {\r\n    case 'active':\r\n      return 'نشط';\r\n    case 'completed':\r\n      return 'مكتمل';\r\n    case 'cancelled':\r\n      return 'ملغي';\r\n    case 'pending':\r\n      return 'معلق';\r\n    default:\r\n      return status || 'غير معروف';\r\n  }\r\n};\r\n\r\n// ==================== المكونات الفرعية ====================\r\n\r\n// مكون بطاقة الإحصاء\r\nconst StatCard = (props) => {\r\n  const { title, value, icon: Icon, color, trend, trendValue, subtitle, loading } = props;\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-stat-card admin-skeleton\">\r\n        <div className=\"admin-stat-skeleton\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`admin-stat-card admin-stat-${color}`}>\r\n      <div className=\"admin-stat-icon\">\r\n        <Icon size={24} />\r\n      </div>\r\n      <div className=\"admin-stat-content\">\r\n        <div className=\"admin-stat-title\">{title}</div>\r\n        <div className=\"admin-stat-value\">{value}</div>\r\n        {subtitle && <div className=\"admin-stat-subtitle\">{subtitle}</div>}\r\n        {trend && (\r\n          <div className={`admin-stat-trend admin-trend-${trend > 0 ? 'up' : 'down'}`}>\r\n            {trend > 0 ? <ArrowUp size={14} /> : <ArrowDown size={14} />}\r\n            <span>{Math.abs(trend)}%</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedStatCard = React.memo(StatCard);\r\nMemoizedStatCard.displayName = 'StatCard';\r\n\r\n// مكون بطاقة الفرع\r\nconst BranchCard = (props) => {\r\n  const { branch, onClick } = props;\r\n  \r\n  const occupancyRate = branch.total_games > 0 \r\n    ? Math.round(((branch.total_games - branch.available_games) / branch.total_games) * 100)\r\n    : 0;\r\n\r\n  return (\r\n    <div className=\"admin-branch-card\" onClick={() => onClick(branch)}>\r\n      <div className=\"admin-branch-header\">\r\n        <div className=\"admin-branch-icon\">\r\n          <Building2 size={24} />\r\n        </div>\r\n        <div className=\"admin-branch-info\">\r\n          <h3>{branch.name}</h3>\r\n          <span className=\"admin-branch-location\">\r\n            <MapPin size={14} />\r\n            {branch.location || 'موقع غير محدد'}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"admin-branch-stats\">\r\n        <div className=\"admin-branch-stat\">\r\n          <span className=\"admin-stat-label\">الألعاب</span>\r\n          <span className=\"admin-stat-value\">{branch.total_games || 0}</span>\r\n        </div>\r\n        <div className=\"admin-branch-stat\">\r\n          <span className=\"admin-stat-label\">متاحة</span>\r\n          <span className=\"admin-stat-value admin-available\">{branch.available_games || 0}</span>\r\n        </div>\r\n        <div className=\"admin-branch-stat\">\r\n          <span className=\"admin-stat-label\">مؤجرة</span>\r\n          <span className=\"admin-stat-value admin-rented\">\r\n            {(branch.total_games || 0) - (branch.available_games || 0)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"admin-branch-occupancy\">\r\n        <div className=\"admin-occupancy-label\">\r\n          <span>نسبة الإشغال</span>\r\n          <span>{occupancyRate}%</span>\r\n        </div>\r\n        <div className=\"admin-progress-bar\">\r\n          <div \r\n            className={`admin-progress-fill ${occupancyRate > 70 ? 'admin-progress-high' : occupancyRate > 30 ? 'admin-progress-medium' : 'admin-progress-low'}`}\r\n            style={{ width: `${occupancyRate}%` }}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"admin-branch-footer\">\r\n        <span className=\"admin-branch-revenue\">\r\n          <DollarSign size={14} />\r\n          {formatCurrency(branch.today_revenue || 0)}\r\n        </span>\r\n        <span className=\"admin-branch-rentals\">\r\n          <ShoppingCart size={14} />\r\n          {branch.active_rentals || 0} نشط\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedBranchCard = React.memo(BranchCard);\r\nMemoizedBranchCard.displayName = 'BranchCard';\r\n\r\n// مكون جدول التأجيرات\r\nconst RentalsTable = (props) => {\r\n  const { rentals, loading, onViewDetails, type = 'all' } = props;\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterStatus, setFilterStatus] = useState('all');\r\n\r\n  const filteredRentals = useMemo(() => {\r\n    if (!rentals?.length) return [];\r\n    \r\n    return rentals.filter(rental => {\r\n      // تصفية حسب النوع\r\n      if (type === 'active' && rental.status !== 'نشط') return false;\r\n      if (type === 'completed' && rental.status !== 'مكتمل') return false;\r\n      \r\n      // تصفية حسب البحث\r\n      if (searchTerm) {\r\n        const term = searchTerm.toLowerCase();\r\n        const matchesSearch = \r\n          rental.customer_name?.toLowerCase().includes(term) ||\r\n          rental.customer_phone?.includes(term) ||\r\n          rental.game_name?.toLowerCase().includes(term) ||\r\n          rental.branch_name?.toLowerCase().includes(term);\r\n        if (!matchesSearch) return false;\r\n      }\r\n      \r\n      // تصفية حسب الحالة\r\n      if (filterStatus !== 'all') {\r\n        if (filterStatus === 'active' && rental.status !== 'نشط') return false;\r\n        if (filterStatus === 'completed' && rental.status !== 'مكتمل') return false;\r\n        if (filterStatus === 'cancelled' && rental.status !== 'ملغي') return false;\r\n      }\r\n      \r\n      return true;\r\n    });\r\n  }, [rentals, searchTerm, filterStatus, type]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-loading-state\">\r\n        <Loader2 className=\"admin-spinner\" size={32} />\r\n        <p>جاري تحميل التأجيرات...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-rentals-table-container\">\r\n      <div className=\"admin-table-filters\">\r\n        <div className=\"admin-search-box\">\r\n          <Search size={18} />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"بحث بالعميل أو اللعبة أو الفرع...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n          {searchTerm && (\r\n            <button onClick={() => setSearchTerm('')} className=\"admin-clear-search\">\r\n              <X size={16} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        \r\n        <select \r\n          value={filterStatus}\r\n          onChange={(e) => setFilterStatus(e.target.value)}\r\n          className=\"admin-filter-select\"\r\n        >\r\n          <option value=\"all\">جميع الحالات</option>\r\n          <option value=\"active\">نشط</option>\r\n          <option value=\"completed\">مكتمل</option>\r\n          <option value=\"cancelled\">ملغي</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"admin-rentals-table\">\r\n        <div className=\"admin-table-header\">\r\n          <div className=\"admin-table-cell\">#</div>\r\n          <div className=\"admin-table-cell\">العميل</div>\r\n          <div className=\"admin-table-cell\">اللعبة</div>\r\n          <div className=\"admin-table-cell\">الفرع</div>\r\n          <div className=\"admin-table-cell\">وقت البدء</div>\r\n          <div className=\"admin-table-cell\">المدة</div>\r\n          <div className=\"admin-table-cell\">المبلغ</div>\r\n          <div className=\"admin-table-cell\">الحالة</div>\r\n          <div className=\"admin-table-cell\">الإجراءات</div>\r\n        </div>\r\n\r\n        {filteredRentals.length === 0 ? (\r\n          <div className=\"admin-empty-state\">\r\n            {searchTerm ? (\r\n              <>\r\n                <Search size={48} />\r\n                <p>لا توجد نتائج مطابقة للبحث</p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Receipt size={48} />\r\n                <p>لا توجد تأجيرات لعرضها</p>\r\n              </>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          filteredRentals.map((rental, index) => (\r\n            <div key={rental.id} className=\"admin-table-row\">\r\n              <div className=\"admin-table-cell\">{index + 1}</div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <div className=\"admin-customer-info\">\r\n                  <User size={16} />\r\n                  <span>{rental.customer_name || 'غير محدد'}</span>\r\n                </div>\r\n                {rental.customer_phone && rental.customer_phone !== '00000000000' && (\r\n                  <div className=\"admin-customer-phone\">\r\n                    <Phone size={12} />\r\n                    <span>{rental.customer_phone}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <div className=\"admin-game-info\">\r\n                  <Gamepad2 size={16} />\r\n                  <span>{rental.game_name || 'غير محدد'}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <div className=\"admin-branch-info\">\r\n                  <Building2 size={16} />\r\n                  <span>{rental.branch_name || 'غير محدد'}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <div className=\"admin-time-info\">\r\n                  <Clock size={14} />\r\n                  <span>{formatDateTime(rental.start_time)}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                {rental.duration_minutes ? `${rental.duration_minutes} د` : '--'}\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <span className=\"admin-amount\">\r\n                  {formatCurrency(rental.total_amount || 0)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <span className={`admin-status-badge admin-status-${getStatusColor(rental.status)}`}>\r\n                  {getStatusText(rental.status)}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"admin-table-cell\">\r\n                <button\r\n                  onClick={() => onViewDetails(rental)}\r\n                  className=\"admin-btn-icon\"\r\n                  title=\"عرض التفاصيل\"\r\n                >\r\n                  <Eye size={16} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedRentalsTable = React.memo(RentalsTable);\r\nMemoizedRentalsTable.displayName = 'RentalsTable';\r\n\r\n// مكون تفاصيل التأجير\r\nconst RentalDetailsModal = (props) => {\r\n  const { show, onClose, rental } = props;\r\n  \r\n  if (!show || !rental) return null;\r\n\r\n  return (\r\n    <div className=\"admin-modal-overlay\" onClick={onClose}>\r\n      <div className=\"admin-modal\" onClick={e => e.stopPropagation()}>\r\n        <div className=\"admin-modal-header\">\r\n          <h2>\r\n            <Receipt size={24} />\r\n            تفاصيل التأجير #{rental.rental_number || rental.id}\r\n          </h2>\r\n          <button onClick={onClose} className=\"admin-modal-close\">\r\n            <X size={24} />\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"admin-modal-body\">\r\n          <div className=\"admin-details-grid\">\r\n            <div className=\"admin-details-section\">\r\n              <h3>معلومات العميل</h3>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">الاسم:</span>\r\n                <span className=\"admin-details-value\">{rental.customer_name || 'غير محدد'}</span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">الهاتف:</span>\r\n                <span className=\"admin-details-value\">{rental.customer_phone || 'غير محدد'}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-details-section\">\r\n              <h3>معلومات اللعبة</h3>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">اسم اللعبة:</span>\r\n                <span className=\"admin-details-value\">{rental.game_name || 'غير محدد'}</span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">الفرع:</span>\r\n                <span className=\"admin-details-value\">{rental.branch_name || 'غير محدد'}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-details-section\">\r\n              <h3>معلومات الوقت</h3>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">وقت البدء:</span>\r\n                <span className=\"admin-details-value\">{formatDateTime(rental.start_time)}</span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">وقت الانتهاء:</span>\r\n                <span className=\"admin-details-value\">{formatDateTime(rental.end_time)}</span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">المدة:</span>\r\n                <span className=\"admin-details-value\">\r\n                  {rental.duration_minutes ? `${rental.duration_minutes} دقيقة` : 'غير محدد'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-details-section\">\r\n              <h3>المعلومات المالية</h3>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">المبلغ الإجمالي:</span>\r\n                <span className=\"admin-details-value admin-amount-large\">\r\n                  {formatCurrency(rental.total_amount || 0)}\r\n                </span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">المبلغ المدفوع:</span>\r\n                <span className=\"admin-details-value\">\r\n                  {formatCurrency(rental.paid_amount || 0)}\r\n                </span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">حالة الدفع:</span>\r\n                <span className=\"admin-details-value\">\r\n                  {rental.payment_status || 'غير محدد'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"admin-details-section\">\r\n              <h3>معلومات إضافية</h3>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">الحالة:</span>\r\n                <span className={`admin-status-badge admin-status-${getStatusColor(rental.status)}`}>\r\n                  {getStatusText(rental.status)}\r\n                </span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">الموظف:</span>\r\n                <span className=\"admin-details-value\">{rental.employee_name || 'غير محدد'}</span>\r\n              </div>\r\n              <div className=\"admin-details-row\">\r\n                <span className=\"admin-details-label\">ملاحظات:</span>\r\n                <span className=\"admin-details-value\">{rental.notes || 'لا توجد ملاحظات'}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"admin-modal-footer\">\r\n          <button onClick={onClose} className=\"admin-btn admin-btn-secondary\">\r\n            إغلاق\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedRentalDetailsModal = React.memo(RentalDetailsModal);\r\nMemoizedRentalDetailsModal.displayName = 'RentalDetailsModal';\r\n\r\n// مكون إحصائيات الفترة الزمنية\r\nconst TimeRangeStats = (props) => {\r\n  const { stats, loading } = props;\r\n  \r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-time-stats admin-skeleton\">\r\n        <div className=\"admin-stats-skeleton\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-time-stats\">\r\n      <div className=\"admin-stat-row\">\r\n        <div className=\"admin-stat-item\">\r\n          <span className=\"admin-stat-label\">إجمالي الإيرادات</span>\r\n          <span className=\"admin-stat-value\">{formatCurrency(stats.total_revenue || 0)}</span>\r\n        </div>\r\n        <div className=\"admin-stat-item\">\r\n          <span className=\"admin-stat-label\">عدد التأجيرات</span>\r\n          <span className=\"admin-stat-value\">{formatNumber(stats.total_rentals || 0)}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"admin-stat-row\">\r\n        <div className=\"admin-stat-item\">\r\n          <span className=\"admin-stat-label\">متوسط قيمة التأجير</span>\r\n          <span className=\"admin-stat-value\">{formatCurrency(stats.average_amount || 0)}</span>\r\n        </div>\r\n        <div className=\"admin-stat-item\">\r\n          <span className=\"admin-stat-label\">أعلى إيراد في يوم</span>\r\n          <span className=\"admin-stat-value\">{formatCurrency(stats.max_daily_revenue || 0)}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedTimeRangeStats = React.memo(TimeRangeStats);\r\nMemoizedTimeRangeStats.displayName = 'TimeRangeStats';\r\n\r\n// مكون الرسم البياني البسيط\r\nconst SimpleChart = (props) => {\r\n  const { data, type = 'bar', height = 200 } = props;\r\n  \r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <div className=\"admin-chart-placeholder\">\r\n        <BarChart3 size={48} />\r\n        <p>لا توجد بيانات كافية للعرض</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const maxValue = Math.max(...data.map(d => d.value), 1);\r\n\r\n  return (\r\n    <div className=\"admin-simple-chart\" style={{ height }}>\r\n      {data.map((item, index) => (\r\n        <div key={index} className=\"admin-chart-bar-container\">\r\n          <div \r\n            className=\"admin-chart-bar\"\r\n            style={{ \r\n              height: `${(item.value / maxValue) * 100}%`,\r\n              backgroundColor: item.color || '#3b82f6'\r\n            }}\r\n          >\r\n            <span className=\"admin-chart-value\">{item.value}</span>\r\n          </div>\r\n          <span className=\"admin-chart-label\">{item.label}</span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MemoizedSimpleChart = React.memo(SimpleChart);\r\nMemoizedSimpleChart.displayName = 'SimpleChart';\r\n\r\n// ==================== المكون الرئيسي ====================\r\nconst AdminDashboard = () => {\r\n  const { user } = useAuth();\r\n  \r\n  // حالات التحميل\r\n  const [loading, setLoading] = useState({\r\n    initial: true,\r\n    stats: false,\r\n    branches: false,\r\n    rentals: false,\r\n    games: false,\r\n    charts: false\r\n  });\r\n  \r\n  // حالات البيانات\r\n  const [stats, setStats] = useState({\r\n    total_branches: 0,\r\n    total_users: 0,\r\n    total_games: 0,\r\n    available_games: 0,\r\n    active_rentals: 0,\r\n    today_revenue: 0,\r\n    today_rentals: 0,\r\n    today_completed: 0,\r\n    total_revenue: 0,\r\n    total_rentals: 0,\r\n    average_daily_revenue: 0\r\n  });\r\n  \r\n  const [branches, setBranches] = useState([]);\r\n  const [rentals, setRentals] = useState([]);\r\n  const [recentRentals, setRecentRentals] = useState([]);\r\n  const [activeRentals, setActiveRentals] = useState([]);\r\n  const [completedRentals, setCompletedRentals] = useState([]);\r\n  const [games, setGames] = useState([]);\r\n  \r\n  // حالات إضافية\r\n  const [error, setError] = useState(null);\r\n  const [selectedRental, setSelectedRental] = useState(null);\r\n  const [showRentalDetails, setShowRentalDetails] = useState(false);\r\n  const [timeRange, setTimeRange] = useState('today'); // today, week, month, year\r\n  const [viewMode, setViewMode] = useState('overview'); // overview, branches, rentals, games\r\n  \r\n  // بيانات الرسوم البيانية\r\n  const [revenueChartData, setRevenueChartData] = useState([]);\r\n  const [rentalsChartData, setRentalsChartData] = useState([]);\r\n  const [branchesChartData, setBranchesChartData] = useState([]);\r\n  \r\n  // Refs للتحكم في التحديثات\r\n  const isMountedRef = useRef(true);\r\n  const updateLockRef = useRef(false);\r\n  const refreshTimerRef = useRef(null);\r\n  const retryCountRef = useRef(0);\r\n\r\n  // ==================== دوال التحميل ====================\r\n\r\n  // تحميل جميع البيانات\r\n  const loadAllData = useCallback(async (force = false) => {\r\n    // منع التحميل المتزامن\r\n    if (updateLockRef.current && !force) {\r\n      console.log('⏳ [LOCKED] هناك تحميل قيد التنفيذ');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      updateLockRef.current = true;\r\n      setLoading(prev => ({ ...prev, initial: true }));\r\n      setError(null);\r\n\r\n      // تحميل البيانات الأساسية أولاً\r\n      const [branchesRes, rentalsRes, gamesRes, statsRes] = await Promise.allSettled([\r\n        api.get('/branches'),\r\n        api.get('/rentals', { params: { limit: 1000 } }),\r\n        api.get('/games'),\r\n        api.get('/stats/dashboard')\r\n      ]);\r\n\r\n      // معالجة الفروع\r\n      if (branchesRes.status === 'fulfilled' && branchesRes.value.success) {\r\n        const branchesData = branchesRes.value.data || [];\r\n        setBranches(branchesData);\r\n        \r\n        // تحميل إحصائيات كل فرع\r\n        const branchStatsPromises = branchesData.map(async (branch) => {\r\n          try {\r\n            const [gamesRes, rentalsRes] = await Promise.allSettled([\r\n              api.get(`/branches/${branch.id}/games`),\r\n              api.get('/rentals', { params: { branch_id: branch.id, limit: 1 } })\r\n            ]);\r\n\r\n            const games = gamesRes.status === 'fulfilled' && gamesRes.value.success \r\n              ? gamesRes.value.data || [] \r\n              : [];\r\n\r\n            const today = new Date().toISOString().split('T')[0];\r\n            const todayRentals = rentalsRes.status === 'fulfilled' && rentalsRes.value.success\r\n              ? (rentalsRes.value.data || []).filter(r => \r\n                  r.created_at?.startsWith(today) && r.status === 'مكتمل'\r\n                )\r\n              : [];\r\n\r\n            const todayRevenue = todayRentals.reduce((sum, r) => \r\n              sum + (r.total_amount || 0), 0\r\n            );\r\n\r\n            return {\r\n              ...branch,\r\n              total_games: games.length,\r\n              available_games: games.filter(g => g.status === 'متاح').length,\r\n              active_rentals: rentalsRes.status === 'fulfilled' && rentalsRes.value.success\r\n                ? (rentalsRes.value.data || []).filter(r => r.status === 'نشط').length\r\n                : 0,\r\n              today_revenue: todayRevenue,\r\n              today_rentals: todayRentals.length\r\n            };\r\n          } catch (error) {\r\n            console.error(`خطأ في تحميل إحصائيات الفرع ${branch.id}:`, error);\r\n            return {\r\n              ...branch,\r\n              total_games: 0,\r\n              available_games: 0,\r\n              active_rentals: 0,\r\n              today_revenue: 0,\r\n              today_rentals: 0\r\n            };\r\n          }\r\n        });\r\n\r\n        const branchesWithStats = await Promise.all(branchStatsPromises);\r\n        setBranches(branchesWithStats);\r\n      }\r\n\r\n      // معالجة التأجيرات\r\n      if (rentalsRes.status === 'fulfilled' && rentalsRes.value.success) {\r\n        const rentalsData = rentalsRes.value.data || [];\r\n        setRentals(rentalsData);\r\n        \r\n        // تصنيف التأجيرات\r\n        setActiveRentals(rentalsData.filter(r => r.status === 'نشط'));\r\n        setCompletedRentals(rentalsData.filter(r => r.status === 'مكتمل'));\r\n        setRecentRentals(rentalsData.slice(0, 10));\r\n      }\r\n\r\n      // معالجة الألعاب\r\n      if (gamesRes.status === 'fulfilled' && gamesRes.value.success) {\r\n        setGames(gamesRes.value.data || []);\r\n      }\r\n\r\n      // معالجة الإحصائيات\r\n      if (statsRes.status === 'fulfilled' && statsRes.value.success) {\r\n        setStats(statsRes.value.data);\r\n      } else {\r\n        // حساب الإحصائيات محلياً إذا فشل الطلب\r\n        calculateLocalStats(branchesRes, rentalsRes, gamesRes);\r\n      }\r\n\r\n      // تحميل بيانات الرسوم البيانية\r\n      await loadChartData();\r\n\r\n      retryCountRef.current = 0;\r\n\r\n    } catch (error) {\r\n      console.error('❌ خطأ في تحميل البيانات:', error);\r\n      setError('حدث خطأ في تحميل البيانات. يرجى المحاولة مرة أخرى.');\r\n      \r\n      // محاولة إعادة التحميل\r\n      if (retryCountRef.current < 3) {\r\n        retryCountRef.current++;\r\n        const delay = Math.min(1000 * Math.pow(2, retryCountRef.current), 10000);\r\n        \r\n        refreshTimerRef.current = setTimeout(() => {\r\n          loadAllData(force);\r\n        }, delay);\r\n      }\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(prev => ({ ...prev, initial: false }));\r\n      }\r\n      updateLockRef.current = false;\r\n    }\r\n  }, []);\r\n\r\n  // حساب الإحصائيات محلياً\r\n  const calculateLocalStats = useCallback((branchesRes, rentalsRes, gamesRes) => {\r\n    const branchesData = branchesRes.status === 'fulfilled' && branchesRes.value.success \r\n      ? branchesRes.value.data || [] \r\n      : [];\r\n    \r\n    const rentalsData = rentalsRes.status === 'fulfilled' && rentalsRes.value.success \r\n      ? rentalsRes.value.data || [] \r\n      : [];\r\n    \r\n    const gamesData = gamesRes.status === 'fulfilled' && gamesRes.value.success \r\n      ? gamesRes.value.data || [] \r\n      : [];\r\n\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const todayRentals = rentalsData.filter(r => \r\n      r.created_at?.startsWith(today) && r.status === 'مكتمل'\r\n    );\r\n    \r\n    const todayRevenue = todayRentals.reduce((sum, r) => \r\n      sum + (r.total_amount || 0), 0\r\n    );\r\n\r\n    const totalRevenue = rentalsData\r\n      .filter(r => r.status === 'مكتمل')\r\n      .reduce((sum, r) => sum + (r.total_amount || 0), 0);\r\n\r\n    setStats({\r\n      total_branches: branchesData.length,\r\n      total_users: 0, // سيتم تحميلها بشكل منفصل\r\n      total_games: gamesData.length,\r\n      available_games: gamesData.filter(g => g.status === 'متاح').length,\r\n      active_rentals: rentalsData.filter(r => r.status === 'نشط').length,\r\n      today_revenue: todayRevenue,\r\n      today_rentals: todayRentals.length,\r\n      today_completed: todayRentals.length,\r\n      total_revenue: totalRevenue,\r\n      total_rentals: rentalsData.length,\r\n      average_daily_revenue: totalRevenue / 30 || 0 // تقديري\r\n    });\r\n  }, []);\r\n\r\n  // تحميل بيانات الرسوم البيانية\r\n  const loadChartData = useCallback(async () => {\r\n    try {\r\n      setLoading(prev => ({ ...prev, charts: true }));\r\n\r\n      // بيانات الإيرادات لآخر 7 أيام\r\n      const last7Days = [];\r\n      const revenueData = [];\r\n      const rentalsData = [];\r\n\r\n      for (let i = 6; i >= 0; i--) {\r\n        const date = new Date();\r\n        date.setDate(date.getDate() - i);\r\n        const dateStr = date.toISOString().split('T')[0];\r\n        \r\n        const dayRentals = rentals.filter(r => \r\n          r.created_at?.startsWith(dateStr) && r.status === 'مكتمل'\r\n        );\r\n        \r\n        const dayRevenue = dayRentals.reduce((sum, r) => \r\n          sum + (r.total_amount || 0), 0\r\n        );\r\n\r\n        last7Days.push({\r\n          label: date.toLocaleDateString('ar-EG', { weekday: 'short' }),\r\n          date: dateStr,\r\n          revenue: dayRevenue,\r\n          rentals: dayRentals.length\r\n        });\r\n\r\n        revenueData.push({\r\n          label: date.toLocaleDateString('ar-EG', { weekday: 'short' }),\r\n          value: dayRevenue,\r\n          color: '#10b981'\r\n        });\r\n\r\n        rentalsData.push({\r\n          label: date.toLocaleDateString('ar-EG', { weekday: 'short' }),\r\n          value: dayRentals.length,\r\n          color: '#3b82f6'\r\n        });\r\n      }\r\n\r\n      setRevenueChartData(revenueData);\r\n      setRentalsChartData(rentalsData);\r\n\r\n      // بيانات الفروع\r\n      const branchData = branches.slice(0, 5).map(branch => ({\r\n        label: branch.name,\r\n        value: branch.today_revenue || 0,\r\n        color: `hsl(${Math.random() * 360}, 70%, 50%)`\r\n      }));\r\n\r\n      setBranchesChartData(branchData);\r\n\r\n    } catch (error) {\r\n      console.error('❌ خطأ في تحميل بيانات الرسوم البيانية:', error);\r\n    } finally {\r\n      if (isMountedRef.current) {\r\n        setLoading(prev => ({ ...prev, charts: false }));\r\n      }\r\n    }\r\n  }, [rentals, branches]);\r\n\r\n  // التحميل الأولي\r\n  useEffect(() => {\r\n    isMountedRef.current = true;\r\n    \r\n    loadAllData(true);\r\n\r\n    return () => {\r\n      isMountedRef.current = false;\r\n      if (refreshTimerRef.current) {\r\n        clearTimeout(refreshTimerRef.current);\r\n      }\r\n    };\r\n  }, [loadAllData]);\r\n\r\n  // تحديث دوري كل 5 دقائق\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (isMountedRef.current && !updateLockRef.current) {\r\n        loadAllData();\r\n      }\r\n    }, 300000); // 5 دقائق\r\n\r\n    return () => clearInterval(interval);\r\n  }, [loadAllData]);\r\n\r\n  // ==================== دوال المساعدة ====================\r\n\r\n  const handleRefresh = useCallback(() => {\r\n    loadAllData(true);\r\n  }, [loadAllData]);\r\n\r\n  const handleViewRentalDetails = useCallback((rental) => {\r\n    setSelectedRental(rental);\r\n    setShowRentalDetails(true);\r\n  }, []);\r\n\r\n  const handleViewBranch = useCallback((branch) => {\r\n    // يمكن توجيه المستخدم إلى صفحة تفاصيل الفرع\r\n    window.location.href = `/admin/branches/${branch.id}`;\r\n  }, []);\r\n\r\n  // ==================== Render ====================\r\n\r\n  if (loading.initial) {\r\n    return (\r\n      <div className=\"admin-loading-screen\">\r\n        <div className=\"admin-spinner-large\"></div>\r\n        <p>جاري تحميل لوحة التحكم...</p>\r\n        <small>يتم تحميل البيانات الحقيقية من النظام</small>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      {/* رأس الصفحة */}\r\n      <div className=\"admin-header\">\r\n        <div className=\"admin-header-left\">\r\n          <h1>\r\n            <LayoutDashboard size={32} />\r\n            لوحة تحكم المدير\r\n          </h1>\r\n          <div className=\"admin-welcome\">\r\n            <span className=\"admin-greeting\">مرحباً،</span>\r\n            <span className=\"admin-user-name\">{user?.name}</span>\r\n            <span className=\"admin-user-role\">\r\n              ({user?.role === 'admin' ? 'مدير النظام' : 'مدير فرع'})\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"admin-header-right\">\r\n          <div className=\"admin-date-time\">\r\n            <Calendar size={16} />\r\n            <span>{new Date().toLocaleDateString('ar-EG', { \r\n              weekday: 'long', \r\n              year: 'numeric', \r\n              month: 'long', \r\n              day: 'numeric' \r\n            })}</span>\r\n            <Clock size={16} />\r\n            <span>{formatTime(new Date())}</span>\r\n          </div>\r\n          \r\n          <button \r\n            onClick={handleRefresh}\r\n            className=\"admin-btn admin-btn-outline\"\r\n            disabled={loading.stats}\r\n          >\r\n            {loading.stats ? (\r\n              <Loader2 className=\"admin-spinner\" size={16} />\r\n            ) : (\r\n              <RefreshCw size={16} />\r\n            )}\r\n            تحديث\r\n          </button>\r\n          \r\n          <button \r\n            className=\"admin-btn admin-btn-primary\"\r\n            onClick={() => window.print()}\r\n          >\r\n            <Printer size={16} />\r\n            طباعة\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* رسالة الخطأ */}\r\n      {error && (\r\n        <div className=\"admin-alert admin-alert-error\">\r\n          <AlertCircle size={20} />\r\n          <span>{error}</span>\r\n          <button onClick={handleRefresh} className=\"admin-alert-close\">\r\n            <X size={16} />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* بطاقات الإحصائيات الرئيسية */}\r\n      <div className=\"admin-stats-grid\">\r\n        <MemoizedStatCard\r\n          title=\"إجمالي الفروع\"\r\n          value={formatNumber(stats.total_branches)}\r\n          icon={Building2}\r\n          color=\"primary\"\r\n          loading={loading.stats}\r\n        />\r\n        \r\n        <MemoizedStatCard\r\n          title=\"إجمالي المستخدمين\"\r\n          value={formatNumber(stats.total_users)}\r\n          icon={Users}\r\n          color=\"success\"\r\n          loading={loading.stats}\r\n        />\r\n        \r\n        <MemoizedStatCard\r\n          title=\"إجمالي الألعاب\"\r\n          value={formatNumber(stats.total_games)}\r\n          icon={Gamepad2}\r\n          color=\"info\"\r\n          subtitle={`${formatNumber(stats.available_games)} متاح`}\r\n          loading={loading.stats}\r\n        />\r\n        \r\n        <MemoizedStatCard\r\n          title=\"التأجيرات النشطة\"\r\n          value={formatNumber(stats.active_rentals)}\r\n          icon={Activity}\r\n          color=\"warning\"\r\n          loading={loading.stats}\r\n        />\r\n        \r\n        <MemoizedStatCard\r\n          title=\"إيرادات اليوم\"\r\n          value={formatCurrency(stats.today_revenue)}\r\n          icon={DollarSign}\r\n          color=\"success\"\r\n          subtitle={`${formatNumber(stats.today_rentals)} تأجير`}\r\n          loading={loading.stats}\r\n        />\r\n        \r\n        <MemoizedStatCard\r\n          title=\"إجمالي الإيرادات\"\r\n          value={formatCurrency(stats.total_revenue)}\r\n          icon={TrendingUp}\r\n          color=\"primary\"\r\n          subtitle={`${formatNumber(stats.total_rentals)} تأجير`}\r\n          loading={loading.stats}\r\n        />\r\n      </div>\r\n\r\n      {/* لوحة التنقل بين الأقسام */}\r\n      <div className=\"admin-view-tabs\">\r\n        <button\r\n          className={`admin-tab ${viewMode === 'overview' ? 'active' : ''}`}\r\n          onClick={() => setViewMode('overview')}\r\n        >\r\n          <PieChart size={18} />\r\n          نظرة عامة\r\n        </button>\r\n        <button\r\n          className={`admin-tab ${viewMode === 'branches' ? 'active' : ''}`}\r\n          onClick={() => setViewMode('branches')}\r\n        >\r\n          <Building2 size={18} />\r\n          الفروع\r\n        </button>\r\n        <button\r\n          className={`admin-tab ${viewMode === 'rentals' ? 'active' : ''}`}\r\n          onClick={() => setViewMode('rentals')}\r\n        >\r\n          <Receipt size={18} />\r\n          التأجيرات\r\n        </button>\r\n        <button\r\n          className={`admin-tab ${viewMode === 'games' ? 'active' : ''}`}\r\n          onClick={() => setViewMode('games')}\r\n        >\r\n          <Gamepad2 size={18} />\r\n          الألعاب\r\n        </button>\r\n      </div>\r\n\r\n      {/* محتوى حسب وضع العرض */}\r\n      <div className=\"admin-view-content\">\r\n        {viewMode === 'overview' && (\r\n          <>\r\n            {/* الرسم البياني للإيرادات */}\r\n            <div className=\"admin-chart-card\">\r\n              <div className=\"admin-chart-header\">\r\n                <h3>\r\n                  <BarChart3 size={20} />\r\n                  تحليل الإيرادات (آخر 7 أيام)\r\n                </h3>\r\n                <select \r\n                  value={timeRange}\r\n                  onChange={(e) => setTimeRange(e.target.value)}\r\n                  className=\"admin-chart-select\"\r\n                >\r\n                  <option value=\"today\">اليوم</option>\r\n                  <option value=\"week\">هذا الأسبوع</option>\r\n                  <option value=\"month\">هذا الشهر</option>\r\n                  <option value=\"year\">هذا العام</option>\r\n                </select>\r\n              </div>\r\n              <MemoizedSimpleChart \r\n                data={revenueChartData} \r\n                type=\"bar\" \r\n                height={250}\r\n              />\r\n            </div>\r\n\r\n            {/* قسمين متجاورين */}\r\n            <div className=\"admin-dashboard-grid\">\r\n              {/* آخر التأجيرات */}\r\n              <div className=\"admin-card\">\r\n                <div className=\"admin-card-header\">\r\n                  <h3>\r\n                    <Clock size={20} />\r\n                    آخر التأجيرات\r\n                  </h3>\r\n                  <span className=\"admin-badge\">{recentRentals.length}</span>\r\n                </div>\r\n                <div className=\"admin-recent-list\">\r\n                  {recentRentals.slice(0, 5).map((rental, index) => (\r\n                    <div key={rental.id} className=\"admin-recent-item\">\r\n                      <div className=\"admin-recent-info\">\r\n                        <span className=\"admin-recent-index\">{index + 1}</span>\r\n                        <div className=\"admin-recent-details\">\r\n                          <span className=\"admin-recent-customer\">{rental.customer_name}</span>\r\n                          <span className=\"admin-recent-game\">{rental.game_name}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"admin-recent-meta\">\r\n                        <span className=\"admin-recent-time\">{formatTime(rental.start_time)}</span>\r\n                        <span className={`admin-status-dot admin-status-${getStatusColor(rental.status)}`}></span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <button \r\n                  className=\"admin-view-all\"\r\n                  onClick={() => setViewMode('rentals')}\r\n                >\r\n                  عرض الكل <ChevronLeft size={14} />\r\n                </button>\r\n              </div>\r\n\r\n              {/* إحصائيات الفروع */}\r\n              <div className=\"admin-card\">\r\n                <div className=\"admin-card-header\">\r\n                  <h3>\r\n                    <Target size={20} />\r\n                    أداء الفروع\r\n                  </h3>\r\n                  <span className=\"admin-badge\">{branches.length} فرع</span>\r\n                </div>\r\n                <div className=\"admin-branches-mini\">\r\n                  {branches.slice(0, 3).map(branch => (\r\n                    <div key={branch.id} className=\"admin-branch-mini\">\r\n                      <div className=\"admin-branch-mini-header\">\r\n                        <span className=\"admin-branch-mini-name\">{branch.name}</span>\r\n                        <span className=\"admin-branch-mini-revenue\">\r\n                          {formatCurrency(branch.today_revenue || 0)}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"admin-branch-mini-stats\">\r\n                        <span>📊 {branch.active_rentals || 0} نشط</span>\r\n                        <span>🎮 {branch.available_games || 0}/{branch.total_games || 0}</span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <button \r\n                  className=\"admin-view-all\"\r\n                  onClick={() => setViewMode('branches')}\r\n                >\r\n                  عرض الكل <ChevronLeft size={14} />\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {viewMode === 'branches' && (\r\n          <div className=\"admin-branches-grid\">\r\n            {branches.map(branch => (\r\n              <MemoizedBranchCard \r\n                key={branch.id} \r\n                branch={branch} \r\n                onClick={handleViewBranch}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {viewMode === 'rentals' && (\r\n          <div className=\"admin-rentals-view\">\r\n            <div className=\"admin-rentals-tabs\">\r\n              <button \r\n                className={`admin-rentals-tab ${!selectedRental?.type ? 'active' : ''}`}\r\n                onClick={() => setSelectedRental(null)}\r\n              >\r\n                جميع التأجيرات ({rentals.length})\r\n              </button>\r\n              <button \r\n                className={`admin-rentals-tab ${selectedRental?.type === 'active' ? 'active' : ''}`}\r\n                onClick={() => setSelectedRental({ type: 'active' })}\r\n              >\r\n                النشطة ({activeRentals.length})\r\n              </button>\r\n              <button \r\n                className={`admin-rentals-tab ${selectedRental?.type === 'completed' ? 'active' : ''}`}\r\n                onClick={() => setSelectedRental({ type: 'completed' })}\r\n              >\r\n                المكتملة ({completedRentals.length})\r\n              </button>\r\n            </div>\r\n\r\n            <MemoizedRentalsTable\r\n              rentals={selectedRental?.type === 'active' ? activeRentals : \r\n                       selectedRental?.type === 'completed' ? completedRentals : rentals}\r\n              loading={loading.rentals}\r\n              onViewDetails={handleViewRentalDetails}\r\n              type={selectedRental?.type || 'all'}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {viewMode === 'games' && (\r\n          <div className=\"admin-games-view\">\r\n            <div className=\"admin-games-stats\">\r\n              <div className=\"admin-games-stat\">\r\n                <span className=\"admin-games-stat-label\">إجمالي الألعاب</span>\r\n                <span className=\"admin-games-stat-value\">{formatNumber(stats.total_games)}</span>\r\n              </div>\r\n              <div className=\"admin-games-stat\">\r\n                <span className=\"admin-games-stat-label\">الألعاب المتاحة</span>\r\n                <span className=\"admin-games-stat-value admin-available\">{formatNumber(stats.available_games)}</span>\r\n              </div>\r\n              <div className=\"admin-games-stat\">\r\n                <span className=\"admin-games-stat-label\">الألعاب المؤجرة</span>\r\n                <span className=\"admin-games-stat-value admin-rented\">\r\n                  {formatNumber(stats.total_games - stats.available_games)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"admin-games-grid\">\r\n              {games.slice(0, 12).map(game => (\r\n                <div key={game.id} className=\"admin-game-card\">\r\n                  <div className=\"admin-game-image\">\r\n                    <img \r\n                      src={game.image_url || '/images/default-game.jpg'} \r\n                      alt={game.name}\r\n                      onError={(e) => e.target.src = '/images/default-game.jpg'}\r\n                    />\r\n                  </div>\r\n                  <div className=\"admin-game-info\">\r\n                    <h4>{game.name}</h4>\r\n                    <div className=\"admin-game-details\">\r\n                      <span className=\"admin-game-price\">{formatCurrency(game.price_per_15min)}/15د</span>\r\n                      <span className={`admin-game-status ${game.status === 'متاح' ? 'admin-status-available' : 'admin-status-rented'}`}>\r\n                        {game.status}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* نافذة تفاصيل التأجير */}\r\n      <MemoizedRentalDetailsModal\r\n        show={showRentalDetails}\r\n        onClose={() => setShowRentalDetails(false)}\r\n        rental={selectedRental}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}